(function(){var wn,Gr,We,ai,Fn,Pn,Tt,rr,Mn,Vn,xr,Jt,ho,ua,wo,fo,or,Ir,Mi,Zr,er,fi,Jr,Qt,en,jt,tt,Gt,vo,hn,Pr,Kn,Yr,ue,Ht,kr,Un,Tn,It,xn,Yn,dt,ge,ir,je,jo,zn,Wn,ko=[].slice,Qi={}.hasOwnProperty,Ma=function(Dt,ut){function At(){this.constructor=Dt}for(var Nt in ut)Qi.call(ut,Nt)&&(Dt[Nt]=ut[Nt]);return At.prototype=ut.prototype,Dt.prototype=new At,Dt.__super__=ut.prototype,Dt},Wa=[].indexOf||function(Dt){for(var ut=0,At=this.length;At>ut;ut++)if(ut in this&&this[ut]===Dt)return ut;return-1};for(er={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},vo=function(){var Dt;return null!=(Dt="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?Dt:+new Date},Pr=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,Zr=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==Pr&&(Pr=function(Dt){return setTimeout(Dt,50)},Zr=function(Dt){return clearTimeout(Dt)}),Yr=function(Dt){var ut,At;return ut=vo(),(At=function(){var Nt;return(Nt=vo()-ut)>=33?(ut=vo(),Dt(Nt,function(){return Pr(At)})):setTimeout(At,33-Nt)})()},Kn=function(){var Dt,ut,At;return At=arguments[0],ut=arguments[1],Dt=3<=arguments.length?ko.call(arguments,2):[],"function"==typeof At[ut]?At[ut].apply(At,Dt):At[ut]},fi=function(){var Dt,ut,At,Nt,fn,dn,yn;for(ut=arguments[0],dn=0,yn=(Nt=2<=arguments.length?ko.call(arguments,1):[]).length;yn>dn;dn++)if(At=Nt[dn])for(Dt in At)Qi.call(At,Dt)&&(fn=At[Dt],null!=ut[Dt]&&"object"==typeof ut[Dt]&&null!=fn&&"object"==typeof fn?fi(ut[Dt],fn):ut[Dt]=fn);return ut},or=function(Dt){var ut,At,fn,dn;for(At=ut=0,fn=0,dn=Dt.length;dn>fn;fn++)At+=Math.abs(Dt[fn]),ut++;return At/ut},Qt=function(Dt,ut){var At,fn;if(null==Dt&&(Dt="options"),null==ut&&(ut=!0),fn=document.querySelector("[data-pace-"+Dt+"]")){if(At=fn.getAttribute("data-pace-"+Dt),!ut)return At;try{return JSON.parse(At)}catch(dn){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",dn):void 0}}},Tt=function(){function Dt(){}return Dt.prototype.on=function(ut,At,Nt,fn){var dn;return null==fn&&(fn=!1),null==this.bindings&&(this.bindings={}),null==(dn=this.bindings)[ut]&&(dn[ut]=[]),this.bindings[ut].push({handler:At,ctx:Nt,once:fn})},Dt.prototype.once=function(ut,At,Nt){return this.on(ut,At,Nt,!0)},Dt.prototype.off=function(ut,At){var Nt,fn,dn;if(null!=(null!=(fn=this.bindings)?fn[ut]:void 0)){if(null==At)return delete this.bindings[ut];for(Nt=0,dn=[];Nt<this.bindings[ut].length;)dn.push(this.bindings[ut][Nt].handler===At?this.bindings[ut].splice(Nt,1):Nt++);return dn}},Dt.prototype.trigger=function(){var ut,At,Nt,dn,yn,Nr,Rn,Kr;if(Nt=arguments[0],ut=2<=arguments.length?ko.call(arguments,1):[],null!=(Nr=this.bindings)?Nr[Nt]:void 0){for(dn=0,Kr=[];dn<this.bindings[Nt].length;)yn=(Rn=this.bindings[Nt][dn]).once,Rn.handler.apply(null!=(At=Rn.ctx)?At:this,ut),Kr.push(yn?this.bindings[Nt].splice(dn,1):dn++);return Kr}},Dt}(),Vn=window.Pace||{},window.Pace=Vn,fi(Vn,Tt.prototype),hn=Vn.options=fi({},er,window.paceOptions,Qt()),ge=0,je=(zn=["ajax","document","eventLag","elements"]).length;je>ge;ge++)!0===hn[Un=zn[ge]]&&(hn[Un]=er[Un]);Mn=function(Dt){function ut(){return ut.__super__.constructor.apply(this,arguments)}return Ma(ut,Dt),ut}(Error),Gr=function(){function Dt(){this.progress=0}return Dt.prototype.getElement=function(){var ut;if(null==this.el){if(!(ut=document.querySelector(hn.target)))throw new Mn;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=ut.firstChild?ut.insertBefore(this.el,ut.firstChild):ut.appendChild(this.el)}return this.el},Dt.prototype.finish=function(){var ut;return(ut=this.getElement()).className=ut.className.replace("pace-active",""),ut.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},Dt.prototype.update=function(ut){return this.progress=ut,this.render()},Dt.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(ut){Mn=ut}return this.el=void 0},Dt.prototype.render=function(){var ut,Nt,fn,dn,yn,Nr;if(null==document.querySelector(hn.target))return!1;for(ut=this.getElement(),fn="translate3d("+this.progress+"%, 0, 0)",dn=0,yn=(Nr=["webkitTransform","msTransform","transform"]).length;yn>dn;dn++)ut.children[0].style[Nr[dn]]=fn;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(ut.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?Nt="99":(Nt=this.progress<10?"0":"",Nt+=0|this.progress),ut.children[0].setAttribute("data-progress",""+Nt)),this.lastRenderedProgress=this.progress},Dt.prototype.done=function(){return this.progress>=100},Dt}(),rr=function(){function Dt(){this.bindings={}}return Dt.prototype.trigger=function(ut,At){var fn,dn,yn,Nr;if(null!=this.bindings[ut]){for(Nr=[],fn=0,dn=(yn=this.bindings[ut]).length;dn>fn;fn++)Nr.push(yn[fn].call(this,At));return Nr}},Dt.prototype.on=function(ut,At){var Nt;return null==(Nt=this.bindings)[ut]&&(Nt[ut]=[]),this.bindings[ut].push(At)},Dt}(),dt=window.XMLHttpRequest,Yn=window.XDomainRequest,xn=window.WebSocket,Jr=function(Dt,ut){var Nt,fn;for(Nt in fn=[],ut.prototype)try{fn.push(null==Dt[Nt]&&"function"!=typeof ut[Nt]?"function"==typeof Object.defineProperty?Object.defineProperty(Dt,Nt,{get:function(){return ut.prototype[Nt]},configurable:!0,enumerable:!0}):Dt[Nt]=ut.prototype[Nt]:void 0)}catch(dn){}return fn},tt=[],Vn.ignore=function(){var Dt,ut,At;return ut=arguments[0],Dt=2<=arguments.length?ko.call(arguments,1):[],tt.unshift("ignore"),At=ut.apply(null,Dt),tt.shift(),At},Vn.track=function(){var Dt,ut,At;return ut=arguments[0],Dt=2<=arguments.length?ko.call(arguments,1):[],tt.unshift("track"),At=ut.apply(null,Dt),tt.shift(),At},kr=function(Dt){var ut;return null==Dt&&(Dt="GET"),"track"===tt[0]?"force":!(tt.length||!hn.ajax||!("socket"===Dt&&hn.ajax.trackWebSockets||(ut=Dt.toUpperCase(),Wa.call(hn.ajax.trackMethods,ut)>=0)))},xr=function(Dt){function ut(){var At,Nt=this;ut.__super__.constructor.apply(this,arguments),At=function(fn){var dn;return dn=fn.open,fn.open=function(yn,Nr,Rn){return kr(yn)&&Nt.trigger("request",{type:yn,url:Nr,request:fn}),dn.apply(fn,arguments)}},window.XMLHttpRequest=function(fn){var dn;return dn=new dt(fn),At(dn),dn};try{Jr(window.XMLHttpRequest,dt)}catch(fn){}if(null!=Yn){window.XDomainRequest=function(){var fn;return fn=new Yn,At(fn),fn};try{Jr(window.XDomainRequest,Yn)}catch(fn){}}if(null!=xn&&hn.ajax.trackWebSockets){window.WebSocket=function(fn,dn){var yn;return yn=null!=dn?new xn(fn,dn):new xn(fn),kr("socket")&&Nt.trigger("request",{type:"socket",url:fn,protocols:dn,request:yn}),yn};try{Jr(window.WebSocket,xn)}catch(fn){}}}return Ma(ut,Dt),ut}(rr),ir=null,Ht=function(Dt){var ut,At,Nt,fn;for(At=0,Nt=(fn=hn.ajax.ignoreURLs).length;Nt>At;At++)if("string"==typeof(ut=fn[At])){if(-1!==Dt.indexOf(ut))return!0}else if(ut.test(Dt))return!0;return!1},(en=function(){return null==ir&&(ir=new xr),ir})().on("request",function(Dt){var ut,At,Nt,fn;return fn=Dt.type,Nt=Dt.request,Ht(Dt.url)||Vn.running||!1===hn.restartOnRequestAfter&&"force"!==kr(fn)?void 0:(At=arguments,"boolean"==typeof(ut=hn.restartOnRequestAfter||0)&&(ut=0),setTimeout(function(){var Nr,Rn,Kr,So,ei;if("socket"===fn?Nt.readyState<2:0<(Kr=Nt.readyState)&&4>Kr){for(Vn.restart(),ei=[],Nr=0,Rn=(So=Vn.sources).length;Rn>Nr;Nr++){if((Un=So[Nr])instanceof wn){Un.watch.apply(Un,At);break}ei.push(void 0)}return ei}},ut))}),wn=function(){function Dt(){var ut=this;this.elements=[],en().on("request",function(){return ut.watch.apply(ut,arguments)})}return Dt.prototype.watch=function(ut){var At,Nt,fn;return fn=ut.type,At=ut.request,Ht(ut.url)?void 0:(Nt="socket"===fn?new ua(At):new wo(At),this.elements.push(Nt))},Dt}(),wo=function Dt(ut){var fn,dn,yn,Nr,Rn=this;if(this.progress=0,null!=window.ProgressEvent)for(ut.addEventListener("progress",function(Kr){return Rn.progress=Kr.lengthComputable?100*Kr.loaded/Kr.total:Rn.progress+(100-Rn.progress)/2},!1),fn=0,dn=(Nr=["load","abort","timeout","error"]).length;dn>fn;fn++)ut.addEventListener(Nr[fn],function(){return Rn.progress=100},!1);else yn=ut.onreadystatechange,ut.onreadystatechange=function(){var Kr;return 0===(Kr=ut.readyState)||4===Kr?Rn.progress=100:3===ut.readyState&&(Rn.progress=50),"function"==typeof yn?yn.apply(null,arguments):void 0}},ua=function Dt(ut){var Nt,fn,dn,yn=this;for(this.progress=0,Nt=0,fn=(dn=["error","open"]).length;fn>Nt;Nt++)ut.addEventListener(dn[Nt],function(){return yn.progress=100},!1)},ai=function Dt(ut){var Nt,fn,dn;for(null==ut&&(ut={}),this.elements=[],null==ut.selectors&&(ut.selectors=[]),Nt=0,fn=(dn=ut.selectors).length;fn>Nt;Nt++)this.elements.push(new Fn(dn[Nt]))},Fn=function(){function Dt(ut){this.selector=ut,this.progress=0,this.check()}return Dt.prototype.check=function(){var ut=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return ut.check()},hn.elements.checkInterval)},Dt.prototype.done=function(){return this.progress=100},Dt}(),We=function(){function Dt(){var ut,At,Nt=this;this.progress=null!=(At=this.states[document.readyState])?At:100,ut=document.onreadystatechange,document.onreadystatechange=function(){return null!=Nt.states[document.readyState]&&(Nt.progress=Nt.states[document.readyState]),"function"==typeof ut?ut.apply(null,arguments):void 0}}return Dt.prototype.states={loading:0,interactive:50,complete:100},Dt}(),Pn=function Dt(){var ut,At,Nt,fn,dn,yn=this;this.progress=0,ut=0,dn=[],fn=0,Nt=vo(),At=setInterval(function(){var Nr;return Nr=vo()-Nt-50,Nt=vo(),dn.push(Nr),dn.length>hn.eventLag.sampleCount&&dn.shift(),ut=or(dn),++fn>=hn.eventLag.minSamples&&ut<hn.eventLag.lagThreshold?(yn.progress=100,clearInterval(At)):yn.progress=3/(ut+3)*100},50)},ho=function(){function Dt(ut){this.source=ut,this.last=this.sinceLastUpdate=0,this.rate=hn.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=Kn(this.source,"progress"))}return Dt.prototype.tick=function(ut,At){var Nt;return null==At&&(At=Kn(this.source,"progress")),At>=100&&(this.done=!0),At===this.last?this.sinceLastUpdate+=ut:(this.sinceLastUpdate&&(this.rate=(At-this.last)/this.sinceLastUpdate),this.catchup=(At-this.progress)/hn.catchupTime,this.sinceLastUpdate=0,this.last=At),At>this.progress&&(this.progress+=this.catchup*ut),Nt=1-Math.pow(this.progress/100,hn.easeFactor),this.progress+=Nt*this.rate*ut,this.progress=Math.min(this.lastProgress+hn.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},Dt}(),Tn=null,ue=null,Ir=null,It=null,fo=null,Mi=null,Vn.running=!1,jt=function(){return hn.restartOnPushState?Vn.restart():void 0},null!=window.history.pushState&&(jo=window.history.pushState,window.history.pushState=function(){return jt(),jo.apply(window.history,arguments)}),null!=window.history.replaceState&&(Wn=window.history.replaceState,window.history.replaceState=function(){return jt(),Wn.apply(window.history,arguments)}),Jt={ajax:wn,elements:ai,document:We,eventLag:Pn},(Gt=function(){var Dt,ut,At,Nt,fn,dn,yn,Nr;for(Vn.sources=Tn=[],ut=0,Nt=(dn=["ajax","elements","document","eventLag"]).length;Nt>ut;ut++)!1!==hn[Dt=dn[ut]]&&Tn.push(new Jt[Dt](hn[Dt]));for(At=0,fn=(Nr=null!=(yn=hn.extraSources)?yn:[]).length;fn>At;At++)Tn.push(new(Un=Nr[At])(hn));return Vn.bar=Ir=new Gr,ue=[],It=new ho})(),Vn.stop=function(){return Vn.trigger("stop"),Vn.running=!1,Ir.destroy(),Mi=!0,null!=fo&&("function"==typeof Zr&&Zr(fo),fo=null),Gt()},Vn.restart=function(){return Vn.trigger("restart"),Vn.stop(),Vn.start()},Vn.go=function(){var Dt;return Vn.running=!0,Ir.render(),Dt=vo(),Mi=!1,fo=Yr(function(ut,At){var fn,dn,Nr,Rn,Kr,ei,bn,Ta,Yo,_n,Do,Ga,De;for(fn=Ta=0,dn=!0,Rn=Yo=0,Do=Tn.length;Do>Yo;Rn=++Yo)for(Un=Tn[Rn],bn=null!=ue[Rn]?ue[Rn]:ue[Rn]=[],Kr=_n=0,Ga=(Nr=null!=(De=Un.elements)?De:[Un]).length;Ga>_n;Kr=++_n)dn&=(ei=null!=bn[Kr]?bn[Kr]:bn[Kr]=new ho(Nr[Kr])).done,ei.done||(fn++,Ta+=ei.tick(ut));return Ir.update(It.tick(ut,Ta/fn)),Ir.done()||dn||Mi?(Ir.update(100),Vn.trigger("done"),setTimeout(function(){return Ir.finish(),Vn.running=!1,Vn.trigger("hide")},Math.max(hn.ghostTime,Math.max(hn.minTime-(vo()-Dt),0)))):At()})},Vn.start=function(Dt){fi(hn,Dt),Vn.running=!0;try{Ir.render()}catch(ut){Mn=ut}return document.querySelector(".pace")?(Vn.trigger("start"),Vn.go()):setTimeout(Vn.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return Vn}):"object"==typeof exports?module.exports=Vn:hn.startOnPageLoad&&Vn.start()}).call(this),function(){"use strict";function wn(a){if(null===a)return"null";if(void 0===a)return"undefined";var c=typeof a;return"object"==c&&(Array.prototype.isPrototypeOf(a)||a.constructor&&"Array"===a.constructor.name)?"array":"object"==c&&(String.prototype.isPrototypeOf(a)||a.constructor&&"String"===a.constructor.name)?"string":c}function Gr(a){return wo(function(c,h){if(c.length!==h.length)return!1;for(var m=c.length,b=0;b<m;b++)if(!a.eq(c[b],h[b]))return!1;return!0})}function We(a){return wo(function(c,h){var b,M,A=Object.keys(c),L=Object.keys(h);if(b=Gr(fo),M=function(H){return Array.prototype.slice.call(H).sort(void 0)},!wo(function(H,X){return b.eq(M(H),M(X))}).eq(A,L))return!1;for(var B=A.length,N=0;N<B;N++){var G=A[N];if(!a.eq(c[G],h[G]))return!1}return!0})}function ai(a){return function(c){return m=typeof(h=c),(null===h?"null":"object"==m&&(Array.prototype.isPrototypeOf(h)||h.constructor&&"Array"===h.constructor.name)?"array":"object"==m&&(String.prototype.isPrototypeOf(h)||h.constructor&&"String"===h.constructor.name)?"string":m)===a;var h,m}}function Fn(a){return function(c){return typeof c===a}}function Pn(a){return function(c){return a===c}}function Tt(a){return null==a}function rr(a){return!Tt(a)}function Mn(){}function Vn(a,c){return function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return a(c.apply(null,h))}}function xr(a,c){return function(h){return a(c(h))}}function Jt(a){return function(){return a}}function ho(a){return a}function ua(a,c){return a===c}var wo=function(a){return{eq:a}},fo=wo(function(a,c){return a===c}),or=wo(function(a,c){if(a===c)return!0;var h=wn(a);return h===wn(c)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(h)?a===c:"array"===h?Gr(or).eq(a,c):"object"===h&&We(or).eq(a,c))}),Ir=ai("string"),Mi=ai("object"),Zr=ai("array"),er=Pn(null),fi=Fn("boolean"),Jr=Pn(void 0),Qt=Fn("function"),en=Fn("number");function jt(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var M=c.concat(m);return a.apply(null,M)}}function tt(a){return function(c){return!a(c)}}function Gt(a){return a()}function vo(a){a()}function hn(){return Yr}var Pr=Jt(!1),Kn=Jt(!0),Yr={fold:function(a,c){return a()},isSome:Pr,isNone:Kn,getOr:ho,getOrThunk:ue,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:Jt(null),getOrUndefined:Jt(void 0),or:ho,orThunk:ue,map:hn,each:Mn,bind:hn,exists:Pr,forall:Kn,filter:function(){return Yr},toArray:function(){return[]},toString:Jt("none()")};function ue(a){return a()}function Ht(a,c){return Xo.call(a,c)}function kr(a,c){return-1<Ht(a,c)}function Un(a,c){for(var h=0,m=a.length;h<m;h++)if(c(a[h],h))return!0;return!1}function Tn(a,c){for(var h=a.length,m=new Array(h),b=0;b<h;b++)m[b]=c(a[b],b);return m}function It(a,c){for(var h=0,m=a.length;h<m;h++)c(a[h],h)}function xn(a,c){for(var h=a.length-1;0<=h;h--)c(a[h],h)}function Yn(a,c){for(var h=[],m=[],b=0,M=a.length;b<M;b++){var A=a[b];(c(A,b)?h:m).push(A)}return{pass:h,fail:m}}function dt(a,c){for(var h=[],m=0,b=a.length;m<b;m++){var M=a[m];c(M,m)&&h.push(M)}return h}function ge(a,c,h){return xn(a,function(m,b){h=c(h,m,b)}),h}function ir(a,c,h){return It(a,function(m,b){h=c(h,m,b)}),h}function je(a,c,h){for(var m=0,b=a.length;m<b;m++){var M=a[m];if(c(M,m))return De.some(M);if(h(M,m))break}return De.none()}function jo(a,c){return je(a,c,Pr)}function zn(a,c){for(var h=0,m=a.length;h<m;h++)if(c(a[h],h))return De.some(h);return De.none()}function Ms(a,c){return function(h){for(var m=[],b=0,M=h.length;b<M;++b){if(!Zr(h[b]))throw new Error("Arr.flatten item "+b+" was not an array, input: "+h);ca.apply(m,h[b])}return m}(Tn(a,c))}function Wn(a,c){for(var h=0,m=a.length;h<m;++h)if(!0!==c(a[h],h))return!1;return!0}function ko(a){var c=hi.call(a,0);return c.reverse(),c}function Qi(a,c){return dt(a,function(h){return!kr(c,h)})}function Ma(a,c){var h=hi.call(a,0);return h.sort(c),h}function Wa(a,c){return 0<=c&&c<a.length?De.some(a[c]):De.none()}function Dt(a){return Wa(a,0)}function ut(a){return Wa(a,a.length-1)}function At(a,c){for(var h=0;h<a.length;h++){var m=c(a[h],h);if(m.isSome())return m}return De.none()}function Nt(a,c){for(var h=si(a),m=0,b=h.length;m<b;m++){var M=h[m];c(a[M],M)}}function fn(a,c){return Ts(a,function(h,m){return{k:m,v:c(h,m)}})}function dn(a){return function(c,h){a[h]=c}}function yn(a,c,h,m){return Nt(a,function(b,M){(c(b,M)?h:m)(b,M)}),1}function Nr(a,c){var h={};return yn(a,c,dn(h),Mn),h}function Rn(a,c){return Rr(a,c)?De.from(a[c]):De.none()}function Kr(a,c){return Rr(a,c)&&null!=a[c]}function So(a,c,h){var m,b;if(!a)return!1;if(h=h||a,void 0!==a.length){for(m=0,b=a.length;m<b;m++)if(!1===c.call(h,a[m],m,a))return!1}else for(m in a)if(Rr(a,m)&&!1===c.call(h,a[m],m,a))return!1;return!0}function ei(a,c){var h=[];return So(a,function(m,b){h.push(c(m,b,a))}),h}function bn(a,c){var h=[];return So(a,function(m,b){c&&!c(m,b,a)||h.push(m)}),h}function Ta(a,c){if(a)for(var h=0,m=a.length;h<m;h++)if(a[h]===c)return h;return-1}function Yo(a,c,h,m){for(var b=Jr(h)?a[0]:h,M=0;M<a.length;M++)b=c.call(m,b,a[M],M);return b}function _n(a,c,h){for(var m=0,b=a.length;m<b;m++)if(c.call(h,a[m],m,a))return m;return-1}function Do(a){return a[a.length-1]}var Ga=function(a){function c(){return b}function h(M){return M(a)}var m=Jt(a),b={fold:function(M,A){return A(a)},isSome:Kn,isNone:Pr,getOr:m,getOrThunk:m,getOrDie:m,getOrNull:m,getOrUndefined:m,or:c,orThunk:c,map:function(M){return Ga(M(a))},each:function(M){M(a)},bind:h,exists:h,forall:h,filter:function(M){return M(a)?b:Yr},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return b},De={some:Ga,none:hn,from:function(a){return null==a?Yr:Ga(a)}},hi=Array.prototype.slice,Xo=Array.prototype.indexOf,ca=Array.prototype.push,ka=Qt(Array.from)?Array.from:function(a){return hi.call(a)},si=Object.keys,Da=Object.hasOwnProperty,Ts=function(a,c){var h={};return Nt(a,function(m,b){var M=c(m,b);h[M.k]=M.v}),h},Rr=function(a,c){return Da.call(a,c)},$s=Array.isArray,Xn=function(){return(Xn=Object.assign||function(a){for(var c,h=1,m=arguments.length;h<m;h++)for(var b in c=arguments[h])Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b]);return a}).apply(this,arguments)};function ot(a,c,h){if(h||2===arguments.length)for(var m,b=0,M=c.length;b<M;b++)!m&&b in c||((m=m||Array.prototype.slice.call(c,0,b))[b]=c[b]);return a.concat(m||Array.prototype.slice.call(c))}function Bt(a){var c,h=!1;return function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];return h||(h=!0,c=a.apply(null,m)),c}}function Me(a,c){var h=String(c).toLowerCase();return jo(a,function(m){return m.search(h)})}function Ue(a,c){return-1!==a.indexOf(c)}function ht(a){return function(c){return c.replace(a,"")}}function mt(a){return 0<a.length}function st(a){return!mt(a)}function ft(a){return function(c){return Ue(c,a)}}function tn(a){return window.matchMedia(a).matches}function Xt(a){return null==a?"":(""+a).replace(Jh,"")}function nn(a,c){return c?!("array"!==c||!$s(a))||typeof a===c:void 0!==a}function un(a,c){for(var h=[],m=function(M){return h.push(M),c(M)},b=c(a);(b=b.bind(m)).isSome(););return h}function Kt(a,c){var h=a.dom;if(1!==h.nodeType)return!1;var m=h;if(void 0!==m.matches)return m.matches(c);if(void 0!==m.msMatchesSelector)return m.msMatchesSelector(c);if(void 0!==m.webkitMatchesSelector)return m.webkitMatchesSelector(c);if(void 0!==m.mozMatchesSelector)return m.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")}function Vt(a){return 1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType||0===a.childElementCount}function Ut(a,c){return a.dom===c.dom}function at(a,c){return _i().browser.isIE()?(b=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(a.dom.compareDocumentPosition(c.dom)&b)):(M=a.dom)!==(A=c.dom)&&M.contains(A);var b,M,A}function vr(){return Tr(0,0)}function tr(a){function c(b){return function(){return h===b}}var h=a.current;return{current:h,version:a.version,isEdge:c("Edge"),isChrome:c("Chrome"),isIE:c("IE"),isOpera:c("Opera"),isFirefox:c(Ho),isSafari:c("Safari")}}function ar(a){function c(b){return function(){return h===b}}var h=a.current;return{current:h,version:a.version,isWindows:c(ds),isiOS:c("iOS"),isAndroid:c(fs),isOSX:c("OSX"),isLinux:c("Linux"),isSolaris:c(vi),isFreeBSD:c(mc),isChromeOS:c(ng)}}function yr(a){if(null==a)throw new Error("Node cannot be null or undefined");return{dom:a}}var Tr=function(a,c){return{major:a,minor:c}},Ao={nu:Tr,detect:function(a,c){var h,m,b=String(c).toLowerCase();return 0===a.length?vr():(m=function(A,L){for(var B=0;B<A.length;B++){var N=A[B];if(N.test(L))return N}}(a,h=b))?Tr(M(1),M(2)):{major:0,minor:0};function M(A){return Number(h.replace(m,"$"+A))}},unknown:vr},$n=function(a,c){return""===(h=c)||a.length>=h.length&&a.substr(0,0+h.length)===h;var h},Ti=ht(/^\s+|\s+$/g),In=ht(/^\s+/g),cr=ht(/\s+$/g),$r=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,pi={browsers:Jt([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return Ue(a,"edge/")&&Ue(a,"chrome")&&Ue(a,"safari")&&Ue(a,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$r],search:function(a){return Ue(a,"chrome")&&!Ue(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return Ue(a,"msie")||Ue(a,"trident")}},{name:"Opera",versionRegexes:[$r,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ft("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ft("firefox")},{name:"Safari",versionRegexes:[$r,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(Ue(a,"safari")||Ue(a,"mobile/"))&&Ue(a,"applewebkit")}}]),oses:Jt([{name:"Windows",search:ft("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return Ue(a,"iphone")||Ue(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ft("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ft("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ft("linux"),versionRegexes:[]},{name:"Solaris",search:ft("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ft("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ft("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},Ho="Firefox",Zo=function(){return tr({current:void 0,version:Ao.unknown()})},ks=tr,ds=(Jt("Edge"),Jt("Chrome"),Jt("IE"),Jt("Opera"),Jt(Ho),Jt("Safari"),"Windows"),fs="Android",vi="Solaris",mc="FreeBSD",ng="ChromeOS",Ru=function(){return ar({current:void 0,version:Ao.unknown()})},$h=ar,_i=(Jt(ds),Jt("iOS"),Jt(fs),Jt("Linux"),Jt("OSX"),Jt(vi),Jt(mc),Jt(ng),Bt(function(){return a=navigator.userAgent,c=De.from(navigator.userAgentData),h=tn,te=pi.browsers(),oe=pi.oses(),{browser:se=c.bind(function(pe){return Ae=te,At(pe.brands,function(ze){var me=ze.brand.toLowerCase();return jo(Ae,function(we){var Ie;return me===(null===(Ie=we.brand)||void 0===Ie?void 0:Ie.toLowerCase())}).map(function(we){return{current:we.name,version:Ao.nu(parseInt(ze.version,10),0)}})});var Ae}).orThunk(function(){return Me(te,pe=a).map(function(Ae){var ze=Ao.detect(Ae.versionRegexes,pe);return{current:Ae.name,version:ze}});var pe}).fold(Zo,ks),os:fe=Me(oe,m=a).map(function(pe){var Ae=Ao.detect(pe.versionRegexes,m);return{current:pe.name,version:Ae}}).fold(Ru,$h),deviceType:(M=se,A=a,L=h,B=(b=fe).isiOS()&&!0===/ipad/i.test(A),N=b.isiOS()&&!B,H=(G=b.isiOS()||b.isAndroid())||L("(pointer:coarse)"),X=B||!N&&G&&L("(min-device-width:768px)"),J=N||G&&!X,ne=M.isSafari()&&b.isiOS()&&!1===/safari/i.test(A),{isiPad:Jt(B),isiPhone:Jt(N),isTablet:Jt(X),isPhone:Jt(J),isTouch:Jt(H),isAndroid:b.isAndroid,isiOS:b.isiOS,isWebView:Jt(ne),isDesktop:Jt(!J&&!X&&!ne)})};var a,c,h,m,b,M,A,L,B,N,G,H,X,J,ne,te,oe,se,fe})),Ol=navigator.userAgent,Js=_i(),ti=Js.browser,Ds=Js.os,li=Js.deviceType,Wf=/WebKit/.test(Ol)&&!ti.isEdge(),Dm="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,rg=-1!==Ol.indexOf("Windows Phone"),sr={opera:ti.isOpera(),webkit:Wf,ie:!(!ti.isIE()&&!ti.isEdge())&&ti.version.major,gecko:ti.isFirefox(),mac:Ds.isOSX()||Ds.isiOS(),iOS:li.isiPad()||li.isiPhone(),android:Ds.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:ti.isIE()?document.documentMode||7:10,fileApi:Dm,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!ti.isIE(),desktop:li.isDesktop(),windowsPhone:rg,browser:{current:ti.current,version:ti.version,isChrome:ti.isChrome,isEdge:ti.isEdge,isFirefox:ti.isFirefox,isIE:ti.isIE,isOpera:ti.isOpera,isSafari:ti.isSafari},os:{current:Ds.current,version:Ds.version,isAndroid:Ds.isAndroid,isChromeOS:Ds.isChromeOS,isFreeBSD:Ds.isFreeBSD,isiOS:Ds.isiOS,isLinux:Ds.isLinux,isOSX:Ds.isOSX,isSolaris:Ds.isSolaris,isWindows:Ds.isWindows},deviceType:{isDesktop:li.isDesktop,isiPad:li.isiPad,isiPhone:li.isiPhone,isPhone:li.isPhone,isTablet:li.isTablet,isTouch:li.isTouch,isWebView:li.isWebView}},Jh=/^\s*|\s*$/g,Gf=function(a,c,h,m){m=m||this,a&&So(a=h?a[h]:a,function(b,M){return!1!==c.call(m,b,M,h)&&void Gf(b,c,h,m)})},kt={trim:Xt,isArray:$s,is:nn,toArray:function(a){if($s(a))return a;for(var c=[],h=0,m=a.length;h<m;h++)c[h]=a[h];return c},makeMap:function(a,c,h){var m;for(c=c||",",h=h||{},m=(a="string"==typeof(a=a||[])?a.split(c):a).length;m--;)h[a[m]]={};return h},each:So,map:ei,grep:bn,inArray:Ta,hasOwn:Rr,extend:function(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];for(var m=0;m<c.length;m++){var b,M,A=c[m];for(b in A)!Rr(A,b)||void 0!==(M=A[b])&&(a[b]=M)}return a},create:function(a,c,h){var m,b,M,A=this,L=0,B=(a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a))[3].match(/(^|\.)(\w+)$/i)[2],N=A.createNS(a[3].replace(/\.\w+$/,""),h);if(!N[B]){if("static"===a[2])return N[B]=c,void(this.onCreate&&this.onCreate(a[2],a[3],N[B]));c[B]||(c[B]=function(){},L=1),N[B]=c[B],A.extend(N[B].prototype,c),a[5]&&(m=A.resolve(a[5]).prototype,b=a[5].match(/\.(\w+)$/i)[1],M=N[B],N[B]=L?function(){return m[b].apply(this,arguments)}:function(){return this.parent=m[b],M.apply(this,arguments)},N[B].prototype[B]=N[B],A.each(m,function(G,H){N[B].prototype[H]=m[H]}),A.each(c,function(G,H){m[H]?N[B].prototype[H]=function(){return this.parent=m[H],G.apply(this,arguments)}:H!==B&&(N[B].prototype[H]=G)})),A.each(c.static,function(G,H){N[B][H]=G})}},walk:Gf,createNS:function(a,c){var h,m;for(c=c||window,a=a.split("."),h=0;h<a.length;h++)c[m=a[h]]||(c[m]={}),c=c[m];return c},resolve:function(a,c){var h,m;for(c=c||window,h=0,m=(a=a.split(".")).length;h<m&&(c=c[a[h]]);h++);return c},explode:function(a,c){return!a||nn(a,"array")?a:ei(a.split(c||","),Xt)},_addCacheSuffix:function(a){var c=sr.cacheSuffix;return c&&(a+=(-1===a.indexOf("?")?"?":"&")+c),a}},it={fromHtml:function(a,c){var h=(c||document).createElement("div");if(h.innerHTML=a,!h.hasChildNodes()||1<h.childNodes.length)throw console.error("HTML does not have a single root node",a),new Error("HTML must have a single root node");return yr(h.childNodes[0])},fromTag:function(a,c){return yr((c||document).createElement(a))},fromText:function(a,c){return yr((c||document).createTextNode(a))},fromDom:yr,fromPoint:function(a,c,h){return De.from(a.dom.elementFromPoint(c,h)).map(yr)}};function No(a){return a.dom.nodeName.toLowerCase()}function jc(a){return a.dom.nodeType}function Qs(a){return function(c){return jc(c)===a}}function ea(a){return it.fromDom(a.dom.ownerDocument)}function ml(a){return By(a)?a:ea(a)}function Bi(a){return it.fromDom(ml(a).dom.defaultView)}function yi(a){return De.from(a.dom.parentNode).map(it.fromDom)}function zi(a){return De.from(a.dom.previousSibling).map(it.fromDom)}function so(a){return De.from(a.dom.nextSibling).map(it.fromDom)}function vl(a){return ko(un(a,zi))}function As(a){return un(a,so)}function Is(a,c){return De.from(a.dom.childNodes[c]).map(it.fromDom)}function hs(a){return Is(a,0)}function Ua(a){return Is(a,a.dom.childNodes.length-1)}function ja(a){return a.dom.childNodes.length}function Yc(a){return El(a)&&rr(a.dom.host)}function Ko(a){return Yc(a)?a:function(){var c=ml(a).dom.head;if(null==c)throw new Error("Head is not available yet");return it.fromDom(c)}()}function Gi(a){return it.fromDom(a.dom.host)}function ta(a,c){yi(a).each(function(h){h.dom.insertBefore(c.dom,a.dom)})}function Ps(a,c){so(a).fold(function(){yi(a).each(function(h){Ui(h,c)})},function(h){ta(h,c)})}function el(a,c){hs(a).fold(function(){Ui(a,c)},function(h){a.dom.insertBefore(c.dom,h.dom)})}function wa(a,c){It(c,function(h){Ui(a,h)})}function Xc(a){a.dom.textContent="",It(Di(a),function(c){Ai(c)})}function qc(a){var c,h=Di(a);0<h.length&&(c=a,It(h,function(m){ta(c,m)})),Ai(a)}function Uf(a,c){return void 0!==a?a:void 0!==c?c:0}function yl(a){var c=void 0!==a?a.dom:document;return il(c.body.scrollLeft||c.documentElement.scrollLeft,c.body.scrollTop||c.documentElement.scrollTop)}function iu(a,c,h){var m=(void 0!==h?h.dom:document).defaultView;m&&m.scrollTo(a,c)}function ps(a,c){_i().browser.isSafari()&&Qt(a.dom.scrollIntoViewIfNeeded)?a.dom.scrollIntoViewIfNeeded(!1):a.dom.scrollIntoView(c)}function da(a,c,h,m){return{x:a,y:c,width:h,height:m,right:a+h,bottom:c+m}}function Qr(a){var c=void 0===a?window:a,m=yl(it.fromDom(c.document)),b=void 0===c?window:c;return(_i().browser.isFirefox()?De.none():De.from(b.visualViewport)).fold(function(){var M=c.document.documentElement;return da(m.left,m.top,M.clientWidth,M.clientHeight)},function(M){return da(Math.max(M.pageLeft,m.left),Math.max(M.pageTop,m.top),M.width,M.height)})}function yo(a){return function(c){return!!c&&c.nodeType===a}}function bl(a){return a&&!Object.getPrototypeOf(a)}function Ya(a){var c=a.map(function(h){return h.toLowerCase()});return function(h){if(h&&h.nodeName){var m=h.nodeName.toLowerCase();return kr(c,m)}return!1}}function Nl(a,c){var h=c.toLowerCase().split(" ");return function(m){if(lr(m))for(var b=0;b<h.length;b++){var M=m.ownerDocument.defaultView.getComputedStyle(m,null);if((M?M.getPropertyValue(a):null)===h[b])return!0}return!1}}function au(a){return function(c){return lr(c)&&c.hasAttribute(a)}}function tl(a){return lr(a)&&a.hasAttribute("data-mce-bogus")}function Ls(a){return lr(a)&&"TABLE"===a.tagName}function nl(a){return function(c){return!(!lr(c)||c.contentEditable!==a&&c.getAttribute("data-mce-contenteditable")!==a)}}function Xa(a,c,h){return void 0===h&&(h=ua),a.exists(function(m){return h(m,c)})}function Eo(a,c,h){return a.isSome()&&c.isSome()?De.some(h(a.getOrDie(),c.getOrDie())):De.none()}function ki(a){return void 0!==a.style&&Qt(a.style.getPropertyValue)}function Vi(a,c,h){if(!(Ir(h)||fi(h)||en(h)))throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",h,":: Element ",a),new Error("Attribute value was not simple");a.setAttribute(c,h+"")}function rl(a,c,h){Vi(a.dom,c,h)}function Rs(a,c){var h=a.dom;Nt(c,function(m,b){Vi(h,b,m)})}function ol(a,c){var h=a.dom.getAttribute(c);return null===h?void 0:h}function vc(a,c){return De.from(ol(a,c))}function su(a,c){a.dom.removeAttribute(c)}function Os(a,c){var h=a.dom,m=window.getComputedStyle(h).getPropertyValue(c);return""!==m||Zc(a)?m:Am(h,c)}function jf(a,c){var m=Am(a.dom,c);return De.from(m).filter(function(b){return 0<b.length})}function og(a){var c={},h=a.dom;if(ki(h))for(var m=0;m<h.style.length;m++){var b=h.style.item(m);c[b]=h.style[b]}return c}function Yf(a){return jo(a,fa)}function gs(a,c){return a.children&&kr(a.children,c)}"undefined"!=typeof window||Function("return this;")();var fa=Qs(1),ms=Qs(3),By=Qs(9),El=Qs(11),Di=function(a){return Tn(a.dom.childNodes,it.fromDom)},Qh=Qt(Element.prototype.attachShadow)&&Qt(Node.prototype.getRootNode),ig=Jt(Qh),gi=Qh?function(a){return it.fromDom(a.dom.getRootNode())}:ml,Ui=function(a,c){a.dom.appendChild(c.dom)},Ai=function(a){var c=a.dom;null!==c.parentNode&&c.parentNode.removeChild(c)},Zc=function(a){var c=ms(a)?a.dom.parentNode:a.dom;if(null==c||null===c.ownerDocument)return!1;var h=c.ownerDocument,m=it.fromDom(c),b=gi(m);return(Yc(b)?De.some(b):De.none()).fold(function(){return h.body.contains(c)},xr(Zc,Gi))},Nd=function(a,c){return{left:a,top:c,translate:function(h,m){return Nd(a+h,c+m)}}},il=Nd,$o=function(a){var c,h=a.dom,m=h.ownerDocument.body;return m===h?il(m.offsetLeft,m.offsetTop):Zc(a)?(c=h.getBoundingClientRect(),il(c.left,c.top)):il(0,0)},lr=yo(1),Kc=Ya(["textarea","input"]),Dn=yo(3),$c=yo(8),al=yo(9),Ns=yo(11),Po=Ya(["br"]),_r=Ya(["img"]),na=nl("true"),Dr=nl("false"),ra=Ya(["td","th"]),Za=Ya(["video","audio","object","embed"]),Am=function(a,c){return ki(a)?a.style.getPropertyValue(c):""},Ou=_i().browser,Nu={},Eu={exports:Nu};function Ii(a){setTimeout(function(){throw a},0)}function lu(a){return dr(function(){return new Xf(a)})}function xl(a){if(!Zr(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var c=[],h={};return It(a,function(m,b){var M=si(m);if(1!==M.length)throw new Error("one and only one name per case");var A=M[0],L=m[A];if(void 0!==h[A])throw new Error("duplicate key detected:"+A);if("cata"===A)throw new Error("cannot have a case named cata (sorry)");if(!Zr(L))throw new Error("case arguments must be an array");c.push(A),h[A]=function(){for(var B=[],N=0;N<arguments.length;N++)B[N]=arguments[N];var G=B.length;if(G!==L.length)throw new Error("Wrong number of arguments to case "+A+". Expected "+L.length+" ("+L+"), got "+G);return{fold:function(){for(var H=[],X=0;X<arguments.length;X++)H[X]=arguments[X];if(H.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+H.length);return H[b].apply(null,B)},match:function(H){var X=si(H);if(c.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+"\nActual: "+X.join(","));if(!Wn(c,function(J){return kr(X,J)}))throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+"\nRequired: "+c.join(", "));return H[A].apply(null,B)},log:function(H){console.log(H,{constructors:c,constructor:A,params:B})}}}}),h}!function(){var a=this,c=function(){var h,m,b,M={exports:{}};function A(){}function L(te){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof te)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],J(te,this)}function B(te,oe){for(;3===te._state;)te=te._value;0!==te._state?(te._handled=!0,L._immediateFn(function(){var se,fe=1===te._state?oe.onFulfilled:oe.onRejected;if(null!==fe){try{se=fe(te._value)}catch(pe){return void G(oe.promise,pe)}N(oe.promise,se)}else(1===te._state?N:G)(oe.promise,te._value)})):te._deferreds.push(oe)}function N(te,oe){try{if(oe===te)throw new TypeError("A promise cannot be resolved with itself.");if(oe&&("object"==typeof oe||"function"==typeof oe)){var se=oe.then;if(oe instanceof L)return te._state=3,te._value=oe,void H(te);if("function"==typeof se)return void J((fe=se,pe=oe,function(){fe.apply(pe,arguments)}),te)}te._state=1,te._value=oe,H(te)}catch(Ae){G(te,Ae)}var fe,pe}function G(te,oe){te._state=2,te._value=oe,H(te)}function H(te){2===te._state&&0===te._deferreds.length&&L._immediateFn(function(){te._handled||L._unhandledRejectionFn(te._value)});for(var oe=0,se=te._deferreds.length;oe<se;oe++)B(te,te._deferreds[oe]);te._deferreds=null}function X(te,oe,se){this.onFulfilled="function"==typeof te?te:null,this.onRejected="function"==typeof oe?oe:null,this.promise=se}function J(te,oe){var se=!1;try{te(function(fe){se||(se=!0,N(oe,fe))},function(fe){se||(se=!0,G(oe,fe))})}catch(fe){if(se)return;se=!0,G(oe,fe)}}h=M,m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},b=setTimeout,L.prototype.catch=function(te){return this.then(null,te)},L.prototype.then=function(te,oe){var se=new this.constructor(A);return B(this,new X(te,oe,se)),se},L.all=function(te){var oe=Array.prototype.slice.call(te);return new L(function(se,fe){if(0===oe.length)return se([]);for(var pe=oe.length,Ae=0;Ae<oe.length;Ae++)!function ze(me,we){try{if(we&&("object"==typeof we||"function"==typeof we)){var Ie=we.then;if("function"==typeof Ie)return Ie.call(we,function(Ke){ze(me,Ke)},fe),0}oe[me]=we,0==--pe&&se(oe)}catch(Ke){fe(Ke)}}(Ae,oe[Ae])})},L.resolve=function(te){return te&&"object"==typeof te&&te.constructor===L?te:new L(function(oe){oe(te)})},L.reject=function(te){return new L(function(oe,se){se(te)})},L.race=function(te){return new L(function(oe,se){for(var fe=0,pe=te.length;fe<pe;fe++)te[fe].then(oe,se)})},L._immediateFn="function"==typeof setImmediate?function(te){setImmediate(te)}:function(te){b(te,0)},L._unhandledRejectionFn=function(te){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",te)},L._setImmediateFn=function(te){L._immediateFn=te},L._setUnhandledRejectionFn=function(te){L._unhandledRejectionFn=te},h.exports?h.exports=L:m.Promise||(m.Promise=L);var ne=M.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||ne}};"object"==typeof Nu&&void 0!==Eu?Eu.exports=c():(a="undefined"!=typeof globalThis?globalThis:a||self).EphoxContactWrapper=c()}();var Xf=Eu.exports.boltExport,Ka=function(a){function c(A){b()?M(A):m.push(A)}var h=De.none(),m=[],b=function(){return h.isSome()},M=function(A){h.each(function(L){setTimeout(function(){A(L)},0)})};return a(function(A){b()||(h=De.some(A),It(m,M),m=[])}),{get:c,map:function(A){return Ka(function(L){c(function(B){L(A(B))})})},isReady:b}},Ed={nu:Ka,pure:function(a){return Ka(function(c){c(a)})}},dr=function(a){function c(h){a().then(h,Ii)}return{map:function(h){return dr(function(){return a().then(h)})},bind:function(h){return dr(function(){return a().then(function(m){return h(m).toPromise()})})},anonBind:function(h){return dr(function(){return a().then(function(){return h.toPromise()})})},toLazy:function(){return Ed.nu(c)},toCached:function(){var h=null;return dr(function(){return h=null===h?a():h})},toPromise:a,get:c}},Bl=function(a){return{isValue:Kn,isError:Pr,getOr:Jt(a),getOrThunk:Jt(a),getOrDie:Jt(a),or:function(c){return Bl(a)},orThunk:function(c){return Bl(a)},fold:function(c,h){return h(a)},map:function(c){return Bl(c(a))},mapError:function(c){return Bl(a)},each:function(c){c(a)},bind:function(c){return c(a)},exists:function(c){return c(a)},forall:function(c){return c(a)},toOptional:function(){return De.some(a)}}},Es=function(a){return{isValue:Pr,isError:Kn,getOr:ho,getOrThunk:function(c){return c()},getOrDie:function(){return c=String(a),function(){throw new Error(c)}();var c},or:ho,orThunk:function(c){return c()},fold:function(c,h){return c(a)},map:function(c){return Es(a)},mapError:function(c){return Es(c(a))},each:Mn,bind:function(c){return Es(a)},exists:Pr,forall:Kn,toOptional:De.none}},uu={value:Bl,error:Es,fromOption:function(a,c){return a.fold(function(){return Es(c)},Bl)}};function Bu(a){return a.fold(ho,ho)}function zu(a,c,h,m,b){return a(h,m)?De.some(h):Qt(b)&&b(h)?De.none():c(h,m,b)}function $a(a,c,h){for(var m=a.dom,b=Qt(h)?h:Pr;m.parentNode;){var M=it.fromDom(m=m.parentNode);if(c(M))return De.some(M);if(b(M))break}return De.none()}function Vu(a,c,h){return zu(function(m,b){return b(m)},$a,a,c,h)}function Fu(a,c,h){return $a(a,function(m){return Kt(m,c)},h)}function Lr(a,c){return h=c,Vt(m=void 0===a?document:a.dom)?De.none():De.from(m.querySelector(h)).map(it.fromDom);var h,m}function _l(a,c,h){return zu(Kt,Fu,a,c,h)}function zl(a,c){return"number"!=typeof c&&(c=0),setTimeout(a,c)}function qf(a,c){return"number"!=typeof c&&(c=1),setInterval(a,c)}function Ja(a,c){function h(){for(var b=[],M=0;M<arguments.length;M++)b[M]=arguments[M];clearTimeout(m),m=zl(function(){a.apply(this,b)},c)}var m;return h.stop=function(){clearTimeout(m)},h}function ep(a,c){function h(G,H,X){var J,ne=kt._addCacheSuffix(G),te=Rn(A,ne).getOrThunk(function(){return{id:"mce-u"+M++,passed:[],failed:[],count:0}});function oe(we,Ie){for(var Ke=we.length;Ke--;)we[Ke]();te.status=Ie,te.passed=[],te.failed=[],J&&(J.onload=null,J.onerror=null,J=null)}function se(){return oe(te.passed,2),0}function fe(){return oe(te.failed,3)}(A[ne]=te).count++;var pe,Ae,ze,me=function(){var we=me;!function(){for(var Ie=a.styleSheets,Ke=Ie.length;Ke--;){var lt=Ie[Ke].ownerNode;if(lt&&lt.id===J.id)return se(),1}}()&&(Date.now()-Ae<N?Bo.setTimeout(we):fe())};H&&te.passed.push(H),X&&te.failed.push(X),1!==te.status&&(2!==te.status?3!==te.status?(te.status=1,Rs(pe=it.fromTag("link",B.dom),{rel:"stylesheet",type:"text/css",id:te.id}),Ae=Date.now(),c.contentCssCors&&rl(pe,"crossOrigin","anonymous"),c.referrerPolicy&&rl(pe,"referrerpolicy",c.referrerPolicy),(J=pe.dom).onload=me,J.onerror=fe,ze=pe,Ui(Ko(L),ze),rl(pe,"href",ne)):fe():se())}function m(G){return lu(function(H){h(G,Vn(H,Jt(uu.value(G))),Vn(H,Jt(uu.error(G))))})}function b(G){var H=kt._addCacheSuffix(G);Rn(A,H).each(function(X){var J;0==--X.count&&(delete A[H],J=X.id,Lr(Ko(L),"#"+J).each(Ai))})}void 0===c&&(c={});var M=0,A={},L=it.fromDom(a),B=ml(L),N=c.maxLoadTime||5e3;return{load:h,loadAll:function(G,H,X){var J,ne=Tn(G,m);J=ne,lu(function(te){var oe=[],se=0;0===J.length?te([]):It(J,function(fe,pe){var Ae;fe.get((Ae=pe,function(ze){oe[Ae]=ze,++se>=J.length&&te(oe)}))})}).get(function(te){var oe=Yn(te,function(se){return se.isValue()});0<oe.fail.length?X(oe.fail.map(Bu)):H(oe.pass.map(Bu))})},unload:b,unloadAll:function(G){It(G,function(H){b(H)})},_setReferrerPolicy:function(G){c.referrerPolicy=G}}}xl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Hu,yc,Wo=window.Promise||Xf,Bo={requestAnimationFrame:function(a,c){Hu?Hu.then(a):Hu=new Wo(function(h){!function(m,b){for(var M=window.requestAnimationFrame,A=["ms","moz","webkit"],L=0;L<A.length&&!M;L++)M=window[A[L]+"RequestAnimationFrame"];(M=M||function(B){window.setTimeout(B,0)})(m,b)}(h,c=c||document.body)}).then(a)},setTimeout:zl,setInterval:qf,setEditorTimeout:function(a,c,h){return zl(function(){a.removed||c()},h)},setEditorInterval:function(a,c,h){var m=qf(function(){a.removed?clearInterval(m):c()},h);return m},debounce:Ja,throttle:Ja,clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)}},Jc=(yc=new WeakMap,{forElement:function(a,c){var h=gi(a).dom;return De.from(yc.get(h)).getOrThunk(function(){var m=ep(h,c);return yc.set(h,m),m})}}),wi=(cu.prototype.current=function(){return this.node},cu.prototype.next=function(a){return this.node=this.findSibling(this.node,"firstChild","nextSibling",a),this.node},cu.prototype.prev=function(a){return this.node=this.findSibling(this.node,"lastChild","previousSibling",a),this.node},cu.prototype.prev2=function(a){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",a),this.node},cu.prototype.findSibling=function(a,c,h,m){var b,M;if(a){if(!m&&a[c])return a[c];if(a!==this.rootNode){if(b=a[h])return b;for(M=a.parentNode;M&&M!==this.rootNode;M=M.parentNode)if(b=M[h])return b}}},cu.prototype.findPreviousNode=function(a,c,h,m){var b,M,A;if(a&&(b=a[h],!this.rootNode||b!==this.rootNode)){if(b){if(!m)for(A=b[c];A;A=A[c])if(!A[c])return A;return b}return(M=a.parentNode)&&M!==this.rootNode?M:void 0}},cu);function cu(a,c){this.node=a,this.rootNode=c,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function Aa(a){var c;return function(h){return c=c||function(m,b){for(var M={},A=0,L=m.length;A<L;A++){var B=m[A];M[String(B)]=b(B,A)}return M}(a,Kn),Rr(c,No(h))}}function du(a){return fa(a)&&!fr(a)}function Wu(a){return fa(a)&&"br"===No(a)}function es(a){return oa(a)&&(a=a.parentNode),no(a)&&a.hasAttribute("data-mce-caret")}function bc(a){return oa(a)&&Pi(a.data)}function Ia(a){return es(a)||bc(a)}function fu(a){return a.firstChild!==a.lastChild||!Po(a.firstChild)}function xc(a){var c=a.container();return!!Dn(c)&&(c.data.charAt(a.offset())===Hn||a.isAtStart()&&bc(c.previousSibling))}function nr(a){var c=a.container();return!!Dn(c)&&(c.data.charAt(a.offset()-1)===Hn||a.isAtEnd()&&bc(c.nextSibling))}function g(a){return a&&a.hasAttribute("data-mce-caret")?(tl(h=(c=a.getElementsByTagName("br"))[c.length-1])&&h.parentNode.removeChild(h),a.removeAttribute("data-mce-caret"),a.removeAttribute("data-mce-bogus"),a.removeAttribute("style"),a.removeAttribute("_moz_abspos"),a):null;var c,h}function w(a){return es(a.startContainer)}function T(a){return!zd(a)&&(tp(a)?!ia(a.parentNode):ag(a)||Pm(a)||Bd(a)||go(a))}function P(a,c){return T(a)&&function(h,m){for(h=h.parentNode;h&&h!==m;h=h.parentNode){if(go(h))return!1;if(O1(h))return!0}return!0}(a,c)}function E(a){return Ix.test(a)}function U(a,c){return T(a)&&(A=c,!1===(Dn(M=a)&&E(M.data)&&(h=M,m=it.fromDom(A),!1===Fu(it.fromDom(h),"pre,code",jt(Ut,m)).isSome())))||lr(b=a)&&"A"===b.nodeName&&!b.hasAttribute("href")&&(b.hasAttribute("name")||b.hasAttribute("id"))||hu(a);var h,m,b,M,A}function j(a,c){return function(h,m){var b=0;if(U(h,h))return!1;var M=h.firstChild;if(!M)return!0;var A=new wi(M,h);do{if(m){if(Fi(M)){M=A.next(!0);continue}if(Lm(M)){M=A.next();continue}}if(Po(M))b++,M=A.next();else{if(U(M,h))return!1;M=A.next()}}while(M);return b<=1}(a.dom,c=void 0===c||c)}function q(a,c){return rr(a)&&(U(a,c)||du(it.fromDom(a)))}function $(a){return"span"===a.nodeName.toLowerCase()&&"bookmark"===a.getAttribute("data-mce-type")}function ee(a,c){var h,m,b,M={};if(a){for(a=a.split(","),c=c||10,h=0;h<a.length;h+=2)m=String.fromCharCode(parseInt(a[h],c)),ts[m]||(M[m]=b="&"+a[h+1]+";",M[b]=m);return M}}function he(a,c){return a.replace(c?Kf:$f,function(h){return ts[h]||h})}function ye(a,c){return a.replace(c?Kf:$f,function(h){return 1<h.length?"&#"+(1024*(h.charCodeAt(0)-55296)+(h.charCodeAt(1)-56320)+65536)+";":ts[h]||"&#"+h.charCodeAt(0)+";"})}function Se(a,c,h){return h=h||lg,a.replace(c?Kf:$f,function(m){return ts[m]||h[m]||m})}function Re(a,c){return(a=kt.trim(a))?a.split(c||" "):[]}function Be(a,c){var h;return a&&(h={},ui(a="string"==typeof a?{"*":a}:a,function(m,b){h[b]=h[b.toUpperCase()]=("map"===c?wl:Qf)(m,/[, ]/)})),h}function Xe(a){function c(Lt,ln,jn){var gr=a[Lt];return gr?gr=wl(gr,/[, ]/,wl(gr.toUpperCase(),/[, ]/)):(gr=Vd[Lt])||(gr=wl(ln," ",wl(ln.toUpperCase()," ")),gr=ll(gr,jn),Vd[Lt]=gr),gr}var h,m,b,M,A,L,B,N,G={},H={},X=[],J={},ne={},te=(h=(a=a||{}).schema,N={},Vd[h]||(m="id accesskey class dir lang style tabindex title role",b="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",M="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==h&&(m+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",b+=" article aside details dialog figure main header footer hgroup section nav",M+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==h&&(m+=" xml:lang",M=[M,B="acronym applet basefont big font strike tt"].join(" "),ui(Re(B),function(Lt){oe(Lt,"",M)}),b=[b,L="center dir isindex noframes"].join(" "),A=[b,M].join(" "),ui(Re(L),function(Lt){oe(Lt,"",A)})),A=A||[b,M].join(" "),oe("html","manifest","head body"),oe("head","","base command link meta noscript script style title"),oe("title hr noscript br"),oe("base","href target"),oe("link","href rel media hreflang type sizes hreflang"),oe("meta","name http-equiv content charset"),oe("style","media type scoped"),oe("script","src async defer type charset"),oe("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",A),oe("address dt dd div caption","",A),oe("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",M),oe("blockquote","cite",A),oe("ol","reversed start type","li"),oe("ul","","li"),oe("li","value",A),oe("dl","","dt dd"),oe("a","href target rel media hreflang type",M),oe("q","cite",M),oe("ins del","cite datetime",A),oe("img","src sizes srcset alt usemap ismap width height"),oe("iframe","src name width height",A),oe("embed","src type width height"),oe("object","data type typemustmatch name usemap form width height",[A,"param"].join(" ")),oe("param","name value"),oe("map","name",[A,"area"].join(" ")),oe("area","alt coords shape href target rel media hreflang type"),oe("table","border","caption colgroup thead tfoot tbody tr"+("html4"===h?" col":"")),oe("colgroup","span","col"),oe("col","span"),oe("tbody thead tfoot","","tr"),oe("tr","","td th"),oe("td","colspan rowspan headers",A),oe("th","colspan rowspan headers scope abbr",A),oe("form","accept-charset action autocomplete enctype method name novalidate target",A),oe("fieldset","disabled form name",[A,"legend"].join(" ")),oe("label","form for",M),oe("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),oe("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===h?A:M),oe("select","disabled form multiple name required size","option optgroup"),oe("optgroup","disabled label","option"),oe("option","disabled label selected value"),oe("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),oe("menu","type label",[A,"li"].join(" ")),oe("noscript","",A),"html4"!==h&&(oe("wbr"),oe("ruby","",[M,"rt rp"].join(" ")),oe("figcaption","",A),oe("mark rt rp summary bdi","",M),oe("canvas","width height",A),oe("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[A,"track source"].join(" ")),oe("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[A,"track source"].join(" ")),oe("picture","","img source"),oe("source","src srcset type media sizes"),oe("track","kind src srclang label default"),oe("datalist","",[M,"option"].join(" ")),oe("article section nav aside main header footer","",A),oe("hgroup","","h1 h2 h3 h4 h5 h6"),oe("figure","",[A,"figcaption"].join(" ")),oe("time","datetime",M),oe("dialog","open",A),oe("command","type label icon disabled checked radiogroup command"),oe("output","for form name",M),oe("progress","value max",M),oe("meter","value min max low high optimum",M),oe("details","open",[A,"summary"].join(" ")),oe("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==h&&(se("script","language xml:space"),se("style","xml:space"),se("object","declare classid code codebase codetype archive standby align border hspace vspace"),se("embed","align name hspace vspace"),se("param","valuetype type"),se("a","charset name rev shape coords"),se("br","clear"),se("applet","codebase archive code object alt name width height align hspace vspace"),se("img","name longdesc align border hspace vspace"),se("iframe","longdesc frameborder marginwidth marginheight scrolling align"),se("font basefont","size color face"),se("input","usemap align"),se("select"),se("textarea"),se("h1 h2 h3 h4 h5 h6 div p legend caption","align"),se("ul","type compact"),se("li","type"),se("ol dl menu dir","compact"),se("pre","width xml:space"),se("hr","align noshade size width"),se("isindex","prompt"),se("table","summary width frame rules cellspacing cellpadding align bgcolor"),se("col","width align char charoff valign"),se("colgroup","width align char charoff valign"),se("thead","align char charoff valign"),se("tr","align char charoff valign bgcolor"),se("th","axis align char charoff valign nowrap bgcolor width height"),se("form","accept"),se("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),se("tfoot","align char charoff valign"),se("tbody","align char charoff valign"),se("area","nohref"),se("body","background bgcolor text link vlink alink")),"html4"!==h&&(se("input button select textarea","autofocus"),se("input textarea","placeholder"),se("a","download"),se("link script img","crossorigin"),se("img","loading"),se("iframe","sandbox seamless allowfullscreen loading")),ui(Re("a form meter progress dfn"),function(Lt){N[Lt]&&delete N[Lt].children[Lt]}),delete N.caption.children.table,delete N.script,Vd[h]=N));function oe(Lt,ln,jn){function gr(Vo,Ha){for(var xa={},Uc=0,$i=Vo.length;Uc<$i;Uc++)xa[Vo[Uc]]=Ha||{};return xa}var Mo,mo;ln=ln||"","string"==typeof(jn=jn||[])&&(jn=Re(jn));for(var Zn=Re(Lt),io=Zn.length;io--;)mo={attributes:gr(Mo=Re([m,ln].join(" "))),attributesOrder:Mo,children:gr(jn,E1)},N[Zn[io]]=mo}function se(Lt,ln){for(var jn,gr,Mo,mo=Re(Lt),Zn=mo.length,io=Re(ln);Zn--;)for(jn=N[mo[Zn]],gr=0,Mo=io.length;gr<Mo;gr++)jn.attributes[io[gr]]={},jn.attributesOrder.push(io[gr])}!1===a.verify_html&&(a.valid_elements="*[*]");var fe=Be(a.valid_styles),pe=Be(a.invalid_styles,"map"),Ae=Be(a.valid_classes,"map"),ze=c("whitespace_elements","pre script noscript style textarea video audio iframe object code"),me=c("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),we=c("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ie=c("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Ke="td th iframe video audio object script code",lt=c("non_empty_elements",Ke+" pre",we),pt=c("move_caret_before_on_enter_elements",Ke+" table",we),Ge=c("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),$e=c("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ge),qe=c("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");function et(Lt){return new RegExp("^"+Lt.replace(/([?+*])/g,".$1")+"$")}function bt(Lt){var ln,jn,gr,Mo,mo,Zn,io,Vo,Ha,xa,Uc,$i,Ss,Ld,Ay,Zh,Rd,Od,wM=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,$T=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,SM=/[*?+]/;if(Lt){var CM=Re(Lt,",");for(G["@"]&&(Zh=G["@"].attributes,Rd=G["@"].attributesOrder),ln=0,jn=CM.length;ln<jn;ln++)if(mo=wM.exec(CM[ln])){if(Ha=mo[2],Ay=mo[3],Vo=mo[5],Zn={attributes:$i={},attributesOrder:Ss=[]},"#"===(Ld=mo[1])&&(Zn.paddEmpty=!0),"-"===Ld&&(Zn.removeEmpty=!0),"!"===mo[4]&&(Zn.removeEmptyAttrs=!0),Zh&&(Nt(Zh,function(JT,MM){$i[MM]=JT}),Ss.push.apply(Ss,Rd)),Vo)for(gr=0,Mo=(Vo=Re(Vo,"|")).length;gr<Mo;gr++)(mo=$T.exec(Vo[gr]))&&(io={},Uc=mo[1],xa=mo[2].replace(/[\\:]:/g,":"),Ld=mo[3],Od=mo[4],"!"===Uc&&(Zn.attributesRequired=Zn.attributesRequired||[],Zn.attributesRequired.push(xa),io.required=!0),"-"!==Uc?(Ld&&("="===Ld&&(Zn.attributesDefault=Zn.attributesDefault||[],Zn.attributesDefault.push({name:xa,value:Od}),io.defaultValue=Od),":"===Ld&&(Zn.attributesForced=Zn.attributesForced||[],Zn.attributesForced.push({name:xa,value:Od}),io.forcedValue=Od),"<"===Ld&&(io.validValues=wl(Od,"?"))),SM.test(xa)?(Zn.attributePatterns=Zn.attributePatterns||[],io.pattern=et(xa),Zn.attributePatterns.push(io)):($i[xa]||Ss.push(xa),$i[xa]=io)):(delete $i[xa],Ss.splice(Om(Ss,xa),1)));Zh||"@"!==Ha||(Zh=$i,Rd=Ss),Ay&&(Zn.outputName=Ha,G[Ay]=Zn),SM.test(Ha)?(Zn.pattern=et(Ha),X.push(Zn)):G[Ha]=Zn}}}function Yt(Lt){G={},X=[],bt(Lt),ui(te,function(ln,jn){H[jn]=ln.children})}function an(Lt){var ln=/^(~)?(.+)$/;Lt&&(Vd.text_block_elements=Vd.block_elements=null,ui(Re(Lt,","),function(jn){var gr,Mo=ln.exec(jn),mo="~"===Mo[1],Zn=mo?"span":"div",io=Mo[2];H[io]=H[Zn],J[io]=Zn,mo||($e[io.toUpperCase()]={},$e[io]={}),G[io]||(delete(gr=ll({},gr=G[Zn])).removeEmptyAttrs,delete gr.removeEmpty,G[io]=gr),ui(H,function(Vo,Ha){Vo[Zn]&&(H[Ha]=Vo=ll({},H[Ha]),Vo[io]=Vo[Zn])})}))}function wt(Lt){var ln=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Vd[a.schema]=null,Lt&&ui(Re(Lt,","),function(jn){var gr,Mo,mo=ln.exec(jn);mo&&(gr=(Mo=mo[1])?H[mo[2]]:H[mo[2]]={"#comment":{}},gr=H[mo[2]],ui(Re(mo[3],"|"),function(Zn){"-"===Mo?delete gr[Zn]:gr[Zn]={}}))})}function St(Lt){var ln,jn=G[Lt];if(jn)return jn;for(ln=X.length;ln--;)if((jn=X[ln]).pattern.test(Lt))return jn}ui((a.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Lt){ne[Lt]=new RegExp("</"+Lt+"[^>]*>","gi")}),a.valid_elements?Yt(a.valid_elements):(ui(te,function(Lt,ln){G[ln]={attributes:Lt.attributes,attributesOrder:Lt.attributesOrder},H[ln]=Lt.children}),"html5"!==a.schema&&ui(Re("strong/b em/i"),function(Lt){var ln=Re(Lt,"/");G[ln[1]].outputName=ln[0]}),ui(Re("ol ul sub sup blockquote span font a table tbody strong em b i"),function(Lt){G[Lt]&&(G[Lt].removeEmpty=!0)}),ui(Re("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Lt){G[Lt].paddEmpty=!0}),ui(Re("span"),function(Lt){G[Lt].removeEmptyAttrs=!0})),an(a.custom_elements),wt(a.valid_children),bt(a.extended_valid_elements),wt("+ol[ul|ol],+ul[ul|ol]"),ui({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Lt,ln){G[ln]&&(G[ln].parentsRequired=Re(Lt))}),a.invalid_elements&&ui(Qf(a.invalid_elements),function(Lt){G[Lt]&&delete G[Lt]}),St("span")||bt("span[!data-mce-type|*]");var mn=Jt(fe),Sn=Jt(pe),qt=Jt(Ae),Nn=Jt(Ie),Rt=Jt($e),pn=Jt(Ge),Zt=Jt(qe),Cn=Jt(we),Ln=Jt(me),co=Jt(lt),ke=Jt(pt),Ye=Jt(ze),Mt=Jt(ne),Ot=Jt(J);return{children:H,elements:G,getValidStyles:mn,getValidClasses:qt,getBlockElements:Rt,getInvalidStyles:Sn,getShortEndedElements:Cn,getTextBlockElements:pn,getTextInlineElements:Zt,getBoolAttrs:Nn,getElementRule:St,getSelfClosingElements:Ln,getNonEmptyElements:co,getMoveCaretBeforeOnEnterElements:ke,getWhiteSpaceElements:Ye,getSpecialElements:Mt,isValidChild:function(Lt,ln){var jn=H[Lt.toLowerCase()];return!(!jn||!jn[ln.toLowerCase()])},isValid:function(Lt,ln){var jn,gr,Mo=St(Lt);if(Mo){if(!ln||Mo.attributes[ln])return!0;if(jn=Mo.attributePatterns)for(gr=jn.length;gr--;)if(jn[gr].pattern.test(Lt))return!0}return!1},getCustomElements:Ot,addValidElements:bt,setValidElements:Yt,addCustomElements:an,addValidChildren:wt}}function ct(a,c,h,m){function b(M){return 1<(M=parseInt(M,10).toString(16)).length?M:"0"+M}return"#"+b(c)+b(h)+b(m)}function $t(a,c){var h,m,b=this,M=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,A=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,L=/\s*([^:]+):\s*([^;]+);?/g,B=/\s+$/,N={},G=Go;a=a||{},c&&(h=c.getValidStyles(),m=c.getInvalidStyles());for(var H=("\\\" \\' \\; \\: ; : "+G).split(" "),X=0;X<H.length;X++)N[H[X]]=G+X,N[G+X]=H[X];return{toHex:function(J){return J.replace(M,ct)},parse:function(J){function ne(et,bt,Yt){var an=Ge[et+"-top"+bt];if(an){var wt=Ge[et+"-right"+bt];if(wt){var St=Ge[et+"-bottom"+bt];if(St){var mn=Ge[et+"-left"+bt];if(mn){var Sn=[an,wt,St,mn];for(X=Sn.length-1;X--&&Sn[X]===Sn[X+1];);-1<X&&Yt||(Ge[et+bt]=-1===X?Sn[0]:Sn.join(" "),delete Ge[et+"-top"+bt],delete Ge[et+"-right"+bt],delete Ge[et+"-bottom"+bt],delete Ge[et+"-left"+bt])}}}}}function te(et){var bt,Yt=Ge[et];if(Yt){for(bt=(Yt=Yt.split(" ")).length;bt--;)if(Yt[bt]!==Yt[0])return;return Ge[et]=Yt[0],1}}function oe(et){return Ie=!0,N[et]}function se(et,bt){return Ie&&(et=et.replace(/\uFEFF[0-9]/g,function(Yt){return N[Yt]})),bt?et:et.replace(/\\([\'\";:])/g,"$1")}function fe(et){return String.fromCharCode(parseInt(et.slice(1),16))}function pe(et){return et.replace(/\\[0-9a-f]+/gi,fe)}function Ae(et,bt,Yt,an,wt,St){if(wt=wt||St)return"'"+(wt=se(wt)).replace(/\'/g,"\\'")+"'";if(bt=se(bt||Yt||an),!a.allow_script_urls){var mn=bt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(mn)||!a.allow_svg_data_urls&&/^data:image\/svg/i.test(mn))return""}return"url('"+(bt=$e?$e.call(qe,bt,"style"):bt).replace(/\'/g,"\\'")+"')"}var ze,me,we,Ie,Ke,lt,pt,Ge={},$e=a.url_converter,qe=a.url_converter_scope||b;if(J){for(J=(J=J.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,oe).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(et){return et.replace(/[;:]/g,oe)});ze=L.exec(J);)L.lastIndex=ze.index+ze[0].length,me=ze[1].replace(B,"").toLowerCase(),we=ze[2].replace(B,""),me&&we&&(me=pe(me),we=pe(we),-1===me.indexOf(G)&&-1===me.indexOf('"')&&(a.allow_script_urls||"behavior"!==me&&!/expression\s*\(|\/\*|\*\//.test(we))&&("font-weight"===me&&"700"===we?we="bold":"color"!==me&&"background-color"!==me||(we=we.toLowerCase()),we=(we=we.replace(M,ct)).replace(A,Ae),Ge[me]=Ie?se(we,!0):we));ne("border","",!0),ne("border","-width"),ne("border","-color"),ne("border","-style"),ne("padding",""),ne("margin",""),lt="border-style",pt="border-color",te(Ke="border-width")&&te(lt)&&te(pt)&&(Ge.border=Ge[Ke]+" "+Ge[lt]+" "+Ge[pt],delete Ge[Ke],delete Ge[lt],delete Ge[pt]),"medium none"===Ge.border&&delete Ge.border,"none"===Ge["border-image"]&&delete Ge["border-image"]}return Ge},serialize:function(J,ne){function te(se){var fe,pe=h[se];if(pe)for(var Ae=0,ze=pe.length;Ae<ze;Ae++)(fe=J[se=pe[Ae]])&&(oe+=(0<oe.length?" ":"")+se+": "+fe+";")}var oe="";return ne&&h?(te("*"),te(ne)):Nt(J,function(se,fe){var pe;!se||m&&((pe=m["*"])&&pe[fe]||(pe=m[ne])&&pe[fe])||(oe+=(0<oe.length?" ":"")+fe+": "+se+";")}),oe}}}function zt(a){return a instanceof Event||Qt(a.initEvent)}function rn(a,c,h,m){var b,M,A=function(L){var B,N=null!=m?m:{};for(B in L)Rr(eh,B)||(N[B]=L[B]);return rr(N.composedPath)&&(N.composedPath=function(){return L.composedPath()}),N}(c);return A.type=a,Tt(A.target)&&(A.target=null!==(b=A.srcElement)&&void 0!==b?b:h),(Tt((M=c).preventDefault)||zt(M))&&(A.preventDefault=function(){A.defaultPrevented=!0,A.isDefaultPrevented=Kn,Qt(c.preventDefault)?c.preventDefault():zt(c)&&(c.returnValue=!1)},A.stopPropagation=function(){A.cancelBubble=!0,A.isPropagationStopped=Kn,Qt(c.stopPropagation)?c.stopPropagation():zt(c)&&(c.cancelBubble=!0)},A.stopImmediatePropagation=function(){A.isImmediatePropagationStopped=Kn,A.stopPropagation()},A.isDefaultPrevented!==Kn&&A.isDefaultPrevented!==Pr&&(A.isDefaultPrevented=!0===A.defaultPrevented?Kn:Pr,A.isPropagationStopped=!0===A.cancelBubble?Kn:Pr,A.isImmediatePropagationStopped=Pr)),A}function kn(a,c,h,m){a.addEventListener?a.addEventListener(c,h,m||!1):a.attachEvent&&a.attachEvent("on"+c,h)}function gn(a,c,h,m){a.removeEventListener?a.removeEventListener(c,h,m||!1):a.detachEvent&&a.detachEvent("on"+c,h)}function qn(a,c){var h,m,b,M,A=rn(a.type,a,document,c);return rr(M=a)&&B1.test(M.type)&&Jr(a.pageX)&&!Jr(a.clientX)&&(m=(h=A.target.ownerDocument||document).documentElement,b=h.body,A.pageX=a.clientX+(m&&m.scrollLeft||b&&b.scrollLeft||0)-(m&&m.clientLeft||b&&b.clientLeft||0),A.pageY=a.clientY+(m&&m.scrollTop||b&&b.scrollTop||0)-(m&&m.clientTop||b&&b.clientTop||0)),Jr(A.metaKey)&&(A.metaKey=!1),A}var Sr=Aa(["h1","h2","h3","h4","h5","h6"]),fr=Aa(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Jn=Aa(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),lo=Aa(["ul","ol","dl"]),zr=Aa(["li","dd","dt"]),po=Aa(["thead","tbody","tfoot"]),qo=Aa(["td","th"]),to=Aa(["pre","script","textarea","style"]),Go="\ufeff",bo="\xa0",Hn=Go,Pi=function(a){return a===Go},Li=function(a){return a.replace(/\uFEFF/g,"")},no=lr,oa=Dn,Pa=function(a){return oa(a)&&a.data[0]===Hn},bi=function(a){return oa(a)&&a.data[a.data.length-1]===Hn},O1=na,Im=Dr,Pm=Po,tp=Dn,ia=Ya(["script","style","textarea"]),ag=Ya(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Bd=Ya(["table"]),zd=Ia,go=function(a){return!1===(lr(c=a)&&"true"===c.getAttribute("unselectable"))&&Im(a);var c},Ix=/^[ \t\r\n]*$/,hu=au("data-mce-bookmark"),Lm=au("data-mce-bogus"),Fi=function(a){return lr(a)&&"all"===a.getAttribute("data-mce-bogus")},sg=function(a,c,h){var m=h||c;if(lr(c)&&$(c))return c;for(var b,M,A,L,B,N,G,H,X,J,ne,te=c.childNodes,oe=te.length-1;0<=oe;oe--)sg(a,te[oe],m);return!lr(c)||1===(b=c.childNodes).length&&$(b[0])&&c.parentNode.insertBefore(b[0],c),Ns(A=c)||al(A)||U(c,m)||lr(M=c)&&0<M.childNodes.length||(B=m,Dn(L=c)&&0<L.data.length&&(H=new wi(N=L,G=B).prev(!1),X=new wi(N,G).next(!1),J=Jr(H)||q(H,G),ne=Jr(X)||q(X,G),J&&ne))||a.remove(c),c},Zf=kt.makeMap,Kf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$f=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zy=/[<>&\"\']/g,Jf=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,N1={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},ts={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Rm={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},lg=ee("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),sl={encodeRaw:he,encodeAllRaw:function(a){return(""+a).replace(zy,function(c){return ts[c]||c})},encodeNumeric:ye,encodeNamed:Se,getEncodeFunc:function(a,c){var h=ee(c)||lg,m=Zf(a.replace(/\+/g,","));return m.named&&m.numeric?function(b,M){return b.replace(M?Kf:$f,function(A){return void 0!==ts[A]?ts[A]:void 0!==h[A]?h[A]:1<A.length?"&#"+(1024*(A.charCodeAt(0)-55296)+(A.charCodeAt(1)-56320)+65536)+";":"&#"+A.charCodeAt(0)+";"})}:m.named?c?function(b,M){return Se(b,M,h)}:Se:m.numeric?ye:he},decode:function(a){return a.replace(Jf,function(c,h){return h?65535<(h="x"===h.charAt(0).toLowerCase()?parseInt(h.substr(1),16):parseInt(h,10))?(h-=65536,String.fromCharCode(55296+(h>>10),56320+(1023&h))):N1[h]||String.fromCharCode(h):Rm[c]||lg[c]||(m=c,(b=it.fromTag("div").dom).innerHTML=m,b.textContent||b.innerText||m);var m,b})}},Vd={},E1={},wl=kt.makeMap,ui=kt.each,ll=kt.extend,Qf=kt.explode,Om=kt.inArray,eh={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},B1=/^(?:mouse|contextmenu)|click/,Fd=(Gu.prototype.bind=function(a,c,h,m){function b(te){H.executeHandlers(qn(te||X.event),M)}var M,A,L,B,N,G,H=this,X=window;if(a&&3!==a.nodeType&&8!==a.nodeType){a[H.expando]?M=a[H.expando]:(M=H.count++,a[H.expando]=M,H.events[M]={}),m=m||a;for(var J=c.split(" "),ne=J.length;ne--;)N=b,B=G=!1,"DOMContentLoaded"===(L=J[ne])&&(L="ready"),H.domLoaded&&"ready"===L&&"complete"===a.readyState?h.call(m,qn({type:L})):(H.hasMouseEnterLeave||(B=H.mouseEnterLeave[L])&&(N=function(te){var oe=te.currentTarget,se=te.relatedTarget;if(se&&oe.contains)se=oe.contains(se);else for(;se&&se!==oe;)se=se.parentNode;se||((te=qn(te||X.event)).type="mouseout"===te.type?"mouseleave":"mouseenter",te.target=oe,H.executeHandlers(te,M))}),H.hasFocusIn||"focusin"!==L&&"focusout"!==L||(G=!0,B="focusin"===L?"focus":"blur",N=function(te){(te=qn(te||X.event)).type="focus"===te.type?"focusin":"focusout",H.executeHandlers(te,M)}),(A=H.events[M][L])?"ready"===L&&H.domLoaded?h(qn({type:L})):A.push({func:h,scope:m}):(H.events[M][L]=A=[{func:h,scope:m}],A.fakeName=B,A.capture=G,A.nativeHandler=N,"ready"===L?function(te,oe,se){var fe,pe=te.document,Ae={type:"ready"};se.domLoaded?oe(Ae):(fe=function(){gn(te,"DOMContentLoaded",fe),gn(te,"load",fe),se.domLoaded||(se.domLoaded=!0,oe(Ae)),te=null},"complete"===pe.readyState||"interactive"===pe.readyState&&pe.body?fe():kn(te,"DOMContentLoaded",fe),se.domLoaded||kn(te,"load",fe))}(a,N,H):kn(a,B||L,N,G)));return a=A=null,h}},Gu.prototype.unbind=function(a,c,h){var m,b,M;if(!a||3===a.nodeType||8===a.nodeType)return this;var A=a[this.expando];if(A){if(M=this.events[A],c){for(var L,B,N,G,H=c.split(" "),X=H.length;X--;)if(G=M[b=H[X]]){if(h)for(m=G.length;m--;)G[m].func===h&&(L=G.nativeHandler,B=G.fakeName,N=G.capture,(G=G.slice(0,m).concat(G.slice(m+1))).nativeHandler=L,G.fakeName=B,G.capture=N,M[b]=G);h&&0!==G.length||(delete M[b],gn(a,G.fakeName||b,G.nativeHandler,G.capture))}}else Nt(M,function(J,ne){gn(a,J.fakeName||ne,J.nativeHandler,J.capture)}),M={};for(b in M)if(Rr(M,b))return this;delete this.events[A];try{delete a[this.expando]}catch(J){a[this.expando]=null}}return this},Gu.prototype.fire=function(a,c,h){var m;if(!a||3===a.nodeType||8===a.nodeType)return this;for(var b=qn({type:c,target:a},h);(m=a[this.expando])&&this.executeHandlers(b,m),(a=a.parentNode||a.ownerDocument||a.defaultView||a.parentWindow)&&!b.isPropagationStopped(););return this},Gu.prototype.clean=function(a){var c,h;if(!a||3===a.nodeType||8===a.nodeType)return this;if(a[this.expando]&&this.unbind(a),(a=a.getElementsByTagName?a:a.document)&&a.getElementsByTagName)for(this.unbind(a),c=(h=a.getElementsByTagName("*")).length;c--;)(a=h[c])[this.expando]&&this.unbind(a);return this},Gu.prototype.destroy=function(){this.events={}},Gu.prototype.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1},Gu.prototype.executeHandlers=function(a,c){var h=this.events[c],m=h&&h[a.type];if(m)for(var b=0,M=m.length;b<M;b++){var A=m[b];if(A&&!1===A.func.call(A.scope,a)&&a.preventDefault(),a.isImmediatePropagationStopped())return}},Gu.Event=new Gu,Gu);function Gu(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function Vl(a,c,h){var m="0x"+c-65536;return m!=m||h?c:m<0?String.fromCharCode(65536+m):String.fromCharCode(m>>10|55296,1023&m|56320)}var ji,Lo,np,Nm,rp,ug,Em,cg,pu,th,Qc,Bs,vs,aa,ul,nh,rh,mi="sizzle"+-new Date,Sl=window.document,ys=0,dg=0,ed=nd(),Hd=nd(),fg=nd(),hg=function(a,c){return a===c&&(th=!0),0},Wd="undefined",Fl={}.hasOwnProperty,ha=[],oh=ha.pop,Gd=ha.push,gu=ha.push,Si=ha.slice,Ud=ha.indexOf||function(a){for(var c=0,h=this.length;c<h;c++)if(this[c]===a)return c;return-1},Ci="[\\x20\\t\\r\\n\\f]",jd="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",_c="\\["+Ci+"*("+jd+")(?:"+Ci+"*([*^$|!~]?=)"+Ci+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+jd+"))|)"+Ci+"*\\]",Bm=":("+jd+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+_c+")*)|.*)\\)|)",Hl=new RegExp("^"+Ci+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ci+"+$","g"),Sa=new RegExp("^"+Ci+"*,"+Ci+"*"),zm=new RegExp("^"+Ci+"*([>+~]|"+Ci+")"+Ci+"*"),Vy=new RegExp("="+Ci+"*([^\\]'\"]*?)"+Ci+"*\\]","g"),ih=new RegExp(Bm),Vm=new RegExp("^"+jd+"$"),op={ID:new RegExp("^#("+jd+")"),CLASS:new RegExp("^\\.("+jd+")"),TAG:new RegExp("^("+jd+"|[*])"),ATTR:new RegExp("^"+_c),PSEUDO:new RegExp("^"+Bm),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ci+"*(even|odd|(([+-]|)(\\d*)n|)"+Ci+"*(?:([+-]|)"+Ci+"*(\\d+)|))"+Ci+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Ci+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ci+"*((?:-\\d)?\\d*)"+Ci+"*\\)|)(?=[^-]|$)","i")},zs=/^(?:input|select|textarea|button)$/i,Vs=/^h\d$/i,Uu=/^[^{]+\{\s*\[native \w/,td=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ju=/[+~]/,ip=/'|\\/g,Cl=new RegExp("\\\\([\\da-f]{1,6}"+Ci+"?|("+Ci+")|.)","ig");try{gu.apply(ha=Si.call(Sl.childNodes),Sl.childNodes)}catch(a){gu={apply:ha.length?function(c,h){Gd.apply(c,Si.call(h))}:function(c,h){for(var m=c.length,b=0;c[m++]=h[b++];);c.length=m-1}}}var xo=function(a,c,h,m){var b,M,A,L,B,N,G,H,X,J;if((c?c.ownerDocument||c:Sl)!==Bs&&Qc(c),h=h||[],!a||"string"!=typeof a)return h;if(1!==(L=(c=c||Bs).nodeType)&&9!==L)return[];if(aa&&!m){if(b=td.exec(a))if(A=b[1]){if(9===L){if(!(M=c.getElementById(A))||!M.parentNode)return h;if(M.id===A)return h.push(M),h}else if(c.ownerDocument&&(M=c.ownerDocument.getElementById(A))&&rh(c,M)&&M.id===A)return h.push(M),h}else{if(b[2])return gu.apply(h,c.getElementsByTagName(a)),h;if((A=b[3])&&ji.getElementsByClassName)return gu.apply(h,c.getElementsByClassName(A)),h}if(ji.qsa&&(!ul||!ul.test(a))){if(H=G=mi,X=c,J=9===L&&a,1===L&&"object"!==c.nodeName.toLowerCase()){for(N=rp(a),(G=c.getAttribute("id"))?H=G.replace(ip,"\\$&"):c.setAttribute("id",H),H="[id='"+H+"'] ",B=N.length;B--;)N[B]=H+pg(N[B]);X=ju.test(a)&&Hm(c.parentNode)||c,J=N.join(",")}if(J)try{return gu.apply(h,X.querySelectorAll(J)),h}catch(ne){}finally{G||c.removeAttribute("id")}}}return Em(a.replace(Hl,"$1"),c,h,m)};function nd(){var a=[];return function c(h,m){return a.push(h+" ")>Lo.cacheLength&&delete c[a.shift()],c[h+" "]=m}}function Wl(a){return a[mi]=!0,a}function Fm(a,c){var h=c&&a,m=h&&1===a.nodeType&&1===c.nodeType&&(~c.sourceIndex||1<<31)-(~a.sourceIndex||1<<31);if(m)return m;if(h)for(;h=h.nextSibling;)if(h===c)return-1;return a?1:-1}function rd(a){return Wl(function(c){return c=+c,Wl(function(h,m){for(var b,M=a([],h.length,c),A=M.length;A--;)h[b=M[A]]&&(h[b]=!(m[b]=h[b]))})})}function Hm(a){return a&&typeof a.getElementsByTagName!=Wd&&a}function Fy(){}function pg(a){for(var c=0,h=a.length,m="";c<h;c++)m+=a[c].value;return m}function Ro(a,c,h){var m=c.dir,b=h&&"parentNode"===m,M=dg++;return c.first?function(A,L,B){for(;A=A[m];)if(1===A.nodeType||b)return a(A,L,B)}:function(A,L,B){var N,G,H=[ys,M];if(B){for(;A=A[m];)if((1===A.nodeType||b)&&a(A,L,B))return!0}else for(;A=A[m];)if(1===A.nodeType||b){if((N=(G=A[mi]||(A[mi]={}))[m])&&N[0]===ys&&N[1]===M)return H[2]=N[2];if((G[m]=H)[2]=a(A,L,B))return!0}}}function wc(a){return 1<a.length?function(c,h,m){for(var b=a.length;b--;)if(!a[b](c,h,m))return!1;return!0}:a[0]}function Sc(a,c,h,m,b){for(var M,A=[],L=0,B=a.length,N=null!=c;L<B;L++)(M=a[L])&&(h&&!h(M,m,b)||(A.push(M),N&&c.push(L)));return A}function ns(a){return void 0!==a}function Yu(a){return"string"==typeof a}function Xu(a,c){var h,m=(c=c||qu).createElement("div"),b=c.createDocumentFragment();for(m.innerHTML=a;h=m.firstChild;)b.appendChild(h);return b}function Ml(a,c){return a&&c&&-1!==(" "+a.className+" ").indexOf(" "+c+" ")}function ah(a,c,h){var m,b;return c=Cr(c)[0],a.each(function(){h&&m===this.parentNode||(m=this.parentNode,b=c.cloneNode(!1),this.parentNode.insertBefore(b,this)),b.appendChild(this)}),a}function La(a,c){return new Cr.fn.init(a,c)}function Cc(a){return null==a?"":(""+a).replace(Gl,"")}function Fs(a,c){var h,m,b,M;if(a)if(void 0===(h=a.length)){for(m in a)if(a.hasOwnProperty(m)&&!1===c.call(M=a[m],m,M))break}else for(b=0;b<h&&!1!==c.call(M=a[b],b,M);b++);return a}function ap(a,c){var h=[];return Fs(a,function(m,b){c(b,m)&&h.push(b)}),h}ji=xo.support={},Nm=xo.isXML=function(a){var c=a&&(a.ownerDocument||a).documentElement;return!!c&&"HTML"!==c.nodeName},Qc=xo.setDocument=function(a){var c,h=a?a.ownerDocument||a:Sl,m=h.defaultView;return h!==Bs&&9===h.nodeType&&h.documentElement?(vs=(Bs=h).documentElement,aa=!Nm(h),m&&m!==function(b){try{return b.top}catch(M){}return null}(m)&&(m.addEventListener?m.addEventListener("unload",function(){Qc()},!1):m.attachEvent&&m.attachEvent("onunload",function(){Qc()})),ji.attributes=!0,ji.getElementsByTagName=!0,ji.getElementsByClassName=Uu.test(h.getElementsByClassName),ji.getById=!0,Lo.find.ID=function(b,M){if(typeof M.getElementById!=Wd&&aa){var A=M.getElementById(b);return A&&A.parentNode?[A]:[]}},Lo.filter.ID=function(b){var M=b.replace(Cl,Vl);return function(A){return A.getAttribute("id")===M}},Lo.find.TAG=ji.getElementsByTagName?function(b,M){if(typeof M.getElementsByTagName!=Wd)return M.getElementsByTagName(b)}:function(b,M){var A,L=[],B=0,N=M.getElementsByTagName(b);if("*"!==b)return N;for(;A=N[B++];)1===A.nodeType&&L.push(A);return L},Lo.find.CLASS=ji.getElementsByClassName&&function(b,M){if(aa)return M.getElementsByClassName(b)},nh=[],ul=[],ji.disconnectedMatch=!0,ul=ul.length&&new RegExp(ul.join("|")),nh=nh.length&&new RegExp(nh.join("|")),c=Uu.test(vs.compareDocumentPosition),rh=c||Uu.test(vs.contains)?function(b,M){var A=9===b.nodeType?b.documentElement:b,L=M&&M.parentNode;return b===L||!(!L||1!==L.nodeType||!(A.contains?A.contains(L):b.compareDocumentPosition&&16&b.compareDocumentPosition(L)))}:function(b,M){if(M)for(;M=M.parentNode;)if(M===b)return!0;return!1},hg=c?function(b,M){return b===M?(th=!0,0):(A=!b.compareDocumentPosition-!M.compareDocumentPosition)||(1&(A=(b.ownerDocument||b)===(M.ownerDocument||M)?b.compareDocumentPosition(M):1)||!ji.sortDetached&&M.compareDocumentPosition(b)===A?b===h||b.ownerDocument===Sl&&rh(Sl,b)?-1:M===h||M.ownerDocument===Sl&&rh(Sl,M)?1:pu?Ud.call(pu,b)-Ud.call(pu,M):0:4&A?-1:1);var A}:function(b,M){if(b===M)return th=!0,0;var A,L=0,B=b.parentNode,N=M.parentNode,G=[b],H=[M];if(!B||!N)return b===h?-1:M===h?1:B?-1:N?1:pu?Ud.call(pu,b)-Ud.call(pu,M):0;if(B===N)return Fm(b,M);for(A=b;A=A.parentNode;)G.unshift(A);for(A=M;A=A.parentNode;)H.unshift(A);for(;G[L]===H[L];)L++;return L?Fm(G[L],H[L]):G[L]===Sl?-1:H[L]===Sl?1:0},h):Bs},xo.matches=function(a,c){return xo(a,null,null,c)},xo.matchesSelector=function(a,c){if((a.ownerDocument||a)!==Bs&&Qc(a),c=c.replace(Vy,"='$1']"),ji.matchesSelector&&aa&&(!nh||!nh.test(c))&&(!ul||!ul.test(c)))try{var h=(void 0).call(a,c);if(h||ji.disconnectedMatch||a.document&&11!==a.document.nodeType)return h}catch(m){}return 0<xo(c,Bs,null,[a]).length},xo.contains=function(a,c){return(a.ownerDocument||a)!==Bs&&Qc(a),rh(a,c)},xo.attr=function(a,c){(a.ownerDocument||a)!==Bs&&Qc(a);var h=Lo.attrHandle[c.toLowerCase()],m=h&&Fl.call(Lo.attrHandle,c.toLowerCase())?h(a,c,!aa):void 0;return void 0!==m?m:ji.attributes||!aa?a.getAttribute(c):(m=a.getAttributeNode(c))&&m.specified?m.value:null},xo.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},xo.uniqueSort=function(a){var c,h=[],m=0,b=0;if(th=!ji.detectDuplicates,pu=!ji.sortStable&&a.slice(0),a.sort(hg),th){for(;c=a[b++];)c===a[b]&&(m=h.push(b));for(;m--;)a.splice(h[m],1)}return pu=null,a},np=xo.getText=function(a){var c,h="",m=0,b=a.nodeType;if(b){if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)h+=np(a)}else if(3===b||4===b)return a.nodeValue}else for(;c=a[m++];)h+=np(c);return h},(Lo=xo.selectors={cacheLength:50,createPseudo:Wl,match:op,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(Cl,Vl),a[3]=(a[3]||a[4]||a[5]||"").replace(Cl,Vl),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||xo.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&xo.error(a[0]),a},PSEUDO:function(a){var c,h=!a[6]&&a[2];return op.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":h&&ih.test(h)&&(c=rp(h,!0))&&(c=h.indexOf(")",h.length-c)-h.length)&&(a[0]=a[0].slice(0,c),a[2]=h.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var c=a.replace(Cl,Vl).toLowerCase();return"*"===a?function(){return!0}:function(h){return h.nodeName&&h.nodeName.toLowerCase()===c}},CLASS:function(a){var c=ed[a+" "];return c||(c=new RegExp("(^|"+Ci+")"+a+"("+Ci+"|$)"))&&ed(a,function(h){return c.test("string"==typeof h.className&&h.className||typeof h.getAttribute!=Wd&&h.getAttribute("class")||"")})},ATTR:function(a,c,h){return function(m){var b=xo.attr(m,a);return null==b?"!="===c:!c||(b+="","="===c?b===h:"!="===c?b!==h:"^="===c?h&&0===b.indexOf(h):"*="===c?h&&-1<b.indexOf(h):"$="===c?h&&b.slice(-h.length)===h:"~="===c?-1<(" "+b+" ").indexOf(h):"|="===c&&(b===h||b.slice(0,h.length+1)===h+"-"))}},CHILD:function(a,c,h,m,b){var M="nth"!==a.slice(0,3),A="last"!==a.slice(-4),L="of-type"===c;return 1===m&&0===b?function(B){return!!B.parentNode}:function(B,N,G){var H,X,J,ne,te,oe,se=M!=A?"nextSibling":"previousSibling",fe=B.parentNode,pe=L&&B.nodeName.toLowerCase(),Ae=!G&&!L;if(fe){if(M){for(;se;){for(J=B;J=J[se];)if(L?J.nodeName.toLowerCase()===pe:1===J.nodeType)return!1;oe=se="only"===a&&!oe&&"nextSibling"}return!0}if(oe=[A?fe.firstChild:fe.lastChild],A&&Ae){for(te=(H=(X=fe[mi]||(fe[mi]={}))[a]||[])[0]===ys&&H[1],ne=H[0]===ys&&H[2],J=te&&fe.childNodes[te];J=++te&&J&&J[se]||(ne=te=0)||oe.pop();)if(1===J.nodeType&&++ne&&J===B){X[a]=[ys,te,ne];break}}else if(Ae&&(H=(B[mi]||(B[mi]={}))[a])&&H[0]===ys)ne=H[1];else for(;(J=++te&&J&&J[se]||(ne=te=0)||oe.pop())&&((L?J.nodeName.toLowerCase()!==pe:1!==J.nodeType)||!++ne||(Ae&&((J[mi]||(J[mi]={}))[a]=[ys,ne]),J!==B)););return(ne-=b)===m||ne%m==0&&0<=ne/m}}},PSEUDO:function(a,c){var h,m=Lo.pseudos[a]||Lo.setFilters[a.toLowerCase()]||xo.error("unsupported pseudo: "+a);return m[mi]?m(c):1<m.length?(h=[a,a,"",c],Lo.setFilters.hasOwnProperty(a.toLowerCase())?Wl(function(b,M){for(var A,L=m(b,c),B=L.length;B--;)b[A=Ud.call(b,L[B])]=!(M[A]=L[B])}):function(b){return m(b,0,h)}):m}},pseudos:{not:Wl(function(a){var c=[],h=[],m=ug(a.replace(Hl,"$1"));return m[mi]?Wl(function(b,M,A,L){for(var B,N=m(b,null,L,[]),G=b.length;G--;)(B=N[G])&&(b[G]=!(M[G]=B))}):function(b,M,A){return c[0]=b,m(c,null,A,h),c[0]=null,!h.pop()}}),has:Wl(function(a){return function(c){return 0<xo(a,c).length}}),contains:Wl(function(a){return a=a.replace(Cl,Vl),function(c){return-1<(c.textContent||c.innerText||np(c)).indexOf(a)}}),lang:Wl(function(a){return Vm.test(a||"")||xo.error("unsupported lang: "+a),a=a.replace(Cl,Vl).toLowerCase(),function(c){var h;do{if(h=aa?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return(h=h.toLowerCase())===a||0===h.indexOf(a+"-")}while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(a){var c=window.location&&window.location.hash;return c&&c.slice(1)===a.id},root:function(a){return a===vs},focus:function(a){return a===Bs.activeElement&&(!Bs.hasFocus||Bs.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&!!a.checked||"option"===c&&!!a.selected},selected:function(a){return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!Lo.pseudos.empty(a)},header:function(a){return Vs.test(a.nodeName)},input:function(a){return zs.test(a.nodeName)},button:function(a){var c=a.nodeName.toLowerCase();return"input"===c&&"button"===a.type||"button"===c},text:function(a){var c;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(c=a.getAttribute("type"))||"text"===c.toLowerCase())},first:rd(function(){return[0]}),last:rd(function(a,c){return[c-1]}),eq:rd(function(a,c,h){return[h<0?h+c:h]}),even:rd(function(a,c){for(var h=0;h<c;h+=2)a.push(h);return a}),odd:rd(function(a,c){for(var h=1;h<c;h+=2)a.push(h);return a}),lt:rd(function(a,c,h){for(var m=h<0?h+c:h;0<=--m;)a.push(m);return a}),gt:rd(function(a,c,h){for(var m=h<0?h+c:h;++m<c;)a.push(m);return a})}}).pseudos.nth=Lo.pseudos.eq,It(["radio","checkbox","file","password","image"],function(a){var c;Lo.pseudos[a]=(c=a,function(h){return"input"===h.nodeName.toLowerCase()&&h.type===c})}),It(["submit","reset"],function(a){var c;Lo.pseudos[a]=(c=a,function(h){var m=h.nodeName.toLowerCase();return("input"===m||"button"===m)&&h.type===c})}),Fy.prototype=Lo.filters=Lo.pseudos,Lo.setFilters=new Fy,rp=xo.tokenize=function(a,c){var h,m,b,M,A,L,B,N=Hd[a+" "];if(N)return c?0:N.slice(0);for(A=a,L=[],B=Lo.preFilter;A;){for(M in h&&!(m=Sa.exec(A))||(m&&(A=A.slice(m[0].length)||A),L.push(b=[])),h=!1,(m=zm.exec(A))&&(h=m.shift(),b.push({value:h,type:m[0].replace(Hl," ")}),A=A.slice(h.length)),Lo.filter)Lo.filter.hasOwnProperty(M)&&(!(m=op[M].exec(A))||B[M]&&!(m=B[M](m))||(h=m.shift(),b.push({value:h,type:M,matches:m}),A=A.slice(h.length)));if(!h)break}return c?A.length:A?xo.error(a):Hd(a,L).slice(0)},ug=xo.compile=function(a,c){var h,m,b,M,A,L=[],B=[],N=fg[a+" "];if(!N){for(h=(c=c||rp(a)).length;h--;)((N=function H(X){for(var J,ne,te,oe=X.length,se=Lo.relative[X[0].type],fe=se||Lo.relative[" "],pe=se?1:0,Ae=Ro(function(we){return we===J},fe,!0),ze=Ro(function(we){return-1<Ud.call(J,we)},fe,!0),me=[function(we,Ie,Ke){var lt=!se&&(Ke||Ie!==cg)||((J=Ie).nodeType?Ae:ze)(we,Ie,Ke);return J=null,lt}];pe<oe;pe++)if(ne=Lo.relative[X[pe].type])me=[Ro(wc(me),ne)];else{if((ne=Lo.filter[X[pe].type].apply(null,X[pe].matches))[mi]){for(te=++pe;te<oe&&!Lo.relative[X[te].type];te++);return function we(Ie,Ke,lt,pt,Ge,$e){return pt&&!pt[mi]&&(pt=we(pt)),Ge&&!Ge[mi]&&(Ge=we(Ge,$e)),Wl(function(qe,et,bt,Yt){var an,wt,St,mn=[],Sn=[],qt=et.length,Nn=qe||function(Zt,Cn,Ln){for(var co=0,ke=Cn.length;co<ke;co++)xo(Zt,Cn[co],Ln);return Ln}(Ke||"*",bt.nodeType?[bt]:bt,[]),Rt=!Ie||!qe&&Ke?Nn:Sc(Nn,mn,Ie,bt,Yt),pn=lt?Ge||(qe?Ie:qt||pt)?[]:et:Rt;if(lt&&lt(Rt,pn,bt,Yt),pt)for(an=Sc(pn,Sn),pt(an,[],bt,Yt),wt=an.length;wt--;)(St=an[wt])&&(pn[Sn[wt]]=!(Rt[Sn[wt]]=St));if(qe){if(Ge||Ie){if(Ge){for(an=[],wt=pn.length;wt--;)(St=pn[wt])&&an.push(Rt[wt]=St);Ge(null,pn=[],an,Yt)}for(wt=pn.length;wt--;)(St=pn[wt])&&-1<(an=Ge?Ud.call(qe,St):mn[wt])&&(qe[an]=!(et[an]=St))}}else pn=Sc(pn===et?pn.splice(qt,pn.length):pn),Ge?Ge(null,et,pn,Yt):gu.apply(et,pn)})}(1<pe&&wc(me),1<pe&&pg(X.slice(0,pe-1).concat({value:" "===X[pe-2].type?"*":""})).replace(Hl,"$1"),ne,pe<te&&H(X.slice(pe,te)),te<oe&&H(X=X.slice(te)),te<oe&&pg(X))}me.push(ne)}return wc(me)}(c[h]))[mi]?L:B).push(N);(N=fg(a,(m=B,M=0<(b=L).length,A=0<m.length,M?Wl(G):G))).selector=a}function G(H,X,J,ne,te){var oe,se,fe,pe=0,Ae="0",ze=H&&[],me=[],we=cg,Ie=H||A&&Lo.find.TAG("*",te),Ke=ys+=null==we?1:Math.random()||.1,lt=Ie.length;for(te&&(cg=X!==Bs&&X);Ae!==lt&&null!=(oe=Ie[Ae]);Ae++){if(A&&oe){for(se=0;fe=m[se++];)if(fe(oe,X,J)){ne.push(oe);break}te&&(ys=Ke)}M&&((oe=!fe&&oe)&&pe--,H&&ze.push(oe))}if(pe+=Ae,M&&Ae!==pe){for(se=0;fe=b[se++];)fe(ze,me,X,J);if(H){if(0<pe)for(;Ae--;)ze[Ae]||me[Ae]||(me[Ae]=oh.call(ne));me=Sc(me)}gu.apply(ne,me),te&&!H&&0<me.length&&1<pe+b.length&&xo.uniqueSort(ne)}return te&&(ys=Ke,cg=we),ze}return N},Em=xo.select=function(a,c,h,m){var b,M,A,L,B,N="function"==typeof a&&a,G=!m&&rp(a=N.selector||a);if(h=h||[],1===G.length){if(2<(M=G[0]=G[0].slice(0)).length&&"ID"===(A=M[0]).type&&ji.getById&&9===c.nodeType&&aa&&Lo.relative[M[1].type]){if(!(c=(Lo.find.ID(A.matches[0].replace(Cl,Vl),c)||[])[0]))return h;N&&(c=c.parentNode),a=a.slice(M.shift().value.length)}for(b=op.needsContext.test(a)?0:M.length;b--&&!Lo.relative[L=(A=M[b]).type];)if((B=Lo.find[L])&&(m=B(A.matches[0].replace(Cl,Vl),ju.test(M[0].type)&&Hm(c.parentNode)||c))){if(M.splice(b,1),!(a=m.length&&pg(M)))return gu.apply(h,m),h;break}}return(N||ug(a,G))(m,c,!aa,h,ju.test(a)&&Hm(c.parentNode)||c),h},ji.sortStable=mi.split("").sort(hg).join("")===mi,ji.detectDuplicates=!!th,Qc(),ji.sortDetached=!0;var qu=document,od=Array.prototype.push,id=Array.prototype.slice,Hy=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Mc=Fd.Event,Wy=kt.makeMap("children,contents,next,prev"),Zu=function(a,c,h,m){var b;if(Yu(c))c=Xu(c,Wm(a[0]));else if(c.length&&!c.nodeType){if(c=Cr.makeArray(c),m)for(b=c.length-1;0<=b;b--)Zu(a,c[b],h,m);else for(b=0;b<c.length;b++)Zu(a,c[b],h,m);return a}if(c.nodeType)for(b=a.length;b--;)h.call(a[b],c);return a},mu=kt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Tc=kt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Gy={for:"htmlFor",class:"className",readonly:"readOnly"},pa={float:"cssFloat"},sp={},Ra={},Gl=/^\s*|\s*$/g,Wm=function(a){return a?9===a.nodeType?a:a.ownerDocument:qu};function Ku(a,c,h){var m=[],b=a[c];for("string"!=typeof h&&h instanceof Cr&&(h=h[0]);b&&9!==b.nodeType&&(void 0===h||!(b===h||"string"==typeof h&&Cr(b).is(h)));)1===b.nodeType&&m.push(b),b=b[c];return m}function $u(a,c,h,m){var b=[];for(m instanceof Cr&&(m=m[0]);a;a=a[c])if(!h||a.nodeType===h){if(void 0!==m&&(a===m||"string"==typeof m&&Cr(a).is(m)))break;b.push(a)}return b}function ad(a,c,h){for(a=a[c];a;a=a[c])if(a.nodeType===h)return a;return null}function Hs(a,c){var h=c.attr("style"),m=a.serialize(a.parse(h),c[0].nodeName)||null;c.attr("data-mce-style",m)}function rs(a,c){var h,m,b=0;if(a)for(h=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)m=a.nodeType,(!c||3!==m||m!==h&&a.nodeValue.length)&&(b++,h=m);return b}La.fn=La.prototype={constructor:La,selector:"",context:null,length:0,init:function(a,c){var h,m,b=this;if(!a)return b;if(a.nodeType)return b.context=b[0]=a,b.length=1,b;if(c&&c.nodeType)b.context=c;else{if(c)return Cr(a).attr(c);b.context=c=document}if(Yu(a)){if(!(h="<"===(b.selector=a).charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Hy.exec(a)))return Cr(c).find(a);if(h[1])for(m=Xu(a,Wm(c)).firstChild;m;)od.call(b,m),m=m.nextSibling;else{if(!(m=Wm(c).getElementById(h[2])))return b;if(m.id!==h[2])return b.find(a);b.length=1,b[0]=m}}else this.add(a,!1);return b},toArray:function(){return kt.toArray(this)},add:function(a,c){var h,m;if(Yu(a))return this.add(Cr(a));if(!1!==c)for(h=Cr.unique(this.toArray().concat(Cr.makeArray(a))),this.length=h.length,m=0;m<h.length;m++)this[m]=h[m];else od.apply(this,Cr.makeArray(a));return this},attr:function(a,c){var h,m=this;if("object"==typeof a)Fs(a,function(b,M){m.attr(b,M)});else{if(!ns(c)){if(m[0]&&1===m[0].nodeType){if((h=sp[a])&&h.get)return h.get(m[0],a);if(Tc[a])return m.prop(a)?a:void 0;null===(c=m[0].getAttribute(a,2))&&(c=void 0)}return c}this.each(function(){var b;1===this.nodeType&&((b=sp[a])&&b.set?b.set(this,c):null===c?this.removeAttribute(a,2):this.setAttribute(a,c,2))})}return m},removeAttr:function(a){return this.attr(a,null)},prop:function(a,c){var h=this;if("object"==typeof(a=Gy[a]||a))Fs(a,function(m,b){h.prop(m,b)});else{if(!ns(c))return h[0]&&h[0].nodeType&&a in h[0]?h[0][a]:c;this.each(function(){1===this.nodeType&&(this[a]=c)})}return h},css:function(a,c){function h(L){return L.replace(/-(\D)/g,function(B,N){return N.toUpperCase()})}function m(L){return L.replace(/[A-Z]/g,function(B){return"-"+B})}var b,M,A=this;if("object"==typeof a)Fs(a,function(L,B){A.css(L,B)});else if(ns(c))a=h(a),"number"!=typeof c||mu[a]||(c=c.toString()+"px"),A.each(function(){var L=this.style;if((M=Ra[a])&&M.set)M.set(this,c);else{try{this.style[pa[a]||a]=c}catch(B){}null!==c&&""!==c||(L.removeProperty?L.removeProperty(m(a)):L.removeAttribute(a))}});else{if(b=A[0],(M=Ra[a])&&M.get)return M.get(b);if(!b.ownerDocument.defaultView)return b.currentStyle?b.currentStyle[h(a)]:"";try{return b.ownerDocument.defaultView.getComputedStyle(b,null).getPropertyValue(m(a))}catch(L){return}}return A},remove:function(){for(var a,c=this.length;c--;)Mc.clean(a=this[c]),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,c=this.length;c--;)for(a=this[c];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){var c;if(ns(a)){c=this.length;try{for(;c--;)this[c].innerHTML=a}catch(h){Cr(this[c]).empty().append(a)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var c;if(ns(a)){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=a:this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return Zu(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return Zu(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?Zu(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?Zu(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(a){return Cr(a).append(this),this},prependTo:function(a){return Cr(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return ah(this,a)},wrapAll:function(a){return ah(this,a,!0)},wrapInner:function(a){return this.each(function(){Cr(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){Cr(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),Cr(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,c){var h=this;return"string"!=typeof a||(-1!==a.indexOf(" ")?Fs(a.split(" "),function(){h.toggleClass(this,c)}):h.each(function(m,b){var M,A=Ml(b,a);A!==c&&(M=b.className,A?b.className=Cc((" "+M+" ").replace(" "+a+" "," ")):b.className+=M?" "+a:a)})),h},hasClass:function(a){return Ml(this[0],a)},each:function(a){return Fs(this,a)},on:function(a,c){return this.each(function(){Mc.bind(this,a,c)})},off:function(a,c){return this.each(function(){Mc.unbind(this,a,c)})},trigger:function(a){return this.each(function(){"object"==typeof a?Mc.fire(this,a.type,a):Mc.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Cr(id.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(a){for(var c=[],h=0,m=this.length;h<m;h++)Cr.find(a,this[h],c);return Cr(c)},filter:function(a){return Cr("function"==typeof a?ap(this.toArray(),function(c,h){return a(h,c)}):Cr.filter(a,this.toArray()))},closest:function(a){var c=[];return a instanceof Cr&&(a=a[0]),this.each(function(h,m){for(;m;){if("string"==typeof a&&Cr(m).is(a)){c.push(m);break}if(m===a){c.push(m);break}m=m.parentNode}}),Cr(c)},offset:function(a){var c,h,m,b,M=0,A=0;return a?this.css(a):((c=this[0])&&(m=(h=c.ownerDocument).documentElement,c.getBoundingClientRect&&(M=(b=c.getBoundingClientRect()).left+(m.scrollLeft||h.body.scrollLeft)-m.clientLeft,A=b.top+(m.scrollTop||h.body.scrollTop)-m.clientTop)),{left:M,top:A})},push:od,sort:Array.prototype.sort,splice:Array.prototype.splice},kt.extend(La,{extend:kt.extend,makeArray:function(a){return a&&a===a.window||a.nodeType?[a]:kt.toArray(a)},inArray:function(a,c){var h;if(c.indexOf)return c.indexOf(a);for(h=c.length;h--;)if(c[h]===a)return h;return-1},isArray:kt.isArray,each:Fs,trim:Cc,grep:ap,find:xo,expr:xo.selectors,unique:xo.uniqueSort,text:xo.getText,contains:xo.contains,filter:function(a,c,h){var m=c.length;for(h&&(a=":not("+a+")");m--;)1!==c[m].nodeType&&c.splice(m,1);return 1===c.length?Cr.find.matchesSelector(c[0],a)?[c[0]]:[]:Cr.find.matches(a,c)}}),Fs({parent:function(a){var c=a.parentNode;return c&&11!==c.nodeType?c:null},parents:function(a){return Ku(a,"parentNode")},next:function(a){return ad(a,"nextSibling",1)},prev:function(a){return ad(a,"previousSibling",1)},children:function(a){return $u(a.firstChild,"nextSibling",1)},contents:function(a){return kt.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,c){La.fn[a]=function(h){var m=[];this.each(function(){var M=c.call(m,this,h,m);M&&(Cr.isArray(M)?m.push.apply(m,M):m.push(M))}),1<this.length&&(Wy[a]||(m=Cr.unique(m)),0===a.indexOf("parents")&&(m=m.reverse()));var b=Cr(m);return h?b.filter(h):b}}),Fs({parentsUntil:function(a,c){return Ku(a,"parentNode",c)},nextUntil:function(a,c){return $u(a,"nextSibling",1,c).slice(1)},prevUntil:function(a,c){return $u(a,"previousSibling",1,c).slice(1)}},function(a,c){La.fn[a]=function(h,m){var b=[];this.each(function(){var A=c.call(b,this,h,b);A&&(Cr.isArray(A)?b.push.apply(b,A):b.push(A))}),1<this.length&&(b=Cr.unique(b),0!==a.indexOf("parents")&&"prevUntil"!==a||(b=b.reverse()));var M=Cr(b);return m?M.filter(m):M}}),La.fn.is=function(a){return!!a&&0<this.filter(a).length},La.fn.init.prototype=La.fn,La.overrideDefaults=function(a){var c,h=function(m,b){return c=c||a(),0===arguments.length&&(m=c.element),new h.fn.init(m,b=b||c.context)};return Cr.extend(h,this),h},La.attrHooks=sp,La.cssHooks=Ra;var Cr=La,sh=kt.each,Px=kt.grep,Gm=sr.ie,lp=/^([a-z0-9],?)+$/i,Uo=function(a,c){function h(ke){return ke&&a&&Ir(ke)?a.getElementById(ke):ke}function m(ke){return Rt("string"==typeof ke?h(ke):ke)}function b(ke,Ye,Mt){var Ot,Lt,ln=m(ke);return void 0===(Lt=ln.length?(Ot=co[Ye])&&Ot.get?Ot.get(ln,Ye):ln.attr(Ye):Lt)?Mt||"":Lt}function M(ke){var Ye=h(ke);return Ye?Ye.attributes:[]}function A(ke,Ye,Mt){""===Mt&&(Mt=null);var Ot,Lt=m(ke),ln=Lt.attr(Ye);Lt.length&&((Ot=co[Ye])&&Ot.set?Ot.set(Lt,Mt,Ye):Lt.attr(Ye,Mt),ln!==Mt&&c.onSetAttrib&&c.onSetAttrib({attrElm:Lt,attrName:Ye,attrValue:Mt}))}function L(){return c.root_element||a.body}function B(ke,Ye){return function(Mt,Ot,Lt){var ln,jn=0,gr=0,Mo=Mt.ownerDocument;if(Lt=Lt||Mt,Ot){if(Lt===Mt&&Ot.getBoundingClientRect&&"static"===Os(it.fromDom(Mt),"position")){var mo=Ot.getBoundingClientRect();return{x:jn=mo.left+(Mo.documentElement.scrollLeft||Mt.scrollLeft)-Mo.documentElement.clientLeft,y:gr=mo.top+(Mo.documentElement.scrollTop||Mt.scrollTop)-Mo.documentElement.clientTop}}for(var Zn=Ot;Zn&&Zn!==Lt&&Zn.nodeType&&!gs(Zn,Lt);)jn+=Zn.offsetLeft||0,gr+=Zn.offsetTop||0,Zn=Zn.offsetParent;for(Zn=Ot.parentNode;Zn&&Zn!==Lt&&Zn.nodeType&&!gs(Zn,Lt);)jn-=Zn.scrollLeft||0,gr-=Zn.scrollTop||0,Zn=Zn.parentNode;gr+=(ln=it.fromDom(Ot),Ou.isFirefox()&&"table"===No(ln)?Yf(Di(ln)).filter(function(Vo){return"caption"===No(Vo)}).bind(function(Vo){return Yf(As(Vo)).map(function(Ha){return Ha.dom.offsetTop<=Vo.dom.offsetTop?-Vo.dom.offsetHeight:0})}).getOr(0):0)}return{x:jn,y:gr}}(a.body,h(ke),Ye)}function N(ke,Ye,Mt){var Ot=m(ke);return Mt?Ot.css(Ye):("float"===(Ye=Ye.replace(/-(\D)/g,function(Lt,ln){return ln.toUpperCase()}))&&(Ye=sr.browser.isIE()?"styleFloat":"cssFloat"),Ot[0]&&Ot[0].style?Ot[0].style[Ye]:void 0)}function G(ke){var Ye=N(ke=h(ke),"width"),Mt=N(ke,"height");return-1===Ye.indexOf("px")&&(Ye=0),-1===Mt.indexOf("px")&&(Mt=0),{w:parseInt(Ye,10)||ke.offsetWidth||ke.clientWidth,h:parseInt(Mt,10)||ke.offsetHeight||ke.clientHeight}}function H(ke,Ye){if(!ke)return!1;if(!Array.isArray(ke)){if("*"===Ye)return 1===ke.nodeType;if(lp.test(Ye)){for(var Mt=Ye.toLowerCase().split(/,/),Ot=ke.nodeName.toLowerCase(),Lt=Mt.length-1;0<=Lt;Lt--)if(Mt[Lt]===Ot)return!0;return!1}if(ke.nodeType&&1!==ke.nodeType)return!1}var ln=Array.isArray(ke)?ke:[ke];return 0<xo(Ye,ln[0].ownerDocument||ln[0],null,ln).length}function X(ke,Ye,Mt,Ot){var Lt,ln=[],jn=h(ke);for(Ot=void 0===Ot,Mt=Mt||("BODY"!==L().nodeName?L().parentNode:null),kt.is(Ye,"string")&&(Ye="*"===(Lt=Ye)?function(gr){return 1===gr.nodeType}:function(gr){return H(gr,Lt)});jn&&!(jn===Mt||Tt(jn.nodeType)||al(jn)||Ns(jn));){if(!Ye||"function"==typeof Ye&&Ye(jn)){if(!Ot)return[jn];ln.push(jn)}jn=jn.parentNode}return Ot?ln:null}function J(ke,Ye,Mt){var Ot=Ye;if(ke)for("string"==typeof Ye&&(Ot=function(Lt){return H(Lt,Ye)}),ke=ke[Mt];ke;ke=ke[Mt])if("function"==typeof Ot&&Ot(ke))return ke;return null}function ne(ke,Ye,Mt){var Ot,Lt="string"==typeof ke?h(ke):ke;return!!Lt&&(kt.isArray(Lt)&&(Lt.length||0===Lt.length)?(Ot=[],sh(Lt,function(ln,jn){ln&&Ot.push(Ye.call(Mt,"string"==typeof ln?h(ln):ln,jn))}),Ot):Ye.call(Mt||this,Lt))}function te(ke,Ye){m(ke).each(function(Mt,Ot){sh(Ye,function(Lt,ln){A(Ot,ln,Lt)})})}function oe(ke,Ye){var Mt=m(ke);Gm?Mt.each(function(Ot,Lt){if(!1!==Lt.canHaveHTML){for(;Lt.firstChild;)Lt.removeChild(Lt.firstChild);try{Lt.innerHTML="<br>"+Ye,Lt.removeChild(Lt.firstChild)}catch(ln){Cr("<div></div>").html("<br>"+Ye).contents().slice(1).appendTo(Lt)}return Ye}}):Mt.html(Ye)}function se(ke,Ye,Mt,Ot,Lt){return ne(ke,function(ln){var jn="string"==typeof Ye?a.createElement(Ye):Ye;return te(jn,Mt),Ot&&("string"!=typeof Ot&&Ot.nodeType?jn.appendChild(Ot):"string"==typeof Ot&&oe(jn,Ot)),Lt?jn:ln.appendChild(jn)})}function fe(ke,Ye,Mt){return se(a.createElement(ke),ke,Ye,Mt,!0)}function pe(ke,Ye){var Mt=m(ke);return(Ye?Mt.each(function(){for(var Ot;Ot=this.firstChild;)3===Ot.nodeType&&0===Ot.data.length?this.removeChild(Ot):this.parentNode.insertBefore(Ot,this)}):Mt).remove(),1<Mt.length?Mt.toArray():Mt[0]}function Ae(ke,Ye,Mt){m(ke).toggleClass(Ye,Mt).each(function(){""===this.className&&Cr(this).attr("class",null)})}function ze(ke,Ye,Mt){return ne(Ye,function(Ot){return kt.is(Ot,"array")&&(ke=ke.cloneNode(!0)),Mt&&sh(Px(Ot.childNodes),function(Lt){ke.appendChild(Lt)}),Ot.parentNode.replaceChild(ke,Ot)})}function me(ke){if(lr(ke)){var Ye="a"===ke.nodeName.toLowerCase()&&!b(ke,"href")&&b(ke,"id");return b(ke,"name")||b(ke,"data-mce-bookmark")||Ye?1:void 0}}function we(){return a.createRange()}function Ie(ke){if(ke&&lr(ke)){var Ye=ke.getAttribute("data-mce-contenteditable");return Ye&&"inherit"!==Ye?Ye:"inherit"!==ke.contentEditable?ke.contentEditable:null}return null}void 0===c&&(c={});var Ke,lt,pt,Ge,$e,qe,et={},bt=window,Yt={},an=0,wt=Jc.forElement(it.fromDom(a),{contentCssCors:c.contentCssCors,referrerPolicy:c.referrerPolicy}),St=[],mn=c.schema||Xe({}),Sn=$t({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),qt=c.ownEvents?new Fd:Fd.Event,Nn=mn.getBlockElements(),Rt=Cr.overrideDefaults(function(){return{context:a,element:Ln.getRoot()}}),pn=sl.encodeAllRaw,Zt=function(ke,Ye,Mt,Ot){if(kt.isArray(ke)){for(var Lt=ke.length,ln=[];Lt--;)ln[Lt]=Zt(ke[Lt],Ye,Mt,Ot);return ln}return!c.collect||ke!==a&&ke!==bt||St.push([ke,Ye,Mt,Ot]),qt.bind(ke,Ye,Mt,Ot||Ln)},Cn=function(ke,Ye,Mt){if(kt.isArray(ke)){for(var Ot=ke.length,Lt=[];Ot--;)Lt[Ot]=Cn(ke[Ot],Ye,Mt);return Lt}if(0<St.length&&(ke===a||ke===bt))for(Ot=St.length;Ot--;){var ln=St[Ot];ke!==ln[0]||Ye&&Ye!==ln[1]||Mt&&Mt!==ln[2]||qt.unbind(ln[0],ln[1],ln[2])}return qt.unbind(ke,Ye,Mt)},Ln={doc:a,settings:c,win:bt,files:Yt,stdMode:!0,boxModel:!0,styleSheetLoader:wt,boundEvents:St,styles:Sn,schema:mn,events:qt,isBlock:function(ke){if("string"==typeof ke)return!!Nn[ke];if(ke){var Ye=ke.nodeType;if(Ye)return!(1!==Ye||!Nn[ke.nodeName])}return!1},$:Rt,$$:m,root:null,clone:function(ke,Ye){if(!Gm||1!==ke.nodeType||Ye)return ke.cloneNode(Ye);var Mt=a.createElement(ke.nodeName);return sh(M(ke),function(Ot){A(Mt,Ot.nodeName,b(ke,Ot.nodeName))}),Mt},getRoot:L,getViewPort:function(ke){var Ye=Qr(ke);return{x:Ye.x,y:Ye.y,w:Ye.width,h:Ye.height}},getRect:function(ke){var Ye=B(ke=h(ke)),Mt=G(ke);return{x:Ye.x,y:Ye.y,w:Mt.w,h:Mt.h}},getSize:G,getParent:function(ke,Ye,Mt){var Ot=X(ke,Ye,Mt,!1);return Ot&&0<Ot.length?Ot[0]:null},getParents:X,get:h,getNext:function(ke,Ye){return J(ke,Ye,"nextSibling")},getPrev:function(ke,Ye){return J(ke,Ye,"previousSibling")},select:function(ke,Ye){return xo(ke,h(Ye)||c.root_element||a,[])},is:H,add:se,create:fe,createHTML:function(ke,Ye,Mt){var Ot,Lt="";for(Ot in Lt+="<"+ke,Ye)Kr(Ye,Ot)&&(Lt+=" "+Ot+'="'+pn(Ye[Ot])+'"');return void 0!==Mt?Lt+">"+Mt+"</"+ke+">":Lt+" />"},createFragment:function(ke){var Ye,Mt=a.createElement("div"),Ot=a.createDocumentFragment();for(Ot.appendChild(Mt),ke&&(Mt.innerHTML=ke);Ye=Mt.firstChild;)Ot.appendChild(Ye);return Ot.removeChild(Mt),Ot},remove:pe,setStyle:function(ke,Ye,Mt){var Ot=Ir(Ye)?m(ke).css(Ye,Mt):m(ke).css(Ye);c.update_styles&&Hs(Sn,Ot)},getStyle:N,setStyles:function(ke,Ye){var Mt=m(ke).css(Ye);c.update_styles&&Hs(Sn,Mt)},removeAllAttribs:function(ke){return ne(ke,function(Ye){for(var Mt=Ye.attributes,Ot=Mt.length-1;0<=Ot;Ot--)Ye.removeAttributeNode(Mt.item(Ot))})},setAttrib:A,setAttribs:te,getAttrib:b,getPos:B,parseStyle:function(ke){return Sn.parse(ke)},serializeStyle:function(ke,Ye){return Sn.serialize(ke,Ye)},addStyle:function(ke){var Ye,Mt;if(Ln!==Uo.DOM&&a===document){if(et[ke])return;et[ke]=!0}(Mt=a.getElementById("mceDefaultStyles"))||((Mt=a.createElement("style")).id="mceDefaultStyles",Mt.type="text/css",(Ye=a.getElementsByTagName("head")[0]).firstChild?Ye.insertBefore(Mt,Ye.firstChild):Ye.appendChild(Mt)),Mt.styleSheet?Mt.styleSheet.cssText+=ke:Mt.appendChild(a.createTextNode(ke))},loadCSS:function(ke){It((ke=ke||"").split(","),function(Ye){Yt[Ye]=!0,wt.load(Ye,Mn)})},addClass:function(ke,Ye){m(ke).addClass(Ye)},removeClass:function(ke,Ye){Ae(ke,Ye,!1)},hasClass:function(ke,Ye){return m(ke).hasClass(Ye)},toggleClass:Ae,show:function(ke){m(ke).show()},hide:function(ke){m(ke).hide()},isHidden:function(ke){return"none"===m(ke).css("display")},uniqueId:function(ke){return(ke||"mce_")+an++},setHTML:oe,getOuterHTML:function(ke){var Ye="string"==typeof ke?h(ke):ke;return lr(Ye)?Ye.outerHTML:Cr("<div></div>").append(Cr(Ye).clone()).html()},setOuterHTML:function(ke,Ye){m(ke).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=Ye)}catch(Mt){}pe(Cr(this).html(Ye),!0)})},decode:sl.decode,encode:pn,insertAfter:function(ke,Ye){var Mt=h(Ye);return ne(ke,function(Ot){var Lt=Mt.parentNode,ln=Mt.nextSibling;return ln?Lt.insertBefore(Ot,ln):Lt.appendChild(Ot),Ot})},replace:ze,rename:function(ke,Ye){var Mt;return ke.nodeName!==Ye.toUpperCase()&&(Mt=fe(Ye),sh(M(ke),function(Ot){A(Mt,Ot.nodeName,b(ke,Ot.nodeName))}),ze(Mt,ke,!0)),Mt||ke},findCommonAncestor:function(ke,Ye){for(var Mt,Ot=ke;Ot;){for(Mt=Ye;Mt&&Ot!==Mt;)Mt=Mt.parentNode;if(Ot===Mt)break;Ot=Ot.parentNode}return!Ot&&ke.ownerDocument?ke.ownerDocument.documentElement:Ot},toHex:function(ke){return Sn.toHex(kt.trim(ke))},run:ne,getAttribs:M,isEmpty:function(ke,Ye){var Mt,Ot,Lt=0;if(me(ke))return!1;if(ke=ke.firstChild){var ln=new wi(ke,ke.parentNode),jn=mn?mn.getWhiteSpaceElements():{};Ye=Ye||(mn?mn.getNonEmptyElements():null);do{if(Mt=ke.nodeType,lr(ke)){var gr=ke.getAttribute("data-mce-bogus");if(gr){ke=ln.next("all"===gr);continue}if(Ot=ke.nodeName.toLowerCase(),Ye&&Ye[Ot]){if("br"!==Ot)return!1;Lt++,ke=ln.next();continue}if(me(ke))return!1}if(8===Mt||3===Mt&&!E(ke.nodeValue)||3===Mt&&ke.parentNode&&jn[ke.parentNode.nodeName]&&E(ke.nodeValue))return!1;ke=ln.next()}while(ke)}return Lt<=1},createRng:we,nodeIndex:rs,split:function(ke,Ye,Mt){var Ot,Lt,ln,jn=we();if(ke&&Ye)return jn.setStart(ke.parentNode,rs(ke)),jn.setEnd(Ye.parentNode,rs(Ye)),Ot=jn.extractContents(),(jn=we()).setStart(Ye.parentNode,rs(Ye)+1),jn.setEnd(ke.parentNode,rs(ke)+1),Lt=jn.extractContents(),(ln=ke.parentNode).insertBefore(sg(Ln,Ot),ke),ln.insertBefore(Mt||Ye,ke),ln.insertBefore(sg(Ln,Lt),ke),pe(ke),Mt||Ye},bind:Zt,unbind:Cn,fire:function(ke,Ye,Mt){return qt.fire(ke,Ye,Mt)},getContentEditable:Ie,getContentEditableParent:function(ke){for(var Ye=L(),Mt=null;ke&&ke!==Ye&&null===(Mt=Ie(ke));ke=ke.parentNode);return Mt},destroy:function(){if(0<St.length)for(var ke=St.length;ke--;){var Ye=St[ke];qt.unbind(Ye[0],Ye[1],Ye[2])}Nt(Yt,function(Mt,Ot){wt.unload(Ot),delete Yt[Ot]}),xo.setDocument&&xo.setDocument()},isChildOf:function(ke,Ye){if(Gm){for(;ke;){if(Ye===ke)return!0;ke=ke.parentNode}return!1}return ke===Ye||Ye.contains(ke)},dumpRng:function(ke){return"startContainer: "+ke.startContainer.nodeName+", startOffset: "+ke.startOffset+", endContainer: "+ke.endContainer.nodeName+", endOffset: "+ke.endOffset}},co=(Ke=Sn,pt=Jt(Ln),$e={set:function(ke,Ye,Mt){lt.url_converter&&null!==Ye&&(Ye=lt.url_converter.call(lt.url_converter_scope||pt(),Ye,Mt,ke[0])),ke.attr("data-mce-"+Mt,Ye).attr(Mt,Ye)},get:function(ke,Ye){return ke.attr("data-mce-"+Ye)||ke.attr(Ye)}},qe={style:{set:function(ke,Ye){null===Ye||"object"!=typeof Ye?(Ge&&ke.attr("data-mce-style",Ye),null!==Ye&&"string"==typeof Ye?(ke.removeAttr("style"),ke.css(Ke.parse(Ye))):ke.attr("style",Ye)):ke.css(Ye)},get:function(ke){var Ye=ke.attr("data-mce-style")||ke.attr("style");return Ke.serialize(Ke.parse(Ye),ke[0].nodeName)}}},(Ge=(lt=c).keep_values)&&(qe.href=qe.src=$e),qe);return Ln};Uo.DOM=Uo(document),Uo.nodeIndex=rs;var Uy=Uo.DOM,Vr=kt.each,z1=kt.grep,Ws=(Ul.prototype._setReferrerPolicy=function(a){this.settings.referrerPolicy=a},Ul.prototype.loadScript=function(a,c,h){function m(){b.remove(M),A&&(A.onerror=A.onload=A=null)}var b=Uy,M=b.uniqueId(),A=document.createElement("script");A.id=M,A.type="text/javascript",A.src=kt._addCacheSuffix(a),this.settings.referrerPolicy&&b.setAttrib(A,"referrerpolicy",this.settings.referrerPolicy),A.onload=function(){m(),c()},A.onerror=function(){m(),Qt(h)?h():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+a)},(document.getElementsByTagName("head")[0]||document.body).appendChild(A)},Ul.prototype.isDone=function(a){return 2===this.states[a]},Ul.prototype.markDone=function(a){this.states[a]=2},Ul.prototype.add=function(a,c,h,m){var b=this.states[a];this.queue.push(a),void 0===b&&(this.states[a]=0),c&&(this.scriptLoadedCallbacks[a]||(this.scriptLoadedCallbacks[a]=[]),this.scriptLoadedCallbacks[a].push({success:c,failure:m,scope:h||this}))},Ul.prototype.load=function(a,c,h,m){return this.add(a,c,h,m)},Ul.prototype.remove=function(a){delete this.states[a],delete this.scriptLoadedCallbacks[a]},Ul.prototype.loadQueue=function(a,c,h){this.loadScripts(this.queue,a,c,h)},Ul.prototype.loadScripts=function(a,c,h,m){function b(B,N){Vr(M.scriptLoadedCallbacks[N],function(G){Qt(G[B])&&G[B].call(G.scope)}),M.scriptLoadedCallbacks[N]=void 0}var M=this,A=[];M.queueLoadedCallbacks.push({success:c,failure:m,scope:h||this});var L=function(){var B,N=z1(a);a.length=0,Vr(N,function(G){2!==M.states[G]?3!==M.states[G]?1!==M.states[G]&&(M.states[G]=1,M.loading++,M.loadScript(G,function(){M.states[G]=2,M.loading--,b("success",G),L()},function(){M.states[G]=3,M.loading--,A.push(G),b("failure",G),L()})):b("failure",G):b("success",G)}),M.loading||(B=M.queueLoadedCallbacks.slice(0),M.queueLoadedCallbacks.length=0,Vr(B,function(G){0===A.length?Qt(G.success)&&G.success.call(G.scope):Qt(G.failure)&&G.failure.call(G.scope,A)}))};L()},Ul.ScriptLoader=new Ul,Ul);function Ul(a){void 0===a&&(a={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=a}function os(a){var c=a;return{get:function(){return c},set:function(h){c=h}}}function Yi(){return Rn(Ju,up.get())}var Ju={},up=os("en"),jl={getData:function(){return fn(Ju,function(a){return Xn({},a)})},setCode:function(a){a&&up.set(a)},getCode:function(){return up.get()},add:function(a,c){var h=Ju[a];h||(Ju[a]=h={}),Nt(c,function(m,b){h[b.toLowerCase()]=m})},translate:function(a){function c(N){return Qt(N)?Object.prototype.toString.call(N):L(N)?"":""+N}function h(N){var G=c(N);return Rn(A,G.toLowerCase()).map(c).getOr(G)}function m(N){return N.replace(/{context:\w+}$/,"")}var b,M,A=Yi().getOr({}),L=function(N){return""===N||null==N};if(L(a))return"";if(Mi(b=a)&&Rr(b,"raw"))return c(a.raw);if(Zr(M=a)&&1<M.length){var B=a.slice(1);return m(h(a[0]).replace(/\{([0-9]+)\}/g,function(N,G){return Rr(B,G)?c(B[G]):N}))}return m(h(a))},isRtl:function(){return Yi().bind(function(a){return Rn(a,"_dir")}).exists(function(a){return"rtl"===a})},hasCode:function(a){return Rr(Ju,a)}},ga=function(){function a(N,G){It(dt(L,function(H){return H.name===N&&H.state===G}),function(H){return H.callback()})}function c(N){return(A[N]?A[N].dependencies:void 0)||[]}function h(N,G){return"object"==typeof G?G:"string"==typeof N?{prefix:"",resource:G,suffix:""}:{prefix:N.prefix,resource:G,suffix:N.suffix}}function m(N,G,H){void 0===H&&(H="added"),Rr(A,N)&&"added"===H||Rr(M,N)&&"loaded"===H?G():L.push({name:N,state:H,callback:G})}var b=[],M={},A={},L=[],B=function(N,G,H,X,J){var ne,te;M[N]||(0!==(ne="string"==typeof G?G:G.prefix+G.resource+G.suffix).indexOf("/")&&-1===ne.indexOf("://")&&(ne=ga.baseURL+"/"+ne),M[N]=ne.substring(0,ne.lastIndexOf("/")),te=function(){var oe,se,fe;a(N,"loaded"),oe=G,se=H,fe=X,It(c(N),function(pe){var Ae=h(oe,pe);B(Ae.resource,Ae,void 0,void 0)}),se&&se.call(fe||Ws)},A[N]?te():Ws.ScriptLoader.add(ne,te,X,J))};return{items:b,urls:M,lookup:A,_listeners:L,get:function(N){if(A[N])return A[N].instance},dependencies:c,requireLangPack:function(N,G){!1!==ga.languageLoad&&m(N,function(){var H=jl.getCode();!H||G&&-1===(","+(G||"")+",").indexOf(","+H+",")||Ws.ScriptLoader.add(M[N]+"/langs/"+H+".js")},"loaded")},add:function(N,G,H){var X=G;return b.push(X),A[N]={instance:X,dependencies:H},a(N,"added"),X},remove:function(N){delete M[N],delete A[N]},createUrl:h,addComponents:function(N,G){var H=M[N];It(G,function(X){Ws.ScriptLoader.add(H+"/"+X)})},load:B,waitFor:m}};function lh(){var a,c,h=(a=Mn,c=os(De.none()),{clear:function(){m(),c.set(De.none())},isSet:function(){return c.get().isSome()},get:function(){return c.get()},set:function(b){m(),c.set(De.some(b))}});function m(){return c.get().each(a)}return Xn(Xn({},h),{on:function(b){return h.get().each(b)}})}function Yd(a,c){var h=null;return{cancel:function(){er(h)||(clearTimeout(h),h=null)},throttle:function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];er(h)&&(h=setTimeout(function(){h=null,a.apply(null,m)},c))}}}function eo(a,c){function h(){er(m)||(clearTimeout(m),m=null)}var m=null;return{cancel:h,throttle:function(){for(var b=[],M=0;M<arguments.length;M++)b[M]=arguments[M];h(),m=setTimeout(function(){m=null,a.apply(null,b)},c)}}}function Um(a,c){var h=ol(a,c);return void 0===h||""===h?[]:h.split(" ")}function gg(a){return void 0!==a.dom.classList}function Xr(a,c){var h,m,b;gg(a)?a.dom.classList.add(c):(m=c,b=Um(h=a,"class").concat([m]),rl(h,"class",b.join(" ")))}function V1(a,c){return gg(a)&&a.dom.classList.contains(c)}function cl(a,c){return Vt(h=void 0===a?document:a.dom)?[]:Tn(h.querySelectorAll(c),it.fromDom);var h}function jm(a,c){function h(L,B){return(N=L.dom)&&N.hasAttribute&&N.hasAttribute(B)?De.some(ol(L,B)):De.none();var N}var m=a.selection.getRng(),b=it.fromDom(m.startContainer),M=it.fromDom(a.getBody()),A=c.fold(function(){return"."+fh()},function(L){return"["+qd()+'="'+L+'"]'});return _l(Is(b,m.startOffset).getOr(b),A,function(L){return Ut(L,M)}).bind(function(L){return h(L,""+qm()).bind(function(B){return h(L,""+qd()).map(function(N){var G=Yy(a,B);return{uid:B,name:N,elements:G}})})})}function cp(a){var c=(new Date).getTime();return a+"_"+Math.floor(1e9*Math.random())+ ++Xy+String(c)}function is(a,c){var h,m,b=ea(a).dom,M=it.fromDom(b.createDocumentFragment());wa(M,(h=c,(m=(b||document).createElement("div")).innerHTML=h,Di(it.fromDom(m)))),Xc(a),Ui(a,M)}function dp(a,c){return it.fromDom(a.dom.cloneNode(c))}function kc(a){return dp(a,!1)}function br(a){return dp(a,!0)}function fp(a,c,h){function m(M){for(var A;(A=b[M]())&&!Dn(A)&&!h(A););return De.from(A).filter(Dn)}void 0===h&&(h=Pr);var b=new wi(a,c);return{current:function(){return De.from(b.current()).filter(Dn)},next:function(){return m("next")},prev:function(){return m("prev")},prev2:function(){return m("prev2")}}}function mg(a,c){var h=c||function(b){return a.isBlock(b)||Po(b)||Dr(b)},m=function(b,M,A,L){if(Dn(b)){var B=L(b,M,b.data);if(-1!==B)return De.some({container:b,offset:B})}return A().bind(function(N){return m(N.container,N.offset,A,L)})};return{backwards:function(b,M,A,L){var B=fp(b,L,h);return m(b,M,function(){return B.prev().map(function(N){return{container:N,offset:N.length}})},A).getOrNull()},forwards:function(b,M,A,L){var B=fp(b,L,h);return m(b,M,function(){return B.next().map(function(N){return{container:N,offset:0}})},A).getOrNull()}}}function sd(a){return a?{left:Gs(a.left),top:Gs(a.top),bottom:Gs(a.bottom),right:Gs(a.right),width:Gs(a.width),height:Gs(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function Ym(a,c){return a=sd(a),c||(a.left=a.left+a.width),a.right=a.left,a.width=0,a}function bs(a,c,h){return 0<=a&&a<=Math.min(c.height,h.height)/2}function Qu(a,c){var h=Math.min(c.height/2,a.height/2);return a.bottom-h<c.top||!(a.top>c.bottom)&&bs(c.top-a.bottom,a,c)}function uh(a,c){return a.top>c.bottom||!(a.bottom<c.top)&&bs(c.bottom-a.top,a,c)}function Xd(a,c,h){return c>=a.left&&c<=a.right&&h>=a.top&&h<=a.bottom}function ch(a){var c=a.startContainer,h=a.startOffset;return c.hasChildNodes()&&a.endOffset===h+1?c.childNodes[h]:null}function vu(a,c){if(lr(a)&&a.hasChildNodes()){var h=a.childNodes;return h[(m=h.length-1,Math.min(Math.max(c,0),m))]}return a;var m}function hp(a){return"string"==typeof a&&768<=a.charCodeAt(0)&&yg.test(a)}function dh(a){return"createRange"in a?a.createRange():Uo.DOM.createRng()}function ld(a){return a&&/[\r\n\t ]/.test(a)}function Xm(a){return a.setStart&&a.setEnd}function vg(a){var c=a.startContainer,h=a.startOffset;if(ld(a.toString())&&Tl(c.parentNode)&&Dn(c)){var m=c.data;return ld(m[h-1])||ld(m[h+1])?1:void 0}}function pp(a){return 0===a.left&&0===a.right&&0===a.top&&0===a.bottom}function ud(a,c){var h=Ym(a,c);return h.width=1,h.right=h.left+1,h}ga.languageLoad=!0,ga.baseURL="",ga.PluginManager=ga(),ga.ThemeManager=ga();var gp=function(a,c){var h=[];return It(Di(a),function(m){h=(h=c(m)?h.concat([m]):h).concat(gp(m,c))}),h},fh=Jt("mce-annotation"),qd=Jt("data-mce-annotation"),qm=Jt("data-mce-annotation-uid"),Yy=function(a,c){return cl(it.fromDom(a.getBody()),"["+qm()+'="'+c+'"]')},Xy=0,Gs=Math.round,yg=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Zd=lr,Kd=T,bg=Nl("display","block table"),Zm=Nl("float","left right"),Oa=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return function(h){for(var m=0;m<a.length;m++)if(!a[m](h))return!1;return!0}}(Zd,Kd,tt(Zm)),Tl=tt(Nl("white-space","pre pre-line pre-wrap")),cd=Dn,xg=Po,Km=Uo.nodeIndex,mp=function(a,c){if(!(c<0&&lr(a)&&a.hasChildNodes()))return vu(a,c)},ec=function(a){var c=a.getClientRects(),h=sd(0<c.length?c[0]:a.getBoundingClientRect());return!Xm(a)&&xg(a)&&pp(h)?function(m){var b=m.ownerDocument,M=dh(b),A=b.createTextNode(bo),L=m.parentNode;L.insertBefore(A,m),M.setStart(A,0),M.setEnd(A,1);var B=sd(M.getBoundingClientRect());return L.removeChild(A),B}(a):pp(h)&&Xm(a)?function(m){var M=m.endContainer,A=m.startOffset,L=m.endOffset;if(m.startContainer===M&&Dn(M)&&0===A&&1===L){var B=m.cloneRange();return B.setEndAfter(M),ec(B)}return null}(a):h},_t=function(a,c,h){function m(){return h=h||function(b){function M(X){var J;0!==X.height&&(0<L.length&&X.left===(J=L[L.length-1]).left&&X.top===J.top&&X.bottom===J.bottom&&X.right===J.right||L.push(X))}function A(X,J){var ne=dh(X.ownerDocument);if(J<X.data.length){if(hp(X.data[J]))return L;if(hp(X.data[J-1])&&(ne.setStart(X,J),ne.setEnd(X,J+1),!vg(ne)))return M(ud(ec(ne),!1)),L}0<J&&(ne.setStart(X,J-1),ne.setEnd(X,J),vg(ne)||M(ud(ec(ne),!1))),J<X.data.length&&(ne.setStart(X,J),ne.setEnd(X,J+1),vg(ne)||M(ud(ec(ne),!0)))}var L=[],B=b.container(),N=b.offset();if(cd(B))return A(B,N),L;if(Zd(B))if(b.isAtEnd()){var G=mp(B,N);cd(G)&&A(G,G.data.length),Oa(G)&&!xg(G)&&M(ud(ec(G),!1))}else{if(G=mp(B,N),cd(G)&&A(G,0),Oa(G)&&b.isAtEnd())return M(ud(ec(G),!1)),L;var H=mp(b.container(),b.offset()-1);Oa(H)&&!xg(H)&&(!bg(H)&&!bg(G)&&Oa(G)||M(ud(ec(H),!1))),Oa(G)&&M(ud(ec(G),!0))}return L}(_t(a,c))}return{container:Jt(a),offset:Jt(c),toRange:function(){var b=dh(a.ownerDocument);return b.setStart(a,c),b.setEnd(a,c),b},getClientRects:m,isVisible:function(){return 0<m().length},isAtStart:function(){return cd(a),0===c},isAtEnd:function(){return cd(a)?c>=a.data.length:c>=a.childNodes.length},isEqual:function(b){return b&&a===b.container()&&c===b.offset()},getNode:function(b){return mp(a,b?c-1:c)}}};function dd(a,c){Dn(c)&&0===c.data.length&&a.remove(c)}function hh(a,c,h){var m,b,M,A,L,B,N;Ns(h)?(M=a,A=c,B=De.from((L=h).firstChild),N=De.from(L.lastChild),A.insertNode(L),B.each(function(G){return dd(M,G.previousSibling)}),N.each(function(G){return dd(M,G.nextSibling)})):(m=a,c.insertNode(b=h),dd(m,b.previousSibling),dd(m,b.nextSibling))}function _g(a){return function(c){return a===c}}function $m(a){var c,h,m,b;return(js(a)?"text()":a.nodeName.toLowerCase())+"["+(m=_n(h=Ea(W1(c=a)),_g(c),c),b=Yo(h=h.slice(0,m+1),function(M,A,L){return js(A)&&js(h[L-1])&&M++,M},0),_n(h=bn(h,Ya([c.nodeName])),_g(c),c)-b+"]")}function qy(a,c){var h,m,b,M=[],A=c.container(),L=c.offset();return js(A)?h=function(B,N){for(;(B=B.previousSibling)&&js(B);)N+=B.data.length;return N}(A,L):(L>=(m=A.childNodes).length?(h="after",L=m.length-1):h="before",A=m[L]),M.push($m(A)),b=bn(function(B,N){var G=[];for(N=N.parentNode;N!==B;N=N.parentNode)G.push(N);return G}(a,A),tt(tl)),(M=M.concat(ei(b,$m))).reverse().join("/")+","+h}function Jo(a,c){if(!c)return null;var h=c.split(","),m=h[0].split("/"),b=1<h.length?h[1]:"before",M=Yo(m,function(A,L){var B,N,G,H,X=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(L);return X?("text()"===X[1]&&(X[1]="#text"),B=A,N=X[1],G=parseInt(X[2],10),H=bn(H=Ea(B),function(J,ne){return!js(J)||!js(H[ne-1])}),(H=bn(H,Ya([N])))[G]):null},a);return M?js(M)?function(A,L){for(var B,N=A,G=0;js(N);){if(B=N.data.length,G<=L&&L<=G+B){A=N,L-=G;break}if(!js(N.nextSibling)){A=N,L=B;break}G+=B,N=N.nextSibling}return js(A)&&L>A.data.length&&(L=A.data.length),_t(A,L)}(M,parseInt(b,10)):(b="after"===b?Jy(M)+1:Jy(M),_t(M.parentNode,b)):null}function Jm(a,c,h,m,b){var M,A=m[b?"startContainer":"endContainer"],L=m[b?"startOffset":"endOffset"],B=[],N=0,G=a.getRoot();for(Dn(A)?B.push(h?function(H,X,J){for(var ne=H(X.data.slice(0,J)).length,te=X.previousSibling;te&&Dn(te);te=te.previousSibling)ne+=H(te.data).length;return ne}(c,A,L):L):(L>=(M=A.childNodes).length&&M.length&&(N=1,L=Math.max(0,M.length-1)),B.push(a.nodeIndex(M[L],h)+N));A&&A!==G;A=A.parentNode)B.push(a.nodeIndex(A,h));return B}function wg(a,c,h){var m=0;return kt.each(a.select(c),function(b){if("all"!==b.getAttribute("data-mce-bogus"))return b!==h&&void m++}),m}function F1(a,c){var h,m=c?"start":"end",b=a[m+"Container"],M=a[m+"Offset"];lr(b)&&"TR"===b.nodeName&&(b=(h=b.childNodes)[Math.min(c?M:M-1,h.length-1)])&&a["set"+(c?"Start":"End")](b,M=c?0:b.childNodes.length)}function as(a){return F1(a,!0),F1(a,!1),a}function ph(a,c){var h;return lr(a)&&(a=vu(a,c),ef(a))?a:Ia(a)?(h=(a=Dn(a)&&es(a)?a.parentNode:a).previousSibling,ef(h)||ef(h=a.nextSibling)?h:void 0):void 0}function vp(a,c,h){var m=h.getNode(),b=m?m.nodeName:null,M=h.getRng();if(ef(m)||"IMG"===b)return{name:b,index:wg(h.dom,b,m)};var A,L,B,N,G,H,X,J=ph((A=M).startContainer,A.startOffset)||ph(A.endContainer,A.endOffset);return J?{name:b=J.tagName,index:wg(h.dom,b,J)}:(H=(B=h).dom,(X={}).start=Jm(H,L=a,N=c,G=M,!0),B.isCollapsed()||(X.end=Jm(H,L,N,G,!1)),w(G)&&(X.isFakeCaret=!0),X)}function yp(a,c,h){var m={"data-mce-type":"bookmark",id:c,style:"overflow:hidden;line-height:0px"};return h?a.create("span",m,"&#xFEFF;"):a.create("span",m)}function Qm(a,c){var h=a.dom,m=a.getRng(),b=h.uniqueId(),M=a.isCollapsed(),A=a.getNode(),L=A.nodeName;if("IMG"===L)return{name:L,index:wg(h,L,A)};var B=as(m.cloneRange());return M||(B.collapse(!1),hh(h,B,yp(h,b+"_end",c))),(m=as(m)).collapse(!0),hh(h,m,yp(h,b+"_start",c)),a.moveToBookmark({id:b,keep:!0}),{id:b}}function $d(a,c,h){var m=a.getParam(c,h);return-1===m.indexOf("=")?m:Rn(a.getParam(c,"","hash"),a.id).getOr(h)}function H1(a){return a.getParam("content_security_policy","")}function Na(a){if(a.getParam("force_p_newlines",!1))return"p";var c=a.getParam("forced_root_block","p");return!1===c?"":!0===c?"p":c}function bp(a){return a.getParam("forced_root_block_attrs",{})}function xp(a){return a.getParam("automatic_uploads",!0,"boolean")}function ev(a){return a.getParam("icons","","string")}function _p(a){return a.getParam("referrer_policy","","string")}function gh(a){return a.getParam("language","en","string")}function Jd(a){return a.getParam("indent_use_margin",!1)}function tv(a){var c=a.getParam("font_css",[]);return Zr(c)?c:Tn(c.split(","),Ti)}function Sg(a){var c=a.getParam("object_resizing");return!1!==c&&!sr.iOS&&(Ir(c)?c:"table,img,figure.image,div,video,iframe")}function nv(a){return a.getParam("event_root")}function mh(a){return a.getParam("theme")}function Cg(a){return!1!==a.getParam("inline_boundaries")}function Yl(a){return a.getParam("plugins","","string")}function rv(a){var c=a.parentNode;c&&c.removeChild(a)}function ov(a){var c=Li(a);return{count:a.length-c.length,text:c}}function iv(a){for(var c;-1!==(c=a.data.lastIndexOf(Hn));)a.deleteData(c,1)}function Zy(a,c){return sa(a),c}function Ky(a,c){var h,m=c.container(),b=(-1===(h=Ht(ka(m.childNodes),a))?De.none():De.some(h)).map(function(M){return M<c.offset()?_t(m,c.offset()-1):c}).getOr(c);return sa(a),b}function Lx(a,c){return _t.isTextPosition(c)?(m=c,Hi(h=a)&&m.container()===h?(A=ov((b=h).data.substr(0,(M=m).offset())),L=ov(b.data.substr(M.offset())),0<(A.text+L.text).length?(iv(b),_t(b,M.offset()-A.count)):M):Zy(h,m)):(B=a,((N=c).container()===B.parentNode?Ky:Zy)(B,N));var h,m,b,M,A,L,B,N}function Xl(a,c,h){var m,b,M,A=Ym(c.getBoundingClientRect(),h),L="BODY"===a.tagName?(m=a.ownerDocument.documentElement,b=a.scrollLeft||m.scrollLeft,a.scrollTop||m.scrollTop):(M=a.getBoundingClientRect(),b=a.scrollLeft-M.left,a.scrollTop-M.top);A.left+=b,A.right+=b,A.top+=L,A.bottom+=L,A.width=1;var B=c.offsetWidth-c.clientWidth;return 0<B&&(h&&(B*=-1),A.left+=B,A.right+=B),A}function wp(){return uv.isIE()||uv.isEdge()||uv.isFirefox()}function Qd(a){return ci(a)||Ls(a)&&wp()}function sv(a,c){for(var h;h=a(c);)if(!tf(h))return h;return null}function yu(a,c,h,m,b){var M=new wi(a,m),A=Tg(a)||tf(a);if(c<0){if(A&&h(a=sv(M.prev.bind(M),!0)))return a;for(;a=sv(M.prev.bind(M),b);)if(h(a))return a}if(0<c){if(A&&h(a=sv(M.next.bind(M),!0)))return a;for(;a=sv(M.next.bind(M),b);)if(h(a))return a}return null}function ql(a,c){for(;a&&a!==c;){if(Mp(a))return a;a=a.parentNode}return null}function Us(a,c,h){return ql(a.container(),h)===ql(c.container(),h)}function Ca(a,c){if(!c)return null;var h=c.container(),m=c.offset();return fd(h)?h.childNodes[m+a]:null}function Sp(a,c){var h=c.ownerDocument.createRange();return a?(h.setStartBefore(c),h.setEndBefore(c)):(h.setStartAfter(c),h.setEndAfter(c)),h}function Dc(a,c,h){for(var m,b,M=a?"previousSibling":"nextSibling";h&&h!==c;){var A=h[M];if(fv(A)&&(A=A[M]),Tg(A)||dv(A)){if(b=h,ql(A,m=c)===ql(b,m))return A;break}if(nf(A))break;h=h.parentNode}return null}function Mg(a,c,h){var m,b=jt(Dc,!0,c),M=jt(Dc,!1,c),A=h.startContainer,L=h.startOffset;if(es(A)){var B=(A=fd(A)?A:A.parentNode).getAttribute("data-mce-caret");if("before"===B&&Qd(m=A.nextSibling))return tc(m);if("after"===B&&Qd(m=A.previousSibling))return bu(m)}if(!h.collapsed)return h;if(Dn(A)){if(fv(A)){if(1===a){if(m=M(A))return tc(m);if(m=b(A))return bu(m)}if(-1===a){if(m=b(A))return bu(m);if(m=M(A))return tc(m)}return h}if(bi(A)&&L>=A.data.length-1)return 1===a&&(m=M(A))?tc(m):h;if(Pa(A)&&L<=1)return-1===a&&(m=b(A))?bu(m):h;if(L===A.data.length)return(m=M(A))?tc(m):h;if(0===L)return(m=b(A))?bu(m):h}return h}function Ac(a,c){return De.from(Ca(a?0:-1,c)).filter(Tg)}function ss(a,c,h){var m=Mg(a,c,h);return-1===a?_t.fromRangeStart(m):_t.fromRangeEnd(m)}function vh(a){return De.from(a.getNode()).map(it.fromDom)}function yh(a,c){for(;c=a(c);)if(c.isVisible())return c;return c}function Ic(a,c){var h=Us(a,c);return!(h||!Po(a.getNode()))||h}_t.fromRangeStart=function(a){return _t(a.startContainer,a.startOffset)},_t.fromRangeEnd=function(a){return _t(a.endContainer,a.endOffset)},_t.after=function(a){return _t(a.parentNode,Km(a)+1)},_t.before=function(a){return _t(a.parentNode,Km(a))},_t.isAbove=function(a,c){return Eo(Dt(c.getClientRects()),ut(a.getClientRects()),Qu).getOr(!1)},_t.isBelow=function(a,c){return Eo(ut(c.getClientRects()),Dt(a.getClientRects()),uh).getOr(!1)},_t.isAtStart=function(a){return!!a&&a.isAtStart()},_t.isAtEnd=function(a){return!!a&&a.isAtEnd()},_t.isTextPosition=function(a){return!!a&&Dn(a.container())},_t.isElementPosition=function(a){return!1===_t.isTextPosition(a)};var Oo,lv,js=Dn,$y=tl,Jy=Uo.nodeIndex,W1=function(a){var c=a.parentNode;return $y(c)?W1(c):c},Ea=function(a){return a?Yo(a.childNodes,function(c,h){return $y(h)&&"BR"!==h.nodeName?c=c.concat(Ea(h)):c.push(h),c},[]):[]},ef=Dr,xs=jt(vp,ho,!0),Rx=Uo.DOM,G1=lr,Hi=Dn,sa=function(a){G1(a)&&Ia(a)&&(fu(a)?a.removeAttribute("data-mce-caret"):rv(a)),Hi(a)&&(iv(a),0===a.data.length&&rv(a))},uv=_i().browser,Qy=Dr,Cp=Za,cv=ra,ci=function(a){return Qy(a)||Cp(a)},Tg=Dr,dv=Za,Mp=Nl("display","block table table-cell table-caption list-item"),fv=Ia,tf=es,fd=lr,nf=T,tc=jt(Sp,!0),bu=jt(Sp,!1);function hv(a,c){return a.hasChildNodes()&&c<a.childNodes.length?a.childNodes[c]:null}function bh(a,c){if(0<a){if(Oi(c.previousSibling)&&!wu(c.previousSibling))return _t.before(c);if(wu(c))return _t(c,0)}if(a<0){if(Oi(c.nextSibling)&&!wu(c.nextSibling))return _t.after(c);if(wu(c))return _t(c,c.data.length)}return a<0&&!Su(c)?_t.after(c):_t.before(c)}function kl(a){return{next:function(c){return Rc(Oo.Forwards,c,a)},prev:function(c){return Rc(Oo.Backwards,c,a)}}}function Tp(a){return _t.isTextPosition(a)?0===a.offset():T(a.getNode())}function kg(a){if(_t.isTextPosition(a)){var c=a.container();return a.offset()===c.data.length}return T(a.getNode(!0))}function ro(a,c){return!_t.isTextPosition(a)&&!_t.isTextPosition(c)&&a.getNode()===c.getNode(!0)}function ni(a,c,h){return Ys(a,c,h).bind(function(m){return Us(h,m,c)&&(b=h,M=m,a?!ro(b,M)&&(_t.isTextPosition(A=b)||!Po(A.getNode()))&&kg(b)&&Tp(M):!ro(M,b)&&Tp(b)&&kg(M))?Ys(a,c,m):De.some(m);var b,M,A})}function Dl(a,c){var h,m,b,M,A,L=a?c.firstChild:c.lastChild;return Dn(L)?De.some(_t(L,a?0:L.data.length)):L?T(L)?De.some(a?_t.before(L):Po(A=L)?_t.before(A):_t.after(A)):(m=c,b=L,M=(h=a)?_t.before(b):_t.after(b),Ys(h,m,M)):De.none()}function Ba(a){return lr(a)&&a.id===s0}function rf(a,c){for(;c&&c!==a;){if(c.id===s0)return c;c=c.parentNode}return null}function kp(a){return kt.isArray(a.start)}function xu(a,c){return lr(c)&&a.isBlock(c)&&!c.innerHTML&&!sr.ie&&(c.innerHTML='<br data-mce-bogus="1" />'),c}function Pc(a,c,h){return!1===c.hasChildNodes()&&rf(a,c)&&(b=h,M=(m=c).ownerDocument.createTextNode(Hn),m.appendChild(M),b.setStart(M,0),b.setEnd(M,0),1);var m,b,M}function hd(a,c,h,m){var b,M,A,L,B=h[c?"start":"end"],N=a.getRoot();if(B){for(A=B[0],M=N,b=B.length-1;1<=b;b--){if(L=M.childNodes,Pc(N,M,m))return 1;if(B[b]>L.length-1)return Pc(N,M,m)||function(G){return Mu(M).fold(Pr,function(H){return G.setStart(H.container(),H.offset()),G.setEnd(H.container(),H.offset()),!0})}(m);M=L[B[b]]}3===M.nodeType&&(A=Math.min(B[0],M.nodeValue.length)),1===M.nodeType&&(A=Math.min(B[0],M.childNodes.length)),c?m.setStart(M,A):m.setEnd(M,A)}return 1}function Dp(a){return Dn(a)&&0<a.data.length}function pv(a,c,h){var m,b,M,A,L,B,N=a.get(h.id+"_"+c),G=h.keep;if(N){if(m=N.parentNode,b="start"===c?G?N.hasChildNodes()?(m=N.firstChild,1):Dp(N.nextSibling)?(m=N.nextSibling,0):Dp(N.previousSibling)?(m=N.previousSibling,N.previousSibling.data.length):(m=N.parentNode,a.nodeIndex(N)+1):a.nodeIndex(N):G?N.hasChildNodes()?(m=N.firstChild,1):Dp(N.previousSibling)?(m=N.previousSibling,N.previousSibling.data.length):(m=N.parentNode,a.nodeIndex(N)):a.nodeIndex(N),L=m,B=b,!G){for(A=N.previousSibling,M=N.nextSibling,kt.each(kt.grep(N.childNodes),function(H){Dn(H)&&(H.nodeValue=H.nodeValue.replace(/\uFEFF/g,""))});N=a.get(h.id+"_"+c);)a.remove(N,!0);A&&M&&A.nodeType===M.nodeType&&Dn(A)&&!sr.opera&&(b=A.nodeValue.length,A.appendData(M.nodeValue),a.remove(M),L=A,B=b)}return De.some(_t(L,B))}return De.none()}function U1(a,c){(function(h,m){var b,M,A,L,B,N,G,H,X,J,ne,te,oe=h.dom;if(m){if(kp(m))return ne=m,te=(J=oe).createRng(),hd(J,!0,ne,te)&&hd(J,!1,ne,te)?De.some(te):De.none();if(Ir(m.start))return De.some((G=m,H=(N=oe).createRng(),X=Jo(N.getRoot(),G.start),H.setStart(X.container(),X.offset()),X=Jo(N.getRoot(),G.end),H.setEnd(X.container(),X.offset()),H));if(Rr(m,"id"))return Eo(B=pv(A=oe,"start",L=m),pv(A,"end",L).or(B),function(se,fe){var pe=A.createRng();return pe.setStart(xu(A,se.container()),se.offset()),pe.setEnd(xu(A,fe.container()),fe.offset()),pe});if(Rr(m,"name"))return De.from((b=oe).select((M=m).name)[M.index]).map(function(se){var fe=b.createRng();return fe.selectNode(se),fe});if(Rr(m,"rng"))return De.some(m.rng)}return De.none()})(a,c).each(function(h){a.setRng(h)})}function Al(a){return lr(a)&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")}function za(a){return""!==a&&-1!==" \f\n\r\t\v".indexOf(a)}function Ap(a){return!za(a)&&!yd(a)}function of(a){return a.nodeType}function gv(a,c,h){var m,b=h.startOffset,M=h.startContainer;if((M!==h.endContainer||!(m=M.childNodes[b])||!/^(IMG)$/.test(m.nodeName))&&lr(M)){var A=M.childNodes,L=void 0;b<A.length?L=new wi(M=A[b],a.getParent(M,a.isBlock)):(L=new wi(M=A[A.length-1],a.getParent(M,a.isBlock))).next(!0);for(var B=L.current();B;B=L.next())if(Dn(B)&&!df(B))return h.setStart(B,0),c.setRng(h),0}}function Ip(a,c,h){if(a){var m=c?"nextSibling":"previousSibling";for(a=h?a:a[m];a;a=a[m])if(lr(a)||!df(a))return a}}function ls(a,c){return of(c)&&(c=c.nodeName),!!a.schema.getTextBlockElements()[c.toLowerCase()]}function af(a,c,h){return a.schema.isValidChild(c,h)}function _u(a,c){return Qt(a)?a=a(c):rr(c)&&(a=a.replace(/%(\w+)/g,function(h,m){return c[m]||h})),a}function Lc(a,c){return a=""+((a=a||"").nodeName||a),c=""+((c=c||"").nodeName||c),a.toLowerCase()===c.toLowerCase()}function Zl(a,c,h){return"color"!==h&&"backgroundColor"!==h||(c=a.toHex(c)),"fontWeight"===h&&700===c&&(c="bold"),""+("fontFamily"===h?c.replace(/[\'\"]/g,"").replace(/,\s+/g,","):c)}function xh(a,c,h){return Zl(a,a.getStyle(c,h),h)}function e0(a,c){var h;return a.getParent(c,function(m){return(h=a.getStyle(m,"text-decoration"))&&"none"!==h}),h}function sf(a,c,h){return a.getParents(c,h,a.getRoot())}function nc(a){return Kr(a,"block")}function Va(a){return Kr(a,"selector")}function Wi(a){return Kr(a,"inline")}function mv(a){return Va(a)&&!1!==a.expand&&!Wi(a)}function vv(a,c){for(var h=c;h;){if(lr(h)&&a.getContentEditable(h))return"false"===a.getContentEditable(h)?h:c;h=h.parentNode}return c}function _h(a,c,h,m){for(var b=c.data,M=h;a?0<=M:M<b.length;a?M--:M++)if(m(b.charAt(M)))return a?M+1:M;return-1}function Dg(a,c,h){return _h(a,c,h,function(m){return yd(m)||za(m)})}function yv(a,c,h){return _h(a,c,h,Ap)}function n0(a,c,h,m,b,M){function A(N,G,H){var X=mg(a);return De.from((b?X.backwards:X.forwards)(N,G,function(ne,te){return ff(ne.parentNode)?-1:H(b,L=ne,te)},B))}var L,B=a.getParent(h,a.isBlock)||c;return A(h,m,Dg).bind(function(N){return M?A(N.container,N.offset+(b?-1:0),yv):De.some(N)}).orThunk(function(){return L?De.some({container:L,offset:b?0:L.length}):De.none()})}function bv(a,c,h,m,b){Dn(m)&&st(m.data)&&m[b]&&(m=m[b]);for(var M=Op(a,m),A=0;A<M.length;A++)for(var L=0;L<c.length;L++){var B=c[L];if((!rr(B.collapsed)||B.collapsed===h.collapsed)&&Va(B)&&a.is(M[A],B.selector))return M[A]}return m}function _s(a,c,h,m){var b,M=h,A=a.dom,L=A.getRoot(),B=c[0];if((M=nc(B)?B.wrapper?null:A.getParent(h,B.block,L):M)||(b=A.getParent(h,"LI,TD,TH"),M=A.getParent(Dn(h)?h.parentNode:h,function(N){return N!==L&&_v(a,N)},b)),!(M=M&&nc(B)&&B.wrapper&&Op(A,M,"ul,ol").reverse()[0]||M))for(M=h;M[m]&&!A.isBlock(M[m])&&!Lc(M=M[m],"br"););return M||h}function ma(a,c,h,m,b){var M,A=h,L=b?"previousSibling":"nextSibling",B=a.getRoot();if(Dn(h)&&!Pg(h)&&(b?0<m:m<h.data.length))return h;for(;;){if(!c[0].block_expand&&a.isBlock(A))return A;for(var N=A[L];N;N=N[L]){var G=Dn(N)&&!dl(a,B,N,L);if(!ff(N)&&(!Po(M=N)||!M.getAttribute("data-mce-bogus")||M.nextSibling)&&!Pg(N,G))return A}if(A===B||A.parentNode===B){h=A;break}A=A.parentNode}return h}function Ri(a){return ff(a.parentNode)||ff(a)}function pd(a,c,h,m){void 0===m&&(m=!1);var b=c.startContainer,M=c.startOffset,A=c.endContainer,L=c.endOffset,B=a.dom,N=h[0];return lr(b)&&b.hasChildNodes()&&(b=vu(b,M),Dn(b)&&(M=0)),lr(A)&&A.hasChildNodes()&&(A=vu(A,c.collapsed?L:L-1),Dn(A)&&(L=A.nodeValue.length)),b=vv(B,b),A=vv(B,A),Ri(b)&&(b=ff(b)?b:b.parentNode,Dn(b=c.collapsed?b.previousSibling||b:b.nextSibling||b)&&(M=c.collapsed?b.length:0)),Ri(A)&&(A=ff(A)?A:A.parentNode,Dn(A=c.collapsed?A.nextSibling||A:A.previousSibling||A)&&(L=c.collapsed?0:A.length)),c.collapsed&&(n0(B,a.getBody(),b,M,!0,m).each(function(G){b=G.container,M=G.offset}),n0(B,a.getBody(),A,L,!1,m).each(function(G){A=G.container,L=G.offset})),(Wi(N)||N.block_expand)&&(Wi(N)&&Dn(b)&&0!==M||(b=ma(B,h,b,M,!0)),Wi(N)&&Dn(A)&&L!==A.nodeValue.length||(A=ma(B,h,A,L,!1))),mv(N)&&(b=bv(B,h,c,b,"previousSibling"),A=bv(B,h,c,A,"nextSibling")),(nc(N)||Va(N))&&(b=_s(a,h,b,"previousSibling"),A=_s(a,h,A,"nextSibling"),nc(N)&&(B.isBlock(b)||(b=ma(B,h,b,M,!0)),B.isBlock(A)||(A=ma(B,h,A,L,!1)))),lr(b)&&(M=B.nodeIndex(b),b=b.parentNode),lr(A)&&(L=B.nodeIndex(A)+1,A=A.parentNode),{startContainer:b,startOffset:M,endContainer:A,endOffset:L}}function wh(a,c,h){function m(te){var oe=te[0];Dn(oe)&&oe===B&&L>=oe.data.length&&te.splice(0,1);var se=te[te.length-1];return 0===N&&0<te.length&&se===G&&Dn(se)&&te.splice(te.length-1,1),te}function b(te,oe,se){for(var fe=[];te&&te!==se;te=te[oe])fe.push(te);return fe}function M(te,oe){return a.getParent(te,function(se){return se.parentNode===oe},oe)}function A(te,oe,se){for(var fe=se?"nextSibling":"previousSibling",pe=te;pe&&pe!==oe;pe=Ae){var Ae=pe.parentNode,ze=b(pe===te?pe:pe[fe],fe);ze.length&&(se||ze.reverse(),h(m(ze)))}}var L=c.startOffset,B=vu(c.startContainer,L),N=c.endOffset,G=vu(c.endContainer,N-1);if(B===G)return h(m([B]));var H=a.findCommonAncestor(B,G);if(a.isChildOf(B,G))return A(B,H,!0);if(a.isChildOf(G,B))return A(G,H);var X=M(B,H)||B,J=M(G,H)||G;A(B,X,!0);var ne=b(X===B?X:X.nextSibling,"nextSibling",J===G?J.nextSibling:J);ne.length&&h(m(ne)),A(G,J)}function Pp(a){var c=[];if(a)for(var h=0;h<a.rangeCount;h++)c.push(a.getRangeAt(h));return c}function r0(a,c){var h=cl(c,"td[data-mce-selected],th[data-mce-selected]");return 0<h.length?h:dt(Ms(a,function(m){var b=ch(m);return b?[it.fromDom(b)]:[]}),qo)}function Sh(a){return r0(Pp(a.selection.getSel()),it.fromDom(a.getBody()))}function Lp(a,c){return Fu(a,"table",c)}function Ch(a,c){return Eo((b=c.startContainer,M=c.startOffset,Dn(b)?0===M?De.some(it.fromDom(b)):De.none():De.from(b.childNodes[M]).map(it.fromDom)),(h=c.endContainer,m=c.endOffset,Dn(h)?m===h.data.length?De.some(it.fromDom(h)):De.none():De.from(h.childNodes[m-1]).map(it.fromDom)),function(A,L){var B=jo(hf(a),jt(Ut,A)),N=jo(wv(a),jt(Ut,L));return B.isSome()&&N.isSome()}).getOr(!1);var h,m,b,M}function lf(a,c,h,m){var b=h,M=new wi(h,b),A=Nr(a.schema.getMoveCaretBeforeOnEnterElements(),function(L,B){return!kr(["td","th","table"],B.toLowerCase())});do{if(Dn(h)&&0!==kt.trim(h.nodeValue).length)return m?c.setStart(h,0):c.setEnd(h,h.nodeValue.length),0;if(A[h.nodeName])return m?c.setStartBefore(h):"BR"===h.nodeName?c.setEndBefore(h):c.setEndAfter(h),0}while(h=m?M.next():M.prev());"BODY"===b.nodeName&&(m?c.setStart(b,0):c.setEnd(b,b.childNodes.length))}function rc(a){var c=a.selection.getSel();return c&&0<c.rangeCount}function gd(a,c){var h=Sh(a);0<h.length?It(h,function(m){var b=m.dom,M=a.dom.createRng();M.setStartBefore(b),M.setEndAfter(b),c(M,!0)}):c(a.selection.getRng(),!1)}function Ag(a,c,h){var m=Qm(a,c);h(m),a.moveToBookmark(m)}function md(a){return Np.get(a)}function Rp(a,c,h,m){var b=c.uid,M=void 0===b?cp("mce-annotation"):b,A=function(J,ne){var te={};for(se in J)Object.prototype.hasOwnProperty.call(J,se)&&ne.indexOf(se)<0&&(te[se]=J[se]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols)for(var oe=0,se=Object.getOwnPropertySymbols(J);oe<se.length;oe++)ne.indexOf(se[oe])<0&&Object.prototype.propertyIsEnumerable.call(J,se[oe])&&(te[se[oe]]=J[se[oe]]);return te}(c,["uid"]),L=it.fromTag("span",a);Xr(L,fh()),rl(L,""+qm(),M),rl(L,""+qd(),h);var B,N=m(M,A),G=N.attributes,H=N.classes,X=void 0===H?[]:H;return Rs(L,void 0===G?{}:G),B=L,It(X,function(J){Xr(B,J)}),L}function o0(a){var c,h,m,b=(c={},{register:function(A,L){c[A]={name:A,settings:L}},lookup:function(A){return Rn(c,A).map(function(L){return L.settings})}});m=b,(h=a).on("init",function(){h.serializer.addNodeFilter("span",function(A){It(A,function(L){De.from(L.attr(qd())).bind(m.lookup).each(function(B){!1===B.persistent&&L.unwrap()})})})});var M=function jy(a){function c(){return{listeners:[],previous:lh()}}function h(A,L){m(A,function(B){return L(B),B})}function m(A,L){var B=b.get(),N=L(Rn(B,A).getOrThunk(c));B[A]=N,b.set(B)}var b=os({}),M=eo(function(){var A=b.get();It(Ma(si(A)),function(L){m(L,function(B){var N=B.previous.get();return jm(a,De.some(L)).fold(function(){var G;N.isSome()&&(h(G=L,function(H){It(H.listeners,function(X){return X(!1,G)})}),B.previous.clear())},function(G){var H,X,J,ne=G.uid,te=G.name,oe=G.elements;Xa(N,ne)||(X=ne,J=oe,h(H=te,function(se){It(se.listeners,function(fe){return fe(!0,H,{uid:X,nodes:Tn(J,function(pe){return pe.dom})})})}),B.previous.set(ne))}),{previous:B.previous,listeners:B.listeners}})})},30);return a.on("remove",function(){M.cancel()}),a.on("NodeChange",function(){M.throttle()}),{addListener:function(A,L){m(A,function(B){return{previous:B.previous,listeners:B.listeners.concat([L])}})}}}(a);return{register:function(A,L){b.register(A,L)},annotate:function(A,L){b.lookup(A).each(function(B){var N,G,H,X;G=A,H=B,X=L,(N=a).undoManager.transact(function(){var J,ne,te,oe,se=N.selection,fe=se.getRng(),pe=0<Sh(N).length;fe.collapsed&&!pe&&(te=pd(J=N,ne=fe,[{inline:"span"}]),ne.setStart(te.startContainer,te.startOffset),ne.setEnd(te.endContainer,te.endOffset),J.selection.setRng(ne)),se.getRng().collapsed&&!pe?(is(oe=Rp(N.getDoc(),X,G,H.decorate),bo),se.getRng().insertNode(oe.dom),se.select(oe.dom)):Ag(se,!1,function(){gd(N,function(Ae){!function Ox(a,c,h,m,b){function M(){N.clear()}function A(H){It(H,G)}var L=[],B=Rp(a.getDoc(),b,h,m),N=lh(),G=function(H){var X,J,ne,te,se;switch(ne=a,se=No(te=H),yi(te).fold(function(){return"skipping"},function(fe){return"br"===se||ms(Ae=te)&&md(Ae)===Hn?"valid":fa(pe=te)&&V1(pe,fh())?"existing":Ba(te.dom)?"caret":af(ne,"span",se)&&af(ne,No(fe),"span")?"valid":"invalid-child";var pe,Ae})){case"invalid-child":M(),A(Di(H)),M();break;case"valid":ta(X=H,J=N.get().getOrThunk(function(){var fe=kc(B);return L.push(fe),N.set(fe),fe})),Ui(J,X)}};wh(a.dom,c,function(H){M(),A(Tn(H,it.fromDom))})}(N,Ae,G,H.decorate,X)})})})})},annotationChanged:function(A,L){M.addListener(A,L)},remove:function(A){jm(a,De.some(A)).each(function(L){It(L.elements,qc)})},getAll:function(A){var L,B,N;return fn((L=A,B=cl(it.fromDom(a.getBody()),"["+qd()+'="'+L+'"]'),N={},It(B,function(G){var H=ol(G,qm()),X=Rn(N,H).getOr([]);N[H]=X.concat([G])}),N),function(G){return Tn(G,function(H){return H.dom})})}}}function Mh(a){return{getBookmark:jt(Ig,a),moveToBookmark:jt(U1,a)}}function i0(a){return ag(a)||!!go(c=a)&&!0!==ir(ka(c.getElementsByTagName("*")),function(h,m){return h||O1(m)},!1);var c}(lv=Oo=Oo||{})[lv.Backwards=-1]="Backwards",lv[lv.Forwards=1]="Forwards";var xv,a0,uo=Dr,wu=Dn,oc=lr,Su=Po,Oi=T,vd=P,Rc=function(a,c,h){var m,b,M;if(!oc(h)||!c)return null;if(c.isEqual(_t.after(h))&&h.lastChild){if(M=_t.after(h.lastChild),a<0&&Oi(h.lastChild)&&oc(h.lastChild))return Su(h.lastChild)?_t.before(h.lastChild):M}else M=c;var A,L,B,N=M.container(),G=M.offset();if(wu(N)){if(a<0&&0<G)return _t(N,--G);if(0<a&&G<N.length)return _t(N,++G);m=N}else{if(a<0&&0<G&&(H=hv(N,G-1),Oi(H)))return!i0(H)&&(b=yu(H,a,vd,H))?wu(b)?_t(b,b.data.length):_t.after(b):wu(H)?_t(H,H.data.length):_t.before(H);if(0<a&&G<N.childNodes.length&&(H=hv(N,G),Oi(H)))return Su(H)?(A=h,(B=(L=H).nextSibling)&&Oi(B)?wu(B)?_t(B,0):_t.before(B):Rc(Oo.Forwards,_t.after(L),A)):!i0(H)&&(b=yu(H,a,vd,H))?wu(b)?_t(b,0):_t.before(b):wu(H)?_t(H,0):_t.after(H);m=H||M.getNode()}if((0<a&&M.isAtEnd()||a<0&&M.isAtStart())&&(m=yu(m,a,Kn,h,!0),vd(m,h)))return bh(a,m);var H=yu(m,a,vd,h),X=Do(dt(function(J,ne){for(var te=[];J&&J!==ne;)te.push(J),J=J.parentNode;return te}(N,h),uo));return!X||H&&X.contains(H)?H?bh(a,H):null:0<a?_t.after(X):_t.before(X)},Ys=function(a,c,h){var m=kl(c);return De.from(a?m.next(h):m.prev(h))},cf=function(a,c,h,m){return ni(a,c,h).bind(function(b){return m(b)?cf(a,c,b,m):De.some(b)})},Kl=jt(Ys,!0),Cu=jt(Ys,!1),us=jt(Dl,!0),Mu=jt(Dl,!1),s0="_mce_caret",Ig=function(a,c,h){return 2===c?vp(Li,h,a):3===c?(b=(m=a).getRng(),{start:qy(m.dom.getRoot(),_t.fromRangeStart(b)),end:qy(m.dom.getRoot(),_t.fromRangeEnd(b))}):c?{rng:a.getRng()}:Qm(a,!1);var m,b},yd=function(a){return"\xa0"===a},df=function(a,c){return void 0===c&&(c=!1),!(!rr(a)||!Dn(a))&&E(c?a.data.replace(/ /g,"\xa0"):a.data)},ff=Al,Op=sf,Pg=df,_v=ls,dl=function(a,c,h,m){var b=h.parentNode;return!rr(h[m])&&(!(b!==c&&!Tt(b)&&!a.isBlock(b))||dl(a,c,b,m))},hf=function(a){return hs(a).fold(Jt([a]),function(c){return[a].concat(hf(c))})},wv=function(a){return Ua(a).fold(Jt([a]),function(c){return"br"===No(c)?zi(c).map(function(h){return[a].concat(wv(h))}).getOr([]):[a].concat(wv(c))})},Np=(xv=ms,{get:function(a){if(!xv(a))throw new Error("Can only get text value of a text node");return a0(a).getOr("")},getOption:a0=function(a){return xv(a)?De.from(a.dom.nodeValue):De.none()},set:function(a,c){if(!xv(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=c}});function Th(a,c){for(;c&&c!==a;){if(na(c)||Dr(c))return c;c=c.parentNode}return null}function Lg(a,c,h){if(!h.collapsed){if(sr.browser.isIE()&&h.startOffset===h.endOffset-1&&h.startContainer===h.endContainer){var m=h.startContainer.childNodes[h.startOffset];if(lr(m))return Un(m.getClientRects(),function(b){return Xd(b,a,c)})}return Un(h.getClientRects(),function(b){return Xd(b,a,c)})}}function Rg(a,c,h){return a.fire(c,h)}function pf(a,c,h,m){return a.fire("FormatApply",{format:c,node:h,vars:m})}function kh(a,c,h,m){return a.fire("FormatRemove",{format:c,node:h,vars:m})}function gf(a,c){function h(Rt){return Rt&&("IMG"===Rt.nodeName||c.dom.is(Rt,"figure.image"))}function m(Rt){return Za(Rt)||$e.hasClass(Rt,"mce-preview-object")}function b(Rt){var pn=Rt.target;!function(Zt,Cn){if("longpress"!==Zt.type&&0!==Zt.type.indexOf("touch"))return h(Zt.target)&&!Lg(Zt.clientX,Zt.clientY,Cn);var Ln=Zt.touches[0];return h(Zt.target)&&!Lg(Ln.clientX,Ln.clientY,Cn)}(Rt,c.selection.getRng())||Rt.isDefaultPrevented()||c.selection.select(pn)}function M(Rt){return $e.is(Rt,"figure.image")?[Rt.querySelector("img")]:$e.hasClass(Rt,"mce-preview-object")&&rr(Rt.firstElementChild)?[Rt,Rt.firstElementChild]:[Rt]}function A(Rt){var pn=Sg(c);return!!pn&&"false"!==Rt.getAttribute("data-mce-resize")&&Rt!==c.getBody()&&($e.hasClass(Rt,"mce-preview-object")?Kt(it.fromDom(Rt.firstElementChild),pn):Kt(it.fromDom(Rt),pn))}function L(Rt,pn,Zt){rr(Zt)&&It(M(Rt),function(Cn){Cn.style[pn]||!c.schema.isValid(Cn.nodeName.toLowerCase(),pn)?$e.setStyle(Cn,pn,Zt):$e.setAttrib(Cn,pn,""+Zt)})}function B(Rt,pn,Zt){L(Rt,"width",pn),L(Rt,"height",Zt)}function N(Rt){var pn,Zt,Ye=Rt.screenX-fe,Mt=Rt.screenY-pe;Ie=(Ie=Ye*oe[2]+Ae)<5?5:Ie,Ke=(Ke=Mt*oe[3]+ze)<5?5:Ke,((h(J)||m(J))&&!1!==c.getParam("resize_img_proportional",!0,"boolean")?!Gn.modifierPressed(Rt):Gn.modifierPressed(Rt))&&(Yt(Ye)>Yt(Mt)?(Ke=an(Ie*me),Ie=an(Ke/me)):(Ie=an(Ke/me),Ke=an(Ie*me))),B(ne,Ie,Ke),$e.setStyles(te,{left:pn=0<(pn=oe.startPos.x+Ye)?pn:0,top:Zt=0<(Zt=oe.startPos.y+Mt)?Zt:0,display:"block"}),te.innerHTML=Ie+" &times; "+Ke,oe[2]<0&&ne.clientWidth<=Ie&&$e.setStyle(ne,"left",void 0+(Ae-Ie)),oe[3]<0&&ne.clientHeight<=Ke&&$e.setStyle(ne,"top",void 0+(ze-Ke)),(Ye=wt.scrollWidth-lt)+(Mt=wt.scrollHeight-pt)!=0&&$e.setStyles(te,{left:pn-Ye,top:Zt-Mt}),we||(c.fire("ObjectResizeStart",{target:J,width:Ae,height:ze,origin:"corner-"+oe.name}),we=!0)}function G(Rt){function pn(Cn,Ln){if(Cn)do{if(Cn===Ln)return 1}while(Cn=Cn.parentNode)}var Zt;we||c.removed||(qe($e.select("img[data-mce-selected],hr[data-mce-selected]"),function(Cn){Cn.removeAttribute(Ge)}),Zt="mousedown"===Rt.type?Rt.target:a.getNode(),pn(Zt=$e.$(Zt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],wt)&&(X(),pn(a.getStart(!0),Zt)&&pn(a.getEnd(!0),Zt))?Sn(Zt):qt())}function H(Rt){return j1(Th(c.getBody(),Rt))}function X(){try{c.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(Rt){}}var J,ne,te,oe,se,fe,pe,Ae,ze,me,we,Ie,Ke,lt,pt,Ge="data-mce-selected",$e=c.dom,qe=kt.each,et=c.getDoc(),bt=document,Yt=Math.abs,an=Math.round,wt=c.getBody(),St={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},mn=function(){var Ln=we;we=!1,Ln&&(L(J,"width",Ie),L(J,"height",Ke)),$e.unbind(et,"mousemove",N),$e.unbind(et,"mouseup",mn),bt!==et&&($e.unbind(bt,"mousemove",N),$e.unbind(bt,"mouseup",mn)),$e.remove(ne),$e.remove(te),$e.remove(se),Sn(J),Ln&&(c.fire("ObjectResized",{target:J,width:Ie,height:Ke,origin:"corner-"+oe.name}),$e.setAttrib(J,"style",$e.getAttrib(J,"style"))),c.nodeChanged()},Sn=function(Rt){Nn();var pn=$e.getPos(Rt,wt),Zt=pn.x,Cn=pn.y,Ln=Rt.getBoundingClientRect(),co=Ln.width||Ln.right-Ln.left,ke=Ln.height||Ln.bottom-Ln.top;J!==Rt&&(qt(),J=Rt,Ie=Ke=0);var Ye=c.fire("ObjectSelected",{target:Rt}),Mt=$e.getAttrib(J,Ge,"1");A(Rt)&&!Ye.isDefaultPrevented()?qe(St,function(Ot,Lt){var ln=$e.get("mceResizeHandle"+Lt);ln&&$e.remove(ln),ln=$e.add(wt,"div",{id:"mceResizeHandle"+Lt,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Lt+"-resize; margin:0; padding:0"}),11===sr.ie&&(ln.contentEditable=!1),$e.bind(ln,"mousedown",function(jn){var gr,Mo,mo;jn.stopImmediatePropagation(),jn.preventDefault(),gr=jn,mo=M(J)[0],fe=gr.screenX,pe=gr.screenY,me=(ze=mo.clientHeight)/(Ae=mo.clientWidth),(oe=Ot).name=Lt,oe.startPos={x:co*Ot[0]+Zt,y:ke*Ot[1]+Cn},lt=wt.scrollWidth,pt=wt.scrollHeight,se=$e.add(wt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),$e.setStyles(se,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),ne=m(Mo=J)?$e.create("img",{src:sr.transparentSrc}):Mo.cloneNode(!0),$e.addClass(ne,"mce-clonedresizable"),$e.setAttrib(ne,"data-mce-bogus","all"),ne.contentEditable="false",$e.setStyles(ne,{left:Zt,top:Cn,margin:0}),B(ne,co,ke),ne.removeAttribute(Ge),wt.appendChild(ne),$e.bind(et,"mousemove",N),$e.bind(et,"mouseup",mn),bt!==et&&($e.bind(bt,"mousemove",N),$e.bind(bt,"mouseup",mn)),te=$e.add(wt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Ae+" &times; "+ze)}),Ot.elm=ln,$e.setStyles(ln,{left:co*Ot[0]+Zt-ln.offsetWidth/2,top:ke*Ot[1]+Cn-ln.offsetHeight/2})}):qt(),$e.getAttrib(J,Ge)||J.setAttribute(Ge,Mt)},qt=function(){Nn(),J&&J.removeAttribute(Ge),Nt(St,function(Rt,pn){var Zt=$e.get("mceResizeHandle"+pn);Zt&&($e.unbind(Zt),$e.remove(Zt))})},Nn=function(){Nt(St,function(Rt){Rt.elm&&($e.unbind(Rt.elm),delete Rt.elm)})};return c.on("init",function(){var Rt;X(),(sr.browser.isIE()||sr.browser.isEdge())&&(c.on("mousedown click",function(Zt){var Cn=Zt.target,Ln=Cn.nodeName;we||!/^(TABLE|IMG|HR)$/.test(Ln)||H(Cn)||(2!==Zt.button&&c.selection.select(Cn,"TABLE"===Ln),"mousedown"===Zt.type&&c.nodeChanged())}),$e.bind(wt,"mscontrolselect",Rt=function(Zt){function Cn(Ln){Bo.setEditorTimeout(c,function(){return c.selection.select(Ln)})}if(H(Zt.target)||Za(Zt.target))return Zt.preventDefault(),void Cn(Zt.target);/^(TABLE|IMG|HR)$/.test(Zt.target.nodeName)&&(Zt.preventDefault(),"IMG"===Zt.target.tagName&&Cn(Zt.target))}),c.on("remove",function(){return $e.unbind(wt,"mscontrolselect",Rt)}));var pn=Bo.throttle(function(Zt){c.composing||G(Zt)});c.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",pn),c.on("keyup compositionend",function(Zt){J&&"TABLE"===J.nodeName&&pn(Zt)}),c.on("hide blur",qt),c.on("contextmenu longpress",b,!0)}),c.on("remove",Nn),{isResizable:A,showResizeRect:Sn,hideResizeRect:qt,updateResizeRect:G,destroy:function(){J=ne=se=null}}}function Og(a){return na(a)||Dr(a)}function Dh(a,c,h){var m,b,M,A,L,B=h;if(B.caretPositionFromPoint)(b=B.caretPositionFromPoint(a,c))&&((m=h.createRange()).setStart(b.offsetNode,b.offset),m.collapse(!0));else if(B.caretRangeFromPoint)m=B.caretRangeFromPoint(a,c);else if(B.body.createTextRange){m=B.body.createTextRange();try{m.moveToPoint(a,c),m.collapse(!0)}catch(N){m=function(G,H,X){var J,ne=X.elementFromPoint(G,H),te=X.body.createTextRange();if(ne&&"HTML"!==ne.tagName||(ne=X.body),te.moveToElementText(ne),0<(J=(J=kt.toArray(te.getClientRects())).sort(function(oe,se){return(oe=Math.abs(Math.max(oe.top-H,oe.bottom-H)))-Math.abs(Math.max(se.top-H,se.bottom-H))})).length){H=(J[0].bottom+J[0].top)/2;try{return te.moveToPoint(G,H),te.collapse(!0),te}catch(oe){}}return null}(a,c,h)}return A=h.body,L=(M=m)&&M.parentElement?M.parentElement():null,Dr(function(N,G,H){for(;N&&N!==G;){if(H(N))return N;N=N.parentNode}return null}(L,A,Og))?null:M}return m}function Ah(a,c){return a&&c&&a.startContainer===c.startContainer&&a.startOffset===c.startOffset&&a.endContainer===c.endContainer&&a.endOffset===c.endOffset}function l0(a,c,h){return null!==function(m,b,M){for(;m&&m!==b;){if(M(m))return m;m=m.parentNode}return null}(a,c,h)}function Sv(a){return a&&"TABLE"===a.nodeName}function Ng(a,c,h){for(var m=new wi(c,a.getParent(c.parentNode,a.isBlock)||a.getRoot());c=m[h?"prev":"next"]();)if(Po(c))return 1}function Cv(a,c,h,m,b){var M,A,L=a.getRoot(),B=a.schema.getNonEmptyElements(),N=a.getParent(b.parentNode,a.isBlock)||L;if(m&&Po(b)&&c&&a.isEmpty(N))return De.some(_t(b.parentNode,a.nodeIndex(b)));for(var G,H,X=new wi(b,N);A=X[m?"prev":"next"]();){if("false"===a.getContentEditableParent(A)||(H=L,Ia(G=A)&&!1===l0(G,H,Ba)))return De.none();if(Dn(A)&&0<A.nodeValue.length)return!1===l0(A,L,function(J){return"A"===J.nodeName})?De.some(_t(A,m?A.nodeValue.length:0)):De.none();if(a.isBlock(A)||B[A.nodeName.toLowerCase()])return De.none();M=A}return h&&M?De.some(_t(M,0)):De.none()}function Ep(a,c,h,m){var b,M=a.getRoot(),A=!1,L=m[(h?"start":"end")+"Container"],B=m[(h?"start":"end")+"Offset"],N=lr(L)&&B===L.childNodes.length,G=a.schema.getNonEmptyElements(),H=h;if(Ia(L))return De.none();if(lr(L)&&B>L.childNodes.length-1&&(H=!1),al(L)&&(L=M,B=0),L===M){if(H&&(X=L.childNodes[0<B?B-1:0])&&(Ia(X)||G[X.nodeName]||Sv(X)))return De.none();if(L.hasChildNodes()){if(B=Math.min(!H&&0<B?B-1:B,L.childNodes.length-1),B=Dn(L=L.childNodes[B])&&N?L.data.length:0,!c&&L===M.lastChild&&Sv(L)||function(ne,te){for(;te&&te!==ne;){if(Dr(te))return 1;te=te.parentNode}}(M,L)||Ia(L))return De.none();if(L.hasChildNodes()&&!1===Sv(L)){var X=L,J=new wi(L,M);do{if(Dr(X)||Ia(X)){A=!1;break}if(Dn(X)&&0<X.nodeValue.length){B=H?0:X.nodeValue.length,L=X,A=!0;break}if(G[X.nodeName.toLowerCase()]&&(!(b=X)||!/^(TD|TH|CAPTION)$/.test(b.nodeName))){B=a.nodeIndex(X),L=X.parentNode,H||B++,A=!0;break}}while(X=H?J.next():J.prev())}}}return c&&(Dn(L)&&0===B&&Cv(a,N,c,!0,L).each(function(ne){L=ne.container(),B=ne.offset(),A=!0}),lr(L)&&(!(X=(X=L.childNodes[B])||L.childNodes[B-1])||!Po(X)||X.previousSibling&&"A"===X.previousSibling.nodeName||Ng(a,X,!1)||Ng(a,X,!0)||Cv(a,N,c,!0,X).each(function(ne){L=ne.container(),B=ne.offset(),A=!0}))),H&&!c&&Dn(L)&&B===L.nodeValue.length&&Cv(a,N,c,!1,L).each(function(ne){L=ne.container(),B=ne.offset(),A=!0}),A?De.some(_t(L,B)):De.none()}function mf(a,c){var h=c.collapsed,m=c.cloneRange(),b=_t.fromRangeStart(c);return Ep(a,h,!0,m).each(function(M){h&&_t.isAbove(b,M)||m.setStart(M.container(),M.offset())}),h||Ep(a,h,!1,m).each(function(M){m.setEnd(M.container(),M.offset())}),h&&m.collapse(!0),Ah(c,m)?De.none():De.some(m)}function Bp(a,c){return a.splitText(c)}function bd(a){var c=a.startContainer,h=a.startOffset,m=a.endContainer,b=a.endOffset;return c===m&&Dn(c)?0<h&&h<c.nodeValue.length&&(c=(m=Bp(c,h)).previousSibling,h<b?(c=m=Bp(m,b-=h).previousSibling,b=m.nodeValue.length,h=0):b=0):(Dn(c)&&0<h&&h<c.nodeValue.length&&(c=Bp(c,h),h=0),Dn(m)&&0<b&&b<m.nodeValue.length&&(b=(m=Bp(m,b).previousSibling).nodeValue.length)),{startContainer:c,startOffset:h,endContainer:m,endOffset:b}}function vf(a){return{walk:function(c,h){return wh(a,c,h)},split:bd,normalize:function(c){return mf(a,c).fold(Pr,function(h){return c.setStart(h.startContainer,h.startOffset),c.setEnd(h.endContainer,h.endOffset),!0})}}}Mh.isBookmarkNode=Al;var Gn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(a){return a.shiftKey||a.ctrlKey||a.altKey||Gn.metaKeyPressed(a)},metaKeyPressed:function(a){return sr.mac?a.metaKey:a.ctrlKey&&!a.altKey}},j1=Dr;vf.compareRanges=Ah,vf.getCaretRangeFromPoint=Dh,vf.getSelectedNode=ch,vf.getNode=vu;var Eg,Xs,Bg=(Eg="height",Xs=function(a){var c=a.dom;return Zc(a)?c.getBoundingClientRect().height:c.offsetHeight},{set:function(a,c){if(!en(c)&&!c.match(/^[0-9]+$/))throw new Error(Eg+".set accepts only positive integer values. Value was "+c);var h=a.dom;ki(h)&&(h.style[Eg]=c+"px")},get:Mv,getOuter:Mv,aggregate:Tv,max:function(a,c,h){var m=Tv(a,h);return m<c?c-m:0}});function Mv(a){var c=Xs(a);if(c<=0||null===c){var h=Os(a,Eg);return parseFloat(h)||0}return c}function Tv(a,c){return ir(c,function(h,m){var b=Os(a,m),M=void 0===b?0:parseInt(b,10);return isNaN(M)?h:h+M},0)}function zg(a){return"textarea"===No(a)}function kv(a,c){var h=function(b){var M=b.dom.ownerDocument,A=M.body,L=M.defaultView,B=M.documentElement;if(A===b.dom)return il(A.offsetLeft,A.offsetTop);var N=Uf(null==L?void 0:L.pageYOffset,B.scrollTop),G=Uf(null==L?void 0:L.pageXOffset,B.scrollLeft),H=Uf(B.clientTop,A.clientTop),X=Uf(B.clientLeft,A.clientLeft);return $o(b).translate(G-X,N-H)}(a),m=Bg.get(a);return{element:a,bottom:h.top+m,height:m,pos:h,cleanup:c}}function xd(a,c,h,m){Nx(a,function(b,M){return Y1(a,c,h,m)},h)}function Oc(a,c,h,m,b){var M={elm:m.element.dom,alignToTop:b};a.fire("ScrollIntoView",M).isDefaultPrevented()||(h(c,yl(c).top,m,b),a.fire("AfterScrollIntoView",M))}function yf(a,c,h,m){var b=it.fromDom(a.getDoc());Oc(a,b,h,kv(it.fromDom(c),Mn),m)}function zp(a,c,h,m){var M=a.pos;iu(M.left,h?M.top:M.top-c+a.height,m)}function $l(a,c,h,m,b){var M=h+c,A=m.pos.top,L=m.bottom,B=h<=L-A;A<c?zp(m,h,!1!==b,a):M<A?zp(m,h,B?!1!==b:!0===b,a):M<L&&!B&&zp(m,h,!0===b,a)}function Vp(a,c,h,m){$l(a,c,a.dom.defaultView.innerHeight,h,m)}function Jl(a,c,h,m){$l(a,c,a.dom.defaultView.innerHeight,h,m);var b,M,A,L,B,N,G,H=(b=h.element,L=yl(it.fromDom(document)),A=(M=Xg).owner(b),B=Sf(M,A),N=$o(b),G=ge(B,function(J,ne){var te=$o(ne);return{left:J.left+te.left,top:J.top+te.top}},{left:0,top:0}),il(G.left+N.left+L.left,G.top+N.top+L.top)),X=Qr(window);H.top<X.y?ps(h.element,!1!==m):H.top>X.bottom&&ps(h.element,!0===m)}function va(a,c,h){return xd(a,Vp,c,h)}function Vg(a,c,h){return yf(a,c,Vp,h)}function Fg(a,c,h){return xd(a,Jl,c,h)}function bf(a,c,h){return yf(a,c,Jl,h)}function ic(a,c,h){(a.inline?va:Fg)(a,c,h)}function u0(a){var c=gi(a).dom;return a.dom===c.activeElement}function xf(a){return void 0===a&&(a=it.fromDom(document)),De.from(a.dom.activeElement).map(it.fromDom)}function Hr(a,c){var h=ms(c)?md(c).length:Di(c).length+1;return h<a?h:a<0?0:a}function Hg(a){return _.range(a.start,Hr(a.soffset,a.start),a.finish,Hr(a.foffset,a.finish))}function _f(a,c){return!bl(c.dom)&&(at(a,c)||Ut(a,c))}function Ih(a){return function(c){return _f(a,c.start)&&_f(a,c.finish)}}function c0(a){return!0===a.inline||D.isIE()}function Nc(a){return _.range(it.fromDom(a.startContainer),a.startOffset,it.fromDom(a.endContainer),a.endOffset)}function ac(a){var c=document.createRange();try{return c.setStart(a.start.dom,a.soffset),c.setEnd(a.finish.dom,a.foffset),De.some(c)}catch(h){return De.none()}}function Tu(a){var c,h,m=c0(a)?((h=Bi(c=it.fromDom(a.getBody())).dom.getSelection())&&0!==h.rangeCount?De.from(h.getRangeAt(0)):De.none()).map(Nc).filter(Ih(c)):De.none();a.bookmark=m.isSome()?m:a.bookmark}function _d(a){return(a.bookmark||De.none()).bind(function(c){return h=it.fromDom(a.getBody()),De.from(c).filter(Ih(h)).map(Hg);var h}).bind(ac)}function wf(a,c){var h=a.getParam("custom_ui_selector","","string");return null!==W.getParent(c,function(m){return z.isEditorUIElement(m)||!!h&&a.dom.is(m,h)})}function ku(a,c){var h=c.editor;(function sc(a){var c=Yd(function(){Tu(a)},0);a.on("init",function(){function h(){b.throttle()}var m,b,M,A,L,B;a.inline&&(m=a,b=c,Uo.DOM.bind(document,"mouseup",h),m.on("remove",function(){Uo.DOM.unbind(document,"mouseup",h)})),M=a,A=c,_i().browser.isIE()?(B=M).on("focusout",function(){Tu(B)}):(L=A,M.on("mouseup touchend",function(N){L.throttle()})),M.on("keyup NodeChange",function(N){"nodechange"===N.type&&N.selectionChange||Tu(M)})}),a.on("remove",function(){c.cancel()})})(h),h.on("focusin",function(){var m=a.focusedEditor;m!==h&&(m&&m.fire("blur",{focusedEditor:h}),a.setActive(h),(a.focusedEditor=h).fire("focus",{blurredEditor:m}),h.focus(!0))}),h.on("focusout",function(){Bo.setEditorTimeout(h,function(){var m=a.focusedEditor;wf(h,function(b){try{return xf(gi(it.fromDom(b.getElement()))).fold(function(){return document.body},function(M){return M.dom})}catch(M){return document.body}}(h))||m!==h||(h.fire("blur",{focusedEditor:null}),a.focusedEditor=null)})}),wd||(wd=function(m){var b=a.activeEditor;b&&function(M){if(ig()&&rr(M.target)){var A=it.fromDom(M.target);if(fa(A)&&rr(A.dom.shadowRoot)&&M.composed&&M.composedPath){var L=M.composedPath();if(L)return Dt(L)}}return De.from(M.target)}(m).each(function(M){M.ownerDocument===document&&(M===document.body||wf(b,M)||a.focusedEditor!==b||(b.fire("blur",{focusedEditor:null}),a.focusedEditor=null))})},W.bind(document,"focusin",wd))}function d0(a,c){a.focusedEditor===c.editor&&(a.focusedEditor=null),a.activeEditor||(W.unbind(document,"focusin",wd),wd=null)}function Ph(a,c){var h,m;h=it.fromDom(a.getBody()),((m=c).collapsed?De.from(vu(m.startContainer,m.startOffset)).map(it.fromDom):De.none()).bind(function(b){return po(b)?De.some(b):!1===at(h,b)?De.some(h):De.none()}).bind(function(b){return us(b.dom)}).fold(function(){a.selection.normalize()},function(b){return a.selection.setRng(b.toRange())})}function lc(a){if(a.setActive)try{a.setActive()}catch(c){a.focus()}else a.focus()}function ws(a){return a.inline?(m=a.getBody())&&(u0(c=it.fromDom(m))||xf(gi(h=c)).filter(function(b){return h.dom.contains(b.dom)}).isSome()):a.iframeElement&&u0(it.fromDom(a.iframeElement));var c,h,m}function Wg(a,c,h,m,b){var A=h?c.startOffset:c.endOffset;return De.from(h?c.startContainer:c.endContainer).map(it.fromDom).map(function(L){return m&&c.collapsed?L:Is(L,b(L,A)).getOr(L)}).bind(function(L){return fa(L)?De.some(L):yi(L).filter(fa)}).map(function(L){return L.dom}).getOr(a)}function Lh(a,c,h){return Wg(a,c,!0,h,function(m,b){return Math.min(ja(m),b)})}function Fp(a,c,h){return Wg(a,c,!1,h,function(m,b){return 0<b?b-1:b})}function Gg(a,c){for(var h=a;a&&Dn(a)&&0===a.length;)a=c?a.nextSibling:a.previousSibling;return a||h}function Ug(a,c){return Tn(c,function(h){var m=a.fire("GetSelectionRange",{range:h});return m.range!==h?m.range:h})}function jg(a,c,h){var m=h?"lastChild":"firstChild",b=h?"prev":"next";if(a[m])return a[m];if(a!==c){var M=a[b];if(M)return M;for(var A=a.parent;A&&A!==c;A=A.parent)if(M=A[b])return M}}function Yg(a){var c="a"===a.name&&!a.attr("href")&&a.attr("id");return a.attr("name")||a.attr("id")&&!a.firstChild||a.attr("data-mce-bookmark")||c}var wd,Sf=function(a,c){return a.view(c).fold(Jt([]),function(h){var m=a.owner(h),b=Sf(a,m);return[h].concat(b)})},Xg=Object.freeze({__proto__:null,view:function(a){var c;return(a.dom===document?De.none():De.from(null===(c=a.dom.defaultView)||void 0===c?void 0:c.frameElement)).map(it.fromDom)},owner:ml}),Y1=function(a,c,h,m){it.fromDom(a.getBody());var B,N,M=it.fromDom(a.getDoc()),G=(B=function(H,X){var J=Di(H);if(0===J.length||zg(H))return{element:H,offset:X};if(X<J.length&&!zg(J[X]))return{element:J[X],offset:0};var ne=J[J.length-1];return zg(ne)?{element:H,offset:X}:"img"===No(ne)?{element:ne,offset:1}:ms(ne)?{element:ne,offset:md(ne).length}:{element:ne,offset:Di(ne).length}}(it.fromDom(h.startContainer),h.startOffset),N=it.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>'),ta(B.element,N),kv(N,function(){return Ai(N)}));Oc(a,M,c,G,m),G.cleanup()},Nx=function(a,c,h){var m=h.startContainer,b=h.startOffset,M=h.endContainer,A=h.endOffset;c(it.fromDom(m),it.fromDom(M));var L=a.dom.createRng();L.setStart(m,b),L.setEnd(M,A),a.selection.setRng(h)},f0=(xl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(a){return a.fold(ho,ho,ho)}),Zg=xl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),_={domRange:Zg.domRange,relative:Zg.relative,exact:Zg.exact,exactFromRange:function(a){return Zg.exact(a.start,a.soffset,a.finish,a.foffset)},getWin:function(a){return Bi(a.match({domRange:function(c){return it.fromDom(c.startContainer)},relative:function(c,h){return f0(c)},exact:function(c,h,m,b){return c}}))},range:function(a,c,h,m){return{start:a,soffset:c,finish:h,foffset:m}}},D=_i().browser,z={isEditorUIElement:function(a){var c=a.className.toString();return-1!==c.indexOf("tox-")||-1!==c.indexOf("mce-")}},W=Uo.DOM,K=function(a){return a.editorManager.setActive(a)},Q={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},le=(de.create=function(a,c){var h=new de(a,Q[a]||1);return c&&Nt(c,function(m,b){h.attr(b,m)}),h},de.prototype.replace=function(a){return a.parent&&a.remove(),this.insert(a,this),this.remove(),this},de.prototype.attr=function(a,c){var h,m=this;if("string"!=typeof a)return null!=a&&Nt(a,function(M,A){m.attr(A,M)}),m;if(h=m.attributes){if(void 0===c)return h.map[a];if(null===c){if(a in h.map){delete h.map[a];for(var b=h.length;b--;)if(h[b].name===a)return h.splice(b,1),m}return m}if(a in h.map){for(b=h.length;b--;)if(h[b].name===a){h[b].value=c;break}}else h.push({name:a,value:c});return h.map[a]=c,m}},de.prototype.clone=function(){var a,c=new de(this.name,this.type);if(a=this.attributes){var h=[];h.map={};for(var m=0,b=a.length;m<b;m++){var M=a[m];"id"!==M.name&&(h[h.length]={name:M.name,value:M.value},h.map[M.name]=M.value)}c.attributes=h}return c.value=this.value,c.shortEnded=this.shortEnded,c},de.prototype.wrap=function(a){return this.parent.insert(a,this),a.append(this),this},de.prototype.unwrap=function(){for(var a=this.firstChild;a;){var c=a.next;this.insert(a,this,!0),a=c}this.remove()},de.prototype.remove=function(){var a=this.parent,c=this.next,h=this.prev;return a&&(a.firstChild===this?(a.firstChild=c)&&(c.prev=null):h.next=c,a.lastChild===this?(a.lastChild=h)&&(h.next=null):c.prev=h,this.parent=this.next=this.prev=null),this},de.prototype.append=function(a){a.parent&&a.remove();var c=this.lastChild;return c?((c.next=a).prev=c,this.lastChild=a):this.lastChild=this.firstChild=a,a.parent=this,a},de.prototype.insert=function(a,c,h){a.parent&&a.remove();var m=c.parent||this;return h?(c===m.firstChild?m.firstChild=a:c.prev.next=a,a.prev=c.prev,(a.next=c).prev=a):(c===m.lastChild?m.lastChild=a:c.next.prev=a,a.next=c.next,(a.prev=c).next=a),a.parent=m,a},de.prototype.getAll=function(a){for(var c=[],h=this.firstChild;h;h=jg(h,this))h.name===a&&c.push(h);return c},de.prototype.children=function(){for(var a=[],c=this.firstChild;c;c=c.next)a.push(c);return a},de.prototype.empty=function(){if(this.firstChild){for(var a=[],c=this.firstChild;c;c=jg(c,this))a.push(c);for(var h=a.length;h--;)(c=a[h]).parent=c.firstChild=c.lastChild=c.next=c.prev=null}return this.firstChild=this.lastChild=null,this},de.prototype.isEmpty=function(a,c,h){void 0===c&&(c={});var m=this.firstChild;if(Yg(this))return!1;if(m)do{if(1===m.type){if(m.attr("data-mce-bogus"))continue;if(a[m.name]||Yg(m))return!1}if(8===m.type||3===m.type&&!function(b){if(E(b.value)){var M=b.parent;return!M||"span"===M.name&&!M.attr("style")||!/^[ ]+$/.test(b.value)}}(m)||3===m.type&&m.parent&&c[m.parent.name]&&E(m.value)||h&&h(m))return!1}while(m=jg(m,this));return!0},de.prototype.walk=function(a){return jg(this,null,a)},de);function de(a,c){this.name=a,1===(this.type=c)&&(this.attributes=[],this.attributes.map={})}function xe(a,c){return a.replace(c.re,function(h){return Rn(c.uris,h).getOr(h)})}var Te=kt.each,Ne=kt.trim,Ee="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Oe={ftp:21,http:80,https:443,mailto:25},nt=["img","video"],Fe=(Qe.parseDataUri=function(a){var c,h=decodeURIComponent(a).split(","),m=/data:([^;]+)/.exec(h[0]);return{type:c=m?m[1]:c,data:h[1]}},Qe.isDomSafe=function(a,c,h){if((h=void 0===h?{}:h).allow_script_urls)return!0;var m,b,M,A,L=sl.decode(a).replace(/[\s\u0000-\u001F]+/g,"");try{L=decodeURIComponent(L)}catch(B){L=unescape(L)}return!(/((java|vb)script|mhtml):/i.test(L)||(b=L,M=c,!(m=h).allow_html_data_urls&&(/^data:image\//i.test(b)?(rr(A=m.allow_svg_data_urls)?!A:!rr(M)||!kr(nt,M))&&/^data:image\/svg\+xml/i.test(b):/^data:/i.test(b))))},Qe.getDocumentBaseUrl=function(a){var c=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/")),c},Qe.prototype.setPath=function(a){var c=/^(.*?)\/?(\w+)?$/.exec(a);this.path=c[0],this.directory=c[1],this.file=c[2],this.source="",this.getURI()},Qe.prototype.toRelative=function(a){var c;if("./"===a)return a;var h=new Qe(a,{base_uri:this});if("mce_host"!==h.host&&this.host!==h.host&&h.host||this.port!==h.port||this.protocol!==h.protocol&&""!==h.protocol)return h.getURI();var m=this.getURI(),b=h.getURI();return m===b||"/"===m.charAt(m.length-1)&&m.substr(0,m.length-1)===b?m:(c=this.toRelPath(this.path,h.path),h.query&&(c+="?"+h.query),h.anchor&&(c+="#"+h.anchor),c)},Qe.prototype.toAbsolute=function(a,c){var h=new Qe(a,{base_uri:this});return h.getURI(c&&this.isSameOrigin(h))},Qe.prototype.isSameOrigin=function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;var c=Oe[this.protocol];if(c&&(this.port||c)==(a.port||c))return!0}return!1},Qe.prototype.toRelPath=function(a,c){var h,m,b=0,M="",A=a.substring(0,a.lastIndexOf("/")).split("/"),L=c.split("/");if(A.length>=L.length)for(h=0,m=A.length;h<m;h++)if(h>=L.length||A[h]!==L[h]){b=h+1;break}if(A.length<L.length)for(h=0,m=L.length;h<m;h++)if(h>=A.length||A[h]!==L[h]){b=h+1;break}if(1===b)return c;for(h=0,m=A.length-(b-1);h<m;h++)M+="../";for(h=b-1,m=L.length;h<m;h++)M+=h!==b-1?"/"+L[h]:L[h];return M},Qe.prototype.toAbsPath=function(a,c){var h,m,b=0,M=[],A=/\/$/.test(c)?"/":"",L=a.split("/"),B=c.split("/");for(Te(L,function(N){N&&M.push(N)}),L=M,h=B.length-1,M=[];0<=h;h--)0!==B[h].length&&"."!==B[h]&&(".."!==B[h]?0<b?b--:M.push(B[h]):b++);return 0!==(m=(h=L.length-b)<=0?ko(M).join("/"):L.slice(0,h).join("/")+"/"+ko(M).join("/")).indexOf("/")&&(m="/"+m),A&&m.lastIndexOf("/")!==m.length-1&&(m+=A),m},Qe.prototype.getURI=function(a){var c;return void 0===a&&(a=!1),this.source&&!a||(c="",a||(c+=this.protocol?this.protocol+"://":"//",this.userInfo&&(c+=this.userInfo+"@"),this.host&&(c+=this.host),this.port&&(c+=":"+this.port)),this.path&&(c+=this.path),this.query&&(c+="?"+this.query),this.anchor&&(c+="#"+this.anchor),this.source=c),this.source},Qe);function Qe(a,c){a=Ne(a),this.settings=c||{};var h,m,b,M,A=this.settings.base_uri,L=this;/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a)?L.source=a:(h=0===a.indexOf("//"),0!==a.indexOf("/")||h||(a=(A&&A.protocol||"http")+"://mce_host"+a),/^[\w\-]*:?\/\//.test(a)||(m=this.settings.base_uri?this.settings.base_uri.path:new Qe(document.location.href).directory,a=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+L.toAbsPath(m,a):(b=/([^#?]*)([#?]?.*)/.exec(a),(A&&A.protocol||"http")+"://mce_host"+L.toAbsPath(m,b[1])+b[2])),a=a.replace(/@@/g,"(mce_at)"),M=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a),Te(Ee,function(B,N){var G=(G=M[N])&&G.replace(/\(mce_at\)/g,"@@");L[B]=G}),A&&(L.protocol||(L.protocol=A.protocol),L.userInfo||(L.userInfo=A.userInfo),L.port||"mce_host"!==L.host||(L.port=A.port),L.host&&"mce_host"!==L.host||(L.host=A.host),L.source=""),h&&(L.protocol=""))}function gt(a,c,h){for(var m=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,b=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,M=a.getShortEndedElements(),A=1,L=h;0!==A;)for(m.lastIndex=L;;){var B=m.exec(c);if(null===B)return L;if("!"===B[1]){L=$n(B[2],"--")?Pt(c,!1,B.index+3):Pt(c,!0,B.index+1);break}b.lastIndex=m.lastIndex;var N=b.exec(c);if(!er(N)&&N.index===m.lastIndex){"/"===B[1]?--A:Rr(M,B[2])||(A+=1),L=m.lastIndex+N[0].length;break}}return L}function Ve(a,c){var h;void 0===c&&(c=Xe());var m=null!==(h=(a=a||{}).document)&&void 0!==h?h:document,b=m.createElement("form");!1!==a.fix_self_closing&&(a.fix_self_closing=!0);var A=a.comment||Mn,L=a.cdata||Mn,B=a.text||Mn,N=a.start||Mn,G=a.end||Mn,H=a.pi||Mn,X=a.doctype||Mn;return{parse:function(J,ne){void 0===ne&&(ne="html"),function M(J,ne){void 0===ne&&(ne="html");for(var te,oe,se,fe,pe,Ae,ze,me,we,Ie,Ke,lt,pt,Ge,$e,qe,et,bt,Yt,an=J.html,wt=0,St=[],mn=0,Sn=sl.decode,qt=kt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Nn="html"===ne?0:1,Rt=function(Zn){for(var io,Vo=St.length;Vo--&&St[Vo].name!==Zn;);if(0<=Vo){for(io=St.length-1;Vo<=io;io--)(Zn=St[io]).valid&&G(Zn.name);St.length=Vo}},pn=function(Zn,io){return B(xe(Zn,J),io)},Zt=function(Zn){""!==Zn&&(">"===Zn.charAt(0)&&(Zn=" "+Zn),a.allow_conditional_comments||"[if"!==Zn.substr(0,3).toLowerCase()||(Zn=" "+Zn),A(xe(Zn,J)))},Cn=function(Zn,io){var Vo=Zn||"",Ha=!$n(Vo,"--"),xa=Pt(an,Ha,io);return Zn=an.substr(io,xa-io),Zt(Ha?Vo+Zn:Zn),xa+1},Ln=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),co=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ke=c.getShortEndedElements(),Ye=a.self_closing_elements||c.getSelfClosingElements(),Mt=c.getBoolAttrs(),Ot=a.validate,Lt=a.remove_internals,ln=a.fix_self_closing,jn=c.getSpecialElements(),gr=an+">";te=Ln.exec(gr);){var Mo=te[0];if(wt<te.index&&pn(Sn(an.substr(wt,te.index-wt))),oe=te[7])Rt(oe=":"===(oe=oe.toLowerCase()).charAt(0)?oe.substr(1):oe);else if(oe=te[8]){if(te.index+Mo.length>an.length){pn(Sn(an.substr(te.index))),wt=te.index+Mo.length;continue}we=(oe=":"===(oe=oe.toLowerCase()).charAt(0)?oe.substr(1):oe)in ke,ln&&Ye[oe]&&0<St.length&&St[St.length-1].name===oe&&Rt(oe);var mo=function(Zn,io){var Vo=Zn.exec(io);if(Vo){var Ha=Vo[1],xa=Vo[2];return"string"==typeof Ha&&"data-mce-bogus"===Ha.toLowerCase()?xa:null}return null}(co,te[9]);if(null!==mo){if("all"===mo){wt=gt(c,an,Ln.lastIndex),Ln.lastIndex=wt;continue}Ke=!1}if(!Ot||(Ie=c.getElementRule(oe))){if(Ke=!0,Ot&&(Ge=Ie.attributes,$e=Ie.attributePatterns),(pt=te[9])?((me=-1!==pt.indexOf("data-mce-type"))&&Lt&&(Ke=!1),(fe=[]).map={},pt.replace(co,function(Zn,io,Vo,Ha,xa){return function(Uc,$i,Ss,Ld,Ay){var Zh;if(Ss=xe(($i=$i.toLowerCase())in Mt?$i:Sn(Ss||Ld||Ay||""),J),Ot&&!me&&0==(0===(Zh=$i).indexOf("data-")||0===Zh.indexOf("aria-"))){var Rd=Ge[$i];if(!Rd&&$e){for(var Od=$e.length;Od--&&!(Rd=$e[Od]).pattern.test($i););-1===Od&&(Rd=null)}if(!Rd||Rd.validValues&&!(Ss in Rd.validValues))return}("name"===$i||"id"===$i)&&Uc in rt&&(Ss in m||Ss in b)||qt[$i]&&!Fe.isDomSafe(Ss,Uc,a)||me&&($i in qt||0===$i.indexOf("on"))||(fe.map[$i]=Ss,fe.push({name:$i,value:Ss}))}(oe,io,Vo,Ha,xa),""})):(fe=[]).map={},Ot&&!me){if(qe=Ie.attributesRequired,et=Ie.attributesDefault,Ie.removeEmptyAttrs&&!fe.length&&(Ke=!1),bt=Ie.attributesForced)for(pe=bt.length;pe--;)ze=(lt=bt[pe]).name,"{$uid}"===(Yt=lt.value)&&(Yt="mce_"+mn++),fe.map[ze]=Yt,fe.push({name:ze,value:Yt});if(et)for(pe=et.length;pe--;)(ze=(lt=et[pe]).name)in fe.map||("{$uid}"===(Yt=lt.value)&&(Yt="mce_"+mn++),fe.map[ze]=Yt,fe.push({name:ze,value:Yt}));if(qe){for(pe=qe.length;pe--&&!(qe[pe]in fe.map););-1===pe&&(Ke=!1)}if(lt=fe.map["data-mce-bogus"]){if("all"===lt){wt=gt(c,an,Ln.lastIndex),Ln.lastIndex=wt;continue}Ke=!1}}Ke&&N(oe,fe,we)}else Ke=!1;if(se=jn[oe]){se.lastIndex=wt=te.index+Mo.length,wt=(te=se.exec(an))?(Ke&&(Ae=an.substr(wt,te.index-wt)),te.index+te[0].length):(Ae=an.substr(wt),an.length),Ke&&(0<Ae.length&&pn(Ae,!0),G(oe)),Ln.lastIndex=wt;continue}we||(pt&&pt.indexOf("/")===pt.length-1?Ke&&G(oe):St.push({name:oe,valid:Ke}))}else if(oe=te[1])Zt(oe);else if(oe=te[2]){if(!(1==Nn||a.preserve_cdata||0<St.length&&c.isValidChild(St[St.length-1].name,"#cdata"))){wt=Cn("",te.index+2),Ln.lastIndex=wt;continue}L(oe)}else if(oe=te[3])X(oe);else{if((oe=te[4])||"<!"===Mo){wt=Cn(oe,te.index+Mo.length),Ln.lastIndex=wt;continue}if(oe=te[5]){if(1!=Nn){wt=Cn("?",te.index+2),Ln.lastIndex=wt;continue}H(oe,te[6])}}wt=te.index+Mo.length}for(wt<an.length&&pn(Sn(an.substr(wt))),pe=St.length-1;0<=pe;pe--)(oe=St[pe]).valid&&G(oe.name)}(function(te){for(var oe,se=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,fe=[],pe={},Ae=cp("img"),ze=0,me=0;oe=se.exec(te);){var we=oe[0],Ie=Ae+"_"+me++;pe[Ie]=we,ze<oe.index&&fe.push(te.substr(ze,oe.index-ze)),fe.push(Ie),ze=oe.index+we.length}var Ke=new RegExp(Ae+"_[0-9]+","g");return 0===ze?{prefix:Ae,uris:pe,html:te,re:Ke}:(ze<te.length&&fe.push(te.substr(ze)),{prefix:Ae,uris:pe,html:fe.join(""),re:Ke})}(J),ne)}}}var rt=kt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Pt=function(a,c,h){void 0===h&&(h=0);var m=a.toLowerCase();if(-1!==m.indexOf("[if ",h)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(m.substr(h))){var b=m.indexOf("[endif]",h);return m.indexOf(">",b)}if(c){var M=m.indexOf(">",h);return-1!==M?M:m.length}var A=/--!?>/g;A.lastIndex=h;var B=A.exec(a);return B?B.index+B[0].length:m.length};function Ze(a,c){for(var h,m,b,M,A=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,L=a.schema,B=(h=a.getTempAttrs(),m=c,b=new RegExp(["\\s?("+h.join("|")+')="[^"]+"'].join("|"),"gi"),m.replace(b,"")),N=L.getShortEndedElements();M=A.exec(B);){var G=A.lastIndex,H=M[0].length,X=N[M[1]]?G:Ve.findEndTag(L,B,G);B=B.substring(0,G-H)+B.substring(X),A.lastIndex=G-H}return Li(B)}function Et(a){return{compare:function(c,h){return c.nodeName===h.nodeName&&!(!b(m(c),m(h))||!b(a.parseStyle(a.getAttrib(c,"style")),a.parseStyle(a.getAttrib(h,"style")))||Al(c)||Al(h));function m(M){var A={};return On(a.getAttribs(M),function(L){var B=L.nodeName.toLowerCase();0!==B.indexOf("_")&&"style"!==B&&0!==B.indexOf("data-")&&(A[B]=a.getAttrib(M,B))}),A}function b(M,A){var L,B;for(B in M)if(Rr(M,B)){if(void 0===(L=A[B])||M[B]!==L)return;delete A[B]}for(B in A)if(Rr(A,B))return;return 1}}}}function yt(a){var c=[],h=(a=a||{}).indent,m=ur(a.indent_before||""),b=ur(a.indent_after||""),M=sl.getEncodeFunc(a.entity_encoding||"raw",a.entities),A="html"===a.element_format;return{start:function(L,B,N){var G,H,X,J;if(h&&m[L]&&0<c.length&&0<(J=c[c.length-1]).length&&"\n"!==J&&c.push("\n"),c.push("<",L),B)for(G=0,H=B.length;G<H;G++)c.push(" ",(X=B[G]).name,'="',M(X.value,!0),'"');c[c.length]=!N||A?">":" />",N&&h&&b[L]&&0<c.length&&0<(J=c[c.length-1]).length&&"\n"!==J&&c.push("\n")},end:function(L){var B;c.push("</",L,">"),h&&b[L]&&0<c.length&&0<(B=c[c.length-1]).length&&"\n"!==B&&c.push("\n")},text:function(L,B){0<L.length&&(c[c.length]=B?L:M(L))},cdata:function(L){c.push("<![CDATA[",L,"]]>")},comment:function(L){c.push("\x3c!--",L,"--\x3e")},pi:function(L,B){B?c.push("<?",L," ",M(B),"?>"):c.push("<?",L,"?>"),h&&c.push("\n")},doctype:function(L){c.push("<!DOCTYPE",L,">",h?"\n":"")},reset:function(){c.length=0},getContent:function(){return c.join("").replace(/\n$/,"")}}}function An(a,c){void 0===c&&(c=Xe());var h=yt(a);return(a=a||{}).validate=!("validate"in a)||a.validate,{serialize:function(m){var b=a.validate,M={3:function(L){h.text(L.value,L.raw)},8:function(L){h.comment(L.value)},7:function(L){h.pi(L.name,L.value)},10:function(L){h.doctype(L.value)},4:function(L){h.cdata(L.value)},11:function(L){if(L=L.firstChild)for(;A(L),L=L.next;);}};h.reset();var A=function(L){var B=M[L.type];if(B)B(L);else{var N=L.name,G=L.shortEnded,H=L.attributes;if(b&&H&&1<H.length){var X=[];X.map={};var J=c.getElementRule(L.name);if(J){for(var ne=0,te=J.attributesOrder.length;ne<te;ne++)(oe=J.attributesOrder[ne])in H.map&&(X.map[oe]=se=H.map[oe],X.push({name:oe,value:se}));var oe,se;for(ne=0,te=H.length;ne<te;ne++)(oe=H[ne].name)in X.map||(X.map[oe]=se=H.map[oe],X.push({name:oe,value:se}));H=X}}if(h.start(L.name,H,G),!G){if(L=L.firstChild)for(;A(L),L=L.next;);h.end(N)}}};return 1!==m.type||a.inner?M[11](m):A(m),h.getContent()}}}Ve.findEndTag=gt;var Wt=Ze,On=kt.each,ur=kt.makeMap,Qn=new Set;function hr(a,c){return si(a.parseStyle(a.getAttrib(c,"style")))}function Er(a,c,h){return De.from(h.container()).filter(Dn).exists(function(m){var b=a?0:-1;return c(m.data.charAt(h.offset()+b))})}function wr(a){var c=a.container();return Dn(c)&&(0===c.data.length||Pi(c.data)&&Mh.isBookmarkNode(c.parentNode))}function Br(a,c){return function(h){return De.from(Ca(a?0:-1,h)).filter(c).isSome()}}function Ur(a){return _r(a)&&"block"===Os(it.fromDom(a),"display")}function Co(a){return Dr(a)&&!(lr(c=a)&&"all"===c.getAttribute("data-mce-bogus"));var c}function pr(a){Xc(a),Ui(a,it.fromHtml('<br data-mce-bogus="1">'))}function Io(a){Ua(a).each(function(c){zi(c).each(function(h){fr(a)&&Wu(c)&&fr(h)&&Ai(c)})})}function Wr(a,c){return b=Pr,at(m=c,h=a)?function(M,A){for(var L=Qt(A)?A:Pr,B=M.dom,N=[];null!=B.parentNode;){var G=B.parentNode,H=it.fromDom(G);if(N.push(H),!0===L(H))break;B=G}return N}(h,function(M){return b(M)||Ut(M,m)}).slice(0,-1):[];var h,m,b}function jr(a,c){return[a].concat(Wr(a,c))}function ri(a,c,h){return cf(a,c,h,wr)}function qs(a,c){return jo(jr(it.fromDom(c.container()),a),fr)}function Fa(a,c,h){return ri(a,c.dom,h).forall(function(m){return qs(c,h).fold(function(){return!1===Us(m,h,c.dom)},function(b){return!1===Us(m,h,c.dom)&&at(b,it.fromDom(m.container()))})})}function Xi(a,c,h){return qs(c,h).fold(function(){return ri(a,c.dom,h).forall(function(m){return!1===Us(m,h,c.dom)})},function(m){return ri(a,m.dom,h).isNone()})}function Du(a){return vh(a).exists(Wu)}function Cf(a,c,h){var m=Dt(dt(jr(it.fromDom(h.container()),c),fr)).getOr(c);return Ys(a,m.dom,h).filter(Du)}function Ec(a,c){return vh(c).exists(Wu)||Cf(!0,a,c).isSome()}function Hp(a,c){return De.from(c.getNode(!0)).map(it.fromDom).exists(Wu)||Cf(!1,a,c).isSome()}function Bc(a){return _t.isTextPosition(a)&&!a.isAtStart()&&!a.isAtEnd()}function Rh(a,c){return Dt(dt(jr(it.fromDom(c.container()),a),fr)).getOr(a)}function Dv(a,c){return Bc(c)?rb(c):rb(c)||Cu(Rh(a,c).dom,c).exists(rb)}function Kg(a,c){return Bc(c)?zo(c):zo(c)||Kl(Rh(a,c).dom,c).exists(zo)}function Wp(a){return vh(a).bind(function(c){return Vu(c,fa)}).exists(function(c){return kr(["pre","pre-wrap"],Os(c,"white-space"))})}function Mf(a,c){return!Wp(c)&&(tm(a,c)||AS(a,c)||Hp(a,c)||Dv(a,c))}function Av(a,c){return!Wp(c)&&(o_(a,c)||hT(a,c)||Ec(a,c)||Kg(a,c))}function cS(a,c){return Mf(a,c)||Av(a,(m=(h=c).container(),b=h.offset(),Dn(m)&&b<m.data.length?_t(m,b+1):h));var h,m,b}function Ex(a,c){return yd(a.charAt(c))}function Bx(a){var c=a.container();return Dn(c)&&Ue(c.data,bo)}function dS(a){var c=it.fromDom(a.getBody());a.selection.isCollapsed()&&function $g(a,c){return De.some(c).filter(Bx).bind(function(h){var m,b,M,A,L,B,N,G,H,X=h.container(),J=a,ne=(L=X).data,te=_t(L,0);return(!Ex(ne,0)||cS(J,te)?(G=(B=X).data,(H=Tn(N=G.split(""),function(oe,se){return yd(oe)&&0<se&&se<N.length-1&&Ap(N[se-1])&&Ap(N[se+1])?" ":oe}).join(""))!==G&&(B.data=H,1)):(L.data=" "+ne.slice(1),1))||(m=a,M=(b=X).data,A=_t(b,M.length-1),Ex(M,M.length-1)&&!cS(m,A)&&(b.data=M.slice(0,-1)+" ",1))?De.some(h):De.none()})}(c,_t.fromRangeStart(a.selection.getRng())).each(function(h){a.selection.setRng(h.toRange())})}function X1(a,c,h){var m,b,M,A,L,B,N,G;0!==h&&(b=$a(m=it.fromDom(a),fr).getOr(m),M=a.data.slice(c,c+h),A=c+h>=a.data.length&&Av(b,_t(a,a.data.length)),L=0===c&&Mf(b,_t(a,0)),a.replaceData(c,h,(N=L,G=A,ir(B=M,function(H,X){return za(X)||yd(X)?H.previousCharIsSpace||""===H.str&&N||H.str.length===B.length-1&&G?{previousCharIsSpace:!1,str:H.str+bo}:{previousCharIsSpace:!0,str:H.str+" "}:{previousCharIsSpace:!1,str:H.str+X}},{previousCharIsSpace:!1,str:""}).str)))}function h0(a,c){var h=a.data.slice(c);X1(a,c,h.length-In(h).length)}function Jg(a,c){var h=a.data.slice(0,c),m=h.length-cr(h).length;X1(a,c-m,m)}function zx(a,c,h,m){void 0===m&&(m=!0);var b=cr(a.data).length,M=m?a:c,A=m?c:a;return m?M.appendData(A.data):M.insertData(0,A.data),Ai(it.fromDom(A)),h&&h0(M,b),M}function fS(a,c){return m=a,b=(h=c).container(),M=h.offset(),!1===_t.isTextPosition(h)&&b===m.parentNode&&M>_t.before(m).offset()?_t(c.container(),c.offset()-1):c;var h,m,b,M}function Oh(a){return T(a.previousSibling)?De.some(Dn(c=a.previousSibling)?_t(c,c.data.length):_t.after(c)):a.previousSibling?Mu(a.previousSibling):De.none();var c}function hS(a){return T(a.nextSibling)?De.some(Dn(c=a.nextSibling)?_t(c,0):_t.before(c)):a.nextSibling?us(a.nextSibling):De.none();var c}function pS(a,c){return Oh(c).orThunk(function(){return hS(c)}).orThunk(function(){return h=a,b=_t.before((m=c).previousSibling||m.parentNode),Cu(h,b).fold(function(){return Kl(h,_t.after(m))},De.some);var h,m,b})}function gS(a,c){return hS(c).orThunk(function(){return Oh(c)}).orThunk(function(){return Kl(h=a,_t.after(m=c)).fold(function(){return Cu(h,_t.before(m))},De.some);var h,m})}function mS(a,c,h){h.fold(function(){a.focus()},function(m){a.selection.setRng(m.toRange(),c)})}function vS(a,c){return c&&Rr(a.schema.getBlockElements(),No(c))}function uT(a){if(j(a)){var c=it.fromHtml('<br data-mce-bogus="1">');return Xc(a),Ui(a,c),De.some(_t.before(c.dom))}return De.none()}function Qg(a,c,h,m){void 0===m&&(m=!0);var b,M,A,L,B,N,G,H,X,J,ne,se,fe=(c?gS:pS)(a.getBody(),se=h.dom).map(jt(fS,se)),pe=$a(h,jt(vS,a),(b=a.getBody(),function(ze){return ze.dom===b})),Ae=(L=fe,M=A=h,B=Rr(a.schema.getTextInlineElements(),No(M)),J=zi(A).filter(ms),ne=so(A).filter(ms),Ai(A),G=ne,H=L,X=function(ze,me,we){var Ie=ze.dom,Ke=me.dom,lt=Ie.data.length;return zx(Ie,Ke,B),we.container()===Ke?_t(Ie,lt):we},((N=J).isSome()&&G.isSome()&&H.isSome()?De.some(X(N.getOrDie(),G.getOrDie(),H.getOrDie())):De.none()).orThunk(function(){return B&&(J.each(function(ze){return Jg(ze.dom,ze.dom.length)}),ne.each(function(ze){return h0(ze.dom,0)})),L}));a.dom.isEmpty(a.getBody())?(a.setContent(""),a.selection.setCursorLocation()):pe.bind(uT).fold(function(){m&&mS(a,c,Ae)},function(ze){m&&mS(a,c,De.some(ze))})}function Vx(a){return cl(a,"td,th")}function Fx(a,c){return{start:a,end:c}}function q1(a,c){return _l(it.fromDom(a),"td,th",c)}function yS(a){return!Ut(a.start,a.end)}function bS(a,c){return Lp(a.start,c).bind(function(h){return Lp(a.end,c).bind(function(m){return Ut(h,m)?De.some(h):De.none()})})}function Z1(a){return function(c){return bS(c,a).map(function(h){return{rng:c,table:h,cells:Vx(h)}})}}function xS(a,c,h,m){if(h.collapsed||!a.forall(yS))return De.none();if(c.isSameTable){var b=a.bind(Z1(m));return De.some({start:b,end:b})}var M,A,L=q1(h.startContainer,m),B=q1(h.endContainer,m),N=L.bind((A=m,function(H){return Lp(H,A).bind(function(X){return ut(Vx(X)).map(function(J){return Fx(H,J)})})})).bind(Z1(m)),G=B.bind((M=m,function(H){return Lp(H,M).bind(function(X){return Dt(Vx(X)).map(function(J){return Fx(J,H)})})})).bind(Z1(m));return De.some({start:N,end:G})}function K1(a,c){return zn(a,function(h){return Ut(h,c)})}function p0(a){return Eo(K1(a.cells,a.rng.start),K1(a.cells,a.rng.end),function(c,h){return a.cells.slice(c,h+1)})}function g0(a,c){var h=c.startTable,m=c.endTable,b=a.cloneRange();return h.each(function(M){return b.setStartAfter(M.dom)}),m.each(function(M){return b.setEndBefore(M.dom)}),b}function _S(a){return It(a,function(c){su(c,"contenteditable"),pr(c)}),0}function $1(a,c,h,m){var b=h.cloneRange();m?(b.setStart(h.startContainer,h.startOffset),b.setEndAfter(c.dom.lastChild)):(b.setStartBefore(c.dom.firstChild),b.setEnd(h.endContainer,h.endOffset)),i_(a,b,c,!1)}function Hx(a){var c=Sh(a),h=it.fromDom(a.selection.getNode());ra(h.dom)&&j(h)?a.selection.setCursorLocation(h.dom,0):a.selection.collapse(!0),1<c.length&&Un(c,function(m){return Ut(m,h)})&&rl(h,"data-mce-selected","1")}function Wx(a,c,h){var m=a.selection.getRng();return _S(h.bind(function(b){var A,L,B=b.rng,N=b.isStartInTable,G=De.from(a.dom.getParent(N?B.endContainer:B.startContainer,a.dom.isBlock)).map(it.fromDom);B.deleteContents(),A=a,L=N,G.filter(j).each(function(X){L?Ai(X):(pr(X),A.selection.setCursorLocation(X.dom,0))});var H=N?c[0]:c[c.length-1];return $1(a,H,m,N),j(H)?De.none():De.some(N?c.slice(1):c.slice(0,-1))}).getOr(c)),Hx(a),!0}function m0(a,c,h,m){var b=a.selection.getRng(),M=c[0],A=h[h.length-1];$1(a,M,b,!0),$1(a,A,b,!1);var L=j(M)?c:c.slice(1),B=j(A)?h:h.slice(0,-1);return _S(L.concat(B)),m.deleteContents(),Hx(a),!0}function wS(a,c){return Qg(a,!1,c),!0}function J1(a,c){return jo(jr(c,a),qo)}function Gx(a,c){return(a?y0:r_)(c)}function em(a,c){var h,m,b,M,A,L,B,N,G=it.fromDom(a.selection.getStart(!0)),H=Sh(a);return a.selection.isCollapsed()&&0===H.length?function SS(a,c,h){var m=it.fromDom(a.getBody());return a_(m,h).fold(function(){return M=c,A=m,L=h,B=_t.fromRangeStart((b=a).selection.getRng()),J1(A,L).bind(function(X){return j(X)?nm(b,X):(J=A,ne=X,te=B,ni(M,b.getBody(),te).bind(function(oe){return J1(J,it.fromDom(oe.getNode())).map(function(se){return!1===Ut(se,ne)})}));var J,ne,te}).getOr(!1)||(G=c,H=_t.fromRangeStart((N=a).selection.getRng()),Gx(G,H)||Ys(G,N.getBody(),H).exists(function(X){return Gx(G,X)}));var b,M,A,L,B,N,G,H},function(b){return H=c,X=m,J=b,ne=_t.fromRangeStart((G=a).selection.getRng()),(j(J)?nm(G,J):(A=X,B=J,N=ne,ni(L=H,(M=G).getBody(),N).bind(function(te){return fe=L,pe=N,Ae=te,us((se=B).dom).bind(function(ze){return Mu(se.dom).map(function(me){return fe?pe.isEqual(ze)&&Ae.isEqual(me):pe.isEqual(me)&&Ae.isEqual(ze)})}).getOr(!0)?nm(M,B):(oe=B,a_(A,it.fromDom(te.getNode())).map(function(ze){return!1===Ut(ze,oe)}));var oe,se,fe,pe,Ae}).or(De.some(!0)))).getOr(!1);var M,A,L,B,N,G,H,X,J,ne})}(a,c,G):(m=G,b=H,M=it.fromDom((h=a).getBody()),A=h.selection.getRng(),0!==b.length?Wx(h,b,De.none()):(L=h,N=A,a_(B=M,m).fold(function(){return X=L,function cT(a,c){var h,m,b,M,A,L,B,N,G,H,X,J,ne,te,oe,se,fe=(h=a,function(me){return Ut(h,me)}),pe=Eo(q1((m=c).startContainer,b=fe),q1(m.endContainer,b),Fx),Ae=(G=fe,H=ze((N=c).startContainer),X=ze(N.endContainer),J=H.isSome(),ne=X.isSome(),{startTable:H,endTable:X,isStartInTable:J,isEndInTable:ne,isSameTable:te=Eo(H,X,Ut).getOr(!1),isMultiTable:!te&&J&&ne});function ze(me){return Lp(it.fromDom(me),G)}return oe=c,se=fe,pe.exists(function(me){return!yS(we=me)&&bS(we,se).exists(function(Ie){var Ke=Ie.dom.rows;return 1===Ke.length&&1===Ke[0].cells.length})&&Ch(me.start,oe);var we})?pe.map(function(me){return b0.singleCellTable(c,me.start)}):Ae.isMultiTable?xS(pe,L=Ae,B=c,fe).bind(function(me){var Ie=me.end,Ke=me.start.bind(p0).getOr([]),lt=Ie.bind(p0).getOr([]);if(0<Ke.length&&0<lt.length){var pt=g0(B,L);return De.some(b0.multiTable(Ke,lt,pt))}return De.none()}):xS(pe,M=Ae,A=c,fe).bind(function(me){return me.start.or(me.end)}).bind(function(me){var we=M.isSameTable,Ie=p0(me).getOr([]);if(we&&me.cells.length===Ie.length)return De.some(b0.fullTable(me.table));if(0<Ie.length){if(we)return De.some(b0.partialTable(Ie,De.none()));var Ke=g0(A,M);return De.some(b0.partialTable(Ie,De.some(Xn(Xn({},M),{rng:Ke}))))}return De.none()})}(B,N).map(function(J){return J.fold(jt(i_,X),jt(wS,X),jt(Wx,X),jt(m0,X))});var X},function(X){return nm(L,X)}).getOr(!1)))}function Q1(a){return a.collapsed?a:(h=_t.fromRangeStart(c=a),m=_t.fromRangeEnd(c),Ys(!1,b=c.commonAncestorContainer,m).map(function(M){return!Us(h,m,b)&&Us(h,M,b)?(A=h.container(),L=h.offset(),B=M.container(),N=M.offset(),(G=document.createRange()).setStart(A,L),G.setEnd(B,N),G):c;var A,L,B,N,G}).getOr(c));var c,h,m,b}function Ux(a,c){var h=a.getParent(c,a.isBlock);return h&&"LI"===h.nodeName?h:null}function cs(a,c){var h=_t.after(a),m=kl(c).prev(h);return m?m.toRange():null}function MS(a,c,h){var m,b,M,A,L=a.selection,B=a.dom;/^ | $/.test(c)&&(m=B,b=L.getRng(),M=c,M=Mf(A=it.fromDom(m.getRoot()),_t.fromRangeStart(b))?M.replace(/^ /,"&nbsp;"):M.replace(/^&nbsp;/," "),c=M=Av(A,_t.fromRangeEnd(b))?M.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):M.replace(/&nbsp;(<br( \/)?>)?$/," "));var N=a.parser,G=h.merge,H=An({validate:a.getParam("validate")},a.schema),X='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',J=a.fire("BeforeSetContent",{content:c,format:"html",selection:!0,paste:h.paste});if(J.isDefaultPrevented())a.fire("SetContent",{content:J.content,format:"html",selection:!0,paste:h.paste});else{-1===(c=J.content).indexOf("{$caret}")&&(c+="{$caret}"),c=c.replace(/\{\$caret\}/,X);var ne,te,oe=(ne=L.getRng()).startContainer||(ne.parentElement?ne.parentElement():null),se=a.getBody();oe===se&&L.isCollapsed()&&B.isBlock(se.firstChild)&&(te=se.firstChild)&&!a.schema.getShortEndedElements()[te.nodeName]&&B.isEmpty(se.firstChild)&&((ne=B.createRng()).setStart(se.firstChild,0),ne.setEnd(se.firstChild,0),L.setRng(ne)),L.isCollapsed()||function(Sn){var qt=Sn.dom,Nn=Q1(Sn.selection.getRng());Sn.selection.setRng(Nn);var Rt,pn=qt.getParent(Nn.startContainer,ob),Zt=Nn;null!==(Rt=pn)&&Rt===qt.getParent(Zt.endContainer,ob)&&Ch(it.fromDom(Rt),Zt)?i_(Sn,Nn,it.fromDom(pn)):Sn.getDoc().execCommand("Delete",!1,null)}(a);var fe,pe,Ae,ze,we,Ie,Ke,lt,pt,Ge,$e,qe,et,bt={context:(St=L.getNode()).nodeName.toLowerCase(),data:h.data,insert:!0},Yt=N.parse(c,bt);if(!0===h.paste&&function CS(a,c){var h,m,b,M,A,L=c.firstChild,B=c.lastChild;return L&&"meta"===L.name&&(L=L.next),m=B=B&&"mce_marker"===B.attr("id")?B.prev:B,b=(h=a).getNonEmptyElements(),m&&(m.isEmpty(b)||(M=m,h.getBlockElements()[M.name]&&M.firstChild&&M.firstChild===M.lastChild&&("br"===(A=M.firstChild).name||A.value===bo)))&&(B=B.prev),L&&L===B&&("ul"===L.name||"ol"===L.name)}(a.schema,Yt)&&Ux(B,St))return ne=function jx(a,c,h,m){function b(bt){var Yt=_t.fromRangeStart(h),an=kl(c.getRoot()),wt=1===bt?an.prev(Yt):an.next(Yt);return!wt||Ux(c,wt.getNode())!==$e}var M,A,L,B,N,G,H,X,J,ne,te,oe,se,fe,pe,Ae,ze,me,we,Ie,Ke,lt,pt,Ge=(M=c,N=a.serialize(m),L=(A=M.createFragment(N)).firstChild,B=A.lastChild,L&&"META"===L.nodeName&&L.parentNode.removeChild(L),B&&"mce_marker"===B.id&&B.parentNode.removeChild(B),A),$e=Ux(c,h.startContainer),qe=function dT(a){return 0<a.length&&(!(m=a[a.length-1]).firstChild||(c=m)&&c.firstChild&&c.firstChild===c.lastChild&&((h=c.firstChild).data===bo||Po(h)))?a.slice(0,-1):a;var c,h,m}(dt(Ge.firstChild.childNodes,function(bt){return"LI"===bt.nodeName})),et=c.getRoot();return b(1)?(we=et,pt=(me=$e).parentNode,kt.each(qe,function(bt){pt.insertBefore(bt,me)}),Ie=we,Ke=_t.before(me),(lt=kl(Ie).next(Ke))?lt.toRange():null):b(2)?(G=$e,X=et,c.insertAfter((H=qe).reverse(),G),cs(H[0],X)):(ne=qe,te=et,oe=J=$e,fe=(se=h).cloneRange(),pe=se.cloneRange(),fe.setStartBefore(oe),pe.setEndAfter(oe),Ae=[fe.cloneContents(),pe.cloneContents()],(ze=J.parentNode).insertBefore(Ae[0],J),kt.each(ne,function(bt){ze.insertBefore(bt,J)}),ze.insertBefore(Ae[1],J),ze.removeChild(J),cs(ne[ne.length-1],te))}(H,B,L.getRng(),Yt),L.setRng(ne),void a.fire("SetContent",J);if(function(){for(var Sn=Yt;Sn=Sn.walk();)1===Sn.type&&Sn.attr("data-mce-fragment","1")}(),"mce_marker"===(wt=Yt.lastChild).attr("id"))for(var an=wt,wt=wt.prev;wt;wt=wt.walk(!0))if(3===wt.type||!B.isBlock(wt.name)){a.schema.isValidChild(wt.parent.name,"span")&&wt.parent.insert(an,wt,"br"===wt.name);break}if(a._selectionOverrides.showBlockCaretContainer(St),bt.invalid){a.selection.setContent(X);var St=L.getNode(),mn=a.getBody();for(9===St.nodeType?St=wt=mn:wt=St;wt!==mn;)wt=(St=wt).parentNode;c=St===mn?mn.innerHTML:B.getOuterHTML(St),c=H.serialize(N.parse(c.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return H.serialize(Yt)}))),St===mn?B.setHTML(mn,c):B.setOuterHTML(St,c)}else fe=a,pe=c=H.serialize(Yt),"all"===(Ae=St).getAttribute("data-mce-bogus")?Ae.parentNode.insertBefore(fe.dom.createFragment(pe),Ae):!(ze=Ae.firstChild)||ze===Ae.lastChild&&"BR"===ze.nodeName?fe.dom.setHTML(Ae,pe):fe.selection.setContent(pe);Ie=G,pt=(we=a).schema.getTextInlineElements(),Ge=we.dom,Ie&&(Ke=we.getBody(),lt=Et(Ge),kt.each(Ge.select("*[data-mce-fragment]"),function(Sn){if(rr(pt[Sn.nodeName.toLowerCase()])&&Wn(hr(Ge,Sn),function(Nn){return!Qn.has(Nn)}))for(var qt=Sn.parentNode;rr(qt)&&qt!==Ke&&!function(Nn,Rt,pn){function Zt(co){var ke=Nn.getStyle(Rt,co),Ye=Nn.getStyle(pn,co);return mt(ke)&&mt(Ye)&&ke!==Ye}var Cn=hr(Nn,Rt),Ln=hr(Nn,pn);return Un(Cn,function(co){function ke(Mt){return Un(Mt,function(Ot){return Ot===co})}if(ke(Ln)||!ke(kS))return Zt(co);var Ye=dt(Ln,function(Mt){return Un(kS,function(Ot){return $n(Mt,Ot)})});return Un(Ye,Zt)})}(Ge,Sn,qt);qt=qt.parentNode)if(lt.compare(qt,Sn)){Ge.remove(Sn,!0);break}})),function(Sn,qt){var Nn,Rt=Sn.dom,pn=Sn.selection;if(qt){pn.scrollIntoView(qt);var Zt=Th(Sn.getBody(),qt);if("false"===Rt.getContentEditable(Zt))return Rt.remove(qt),pn.select(Zt);var Cn,Ln=Rt.createRng(),co=qt.previousSibling;Dn(co)?(Ln.setStart(co,co.nodeValue.length),sr.ie||Dn(Cn=qt.nextSibling)&&(co.appendData(Cn.data),Cn.parentNode.removeChild(Cn))):(Ln.setStartBefore(qt),Ln.setEndBefore(qt));var ke=Rt.getParent(qt,Rt.isBlock);Rt.remove(qt),ke&&Rt.isEmpty(ke)&&(Sn.$(ke).empty(),Ln.setStart(ke,0),Ln.setEnd(ke,0),ob(ke)||ke.getAttribute("data-mce-fragment")||!(Nn=function(Ye){var Mt=_t.fromRangeStart(Ye);if(Mt=kl(Sn.getBody()).next(Mt))return Mt.toRange()}(Ln))?Rt.add(ke,Rt.create("br",{"data-mce-bogus":"1"})):(Ln=Nn,Rt.remove(ke))),pn.setRng(Ln)}}(a,B.get("mce_marker")),$e=a.getBody(),kt.each($e.getElementsByTagName("*"),function(Sn){Sn.removeAttribute("data-mce-fragment")}),qe=B,et=L.getStart(),De.from(qe.getParent(et,"td,th")).map(it.fromDom).each(Io),a.fire("SetContent",J),a.addVisual()}}function eb(a){return a instanceof le}function tb(a,c,h){var m;a.dom.setHTML(a.getBody(),c),!0!==h&&ws(m=a)&&us(m.getBody()).each(function(b){var M=b.getNode(),A=Ls(M)?us(M).getOr(b):b;m.selection.setRng(A.toRange())})}function Xx(a){return Qt(a)?a:Pr}function nb(a,c,h){var m=c(a),b=Xx(h);return m.orThunk(function(){return b(a)?De.none():function(M){for(var A=a.dom,L=Xx(b);A.parentNode;){var B=it.fromDom(A=A.parentNode),N=M(B);if(N.isSome())return N;if(L(B))break}return De.none()}(c)})}function qx(a,c,h){var m=a.formatter.get(h);if(m)for(var b=0;b<m.length;b++){var M=m[b];if(Va(M)&&!1===M.inherit&&a.dom.is(c,M.selector))return 1}}function v0(a,c,h,m,b){var M=a.dom.getRoot();return c!==M&&(c=a.dom.getParent(c,function(A){return!!qx(a,A,h)||A.parentNode===M||!!Tf(a,A,h,m,!0)}),!!Tf(a,c,h,m,b))}function Zx(a,c,h){return!!l_(c,h.inline)||!!l_(c,h.block)||(h.selector?1===c.nodeType&&a.is(c,h.selector):void 0)}function Nh(a,c,h,m,b,M){var A=h[m];if(Qt(h.onmatch))return h.onmatch(c,h,m);if(A)if(Jr(A.length)){for(var L in A)if(Rr(A,L)){var B="attributes"===m?a.getAttrib(c,L):xh(a,c,L),N=_u(A[L],M),G=Tt(B)||st(B);if((!G||!Tt(N))&&(b&&G&&!h.exact||(!b||h.exact)&&!l_(B,Zl(a,N,L))))return}}else for(var H=0;H<A.length;H++)if("attributes"===m?a.getAttrib(c,A[H]):xh(a,c,A[H]))return 1;return 1}function Iv(a,c,h,m,b){if(m)return v0(a,m,c,h,b);if(m=a.selection.getNode(),v0(a,m,c,h,b))return!0;var M=a.selection.getStart();return!(M===m||!v0(a,M,c,h,b))}function Qo(a){return 0<function(c){for(var h=[];c;){if(3===c.nodeType&&c.nodeValue!==Nv||1<c.childNodes.length)return[];1===c.nodeType&&h.push(c),c=c.firstChild}return h}(a).length}function Kx(a){if(a){var c=new wi(a,a);for(a=c.current();a;a=c.next())if(Dn(a))return a}return null}function $x(a){var c=it.fromTag("span");return Rs(c,{id:LS,"data-mce-bogus":"1","data-mce-type":"format-caret"}),a&&Ui(c,it.fromText(Nv)),c}function Jx(a,c,h){void 0===h&&(h=!0);var m,b,M,A,L,B,N,G,H=a.dom,X=a.selection;Qo(c)?Qg(a,!1,it.fromDom(c),h):(m=X.getRng(),b=H.getParent(c,H.isBlock),M=m.startContainer,A=m.startOffset,L=m.endContainer,B=m.endOffset,(G=Kx(c))&&G.nodeValue.charAt(0)===Nv&&G.deleteData(0,1),N=G,H.remove(c,!0),M===N&&0<A&&m.setStart(N,A-1),L===N&&0<B&&m.setEnd(N,B-1),b&&H.isEmpty(b)&&pr(it.fromDom(b)),X.setRng(m))}function Qx(a,c,h){void 0===h&&(h=!0);var m=a.dom,b=a.selection;if(c)Jx(a,c,h);else if(!(c=rf(a.getBody(),b.getStart())))for(;c=m.get(LS);)Jx(a,c,!1)}function e_(a,c){return a.appendChild(c),c}function TS(a,c){var h=ge(a,function(m,b){return e_(m,b.cloneNode(!1))},c);return e_(h,h.ownerDocument.createTextNode(Nv))}function Pv(a,c){var h=a.schema.getTextInlineElements();return Rr(h,No(c))&&!Ba(c.dom)&&!tl(c.dom)}It(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(a){Qn.add(a)});var n_,kS=["font","text-decoration","text-emphasis"],zo=jt(Er,!0,za),rb=jt(Er,!1,za),DS=Br(!0,Ur),fT=Br(!1,Ur),Lv=Br(!0,Za),Rv=Br(!1,Za),y0=Br(!0,Ls),r_=Br(!1,Ls),Eh=Br(!0,Co),zc=Br(!1,Co),tm=jt(Xi,!1),o_=jt(Xi,!0),AS=jt(Fa,!1),hT=jt(Fa,!0),IS=jt(Cf,!1),PS=jt(Cf,!0),b0=xl([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ov=function(a){var c;return(8===jc(c=a)||"#comment"===No(c)?zi:Ua)(a).bind(Ov).orThunk(function(){return De.some(a)})},i_=function(a,c,h,m){void 0===m&&(m=!0),c.deleteContents();var b,M=Ov(h).getOr(h),A=it.fromDom(a.dom.getParent(M.dom,a.dom.isBlock));return j(A)&&(pr(A),m&&a.selection.setCursorLocation(A.dom,0)),Ut(h,A)||It((Xa(yi(A),h)?[]:yi(b=A).map(Di).map(function(L){return dt(L,function(B){return!Ut(b,B)})}).getOr([])).concat(Di(h)),function(L){Ut(L,A)||at(L,A)||!j(L)||Ai(L)}),!0},a_=function(a,c){return jo(jr(c,a),function(h){return fa(h)&&"caption"===No(h)})},nm=function(a,c){return pr(c),a.selection.setCursorLocation(c.dom,0),De.some(!0)},ob=ra,s_=function(a,c){c(a),a.firstChild&&s_(a.firstChild,c),a.next&&s_(a.next,c)},l_=Lc,Tf=function(a,c,h,m,b){var M=a.formatter.get(h),A=a.dom;if(M&&c)for(var L=0;L<M.length;L++){var B=M[L];if(Zx(a.dom,c,B)&&Nh(A,c,B,"attributes",b,m)&&Nh(A,c,B,"styles",b,m)){var N=B.classes;if(N)for(var G=0;G<N.length;G++)if(!a.dom.hasClass(c,_u(N[G],m)))return;return B}}},Nv=Hn,LS="_mce_caret",ib={},RS=bn,u_=So;function c_(a){return lr(a)&&!Al(a)&&!Ba(a)&&!tl(a)}function OS(a,c){for(var h=a;h;h=h[c]){if(Dn(h)&&mt(h.data))return a;if(lr(h)&&!Al(h))return h}return a}function x0(a,c,h){var m=Et(a);if(c&&h&&(c=OS(c,"previousSibling"),h=OS(h,"nextSibling"),m.compare(c,h))){for(var b=c.nextSibling;b&&b!==h;){var M=b;b=b.nextSibling,c.appendChild(M)}return a.remove(h),kt.each(kt.grep(h.childNodes),function(A){c.appendChild(A)}),c}return h}function Ev(a,c,h,m){var b;m&&!1!==c.merge_siblings&&(b=x0(a,Ip(m),m),x0(a,b,Ip(b,!0)))}function d_(a,c){return function(h){return!(!h||!xh(a,h,c))}}function f_(a,c,h){return function(m){var b,M;a.setStyle(m,c,h),""===m.getAttribute("style")&&m.removeAttribute("style"),b=a,"SPAN"===(M=m).nodeName&&0===b.getAttribs(M).length&&b.remove(M,!0)}}function h_(a,c,h){return a.isChildOf(c,h)&&c!==h&&!a.isBlock(h)}function NS(a,c,h){var m,b=c[h?"startContainer":"endContainer"],M=c[h?"startOffset":"endOffset"];return lr(b)&&(!h&&M&&M--,b=b.childNodes[(m=b.childNodes.length-1)<M?m:M]),Dn(b)&&h&&M>=b.nodeValue.length&&(b=new wi(b,a.getBody()).next()||b),Dn(b)&&!h&&0===M&&new wi(b,a.getBody()).prev()||b}function Il(a,c){var h=c?"firstChild":"lastChild";if(/^(TR|TH|TD)$/.test(a.nodeName)&&a[h]){var m=a[h];return"TR"===a.nodeName&&m[h]||m}return a}function ab(a,c,h,m){var b=a.create(h,m);return c.parentNode.insertBefore(b,c),b.appendChild(c),b}function _0(a,c,h,m,b){var M=it.fromDom(c),A=it.fromDom(a.create(m,b));return wa(A,(h?As:vl)(M)),h?(ta(M,A),el(A,M)):(Ps(M,A),Ui(A,M)),A.dom}function w0(a,c,h,m){var b=Ip(c,h,m);return Tt(b)||"BR"===b.nodeName||a.isBlock(b)}function p_(a,c,h,m,b){var M,A,L=a.dom,B=L,N=m;if(!(Wi(A=c)&&Af(N,A.inline)||nc(A)&&Af(N,A.block)||Va(A)&&lr(N)&&B.is(N,A.selector)||c.links&&"A"===m.nodeName))return om.keep();var G,H,X,J,ne,te,oe,se,fe=m;if(Wi(c)&&"all"===c.remove&&Zr(c.preserve_attributes)){var pe=dt(L.getAttribs(fe),function(we){return kr(c.preserve_attributes,we.name.toLowerCase())});if(L.removeAllAttribs(fe),It(pe,function(we){return L.setAttrib(fe,we.name,we.value)}),0<pe.length)return om.rename("span")}if("all"!==c.remove){db(c.styles,function(we,Ie){we=Zl(L,_u(we,h),Ie+""),en(Ie)&&(Ie=we,b=null),!c.remove_similar&&b&&!Af(xh(L,b,Ie),we)||L.setStyle(fe,Ie,""),M=!0}),M&&""===L.getAttrib(fe,"style")&&(fe.removeAttribute("style"),fe.removeAttribute("data-mce-style")),db(c.attributes,function(we,Ie){var Ke;if(we=_u(we,h),en(Ie)&&(Ie=we,b=null),c.remove_similar||!b||Af(L.getAttrib(b,Ie),we))if("class"===Ie&&(we=L.getAttrib(fe,Ie))&&(Ke="",It(we.split(/\s+/),function(lt){/mce\-\w+/.test(lt)&&(Ke+=(Ke?" ":"")+lt)}),Ke))L.setAttrib(fe,Ie,Ke);else{if(WS.test(Ie)&&fe.removeAttribute("data-mce-"+Ie),"style"===Ie&&Ya(["li"])(fe)&&"none"===L.getStyle(fe,"list-style-type"))return fe.removeAttribute(Ie),void L.setStyle(fe,"list-style-type","none");"class"===Ie&&fe.removeAttribute("className"),fe.removeAttribute(Ie)}}),db(c.classes,function(we){we=_u(we,h),b&&!L.hasClass(b,we)||L.removeClass(fe,we)});for(var Ae=L.getAttribs(fe),ze=0;ze<Ae.length;ze++){var me=Ae[ze].nodeName;if(0!==me.indexOf("_")&&0!==me.indexOf("data-"))return om.keep()}}return"none"!==c.remove?(X=c,te=(H=fe).parentNode,oe=(G=a).dom,se=Na(G),nc(X)&&(se?te===oe.getRoot()&&(X.list_block&&Af(H,X.list_block)||It(ka(H.childNodes),function(we){af(G,se,we.nodeName.toLowerCase())?J?J.appendChild(we):(J=ab(oe,we,se),oe.setAttribs(J,G.settings.forced_root_block_attrs)):J=null})):oe.isBlock(H)&&!oe.isBlock(te)&&(w0(oe,H,!1)||w0(oe,H.firstChild,!0,!0)||H.insertBefore(oe.create("br"),H.firstChild),w0(oe,H,!0)||w0(oe,H.lastChild,!1,!0)||H.appendChild(oe.create("br")))),Va(ne=X)&&Wi(ne)&&Xa(Rn(ne,"mixed"),!0)&&!Af(X.inline,H)||oe.remove(H,!0),om.removed()):om.keep()}function Bv(a,c,h,m,b){return p_(a,c,h,m,b).fold(Pr,function(M){return a.dom.rename(m,M),!0},Kn)}function ES(a,c,h,m,b){function M(se){var fe,pe,Ae,ze,me,we=(pe=c,Ae=h,ze=b,It(sf((fe=a).dom,se.parentNode).reverse(),function(Ie){var Ke;me||"_start"===Ie.id||"_end"===Ie.id||(Ke=Tf(fe,Ie,pe,Ae,ze))&&!1!==Ke.split&&(me=Ie)}),me);return function(Ie,Ke,lt,pt,Ge,$e,qe,et){var bt,Yt,an=Ie.dom;if(lt){for(var wt=lt.parentNode,St=pt.parentNode;St&&St!==wt;St=St.parentNode){for(var mn=an.clone(St,!1),Sn=0;Sn<Ke.length&&null!==(mn=function(qt,Nn,Rt){return p_(qt,Nn,et,Rt,Rt).fold(Jt(Rt),function(pn){return qt.dom.createFragment().appendChild(Rt),qt.dom.rename(Rt,pn)},Jt(null))}(Ie,Ke[Sn],mn));Sn++);mn&&(bt&&mn.appendChild(bt),Yt=Yt||mn,bt=mn)}qe.mixed&&an.isBlock(lt)||(pt=an.split(lt,pt)),bt&&(Ge.parentNode.insertBefore(bt,Ge),Yt.appendChild(Ge),Wi(qe)&&Ev(an,qe,0,bt))}return pt}(a,G,we,se,se,0,H,h)}function A(se){return Un(G,function(fe){return Bv(a,fe,h,se,se)})}function L(se){var fe,pe=J.get(se?"_start":"_end"),Ae=pe[se?"firstChild":"lastChild"];return Al(fe=Ae)&&lr(fe)&&("_start"===fe.id||"_end"===fe.id)&&(Ae=Ae[se?"firstChild":"lastChild"]),Dn(Ae)&&0===Ae.data.length&&(Ae=se?pe.previousSibling||pe.nextSibling:pe.nextSibling||pe.previousSibling),J.remove(pe,!0),Ae}function B(se){var fe=pd(a,se,G,se.collapsed);if(H.split){if(fe=bd(fe),(Ae=NS(a,fe,!0))!==(ze=NS(a,fe))){if(Ae=Il(Ae,!0),ze=Il(ze,!1),h_(J,Ae,ze)){var pe=De.from(Ae.firstChild).getOr(Ae);return M(_0(J,pe,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void L(!0)}if(h_(J,ze,Ae))return pe=De.from(ze.lastChild).getOr(ze),M(_0(J,pe,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void L(!1);var Ae=ab(J,Ae,"span",{id:"_start","data-mce-type":"bookmark"}),ze=ab(J,ze,"span",{id:"_end","data-mce-type":"bookmark"}),me=J.createRng();me.setStartAfter(Ae),me.setEndBefore(ze),wh(J,me,function(we){It(we,function(Ie){Al(Ie)||Al(Ie.parentNode)||M(Ie)})}),M(Ae),M(ze),Ae=L(!0),ze=L()}else Ae=ze=M(Ae);fe.startContainer=Ae.parentNode||Ae,fe.startOffset=J.nodeIndex(Ae),fe.endContainer=ze.parentNode||ze,fe.endOffset=J.nodeIndex(ze)+1}wh(J,fe,function(we){It(we,te)})}var N,G=a.formatter.get(c),H=G[0],X=!0,J=a.dom,ne=a.selection,te=function(se){var fe=!0,pe=!1;lr(se)&&J.getContentEditable(se)&&(fe=X,X="true"===J.getContentEditable(se),pe=!0);var Ae,ze,me=ka(se.childNodes);if(X&&!pe&&(Ae=A(se),ze=se.parentNode,!Ae&&rr(ze)&&mv(H)&&A(ze)),H.deep&&me.length){for(var we=0;we<me.length;we++)te(me[we]);pe&&(X=fe)}It(["underline","line-through","overline"],function(Ie){lr(se)&&a.dom.getStyle(se,"text-decoration")===Ie&&se.parentNode&&e0(J,se.parentNode)===Ie&&Bv(a,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Ie}},null,se)})};if(m)return of(m)?((N=J.createRng()).setStartBefore(m),N.setEndAfter(m),B(N)):B(m),void kh(a,c,m,h);if("false"!==J.getContentEditable(ne.getNode()))ne.isCollapsed()&&Wi(H)&&!Sh(a).length?function xi(a,c,h,m){var b,M,A,L,B,N,G,H,X,J,ne,te,oe,se,fe,pe=a.dom,Ae=a.selection,ze=[],me=Ae.getRng(),we=me.startContainer,Ke=we;for(3===we.nodeType&&(me.startOffset!==we.nodeValue.length&&(b=!0),Ke=Ke.parentNode);Ke;){if(Tf(a,Ke,c,h,m)){M=Ke;break}Ke.nextSibling&&(b=!0),ze.push(Ke),Ke=Ke.parentNode}M&&(b?(A=Ae.getBookmark(),me.collapse(!0),L=bd(pd(a,me,a.formatter.get(c),!0)),a.formatter.remove(c,h,L,m),Ae.moveToBookmark(A)):(B=rf(a.getBody(),M),X=N=$x(!1).dom,(te=(ne=a.dom).getParent(J=null!==B?B:M,jt(ls,a)))&&ne.isEmpty(te)?J.parentNode.replaceChild(X,J):(se=cl(oe=it.fromDom(J),"br"),fe=dt(function(){for(var lt=[],pt=oe.dom;pt;)lt.push(it.fromDom(pt)),pt=pt.lastChild;return lt}().slice(-1),Wu),se.length===fe.length&&It(fe,Ai),ne.isEmpty(J)?J.parentNode.replaceChild(X,J):ne.insertAfter(X,J)),G=function t_(a,c,h,m,b,M){var A,L,B=a.formatter,N=a.dom,G=dt(si(B.get()),function(X){return X!==m&&!Ue(X,"removeformat")});if(0<dt((A=a,L=h,ir(G,function(X,J){var ne=function t0(a,c){return Un(a.formatter.get(c),function(h){function m(b){return 1<b.length&&"%"===b.charAt(0)}return Un(["styles","attributes"],function(b){return Rn(h,b).exists(function(M){var A,L;return Un(Zr(M)?M:(A=ho,L=[],Nt(M,function(B,N){L.push(A(B,N))}),L),m)})})})}(A,J);return A.formatter.matchNode(L,J,{},ne)?X.concat([J]):X},[])),function(X){return te=m,oe=["inline","block","selector","attributes","styles","classes"],!Un((ne=a).formatter.get(X),function(se){var fe=J(se);return Un(ne.formatter.get(te),function(pe){var Ae,ze=J(pe),me=fe,we=ze;return We(Ae=void 0===Ae?or:Ae).eq(me,we)})});function J(se){return Nr(se,function(fe,pe){return Un(oe,function(Ae){return Ae===pe})})}var ne,te,oe}).length){var H=h.cloneNode(!1);return N.add(c,H),B.remove(m,b,H,M),N.remove(H),De.some(H)}return De.none()}(a,N,M,c,h,m),H=TS(ze.concat(G.toArray()),N),Jx(a,B,!1),Ae.setCursorLocation(H,1),pe.isEmpty(M)&&pe.remove(M)))}(a,c,h,b):(Ag(ne,!0,function(){gd(a,B)}),Wi(H)&&Iv(a,c,h,ne.getStart())&&gv(J,ne,ne.getRng()),a.nodeChanged()),kh(a,c,m,h);else{m=ne.getNode();for(var oe=0;oe<G.length&&(!G[oe].ceFalseOverride||!Bv(a,G[oe],h,m,m));oe++);kh(a,c,m,h)}}function g_(a){return lr(a)&&!Al(a)&&!Ba(a)&&!tl(a)}function zv(a){return Rr(a,"vars")}function m_(a,c,h,m,b){return je(c,function(M){var A=a.formatter.matchNode(M,h,null!=b?b:{},m);return!Jr(A)},function(M){return qx(a,M,h)||!m&&rr(a.formatter.matchNode(M,h,b,!0))})}function v_(a,c){var h=null!=c?c:M_(a);return dt(sf(a.dom,h),function(m){return lr(m)&&!tl(m)})}function Gp(a,c){var h=(c||document).createDocumentFragment();return It(a,function(m){h.appendChild(m.dom)}),it.fromDom(h)}function y_(a,c,h){return{element:a,width:c,rows:h}}function BS(a,c){return{element:a,cells:c}}function b_(a,c){var h=parseInt(ol(a,c),10);return isNaN(h)?1:h}function zS(a){return ir(a,function(c,h){return h.cells.length>c?h.cells.length:c},0)}function VS(a,c){for(var h=a.rows,m=0;m<h.length;m++)for(var b=h[m].cells,M=0;M<b.length;M++)if(Ut(b[M],c))return De.some({x:M,y:m});return De.none()}function FS(a,c,h,m,b){for(var M=[],A=a.rows,L=h;L<=b;L++){var B=A[L].cells,N=c<m?B.slice(c,m+1):B.slice(m,c+1);M.push(BS(A[L].element,N))}return M}function S0(){return Gp([])}function qi(a,c){return 0<=c&&c<a.length&&za(a.charAt(c))}function Fv(a,c){var h=Li(a.innerText);return c?h.replace(/^[ \f\n\r\t\v]+/,""):h}function rm(a){return lr(a)?a.outerHTML:Dn(a)?sl.encodeRaw(a.data,!1):$c(a)?"\x3c!--"+a.data+"--\x3e":""}function sb(a){var c,h=Ms((c=a.getBody(),dt(Tn(ka(c.childNodes),rm),function(b){return 0<b.length})),function(b){var M=Ze(a.serializer,b);return 0<M.length?[M]:[]}),m=h.join("");return-1!==m.indexOf("</iframe>")?{type:"fragmented",fragments:h,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:m,bookmark:null,beforeBookmark:null}}function C0(a,c,h){var m,b,M,A,L,B,N,G,H,X,J,ne=h?c.beforeBookmark:c.bookmark;function te(oe,se,fe,pe){for(var Ae=oe;Ae-se<pe&&Ae<fe&&A[Ae]===L[Ae-se];)++Ae;return{start:oe,end:Ae,diag:se}}"fragmented"===c.type?(m=c.fragments,b=a.getBody(),M=Tn(ka(b.childNodes),rm),function x_(a,c){var h=0;It(a,function(m){var b,M,A,L,N,G,H;0===m[0]?h++:1===m[0]?(L=c,N=h,H=function(X){var J,ne=document.createElement("div"),te=document.createDocumentFragment();for(X&&(ne.innerHTML=X);J=ne.firstChild;)te.appendChild(J);return te}(m[1]),L.hasChildNodes()&&N<L.childNodes.length?(G=L.childNodes[N]).parentNode.insertBefore(H,G):L.appendChild(H),h++):2===m[0]&&(M=h,(b=c).hasChildNodes()&&M<b.childNodes.length&&(A=b.childNodes[M]).parentNode.removeChild(A))})}((B=(A=M).length+(L=m).length+2,N=new Array(B),G=new Array(B),H=function(oe,se,fe,pe,Ae){var ze=X(oe,se,fe,pe);if(null===ze||ze.start===se&&ze.diag===se-pe||ze.end===oe&&ze.diag===oe-fe)for(var me=oe,we=fe;me<se||we<pe;)me<se&&we<pe&&A[me]===L[we]?(Ae.push([0,A[me]]),++me,++we):pe-fe<se-oe?(Ae.push([2,A[me]]),++me):(Ae.push([1,L[we]]),++we);else{H(oe,ze.start,fe,ze.start-ze.diag,Ae);for(var Ie=ze.start;Ie<ze.end;++Ie)Ae.push([0,A[Ie]]);H(ze.end,se,ze.end-ze.diag,pe,Ae)}},X=function(oe,se,fe,pe){var Ae=se-oe,ze=pe-fe;if(0==Ae||0==ze)return null;var me,we,Ie,Ke,lt,pt=Ae-ze,Ge=ze+Ae,$e=(Ge%2==0?Ge:1+Ge)/2;for(N[1+$e]=oe,G[1+$e]=se+1,me=0;me<=$e;++me){for(we=-me;we<=me;we+=2){for(N[Ie=we+$e]=we===-me||we!==me&&N[Ie-1]<N[Ie+1]?N[Ie+1]:N[Ie-1]+1,lt=(Ke=N[Ie])-oe+fe-we;Ke<se&&lt<pe&&A[Ke]===L[lt];)N[Ie]=++Ke,++lt;if(pt%2!=0&&pt-me<=we&&we<=pt+me&&G[Ie-pt]<=N[Ie])return te(G[Ie-pt],we+oe-fe,se,pe)}for(we=pt-me;we<=pt+me;we+=2){for(G[Ie=we+$e-pt]=we===pt-me||we!==pt+me&&G[Ie+1]<=G[Ie-1]?G[Ie+1]-1:G[Ie-1],lt=(Ke=G[Ie]-1)-oe+fe-we;oe<=Ke&&fe<=lt&&A[Ke]===L[lt];)G[Ie]=Ke--,lt--;if(pt%2==0&&-me<=we&&we<=me&&G[Ie]<=N[Ie+pt])return te(G[Ie],we+oe-fe,se,pe)}}},H(0,A.length,0,L.length,J=[]),J),b)):a.setContent(c.content,{format:"raw",no_selection:!rr(ne)||!kp(ne)||!ne.isFakeCaret}),a.selection.moveToBookmark(ne)}function __(a){return"fragmented"===a.type?a.fragments.join(""):a.content}function M0(a){var c=it.fromTag("body",GS());return is(c,__(a)),It(cl(c,"*[data-mce-bogus]"),qc),c.dom.innerHTML}function T0(a,c){return!(!a||!c)&&(m=c,__(a)===__(m)||(h=c,M0(a)===M0(h)));var h,m}function Hv(a){return 0===a.get()}function k0(a,c,h){Hv(h)&&(a.typing=c)}function w_(a,c){a.typing&&(k0(a,!1,c),a.add())}function lb(a){return{undoManager:{beforeChange:function(c,h){var m=a,b=h;Hv(c)&&b.set(xs(m.selection))},add:function(c,h,m,b,M,A){return function(L,B,N,G,H,X,J){var ne=sb(L);if(X=kt.extend(X=X||{},ne),!1===Hv(G)||L.removed)return null;var te=B.data[N.get()];if(L.fire("BeforeAddUndo",{level:X,lastLevel:te,originalEvent:J}).isDefaultPrevented()||te&&T0(te,X))return null;B.data[N.get()]&&H.get().each(function(pe){B.data[N.get()].beforeBookmark=pe});var oe=L.getParam("custom_undo_redo_levels",0,"number");if(oe&&B.data.length>oe){for(var se=0;se<B.data.length-1;se++)B.data[se]=B.data[se+1];B.data.length--,N.set(B.data.length)}X.bookmark=xs(L.selection),N.get()<B.data.length-1&&(B.data.length=N.get()+1),B.data.push(X),N.set(B.data.length-1);var fe={level:X,lastLevel:te,originalEvent:J};return 0<N.get()?(L.setDirty(!0),L.fire("AddUndo",fe),L.fire("change",fe)):L.fire("AddUndo",fe),X}(a,c,h,m,b,M,A)},undo:function(c,h,m){return b=a,A=h,L=m,(M=c).typing&&(M.add(),M.typing=!1,k0(M,!1,A)),0<L.get()&&(L.set(L.get()-1),C0(b,B=M.data[L.get()],!0),b.setDirty(!0),b.fire("Undo",{level:B})),B;var b,M,A,L,B},redo:function(c,h){return m=a,M=h,(b=c).get()<M.length-1&&(b.set(b.get()+1),C0(m,A=M[b.get()],!1),m.setDirty(!0),m.fire("Redo",{level:A})),A;var m,b,M,A},clear:function(c,h){var m,b=a,M=h;(m=c).data=[],M.set(0),m.typing=!1,b.fire("ClearUndos")},reset:function(c){var h;(h=c).clear(),h.add()},hasUndo:function(c,h){return m=a,b=c,0<h.get()||b.typing&&b.data[0]&&!T0(sb(m),b.data[0]);var m,b},hasRedo:function(c,h){return m=c,h.get()<m.data.length-1&&!m.typing;var m},transact:function(c,h,m){return M=m,w_(b=c,h),b.beforeChange(),b.ignore(M),b.add();var b,M},ignore:function(c,h){try{c.set(c.get()+1),h()}finally{c.set(c.get()-1)}},extra:function(c,h,m,b){var M,A,L=a,B=h,N=b;(M=c).transact(m)&&(A=M.data[B.get()].bookmark,C0(L,M.data[B.get()-1],!0),M.transact(N)&&(M.data[B.get()-1].beforeBookmark=A))}},formatter:{match:function(c,h,m,b){return Iv(a,c,h,m,b)},matchAll:function(c,h){return b=c,M=h,A=[],L={},B=(m=a).selection.getStart(),m.dom.getParent(B,function(N){for(var G=0;G<b.length;G++){var H=b[G];!L[H]&&Tf(m,N,H,M)&&(L[H]=!0,A.push(H))}},m.dom.getRoot()),A;var m,b,M,A,L,B},matchNode:function(c,h,m,b){return Tf(a,c,h,m,b)},canApply:function(c){return function(h){var m=h.formatter.get(c),b=h.dom;if(m)for(var M=sf(b,h.selection.getStart()),A=m.length-1;0<=A;A--){var L=m[A];if(!Va(L)||rr(L.defaultBlock))return!0;for(var B=M.length-1;0<=B;B--)if(b.is(M[B],L.selector))return!0}return!1}(a)},closest:function(c){return b=c,De.from((m=a).selection.getStart(!0)).bind(function(M){return nb(it.fromDom(M),function(A){return At(b,function(L){return Tf(m,A.dom,B=L)?De.some(B):De.none();var B})},h)}).getOrNull();function h(M){return Ut(M,it.fromDom(m.getBody()))}var m,b},apply:function(c,h,m){return fb(a,c,h,m)},remove:function(c,h,m,b){return ES(a,c,h,m,b)},toggle:function(c,h,m){var b,M=c,A=h,L=m,B=(b=a).formatter.get(M);(!Iv(b,M,A,L)||"toggle"in B[0]&&!B[0].toggle?fb:ES)(b,M,A,L)},formatChanged:function(c,h,m,b,M){return function Vv(a,c,h,m,b,M){var A,L,B,N,G,H,X,J,ne;return null===c.get()&&(L=a,(A=c).set({}),L.on("NodeChange",function(te){P0(L,te.element,A.get())}),L.on("FormatApply FormatRemove",function(te){var oe=De.from(te.node).map(function(se){return of(se)?se:se.startContainer}).bind(function(se){return lr(se)?De.some(se):De.from(se.parentElement)}).getOrThunk(function(){return M_(L)});P0(L,oe,A.get())})),B=a,G=h,H=m,X=b,J=M,ne=(N=c).get(),It(G.split(","),function(te){function oe(){var pe=v_(B);return m_(B,pe,te,X,J).isSome()}var se,fe=Rn(ne,te).getOrThunk(function(){var pe={withSimilar:{state:os(!1),similar:!0,callbacks:[]},withoutSimilar:{state:os(!1),similar:!1,callbacks:[]},withVars:[]};return ne[te]=pe});Jr(J)?((se=X?fe.withSimilar:fe.withoutSimilar).callbacks.push(H),1===se.callbacks.length&&se.state.set(oe())):fe.withVars.push({state:os(oe()),similar:X,vars:J,callback:H})}),N.set(ne),{unbind:function(){var te,oe=h,se=m,fe=(te=c).get();It(oe.split(","),function(pe){return Rn(fe,pe).each(function(Ae){fe[pe]={withSimilar:Xn(Xn({},Ae.withSimilar),{callbacks:dt(Ae.withSimilar.callbacks,function(ze){return ze!==se})}),withoutSimilar:Xn(Xn({},Ae.withoutSimilar),{callbacks:dt(Ae.withoutSimilar.callbacks,function(ze){return ze!==se})}),withVars:dt(Ae.withVars,function(ze){return ze.callback!==se})}})}),te.set(fe)}}}(a,c,h,m,b,M)}},editor:{getContent:function(c,h){return b=c,M=h,De.from((m=a).getBody()).fold(Jt("tree"===b.format?new le("body",11):""),function(A){return L=m,N=A,G=M,te=Xn(Xn({},B=b),{format:G,get:!0,getInner:!0}),se="raw"===(oe=B.no_events?te:L.fire("BeforeGetContent",te)).format?kt.trim(Wt(L.serializer,N.innerHTML)):"text"===oe.format?L.dom.isEmpty(N)?"":Li(N.innerText||N.textContent):"tree"===oe.format?L.serializer.serialize(N,oe):(X=(H=L).serializer.serialize(N,oe),J=Na(H),ne=new RegExp("^(<"+J+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+J+">[\r\n]*|<br \\/>[\r\n]*)$"),X.replace(ne,"")),oe.content=kr(["text","tree"],oe.format)||to(it.fromDom(N))?se:kt.trim(se),(oe.no_events?oe:L.fire("GetContent",oe)).content;var L,B,N,G,H,X,J,ne,te,oe,se});var m,b,M},setContent:function(c,h){return function Yx(a,c,h){var m,b=(m=c,Xn(Xn({format:"html"},h),{set:!0,content:eb(m)?"":m})),M=h.no_events?b:a.fire("BeforeSetContent",b);return eb(c)||(c=M.content),De.from(a.getBody()).fold(Jt(c),function(A){return eb(c)?function(J,ne,te,oe){var se,fe,pe,Ae;se=J.parser.getNodeFilters(),fe=J.parser.getAttributeFilters(),pe=te,Ae=function(me,we){var Ie,Ke,lt={},pt={},Ge=[];for(Ie in pe.firstChild&&s_(pe.firstChild,function($e){It(me,function(qe){qe.name===$e.name&&(lt[qe.name]?lt[qe.name].nodes.push($e):lt[qe.name]={filter:qe,nodes:[$e]})}),It(we,function(qe){"string"==typeof $e.attr(qe.name)&&(pt[qe.name]?pt[qe.name].nodes.push($e):pt[qe.name]={filter:qe,nodes:[$e]})})}),lt)Rr(lt,Ie)&&Ge.push(lt[Ie]);for(Ke in pt)Rr(pt,Ke)&&Ge.push(pt[Ke]);return Ge}(se,fe),It(Ae,function(me){It(me.filter.callbacks,function(we){we(me.nodes,me.filter.name,{})})});var ze=An({validate:J.validate},J.schema).serialize(te);return oe.content=to(it.fromDom(ne))?ze:kt.trim(ze),tb(J,oe.content,oe.no_selection),oe.no_events||J.fire("SetContent",oe),te}(a,A,c,M):(L=a,B=A,G=M,0===(N=c).length||/^\s+$/.test(N)?(H='<br data-mce-bogus="1">',"TABLE"===B.nodeName?N="<tr><td>"+H+"</td></tr>":/^(UL|OL)$/.test(B.nodeName)&&(N="<li>"+H+"</li>"),N=(X=Na(L))&&L.schema.isValidChild(B.nodeName.toLowerCase(),X.toLowerCase())?(N=H,L.dom.createHTML(X,bp(L),N)):N||'<br data-mce-bogus="1">',tb(L,N,G.no_selection),L.fire("SetContent",G)):("raw"!==G.format&&(N=An({validate:L.validate},L.schema).serialize(L.parser.parse(N,{isRootContent:!0,insert:!0}))),G.content=to(it.fromDom(B))?N:kt.trim(N),tb(L,G.content,G.no_selection),G.no_events||L.fire("SetContent",G)),G.content);var L,B,N,G,H,X})}(a,c,h)},insertContent:function(c,h){return MS(a,c,h)},addVisual:function(c){var h,m=c,b=(h=a).dom,M=rr(m)?m:h.getBody();Jr(h.hasVisual)&&(h.hasVisual=h.getParam("visual",!0,"boolean")),It(b.select("table,a",M),function(A){switch(A.nodeName){case"TABLE":var L=h.getParam("visual_table_class","mce-item-table","string"),B=b.getAttrib(A,"border");B&&"0"!==B||!h.hasVisual?b.removeClass(A,L):b.addClass(A,L);break;case"A":var N,G;b.getAttrib(A,"href")||(N=b.getAttrib(A,"name")||A.id,G=h.getParam("visual_anchor_class","mce-item-anchor","string"),N&&h.hasVisual?b.addClass(A,G):b.removeClass(A,G))}}),h.fire("VisualAid",{element:m,hasVisual:h.hasVisual})}},selection:{getContent:function(c,h){return function(m,b,M){var A,L=(A=b,Xn(Xn({},M=void 0===M?{}:M),{format:A,get:!0,selection:!0})),B=m.fire("BeforeGetContent",L);if(B.isDefaultPrevented())return m.fire("GetContent",B),B.content;if("text"===B.format)return De.from((oe=m).selection.getRng()).map(function(fe){var pe=De.from(oe.dom.getParent(fe.commonAncestorContainer,oe.dom.isBlock)),Ae=oe.getBody(),ze=pe.map(function(Ge){return Ge.nodeName}).getOr("div").toLowerCase(),me=sr.browser.isIE()&&"pre"!==ze,we=oe.dom.add(Ae,ze,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},fe.cloneContents()),Ie=Fv(we,me),Ke=Li(we.textContent);if(oe.dom.remove(we),qi(Ke,0)||qi(Ke,Ke.length-1)){var lt=Fv(pe.getOr(Ae),me),pt=lt.indexOf(Ie);return-1===pt?Ie:(qi(lt,pt-1)?" ":"")+Ie+(qi(lt,pt+Ie.length)?" ":"")}return Ie}).getOr("");B.getInner=!0;var N,G,H,X,J,ne,te,oe,se=(G=B,H=(N=m).selection.getRng(),X=N.dom.create("body"),J=N.selection.getSel(),ne=Ug(N,Pp(J)),(te=G.contextual?function vT(a,c){var h,m,b,M,A,L,B,N=r0(c,a);return 0<N.length?function mT(a,c){return Fu(c[0],"table",jt(Ut,a)).bind(function(h){var m,b,M=c[0],A=c[c.length-1],L=function pT(a){var c=y_(kc(a),0,[]);return It(cl(a,"tr"),function(h,m){It(cl(h,"td,th"),function(b,M){!function(A,L,B,N,G){for(var H=b_(G,"rowspan"),X=b_(G,"colspan"),J=A.rows,ne=B;ne<B+H;ne++){J[ne]||(J[ne]=BS(br(N),[]));for(var te=L;te<L+X;te++)J[ne].cells[te]=ne===B&&te===L?G:kc(G)}}(c,function(A,L,B){for(;((G=A.rows)[B]?G[B].cells:[])[L];)L++;var G;return L}(c,M,m),m,h,b)})}),y_(c.element,zS(c.rows),c.rows)}(h);return b=A,VS(m=L,M).bind(function(B){return VS(m,b).map(function(N){return G=m,H=B.x,J=N.x,te=(X=B.y)<(ne=N.y)?FS(G,H,X,J,ne):FS(G,H,ne,J,X),y_(G.element,zS(te),te);var G,H,X,J,ne,te})}).map(function(B){return Gp([(G=Tn((N=B).rows,function(J){var ne=Tn(J.cells,function(oe){var se=br(oe);return su(se,"colspan"),su(se,"rowspan"),se}),te=kc(J.element);return wa(te,ne),te}),H=kc(N.element),wa(X=it.fromTag("tbody"),G),Ui(H,X),H)]);var N,G,H,X})}).getOrThunk(S0)}(a,N):(h=a,0<(m=c).length&&m[0].collapsed?S0():(b=h,A=it.fromDom((M=m[0]).cloneContents()),B=ir(L=function gT(a,c){var h,m,b,M=it.fromDom(c.commonAncestorContainer),A=jr(M,a),L=dt(A,function(N){return du(N)||Sr(N)}),B=(b=c,jo(m=A,function(N){return"li"===No(N)&&Ch(N,b)}).fold(Jt([]),function(N){return jo(m,function(G){return"ul"===No(G)||"ol"===No(G)}).map(function(G){var H=it.fromTag(No(G));return function qa(a,c){var h=a.dom;Nt(c,function(m,b){!function(M,A,L){if(!Ir(L))throw console.error("Invalid call to CSS.set. Property ",A,":: Value ",L,":: Element ",M),new Error("CSS value must be a string: "+L);ki(M)&&M.style.setProperty(A,L)}(h,b,m)})}(H,Nr(og(G),function(X,J){return $n(J,"list-style")})),[it.fromTag("li"),H]}).getOr([])}));return Tn(L.concat(B.length?B:zr(h=M)?yi(h).filter(lo).fold(Jt([]),function(N){return[h,N]}):lo(h)?[h]:[]),kc)}(b,M),function(G,H){return Ui(H,G),H},A),0<L.length?Gp([B]):B))}(it.fromDom(N.getBody()),ne).dom:H.cloneContents())&&X.appendChild(te),N.selection.serializer.serialize(X,G));return"tree"===B.format?se:(B.content=m.selection.isCollapsed()?"":se,m.fire("GetContent",B),B.content)}(a,c,h)}},raw:{getModel:function(){return De.none()}}}}function kf(a){return Rr(a.plugins,"rtc")}function ub(a){return a.rtcInstance||lb(a)}function ya(a){var c=a.rtcInstance;if(c)return c;throw new Error("Failed to get RTC instance not yet initialized.")}function S_(a){return 0===a.dom.length?(Ai(a),De.none()):De.some(a)}function Ql(a,c,h,m){a.bind(function(b){return(m?Jg:h0)(b.dom,m?b.dom.length:0),c.filter(ms).map(function(M){var A=h,L=m,B=b.dom,N=M.dom,G=(L?B:N).length;L?(zx(B,N,!1,!L),A.setStart(N,G)):(zx(N,B,!1,!L),A.setEnd(N,G))})}).orThunk(function(){var b=m;return c.filter(function(M){return Mh.isBookmarkNode(M.dom)}).bind(b?so:zi).or(c).filter(ms).map(function(M){var A,L=m;yi(A=M).each(function(B){var N=A.dom;L&&Mf(B,_t(N,0))?h0(N,0):!L&&Av(B,_t(N,N.length))&&Jg(N,N.length)})})})}function cb(a,c,h){var m;a&&Rr(a,c)&&(0===(m=dt(a[c],function(b){return b!==h})).length?delete a[c]:a[c]=m)}n_=function(a){var c,h=a.selection.getRng(),m=Ya(["pre"]);h.collapsed||(c=a.selection.getSelectedBlocks(),u_(RS(RS(c,m),function(b){return m(b.previousSibling)&&-1!==Ta(c,b.previousSibling)}),function(b){var M,A=b.previousSibling;Cr(M=b).remove(),Cr(A).append("<br><br>").append(M.childNodes)}))},ib.pre||(ib.pre=[]),ib.pre.push(n_);var Df=kt.each,A0=function(a,c,h){Df(a.childNodes,function(m){c_(m)&&(c(m)&&h(m),m.hasChildNodes()&&A0(m,c,h))})},om=xl([{keep:[]},{rename:["name"]},{removed:[]}]),WS=/^(src|href|style)$/,db=kt.each,Af=Lc,C_=kt.each,I0=kt.each,fb=function(a,c,h,m){function b(pe,Ae){var ze;Qt((Ae=void 0===Ae?X:Ae).onformat)&&Ae.onformat(pe,Ae,h,m),I0(Ae.styles,function(me,we){ne.setStyle(pe,we,_u(me,h))}),!Ae.styles||(ze=ne.getAttrib(pe,"style"))&&ne.setAttrib(pe,"data-mce-style",ze),I0(Ae.attributes,function(me,we){ne.setAttrib(pe,we,_u(me,h))}),I0(Ae.classes,function(me){me=_u(me,h),ne.hasClass(pe,me)||ne.addClass(pe,me)})}function M(pe,Ae){var ze=!1;return I0(pe,function(me){return!!Va(me)&&(rr(me.collapsed)&&me.collapsed!==J||!ne.is(Ae,me.selector)||Ba(Ae)?void 0:(b(Ae,me),!(ze=!0)))}),ze}function A(pe,Ae,ze){var me=[],we=!0,Ie=X.inline||X.block,Ke=function(lt){if(Ir(lt)){var pt=ne.create(lt);return b(pt),pt}return null}(Ie);wh(pe,Ae,function(lt){var pt,Ge=function($e){var qe=!1,et=we,bt=$e.nodeName.toLowerCase(),Yt=$e.parentNode,an=Yt.nodeName.toLowerCase();if(lr($e)&&pe.getContentEditable($e)&&(et=we,we="true"===pe.getContentEditable($e),qe=!0),Po($e)&&!function(mn,Sn,qt,Nn){if(mn.getParam("format_empty_lines",!1,"boolean")&&Wi(Sn)){var Rt=Xn(Xn({},mn.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),pn=(Zt=it.fromDom(qt),Ln=function(ke){return Ba(ke.dom)},((co=(Cn=Zt).dom).parentNode?function(a,c){return jo(a.dom.childNodes,function(h){return ke=it.fromDom(h),!Ut(Cn,ke)&&Ln(ke);var ke}).map(it.fromDom)}(it.fromDom(co.parentNode)):De.none()).isSome());return Kr(Rt,Nn)&&j(it.fromDom(qt.parentNode),!1)&&!pn}var Zt,Cn,Ln,co}(a,X,$e,an))return pt=null,void(nc(X)&&pe.remove($e));if(nc(X)&&X.wrapper&&Tf(a,$e,c,h))pt=null;else{if(we&&!qe&&nc(X)&&!X.wrapper&&ls(a,bt)&&af(a,an,Ie)){var wt=pe.rename($e,Ie);return b(wt),me.push(wt),void(pt=null)}if(Va(X)){var St=M(H,$e);if(!St&&rr(Yt)&&mv(X)&&(St=M(H,Yt)),!Wi(X)||St)return void(pt=null)}!we||qe||!af(a,Ie,bt)||!af(a,an,Ie)||!ze&&Dn($e)&&Pi($e.data)||Ba($e)||Wi(X)&&pe.isBlock($e)?(pt=null,It(ka($e.childNodes),Ge),qe&&(we=et),pt=null):(pt||(pt=pe.clone(Ke,!1),$e.parentNode.insertBefore(pt,$e),me.push(pt)),pt.appendChild($e))}};It(lt,Ge)}),!0===X.links&&It(me,function(lt){var pt=function(Ge){"A"===Ge.nodeName&&b(Ge,X),It(ka(Ge.childNodes),pt)};pt(lt)}),It(me,function(lt){var pt,Ge,$e,qe,et,Yt,an,wt,St,mn,Sn,qt,Nn,Rt,pn,Zt,Cn,Ln=(pt=0,It(lt.childNodes,function(ke){var Ye;rr(Ye=ke)&&Dn(Ye)&&0===Ye.length||Al(ke)||pt++}),pt);function co(ke){var Ye;1===ke.nodeType&&ke.parentNode&&1===ke.parentNode.nodeType&&(Ye=e0(qt,ke.parentNode),qt.getStyle(ke,"color")&&Ye?qt.setStyle(ke,"text-decoration",Ye):qt.getStyle(ke,"text-decoration")===Ye&&qt.setStyle(ke,"text-decoration",null))}!(1<me.length)&&pe.isBlock(lt)||0!==Ln?(Wi(X)||nc(X)&&X.wrapper)&&(X.exact||1!==Ln||(lt=jo((Sn=lt).childNodes,g_).filter(function(ke){return Zx(pe,ke,X)}).map(function(ke){var Ye=pe.clone(ke,!1);return b(Ye),pe.replace(Ye,Sn,!0),pe.remove(ke,!0),Ye}).getOr(Sn)),pn=a,Zt=h,Cn=lt,C_(H,function(ke){var Ye,Mt;Wi(ke)&&C_(pn.dom.select(ke.inline,Cn),function(Lt){c_(Lt)&&Bv(pn,ke,Zt,Lt,ke.exact?Lt:null)}),Ye=pn.dom,(Mt=ke).clear_child_styles&&Df(Ye.select(Mt.links?"*:not(a)":"*",Cn),function(Lt){c_(Lt)&&Df(Mt.styles,function(ln,jn){Ye.setStyle(Lt,jn,"")})})}),an=X,Tf(Yt=a,(mn=lt).parentNode,wt=c,St=h)&&Bv(Yt,an,St,mn)||an.merge_with_parents&&Yt.dom.getParent(mn.parentNode,function(ke){if(Tf(Yt,ke,wt,St))return Bv(Yt,an,St,mn),!0}),(et=X).styles&&et.styles.backgroundColor&&A0(lt,d_(pe,"fontSize"),f_(pe,"backgroundColor",_u(et.styles.backgroundColor,h))),qt=pe,Rt=lt,(Nn=X).styles&&(Nn.styles.color||Nn.styles.textDecoration)&&(kt.walk(Rt,co,"childNodes"),co(Rt)),Ge=pe,qe=lt,!Wi($e=X)||"sub"!==$e.inline&&"sup"!==$e.inline||(A0(qe,d_(Ge,"fontSize"),f_(Ge,"fontSize","")),Ge.remove(Ge.select("sup"===$e.inline?"sub":"sup",qe),!0)),Ev(pe,X,0,lt)):pe.remove(lt,!0)})}var L,B,N,G,H=a.formatter.get(c),X=H[0],J=!m&&a.selection.isCollapsed(),ne=a.dom,te=a.selection;if("false"!==ne.getContentEditable(te.getNode()))X&&(m?of(m)?M(H,m)||((L=ne.createRng()).setStartBefore(m),L.setEndAfter(m),A(ne,pd(a,L,H),!0)):A(ne,m,!0):J&&Wi(X)&&!Sh(a).length?function(pe,Ae,ze){var me,we=pe.selection,Ie=we.getRng(),Ke=Ie.startOffset,lt=Ie.startContainer.nodeValue,pt=rf(pe.getBody(),we.getStart());pt&&(me=Kx(pt));var Ge,$e,qe,et,bt=/[^\s\u00a0\u00ad\u200b\ufeff]/;lt&&0<Ke&&Ke<lt.length&&bt.test(lt.charAt(Ke))&&bt.test(lt.charAt(Ke-1))?(Ge=we.getBookmark(),Ie.collapse(!0),$e=bd(pd(pe,Ie,pe.formatter.get(Ae))),pe.formatter.apply(Ae,ze,$e),we.moveToBookmark(Ge)):(pt&&me.nodeValue===Nv||(qe=pe.getDoc(),et=$x(!0).dom,me=(pt=qe.importNode(et,!0)).firstChild,Ie.insertNode(pt),Ke=1),pe.formatter.apply(Ae,ze,pt),we.setCursorLocation(me,Ke))}(a,c,h):(B=te.getNode(),N=H[0],a.settings.forced_root_block||!N.defaultBlock||ne.getParent(B,ne.isBlock)||fb(a,N.defaultBlock),te.setRng(Q1(te.getRng())),Ag(te,!0,function(){gd(a,function(pe,Ae){var ze=Ae?pe:pd(a,pe,H);A(ne,ze,!1)})}),gv(ne,te,te.getRng()),a.nodeChanged()),G=a,u_(ib[c],function(pe){pe(G)})),pf(a,c,m,h);else{m=te.getNode();for(var oe=0,se=H.length;oe<se;oe++){var fe=H[oe];if(fe.ceFalseOverride&&Va(fe)&&ne.is(m,fe.selector)){b(m,fe);break}}pf(a,c,m,h)}},M_=function(a){return a.selection.getStart()},P0=function(a,c,h){var m=v_(a,c);Nt(h,function(b,M){function A(L){var B,N=m_(a,m,M,L.similar,zv(L)?L.vars:void 0),G=N.isSome();L.state.get()!==G&&(L.state.set(G),B=N.getOr(c),zv(L)?L.callback(G,{node:B,format:M,parents:m}):It(L.callbacks,function(H){return H(G,{node:B,format:M,parents:m})}))}It([b.withSimilar,b.withoutSimilar],A),It(b.withVars,A)})},GS=Bt(function(){return document.implementation.createHTMLDocument("undo")});function L0(a){return a.select}function T_(a){return a&&a.ownerDocument&&at(it.fromDom(a.ownerDocument),it.fromDom(a))}function US(a,c,h,m){function b(me,we){return function D0(a,c,h){var m,b=(m=c,Xn(Xn({format:"html"},h=void 0===h?{}:h),{set:!0,selection:!0,content:m})),M=b;if(!b.no_events){var A=a.fire("BeforeSetContent",b);if(A.isDefaultPrevented())return void a.fire("SetContent",A);M=A}M.content=function(B,N){if("raw"===N.format)return N.content;var G=B.selection.getRng(),H=B.dom.getParent(G.commonAncestorContainer,B.dom.isBlock),X=H?{context:H.nodeName.toLowerCase()}:{},J=B.parser.parse(N.content,Xn(Xn({isRootContent:!0,forced_root_block:!1},X),N));return An({validate:B.validate},B.schema).serialize(J)}(a,M);var L=a.selection.getRng();(function(B,N){var G=De.from(N.firstChild).map(it.fromDom),H=De.from(N.lastChild).map(it.fromDom);B.deleteContents(),B.insertNode(N);var X=G.bind(zi).filter(ms).bind(S_),J=H.bind(so).filter(ms).bind(S_);Ql(X,G,B,!0),Ql(J,H,B,!1),B.collapse(!1)})(L,L.createContextualFragment(M.content)),a.selection.setRng(L),ic(a,L),M.no_events||a.fire("SetContent",M)}(m,me,we)}function M(){var me=L(),we=null==me?void 0:me.anchorNode,Ie=null==me?void 0:me.focusNode;if(!me||!we||!Ie||bl(we)||bl(Ie))return!0;var Ke=a.createRng();Ke.setStart(we,me.anchorOffset),Ke.collapse(!0);var lt=a.createRng();return lt.setStart(Ie,me.focusOffset),lt.collapse(!0),Ke.compareBoundaryPoints(Ke.START_TO_START,lt)<=0}function A(me){var we=te();we.collapse(!!me),oe(we)}function L(){return c.getSelection?c.getSelection():c.document.selection}var B,N,G,H,X,J,ne=function(me,we){return X||(X={},J={},H.on("NodeChange",function(Ie){var Ke=Ie.element,lt=ze(Ke),pt={};kt.each(X,function(Ge,$e){Ae($e,lt).each(function(qe){J[$e]||(It(Ge,function(et){et(!0,{node:qe,selector:$e,parents:lt})}),J[$e]=Ge),pt[$e]=Ge})}),kt.each(J,function(Ge,$e){pt[$e]||(delete J[$e],kt.each(Ge,function(qe){qe(!1,{node:Ke,selector:$e,parents:lt})}))})})),X[me]||(X[me]=[]),X[me].push(we),Ae(me,ze(H.selection.getStart())).each(function(){J[me]=X[me]}),{unbind:function(){cb(X,me,we),cb(J,me,we)}}},te=function(){function me(Ge,$e,qe){try{return $e.compareBoundaryPoints(Ge,qe)}catch(et){return-1}}var we,Ie,Ke,lt=c.document;if(void 0!==m.bookmark&&!1===ws(m)){var pt=_d(m);if(pt.isSome())return pt.map(function(Ge){return Ug(m,[Ge])[0]}).getOr(lt.createRange())}try{(we=L())&&!bl(we.anchorNode)&&(Ie=0<we.rangeCount?we.getRangeAt(0):(we.createRange?we:lt).createRange(),Ie=Ug(m,[Ie])[0])}catch(Ge){}return(Ie=Ie||(lt.createRange?lt.createRange():lt.body.createTextRange())).setStart&&9===Ie.startContainer.nodeType&&Ie.collapsed&&(Ke=a.getRoot(),Ie.setStart(Ke,0),Ie.setEnd(Ke,0)),B&&N&&(0===me(Ie.START_TO_START,Ie,B)&&0===me(Ie.END_TO_END,Ie,B)?Ie=N:N=B=null),Ie},oe=function(me,we){var Ie;if((Ke=me)&&(L0(Ke)||T_(Ke.startContainer)&&T_(Ke.endContainer))){var Ke,lt=L0(me)?me:null;if(lt){N=null;try{lt.select()}catch(Ge){}}else{var pt=L();if(me=m.fire("SetSelectionRange",{range:me,forward:we}).range,pt){N=me;try{pt.removeAllRanges(),pt.addRange(me)}catch(Ge){}!1===we&&pt.extend&&(pt.collapse(me.endContainer,me.endOffset),pt.extend(me.startContainer,me.startOffset)),B=0<pt.rangeCount?pt.getRangeAt(0):null}me.collapsed||me.startContainer!==me.endContainer||!pt.setBaseAndExtent||sr.ie||me.endOffset-me.startOffset<2&&me.startContainer.hasChildNodes()&&(Ie=me.startContainer.childNodes[me.startOffset])&&"IMG"===Ie.tagName&&(pt.setBaseAndExtent(me.startContainer,me.startOffset,me.endContainer,me.endOffset),pt.anchorNode===me.startContainer&&pt.focusNode===me.endContainer||pt.setBaseAndExtent(Ie,0,Ie,1)),m.fire("AfterSetSelectionRange",{range:me,forward:we})}}},se={bookmarkManager:null,controlSelection:null,dom:G=a,win:c,serializer:h,editor:H=m,collapse:A,setCursorLocation:function(me,we){var Ie=a.createRng();rr(me)&&rr(we)?(Ie.setStart(me,we),Ie.setEnd(me,we),oe(Ie),A(!1)):(lf(a,Ie,m.getBody(),!0),oe(Ie))},getContent:function(me){return Ie=(we=void 0===(we=me)?{}:we).format||"html",Ke=we,ya(m).selection.getContent(Ie,Ke);var we,Ie,Ke},setContent:b,getBookmark:function(me,we){return fe.getBookmark(me,we)},moveToBookmark:function(me){return fe.moveToBookmark(me)},select:function(me,we){var Ie=a,Ke=we;return De.from(me).map(function(lt){var pt=Ie.nodeIndex(lt),Ge=Ie.createRng();return Ge.setStart(lt.parentNode,pt),Ge.setEnd(lt.parentNode,pt+1),Ke&&(lf(Ie,Ge,lt,!0),lf(Ie,Ge,lt,!1)),Ge}).each(oe),me},isCollapsed:function(){var me=te(),we=L();return!(!me||me.item)&&(me.compareEndPoints?0===me.compareEndPoints("StartToEnd",me):!we||me.collapsed)},isForward:M,setNode:function(me){return b(a.getOuterHTML(me)),me},getNode:function(){return function(me,we){if(!we)return me;var Ie=we.startContainer,Ke=we.endContainer,lt=we.startOffset,pt=we.endOffset,Ge=we.commonAncestorContainer;return!we.collapsed&&(Ie===Ke&&pt-lt<2&&Ie.hasChildNodes()&&(Ge=Ie.childNodes[lt]),3===Ie.nodeType&&3===Ke.nodeType&&(Ie=Ie.length===lt?Gg(Ie.nextSibling,!0):Ie.parentNode,Ke=0===pt?Gg(Ke.previousSibling,!1):Ke.parentNode,Ie&&Ie===Ke))?Ie:Ge&&3===Ge.nodeType?Ge.parentNode:Ge}(m.getBody(),te())},getSel:L,setRng:oe,getRng:te,getStart:function(me){return Lh(m.getBody(),te(),me)},getEnd:function(me){return Fp(m.getBody(),te(),me)},getSelectedBlocks:function(me,we){return function(Ie,Ke,lt,pt){var Ge=[],$e=Ie.getRoot();if(lt=Ie.getParent(lt||Lh($e,Ke,Ke.collapsed),Ie.isBlock),pt=Ie.getParent(pt||Fp($e,Ke,Ke.collapsed),Ie.isBlock),lt&&lt!==$e&&Ge.push(lt),lt&&pt&&lt!==pt)for(var qe,et=new wi(lt,$e);(qe=et.next())&&qe!==pt;)Ie.isBlock(qe)&&Ge.push(qe);return pt&&lt!==pt&&pt!==$e&&Ge.push(pt),Ge}(a,te(),me,we)},normalize:function(){var me=te();if(1<Pp(L()).length||!rc(m))return me;var we=mf(a,me);return we.each(function(Ie){oe(Ie,M())}),we.getOr(me)},selectorChanged:function(me,we){return ne(me,we),se},selectorChangedWithUnbind:ne,getScrollContainer:function(){for(var me,we=a.getRoot();we&&"BODY"!==we.nodeName;){if(we.scrollHeight>we.clientHeight){me=we;break}we=we.parentNode}return me},scrollIntoView:function(me,we){rr(me)?(m.inline?Vg:bf)(m,me,we):ic(m,te(),we)},placeCaretAt:function(me,we){return oe(Dh(me,we,m.getDoc()))},getBoundingClientRect:function(){var me=te();return me.collapsed?_t.fromRangeStart(me).getClientRects()[0]:me.getBoundingClientRect()},destroy:function(){c=B=N=null,pe.destroy()}},fe=Mh(se),pe=gf(se,m);function Ae(me,we){return jo(we,function(Ie){return G.is(Ie,me)})}function ze(me){return G.getParents(me,null,G.getRoot())}return se.bookmarkManager=fe,se.controlSelection=pe,se}function hb(a){var c,h=decodeURIComponent(a).split(","),m=/data:([^;]+)/.exec(h[0]);return{type:c=m?m[1]:c,data:h[1]}}function k_(a,c){var h;try{h=atob(c)}catch(M){return De.none()}for(var m=new Uint8Array(h.length),b=0;b<m.length;b++)m[b]=h.charCodeAt(b);return De.some(new Blob([m],{type:a}))}function uc(a){return 0===a.indexOf("blob:")?(c=a,new Wo(function(m,b){function M(){b("Cannot convert "+c+" to Blob. Resource might not exist or is inaccessible.")}try{var A=new XMLHttpRequest;A.open("GET",c,!0),A.responseType="blob",A.onload=function(){200===A.status?m(A.response):M()},A.onerror=M,A.send()}catch(L){M()}})):0===a.indexOf("data:")?(h=a,new Wo(function(m){var b=hb(h);k_(b.type,b.data).fold(function(){return m(new Blob([]))},m)})):null;var c,h}function pb(a){return(a||"blobid")+am++}function YS(a,c,h,m){(a.padd_empty_with_br||c.insert)&&h[m.name]?m.empty().append(new le("br",1)).shortEnded=!0:m.empty().append(new le("#text",3)).value=bo}function Wv(a,c,h,m){return m.isEmpty(c,h,function(b){return(M=a.getElementRule(b.name))&&M.paddEmpty;var M})}function Gv(a,c){void 0===c&&(c=Xe());var h={},m=[],b={},M={};function A(B){var N=B.name;N in h&&((H=b[N])?H.push(B):b[N]=[B]);for(var G=m.length;G--;){var H,X=m[G].name;X in B.attributes.map&&((H=M[X])?H.push(B):M[X]=[B])}return B}(a=a||{}).validate=!("validate"in a)||a.validate,a.root_name=a.root_name||"body";var L={schema:c,addAttributeFilter:function(B,N){$S(JS(B),function(G){for(var H=0;H<m.length;H++)if(m[H].name===G)return void m[H].callbacks.push(N);m.push({name:G,callbacks:[N]})})},getAttributeFilters:function(){return[].concat(m)},addNodeFilter:function(B,N){$S(JS(B),function(G){var H=h[G];H||(h[G]=H=[]),H.push(N)})},getNodeFilters:function(){var B,N=[];for(B in h)Rr(h,B)&&N.push({name:B,callbacks:h[B]});return N},filterNode:A,parse:function(B,N){var G,H,X,J,ne,te,oe,se,fe=[];function pe(wt){for(var St=c.getBlockElements(),mn=wt.prev;mn&&3===mn.type;){var Sn=mn.value.replace($e,"");if(0<Sn.length)return mn.value=Sn,0;var qt=mn.next;if(qt){if(3===qt.type&&qt.value.length){mn=mn.prev;continue}if(!St[qt.name]&&"script"!==qt.name&&"style"!==qt.name){mn=mn.prev;continue}}var Nn=mn.prev;mn.remove(),mn=Nn}}function Ae(wt,St){var mn,Sn=new le(wt,St);return wt in h&&((mn=b[wt])?mn.push(Sn):b[wt]=[Sn]),Sn}N=N||{},b={},M={};var ze=_T(KS("script,style,head,html,body,title,meta,param"),c.getBlockElements()),me=c.getNonEmptyElements(),we=c.children,Ie=a.validate,Ke=("forced_root_block"in N?N:a).forced_root_block,lt=!1===Ke?"":!0===Ke?"p":Ke,pt=c.getWhiteSpaceElements(),Ge=/^[ \t\r\n]+/,$e=/[ \t\r\n]+$/,qe=/[ \t\r\n]+/g,et=/^[ \t\r\n]+$/,bt=Rr(pt,N.context)||Rr(pt,a.root_name),Yt=Ve({validate:Ie,document:a.document,allow_html_data_urls:a.allow_html_data_urls,allow_svg_data_urls:a.allow_svg_data_urls,allow_script_urls:a.allow_script_urls,allow_conditional_comments:a.allow_conditional_comments,preserve_cdata:a.preserve_cdata,self_closing_elements:function(wt){var St,mn={};for(St in wt)"li"!==St&&"p"!==St&&(mn[St]=wt[St]);return mn}(c.getSelfClosingElements()),cdata:function(wt){se.append(Ae("#cdata",4)).value=wt},text:function(wt,St){var mn,Sn;bt||(wt=wt.replace(qe," "),(Sn=se.lastChild)&&(Rr(ze,Sn.name)||"br"===Sn.name)&&(wt=wt.replace(Ge,""))),0!==wt.length&&((mn=Ae("#text",3)).raw=!!St,se.append(mn).value=wt)},comment:function(wt){se.append(Ae("#comment",8)).value=wt},pi:function(wt,St){se.append(Ae(wt,7)).value=St,pe(se)},doctype:function(wt){se.append(Ae("#doctype",10)).value=wt,pe(se)},start:function(wt,St,mn){var Sn=Ie?c.getElementRule(wt):{};if(Sn){var qt=Ae(Sn.outputName||wt,1);qt.attributes=St,qt.shortEnded=mn,se.append(qt);var Nn=we[se.name];Nn&&we[qt.name]&&!Nn[qt.name]&&fe.push(qt);for(var Rt=m.length;Rt--;){var pn=m[Rt].name;pn in St.map&&((te=M[pn])?te.push(qt):M[pn]=[qt])}ze[wt]&&pe(qt),mn||(se=qt),!bt&&pt[wt]&&(bt=!0)}},end:function(wt){var St,mn,Sn,qt,Nn,Rt=Ie?c.getElementRule(wt):{};if(Rt){if(ze[wt]&&!bt){if((St=se.firstChild)&&3===St.type)if(0<(mn=St.value.replace(Ge,"")).length)St.value=mn,St=St.next;else for(Sn=St.next,St.remove(),St=Sn;St&&3===St.type;)Sn=St.next,0!==(mn=St.value).length&&!et.test(mn)||(St.remove(),St=Sn),St=Sn;if((St=se.lastChild)&&3===St.type)if(0<(mn=St.value.replace($e,"")).length)St.value=mn,St=St.prev;else for(Sn=St.prev,St.remove(),St=Sn;St&&3===St.type;)Sn=St.prev,0!==(mn=St.value).length&&!et.test(mn)||(St.remove(),St=Sn),St=Sn}if(bt&&pt[wt]&&(bt=!1),Rt.removeEmpty&&Wv(c,me,pt,se))return qt=se.parent,ze[se.name]?se.empty().remove():se.unwrap(),void(se=qt);Rt.paddEmpty&&(sm(Nn=se,"#text")&&Nn.firstChild.value===bo||Wv(c,me,pt,se))&&YS(a,N,ze,se),se=se.parent}}},c),an=se=new le(N.context||a.root_name,11);if(Yt.parse(B,N.format),Ie&&fe.length&&(N.context?N.invalid=!0:function(wt){for(var St=KS("tr,td,th,tbody,thead,tfoot,table"),mn=c.getNonEmptyElements(),Sn=c.getWhiteSpaceElements(),qt=c.getTextBlockElements(),Nn=c.getSpecialElements(),Rt=function(jn,gr){if(void 0===gr&&(gr=jn.parent),Nn[jn.name])jn.empty().remove();else{for(var Mo=0,mo=jn.children();Mo<mo.length;Mo++){var Zn=mo[Mo];c.isValidChild(gr.name,Zn.name)||Rt(Zn,gr)}jn.unwrap()}},pn=0;pn<wt.length;pn++){var Zt,Cn=wt[pn],Ln=void 0,co=void 0;if(Cn.parent&&!Cn.fixed)if(qt[Cn.name]&&"li"===Cn.parent.name){for(var ke=Cn.next;ke&&qt[ke.name];)ke.name="li",ke.fixed=!0,Cn.parent.insert(ke,Cn.parent),ke=ke.next;Cn.unwrap()}else{var Ye=[Cn];for(Ln=Cn.parent;Ln&&!c.isValidChild(Ln.name,Cn.name)&&!St[Ln.name];Ln=Ln.parent)Ye.push(Ln);if(Ln&&1<Ye.length)if(c.isValidChild(Ln.name,Cn.name)){Ye.reverse();for(var Mt=Zt=A(Ye[0].clone()),Ot=0;Ot<Ye.length-1;Ot++){c.isValidChild(Mt.name,Ye[Ot].name)?(co=A(Ye[Ot].clone()),Mt.append(co)):co=Mt;for(var Lt=Ye[Ot].firstChild;Lt&&Lt!==Ye[Ot+1];){var ln=Lt.next;co.append(Lt),Lt=ln}Mt=co}Wv(c,mn,Sn,Zt)?Ln.insert(Cn,Ye[0],!0):(Ln.insert(Zt,Ye[0],!0),Ln.insert(Cn,Zt)),(Wv(c,mn,Sn,Ln=Ye[0])||sm(Ln,"br"))&&Ln.empty().remove()}else Rt(Cn);else Cn.parent&&("li"!==Cn.name?c.isValidChild(Cn.parent.name,"div")&&c.isValidChild("div",Cn.name)?Cn.wrap(A(new le("div",1))):Rt(Cn):!(ke=Cn.prev)||"ul"!==ke.name&&"ol"!==ke.name?!(ke=Cn.next)||"ul"!==ke.name&&"ol"!==ke.name?Cn.wrap(A(new le("ul",1))):ke.insert(Cn,ke.firstChild,!0):ke.append(Cn))}}}(fe)),lt&&("body"===an.name||N.isRootContent)&&function(){function wt(qt){qt&&((St=qt.firstChild)&&3===St.type&&(St.value=St.value.replace(Ge,"")),(St=qt.lastChild)&&3===St.type&&(St.value=St.value.replace($e,"")))}var St=an.firstChild,mn=null;if(c.isValidChild(an.name,lt.toLowerCase())){for(;St;){var Sn=St.next;3===St.type||1===St.type&&"p"!==St.name&&!ze[St.name]&&!St.attr("data-mce-type")?(mn||((mn=Ae(lt,1)).attr(a.forced_root_block_attrs),an.insert(mn,St)),mn.append(St)):(wt(mn),mn=null),St=Sn}wt(mn)}}(),!N.invalid){for(oe in b)if(Rr(b,oe)){for(te=h[oe],J=(G=b[oe]).length;J--;)G[J].parent||G.splice(J,1);for(H=0,X=te.length;H<X;H++)te[H](G,oe,N)}for(H=0,X=m.length;H<X;H++)if((te=m[H]).name in M){for(J=(G=M[te.name]).length;J--;)G[J].parent||G.splice(J,1);for(J=0,ne=te.callbacks.length;J<ne;J++)te.callbacks[J](G,te.name,N)}}return an}};return function yT(a,c){var m,b,M=a.schema;function A(L){var B,N,G=L.attr("src");(B=L).attr("src")===sr.transparentSrc||rr(B.attr("data-mce-placeholder"))||rr(L.attr("data-mce-bogus"))||((N=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(G))?De.some({type:N[1],data:decodeURIComponent(N[2])}):De.none()).filter(function(){return function(H,X){if(X.images_dataimg_filter){var J=new Image;return J.src=H.attr("src"),Nt(H.attributes.map,function(ne,te){J.setAttribute(te,ne)}),X.images_dataimg_filter(J)}return!0}(L,m)}).bind(function(H){var X=H.type,J=H.data;return De.from(b.getByData(J,X)).orThunk(function(){return k_(X,J).map(function(ne){var te=b.create(pb(),ne,J);return b.add(te),te})})}).each(function(H){L.attr("src",H.blobUri())})}c.remove_trailing_brs&&a.addNodeFilter("br",function(L,B,N){var G,H,X,J,ne,te,oe,se,fe=L.length,pe=kt.extend({},M.getBlockElements()),Ae=M.getNonEmptyElements(),ze=M.getWhiteSpaceElements();for(pe.body=1,G=0;G<fe;G++)if(X=(H=L[G]).parent,pe[H.parent.name]&&H===X.lastChild){for(ne=H.prev;ne;){if("span"!==(te=ne.name)||"bookmark"!==ne.attr("data-mce-type")){"br"===te&&(H=null);break}ne=ne.prev}H&&(H.remove(),Wv(M,Ae,ze,X)&&(oe=M.getElementRule(X.name))&&(oe.removeEmpty?X.remove():oe.paddEmpty&&YS(c,N,pe,X)))}else{for(J=H;X&&X.firstChild===J&&X.lastChild===J&&!pe[(J=X).name];)X=X.parent;J===X&&!0!==c.padd_empty_with_br&&((se=new le("#text",3)).value=bo,H.replace(se))}}),a.addAttributeFilter("href",function(L){var B,N,G=L.length;if(!c.allow_unsafe_link_target)for(;G--;){var H=L[G];"a"===H.name&&"_blank"===H.attr("target")&&H.attr("rel",(N=void 0,N=(B=H.attr("rel"))?kt.trim(B):"",/\b(noopener)\b/g.test(N)?N:N.split(" ").filter(function(X){return 0<X.length}).concat(["noopener"]).sort().join(" ")))}}),c.allow_html_in_named_anchor||a.addAttributeFilter("id,name",function(L){for(var B,N,G,H,X=L.length;X--;)if("a"===(H=L[X]).name&&H.firstChild&&!H.attr("href"))for(G=H.parent,B=H.lastChild;N=B.prev,G.insert(B,H),B=N;);}),c.fix_list_elements&&a.addNodeFilter("ul,ol",function(L){for(var B,N,G,H=L.length;H--;)"ul"!==(G=(N=L[H]).parent).name&&"ol"!==G.name||(N.prev&&"li"===N.prev.name?N.prev.append(N):((B=new le("li",1)).attr("style","list-style-type: none"),N.wrap(B)))}),c.validate&&M.getValidClasses()&&a.addAttributeFilter("class",function(L){for(var B=M.getValidClasses(),N=L.length;N--;){for(var G=L[N],H=G.attr("class").split(" "),X="",J=0;J<H.length;J++){var ne=H[J],te=!1,oe=B["*"];oe&&oe[ne]&&(te=!0),oe=B[G.name],(te=!(te||!oe||!oe[ne])||te)&&(X&&(X+=" "),X+=ne)}X.length||(X=null),G.attr("class",X)}}),(b=(m=c).blob_cache)&&a.addAttributeFilter("src",function(L){return It(L,A)})}(L,a),a.inline_styles&&function jS(a,c){var h,m,b,M,A=$t();c.convert_fonts_to_spans&&(m=a,b=A,M=kt.explode(c.font_size_legacy_values),m.addNodeFilter("font",function(L){It(L,function(B){var N,G=b.parse(B.attr("style")),H=B.attr("color"),X=B.attr("face"),J=B.attr("size");H&&(G.color=H),X&&(G["font-family"]=X),J&&(G["font-size"]=M[parseInt(B.attr("size"),10)-1]),B.name="span",B.attr("style",b.serialize(G)),N=B,It(["color","face","size"],function(ne){N.attr(ne,null)})})})),h=A,a.addNodeFilter("strike",function(L){It(L,function(B){var N=h.parse(B.attr("style"));N["text-decoration"]="line-through",B.name="span",B.attr("style",h.serialize(N))})})}(L,a),L}function bT(a,c,h){-1===kt.inArray(c,h)&&(a.addAttributeFilter(h,function(m,b){for(var M=m.length;M--;)m[M].attr(b,null)}),c.push(h))}function A_(a,c){var h=function D_(a,c){var h=["data-mce-selected"],m=c&&c.dom?c.dom:Uo.DOM,b=c&&c.schema?c.schema:Xe(a);a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs;var M,A=Gv(a,b),L=a,B=m;return(M=A).addAttributeFilter("data-mce-tabindex",function(N,G){for(var H=N.length;H--;){var X=N[H];X.attr("tabindex",X.attr("data-mce-tabindex")),X.attr(G,null)}}),M.addAttributeFilter("src,href,style",function(N,G){for(var H="data-mce-"+G,X=L.url_converter,J=L.url_converter_scope,ne=N.length;ne--;){var te=N[ne],oe=te.attr(H);void 0!==oe?(te.attr(G,0<oe.length?oe:null),te.attr(H,null)):(oe=te.attr(G),"style"===G?oe=B.serializeStyle(B.parseStyle(oe),te.name):X&&(oe=X.call(J,oe,G,te.name)),te.attr(G,0<oe.length?oe:null))}}),M.addAttributeFilter("class",function(N){for(var G=N.length;G--;){var H,X=N[G];X.attr("class")&&(H=X.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),X.attr("class",0<H.length?H:null))}}),M.addAttributeFilter("data-mce-type",function(N,G,H){for(var X=N.length;X--;){var J=N[X];"bookmark"!==J.attr("data-mce-type")||H.cleanup||(De.from(J.firstChild).exists(function(ne){return!Pi(ne.value)})?J.unwrap():J.remove())}}),M.addNodeFilter("noscript",function(N){for(var G=N.length;G--;){var H=N[G].firstChild;H&&(H.value=sl.decode(H.value))}}),M.addNodeFilter("script,style",function(N,G){for(var H=function(oe){return oe.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},X=N.length;X--;){var J,ne=N[X],te=ne.firstChild?ne.firstChild.value:"";"script"===G?((J=ne.attr("type"))&&ne.attr("type","mce-no/type"===J?null:J.replace(/^mce\-/,"")),"xhtml"===L.element_format&&0<te.length&&(ne.firstChild.value="// <![CDATA[\n"+H(te)+"\n// ]]>")):"xhtml"===L.element_format&&0<te.length&&(ne.firstChild.value="\x3c!--\n"+H(te)+"\n--\x3e")}}),M.addNodeFilter("#comment",function(N){for(var G=N.length;G--;){var H=N[G];L.preserve_cdata&&0===H.value.indexOf("[CDATA[")?(H.name="#cdata",H.type=4,H.value=B.decode(H.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===H.value.indexOf("mce:protected ")&&(H.name="#text",H.type=3,H.raw=!0,H.value=unescape(H.value).substr(14))}}),M.addNodeFilter("xml:namespace,input",function(N,G){for(var H=N.length;H--;){var X=N[H];7===X.type?X.remove():1===X.type&&("input"!==G||X.attr("type")||X.attr("type","text"))}}),M.addAttributeFilter("data-mce-type",function(N){It(N,function(G){"format-caret"===G.attr("data-mce-type")&&(G.isEmpty(M.schema.getNonEmptyElements())?G.remove():G.unwrap())})}),M.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(N,G){for(var H=N.length;H--;)N[H].attr(G,null)}),{schema:b,addNodeFilter:A.addNodeFilter,addAttributeFilter:A.addAttributeFilter,serialize:function(N,G){var H,X,J,ne,te,oe,se,fe,pe,Ae,ze,me,we,Ie,Ke,lt,pt,Ge,$e,qe,et,bt,Yt,an,wt,St,mn,Sn,qt,Nn=Xn({format:"html"},G=void 0===G?{}:G),Rt=(me=N,Yt=we=Nn,H=(ze=c)&&ze.hasEventListeners("PreProcess")&&!Yt.no_events?(Ke=we,qe=(Ie=ze).dom,et=me.cloneNode(!0),(bt=document.implementation).createHTMLDocument&&(pt=bt.createHTMLDocument(""),kt.each("BODY"===et.nodeName?et.childNodes:[et],function(Cn){pt.body.appendChild(pt.importNode(Cn,!0))}),et="BODY"!==et.nodeName?pt.body.firstChild:pt.body,lt=qe.doc,qe.doc=pt),Ge=Ie,$e=Xn(Xn({},Ke),{node:et}),Ge.fire("PreProcess",$e),lt&&(qe.doc=lt),et):me,J=Li((X=Nn).getInner?H.innerHTML:m.getOuterHTML(H)),X.selection||to(it.fromDom(H))?J:kt.trim(J)),pn=(ne=A,te=Rt,se=(oe=Nn).selection?Xn({forced_root_block:!1},oe):oe,!Zt(Ae=(fe=ne.parse(te,se)).lastChild)||Zt(pe=Ae.prev)&&(Ae.remove(),pe.remove()),fe);function Zt(Cn){return Cn&&"br"===Cn.name}return"tree"===Nn.format?pn:(an=c,wt=Nn,St=pn,qt=An(a,b).serialize(St),wt.no_events||!an?qt:(mn=an,Sn=Xn(Xn({},wt),{content:qt}),mn.fire("PostProcess",Sn).content))},addRules:b.addValidElements,setRules:b.setValidElements,addTempAttr:jt(bT,A,h),getTempAttrs:Jt(h),getNodeFilters:A.getNodeFilters,getAttributeFilters:A.getAttributeFilters}}(a,c);return{schema:h.schema,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:h.serialize,addRules:h.addRules,setRules:h.setRules,addTempAttr:h.addTempAttr,getTempAttrs:h.getTempAttrs,getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters}}function gb(a,c,h){return m=h=void 0===h?{}:h,ub(a).editor.setContent(c,m);var m}function R0(a){return De.from(a).each(function(c){return c.destroy()})}function Sd(a){var c=Zr(a)?a.join(" "):a;return dt(Tn(Ir(c)?c.split(" "):[],Ti),function(h){return 0<h.length})}function mb(a,c){return Rr(a.sections(),c)}function I_(a,c){return Rn(a,"toolbar_mode").orThunk(function(){return Rn(a,"toolbar_drawer").map(function(h){return!1===h?"wrap":h})}).getOr(c)}function im(a,c,h){return De.from(c.settings[h]).filter(a)}function ZS(a,c){return c.dom[a]}function P_(a,c){return parseInt(Os(c,a),10)}function vb(a,c,h){var m,b,M,A,L,B,N=it.fromDom(a.getBody()),G=a.inline?N:it.fromDom(ml(N).dom.documentElement),H=(m=a.inline,M=c,A=h,L=(b=G).dom.getBoundingClientRect(),{x:M-(m?L.left+b.dom.clientLeft+nC(b):0),y:A-(m?L.top+b.dom.clientTop+tC(b):0)}),X=H.x,J=H.y,ne=N_(B=G),te=eC(B);return 0<=X&&0<=J&&X<=ne&&J<=te}function yb(a){function c(){var N=a.theme;return N&&N.getNotificationManagerImpl?N.getNotificationManagerImpl():{open:G,close:G,reposition:G,getArgs:G};function G(){throw new Error("Theme did not provide a NotificationManager implementation.")}}function h(){return De.from(L[0])}function m(){0<L.length&&c().reposition(L)}function b(N){zn(L,function(G){return G===N}).each(function(G){L.splice(G,1)})}function M(N,G){if(void 0===G&&(G=!0),!a.removed&&(X=(H=a).inline?H.getBody():H.getContentAreaContainer(),De.from(X).map(it.fromDom).map(Zc).getOr(!1)))return G&&a.fire("BeforeOpenNotification",{notification:N}),jo(L,function(J){return!((ne=c().getArgs(J)).type!==N.type||ne.text!==N.text||ne.progressBar||ne.timeout||N.progressBar||N.timeout);var ne}).getOrThunk(function(){a.editorManager.setActive(a);var J=c().open(N,function(){b(J),m(),h().fold(function(){return a.focus()},function(ne){return it.fromDom(ne.getEl()).dom.focus()})});return L.push(J),m(),a.fire("OpenNotification",{notification:Xn({},J)}),J});var H,X}var A,L=[],B=Jt(L);return(A=a).on("SkinLoaded",function(){var N=A.getParam("service_message");N&&M({text:N,type:"warning",timeout:0},!1),m()}),A.on("show ResizeEditor ResizeWindow NodeChange",function(){Bo.requestAnimationFrame(m)}),A.on("remove",function(){It(L.slice(),function(N){c().close(N)})}),{open:M,close:function(){h().each(function(N){c().close(N),b(N),m()})},getNotifications:B}}var L_,If,am=0,sm=function(a,c){return a&&a.firstChild&&a.firstChild===a.lastChild&&a.firstChild.name===c},KS=kt.makeMap,$S=kt.each,JS=kt.explode,_T=kt.extend,bb=Uo.DOM,Uv=(L_=function(a,c){return Mi(a)&&Mi(c)?Uv(a,c):c},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];if(0===a.length)throw new Error("Can't merge zero objects");for(var h={},m=0;m<a.length;m++){var b,M=a[m];for(b in M)Rr(M,b)&&(h[b]=L_(h[b],M[b]))}return h}),wT="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),xb="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),ST="imagetools,toc".split(","),O0=_i().deviceType,Cd=O0.isTouch(),QS=O0.isPhone(),R_=O0.isTablet(),_b=["lists","autolink","autosave"],O_={table_grid:!1,object_resizing:!1,resize:!1},N0=(If={},{add:function(a,c){If[a]=c},get:function(a){return If[a]||{icons:{}}},has:function(a){return Rr(If,a)}}),N_=jt(ZS,"clientWidth"),eC=jt(ZS,"clientHeight"),tC=jt(P_,"margin-top"),nC=jt(P_,"margin-left"),Pl=ga.PluginManager,Pf=ga.ThemeManager;function E0(a){function c(){var A=a.theme;return A&&A.getWindowManagerImpl?A.getWindowManagerImpl():{open:L,openUrl:L,alert:L,confirm:L,close:L,getParams:L,setParams:L};function L(){throw new Error("Theme did not provide a WindowManager implementation.")}}function h(A,L){return function(){for(var B=[],N=0;N<arguments.length;N++)B[N]=arguments[N];return L?L.apply(A,B):void 0}}function m(A){a.fire("CloseWindow",{dialog:A}),0===(M=dt(M,function(L){return L!==A})).length&&a.focus()}function b(A){a.editorManager.setActive(a),Tu(a);var L,B=A();return M.push(L=B),a.fire("OpenWindow",{dialog:L}),B}var M=[];return a.on("remove",function(){It(M,function(A){c().close(A)})}),{open:function(A,L){return b(function(){return c().open(A,L,m)})},openUrl:function(A){return b(function(){return c().openUrl(A,m)})},alert:function(A,L,B){var N=c();N.alert(A,h(B||N,L))},confirm:function(A,L,B){var N=c();N.confirm(A,h(B||N,L))},close:function(){De.from(M[M.length-1]).each(function(A){c().close(A),m(A)})}}}function Bh(a,c){a.notificationManager.open({type:"error",text:c})}function jv(a,c){a._skinLoaded?Bh(a,c):a.on("SkinLoaded",function(){Bh(a,c)})}function B0(a,c,h){Rg(a,c,{message:h}),console.error(h)}function z0(a,c,h){return h?"Failed to load "+a+": "+h+" from url "+c:"Failed to load "+a+" url: "+c}function lm(a,c,h){B0(a,"PluginLoadError",z0("plugin",c,h))}function E_(){function a(m,b){return{status:m,resultUri:b}}function c(m){return m in h}var h={};return{hasBlobUri:c,getResultUri:function(m){var b=h[m];return b?b.resultUri:null},isPending:function(m){return!!c(m)&&1===h[m].status},isUploaded:function(m){return!!c(m)&&2===h[m].status},markPending:function(m){h[m]=a(1,null)},markUploaded:function(m,b){h[m]=a(2,b)},removeFailed:function(m){delete h[m]},destroy:function(){h={}}}}function B_(a){return a+TT+++"s"+(new Date).getTime().toString(36)+c()+c()+c();function c(){return Math.round(4294967295*Math.random()).toString(36)}}function V_(a){return function(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function H0(a,c){return function z_(a,c){function h(L,B,N,G){var H=new XMLHttpRequest;H.open("POST",c.url),H.withCredentials=c.credentials,H.upload.onprogress=function(J){G(J.loaded/J.total*100)},H.onerror=function(){N("Image upload failed due to a XHR Transport error. Code: "+H.status)},H.onload=function(){var J,ne,te;H.status<200||300<=H.status?N("HTTP Error: "+H.status):(J=JSON.parse(H.responseText))&&"string"==typeof J.location?B((te=J.location,(ne=c.basePath)?ne.replace(/\/$/,"")+"/"+te.replace(/^\//,""):te)):N("Invalid JSON: "+H.responseText)};var X=new FormData;X.append("file",L.blob(),L.filename()),H.send(X)}function m(L,B){return{url:B,blobInfo:L,status:!0}}function b(L,B,N){return{url:"",blobInfo:L,status:!1,error:{message:B,options:N}}}function M(L,B){kt.each(A[L],function(N){N(B)}),delete A[L]}var A={};return!1===Qt(c.handler)&&(c.handler=h),{upload:function(L,B){return c.url||c.handler!==h?(G=B,N=kt.grep(L,function(H){return!a.isUploaded(H.blobUri())}),Wo.all(kt.map(N,function(H){return a.isPending(H.blobUri())?(te=H.blobUri(),new Wo(function(oe){A[te]=A[te]||[],A[te].push(oe)})):(J=c.handler,ne=G,a.markPending((X=H).blobUri()),new Wo(function(oe){var se;try{var fe=function(){se&&se.close()};J(X,function(pe){fe(),a.markUploaded(X.blobUri(),pe),M(X.blobUri(),m(X,pe)),oe(m(X,pe))},function(pe,Ae){var ze=Ae||{};fe(),a.removeFailed(X.blobUri()),M(X.blobUri(),b(X,pe,ze)),oe(b(X,pe,ze))},function(pe){pe<0||100<pe||De.from(se).orThunk(function(){return De.from(ne).map(Gt)}).each(function(Ae){(se=Ae).progressBar.value(pe)})})}catch(pe){oe(b(X,pe.message,{}))}}));var X,J,ne,te}))):new Wo(function(H){H([])});var N,G}}}(c,{url:a.getParam("images_upload_url","","string"),basePath:a.getParam("images_upload_base_path","","string"),credentials:a.getParam("images_upload_credentials",!1,"boolean"),handler:a.getParam("images_upload_handler",null,"function")})}function F_(a,c){function h(B){var N,G=hl.create((b="string"==typeof B?{name:B,classes:[],attrs:{}}:B).name),H=G;return(N=b).classes.length&&hl.addClass(H,N.classes.join(" ")),hl.setAttribs(H,N.attrs),G}var m,b,M,A=c&&c.schema||Xe({}),L=function(B,N,G){var H,X,J,ne,te,oe,se,fe=0<N.length&&N[0],pe=fe&&fe.name,Ae=(ne=pe,te="string"!=typeof(J=B)?J.nodeName.toLowerCase():J,!(!(se=(oe=A.getElementRule(te))&&oe.parentsRequired)||!se.length)&&(ne&&-1!==kt.inArray(se,ne)?ne:se[0]));if(Ae)pe===Ae?(X=N[0],N=N.slice(1)):X=Ae;else if(fe)X=N[0],N=N.slice(1);else if(!G)return B;return X&&(H=h(X)).appendChild(B),G&&(H||(H=hl.create("div")).appendChild(B),kt.each(G,function(ze){var me=h(ze);H.insertBefore(me,B)})),L(H,N,X&&X.siblings)};return a&&a.length?(m=h(b=a[0]),(M=hl.create("div")).appendChild(L(m,a.slice(1),b.siblings)),M):""}function Vc(a){var c,h={classes:[],attrs:{}};return"*"!==(a=h.selector=kt.trim(a))&&(c=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(m,b,M,A,L){switch(b){case"#":h.attrs.id=M;break;case".":h.classes.push(M);break;case":":-1!==kt.inArray("checked disabled enabled read-only required".split(" "),M)&&(h.attrs[M]=M)}var B;return"["!==A||(B=L.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(h.attrs[B[1]]=B[2]),""})),h.name=c||"div",h}function oC(a,c){var h,m,b="",M=(m=a.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),Ir(m)?m:"");if(""===M)return"";function A(J){return J.replace(/%(\w+)/g,"")}if("string"==typeof c){if(!(c=a.formatter.get(c)))return;c=c[0]}if("preview"in c){var L=Rn(c,"preview");if(Xa(L,!1))return"";M=L.getOr(M)}var B,N=c.block||c.inline||"span",G=(B=c.selector)&&"string"==typeof B?(B=(B=B.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),kt.map(B.split(/(?:>|\s+(?![^\[\]]+\]))/),function(J){var ne=kt.map(J.split(/(?:~\+|~|\+)/),Vc),te=ne.pop();return ne.length&&(te.siblings=ne),te}).reverse()):[],H=G.length?(G[0].name||(G[0].name=N),N=c.selector,F_(G,a)):F_([N],a),X=hl.select(N,H)[0]||H.firstChild;return Pb(c.styles,function(J,ne){var te=A(J);te&&hl.setStyle(X,ne,te)}),Pb(c.attributes,function(J,ne){var te=A(J);te&&hl.setAttrib(X,ne,te)}),Pb(c.classes,function(J){var ne=A(J);hl.hasClass(X,ne)||hl.addClass(X,ne)}),a.fire("PreviewFormats"),hl.setStyles(H,{position:"absolute",left:-65535}),a.getBody().appendChild(H),h=hl.getStyle(a.getBody(),"fontSize",!0),h=/px$/.test(h)?parseInt(h,10):0,Pb(M.split(" "),function(J){var ne=hl.getStyle(X,J,!0);if(!("background-color"===J&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ne)&&(ne=hl.getStyle(a.getBody(),J,!0),"#ffffff"===hl.toHex(ne).toLowerCase())||"color"===J&&"#000000"===hl.toHex(ne).toLowerCase())){if("font-size"===J&&/em|%$/.test(ne)){if(0===h)return;ne=parseFloat(ne)/(/%$/.test(ne)?100:1)*h+"px"}"border"===J&&ne&&(b+="padding:0 2px;"),b+=J+":"+ne+";"}}),a.fire("AfterPreviewFormats"),hl.remove(H),b}function H_(a){var c,h,m,b,M,A,L=(b={},(M=function(N,G){N&&(Ir(N)?(It(G=Zr(G)?G:[G],function(H){Jr(H.deep)&&(H.deep=!Va(H)),Jr(H.split)&&(H.split=!Va(H)||Wi(H)),Jr(H.remove)&&Va(H)&&!Wi(H)&&(H.remove="none"),Va(H)&&Wi(H)&&(H.mixed=!0,H.block_expand=!0),Ir(H.classes)&&(H.classes=H.classes.split(/\s+/))}),b[N]=G):Nt(N,function(H,X){M(X,H)}))})((h=(c=a).dom,m={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(N,G,H){return lr(N)&&N.hasAttribute("href")},onformat:function(N,G,H){kt.each(H,function(X,J){h.setAttrib(N,J,X)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(N){var G;return null!==(G=null==N?void 0:N.customValue)&&void 0!==G?G:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},kt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(N){m[N]={block:N,remove:"all"}}),m)),M(c.getParam("formats")),{get:function(N){return rr(N)?b[N]:b},has:function(N){return Rr(b,N)},register:M,unregister:function(N){return N&&b[N]&&delete b[N],b}}),B=os(null);return function(N){N.addShortcut("meta+b","","Bold"),N.addShortcut("meta+i","","Italic"),N.addShortcut("meta+u","","Underline");for(var G=1;G<=6;G++)N.addShortcut("access+"+G,"",["FormatBlock",!1,"h"+G]);N.addShortcut("access+7","",["FormatBlock",!1,"p"]),N.addShortcut("access+8","",["FormatBlock",!1,"div"]),N.addShortcut("access+9","",["FormatBlock",!1,"address"])}(a),(A=a).on("mouseup keydown",function(N){var G=A,H=N.keyCode,X=G.selection,J=G.getBody();Qx(G,null,!1),8!==H&&46!==H||!X.isCollapsed()||X.getStart().innerHTML!==Nv||Qx(G,rf(J,X.getStart())),37!==H&&39!==H||Qx(G,rf(J,X.getStart()))}),{get:L.get,has:L.has,register:L.register,unregister:L.unregister,apply:function(N,G,H){var X=N,J=G,ne=H;ya(a).formatter.apply(X,J,ne)},remove:function(N,G,H,X){var J=N,ne=G,te=H,oe=X;ya(a).formatter.remove(J,ne,te,oe)},toggle:function(N,G,H){var X=N,J=G,ne=H;ya(a).formatter.toggle(X,J,ne)},match:function(N,G,H,X){return J=N,ne=G,te=H,oe=X,ya(a).formatter.match(J,ne,te,oe);var J,ne,te,oe},closest:function(N){return G=N,ya(a).formatter.closest(G);var G},matchAll:function(N,G){return H=N,X=G,ya(a).formatter.matchAll(H,X);var H,X},matchNode:function(N,G,H,X){return J=N,ne=G,te=H,oe=X,ya(a).formatter.matchNode(J,ne,te,oe);var J,ne,te,oe},canApply:function(N){return G=N,ya(a).formatter.canApply(G);var G},formatChanged:function(N,G,H,X){return J=B,ne=N,te=G,oe=H,se=X,ya(a).formatter.formatChanged(J,ne,te,oe,se);var J,ne,te,oe,se},getCssText:jt(oC,a)}}function W_(a){switch(a.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return 1;default:return}}function W0(a){var c,h,m,b,M,A=lh(),L=os(0),B=os(0),N={data:[],typing:!1,beforeChange:function(){var H=L,X=A;ya(a).undoManager.beforeChange(H,X)},add:function(H,X){return J=N,ne=B,te=L,oe=A,se=H,fe=X,ya(a).undoManager.add(J,ne,te,oe,se,fe);var J,ne,te,oe,se,fe},undo:function(){return H=N,X=L,J=B,ya(a).undoManager.undo(H,X,J);var H,X,J},redo:function(){return H=B,X=N.data,ya(a).undoManager.redo(H,X);var H,X},clear:function(){var H=N,X=B;ya(a).undoManager.clear(H,X)},reset:function(){var H=N;ya(a).undoManager.reset(H)},hasUndo:function(){return H=N,X=B,ya(a).undoManager.hasUndo(H,X);var H,X},hasRedo:function(){return H=N,X=B,ya(a).undoManager.hasRedo(H,X);var H,X},transact:function(H){return X=N,J=L,ne=H,ya(a).undoManager.transact(X,J,ne);var X,J,ne},ignore:function(H){var X=L,J=H;ya(a).undoManager.ignore(X,J)},extra:function(H,X){var J=N,ne=B,te=H,oe=X;ya(a).undoManager.extra(J,ne,te,oe)}};return kf(a)||(m=N,b=L,M=os(!1),(h=a).on("init",function(){m.add()}),h.on("BeforeExecCommand",function(H){W_(H.command)||(w_(m,b),m.beforeChange())}),h.on("ExecCommand",function(H){W_(H.command)||G(H)}),h.on("ObjectResizeStart cut",function(){m.beforeChange()}),h.on("SaveContent ObjectResized blur",G),h.on("dragend",G),h.on("keyup",function(H){var X=H.keyCode;H.isDefaultPrevented()||((33<=X&&X<=36||37<=X&&X<=40||45===X||H.ctrlKey)&&(G(),h.nodeChanged()),46!==X&&8!==X||h.nodeChanged(),M.get()&&m.typing&&!1===T0(sb(h),m.data[0])&&(!1===h.isDirty()&&(h.setDirty(!0),h.fire("change",{level:m.data[0],lastLevel:null})),h.fire("TypingUndo"),M.set(!1),h.nodeChanged()))}),h.on("keydown",function(H){var J=H.keyCode;H.isDefaultPrevented()||(33<=J&&J<=36||37<=J&&J<=40||45===J?m.typing&&G(H):!(J<16||20<J)||224===J||91===J||m.typing||H.ctrlKey&&!H.altKey||H.metaKey||(m.beforeChange(),k0(m,!0,b),m.add({},H),M.set(!0)))}),h.on("mousedown",function(H){m.typing&&G(H)}),h.on("input",function(H){H.inputType&&("insertReplacementText"===H.inputType||"insertText"===H.inputType&&null===H.data||"insertFromPaste"===H.inputType||"insertFromDrop"===H.inputType)&&G(H)}),h.on("AddUndo Undo Redo ClearUndos",function(H){H.isDefaultPrevented()||h.nodeChanged()})),(c=a).addShortcut("meta+z","","Undo"),c.addShortcut("meta+y,meta+shift+z","","Redo"),N;function G(H){k0(m,!1,b),m.add({},H)}}function wb(a){return"keydown"===a.type||"keyup"===a.type}function iC(a){var c=a.keyCode;return c===Gn.BACKSPACE||c===Gn.DELETE}function Yv(a,c){return Kt(it.fromDom(c),a.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function Md(a,c,h){var m,b,M=(m=a,b=c,dt(Uo.DOM.getParents(h.container(),"*",b),m));return De.from(M[M.length-1])}function fl(a,c){if(!c)return c;var h=c.container(),m=c.offset();return a?bc(h)?Dn(h.nextSibling)?_t(h.nextSibling,0):_t.after(h):xc(c)?_t(h,m+1):c:bc(h)?Dn(h.previousSibling)?_t(h.previousSibling,h.previousSibling.data.length):_t.before(h):nr(c)?_t(h,m-1):c}function G_(a){return Jn(a)||zr(a)}function Xv(a,c){return at(a,c)?Vu(c,G_,(h=a,function(m){return Ut(h,it.fromDom(m.dom.parentNode))})):De.none();var h}function G0(a){var c,h,m;a.dom.isEmpty(a.getBody())&&(a.setContent(""),m=(h=(c=a).getBody()).firstChild&&c.dom.isBlock(h.firstChild)?h.firstChild:h,c.selection.setCursorLocation(m,0))}function aC(a,c){return{from:a,to:c}}function U0(a,c){return Xv(it.fromDom(a),it.fromDom(c.container())).map(function(h){return{block:h,position:c}})}function Up(a){var c,h=zn(c=Di(a),fr).fold(Jt(c),function(m){return c.slice(0,m)});return It(h,Ai),h}function j0(a,c){return jo(jr(c,a).reverse(),function(h){return j(h)}).each(Ai)}function CT(a,c,h,m){if(j(h))return pr(h),us(h.dom);0===dt(vl(m),function(M){return!j(M)}).length&&j(c)&&ta(m,it.fromTag("br"));var b=Cu(h.dom,_t.before(m.dom));return It(Up(c),function(M){ta(m,M)}),j0(a,c),b}function MT(a,c,h){if(j(h))return Ai(h),j(c)&&pr(c),us(c.dom);var m=Mu(h.dom);return It(Up(c),function(b){Ui(h,b)}),j0(a,c),m}function Sb(a,c){Dl(a,c.dom).map(function(h){return h.getNode()}).map(it.fromDom).filter(Wu).each(Ai)}function U_(a,c,h){return Sb(!0,c),Sb(!1,h),(at(b=h,m=c)?(M=jr(m,b),De.from(M[M.length-1])):De.none()).fold(jt(MT,a,c,h),jt(CT,a,c,h));var m,b,M}function sC(a,c,h,m){return c?U_(a,m,h):U_(a,h,m)}function qv(a,c){var h,m,b,M,A,L,B,N=it.fromDom(a.getBody()),G=(h=N.dom,m=c,((b=a.selection.getRng()).collapsed?(A=m,L=U0(M=h,_t.fromRangeStart(b)),B=L.bind(function(H){return Ys(A,M,H.position).bind(function(X){return U0(M,X).map(function(J){return ne=M,te=A,Po((oe=J).position.getNode())&&!1===j(oe.block)?Dl(!1,oe.block.dom).bind(function(se){return se.isEqual(oe.position)?Ys(te,ne,se).bind(function(fe){return U0(ne,fe)}):De.some(oe)}).getOr(oe):oe;var ne,te,oe})})}),Eo(L,B,aC).filter(function(H){return!1===Ut(H.from.block,H.to.block)&&yi((J=H).from.block).bind(function(ne){return yi(J.to.block).filter(function(te){return Ut(ne,te)})}).isSome()&&!1===Dr((X=H).from.block.dom)&&!1===Dr(X.to.block.dom);var X,J})):De.none()).bind(function(H){return sC(N,c,H.from.block,H.to.block)}));return G.each(function(H){a.selection.setRng(H.toRange())}),G.isSome()}function Cb(a,c){var h=it.fromDom(c),m=jt(Ut,a);return $a(h,qo,m).isSome()}function Zv(a,c){return!a.selection.isCollapsed()&&function j_(a){var c,h,m,b,M,A,L,B,N,G,H=it.fromDom(a.getBody()),X=a.selection.getRng();return N=Cu((M=H).dom,_t.fromRangeStart(A=X)).isNone(),G=Kl(M.dom,_t.fromRangeEnd(A)).isNone(),!Cb(L=M,(B=A).startContainer)&&!Cb(L,B.endContainer)&&N&&G?((b=a).setContent(""),b.selection.setCursorLocation(),!0):(c=H,m=(h=a.selection).getRng(),Eo(Xv(c,it.fromDom(m.startContainer)),Xv(c,it.fromDom(m.endContainer)),function(J,ne){return!1===Ut(J,ne)&&(m.deleteContents(),sC(c,!0,J,ne).each(function(te){h.setRng(te.toRange())}),!0)}).getOr(!1))}(a)}function Lf(a,c,h,m,b){return De.from(c._selectionOverrides.showCaret(a,h,m,b))}function um(a,c){var h,m;return a.fire("BeforeObjectSelected",{target:c}).isDefaultPrevented()?De.none():De.some(((m=(h=c).ownerDocument.createRange()).selectNode(h),m))}function Y0(a,c,h){var m=Mg(1,a.getBody(),c),b=_t.fromRangeStart(m),M=b.getNode();if(ci(M))return Lf(1,a,M,!b.isAtEnd(),!1);var A=b.getNode(!0);if(ci(A))return Lf(1,a,A,!1,!1);var L=a.dom.getParent(b.getNode(),function(B){return kT(B)||Of(B)});return ci(L)?Lf(1,a,L,!1,h):De.none()}function dc(a,c,h){return c.collapsed?Y0(a,c,h).getOr(c):c}function lC(a){return Eh(a)||Lv(a)}function uC(a){return zc(a)||Rv(a)}function zh(a,c,h,m,b,M){var A,L;return Lf(m,a,M.getNode(!b),b,!0).each(function(B){var N;c.collapsed?(N=c.cloneRange(),b?N.setEnd(B.startContainer,B.startOffset):N.setStart(B.endContainer,B.endOffset),N.deleteContents()):c.deleteContents(),a.selection.setRng(B)}),A=a.dom,Dn(L=h)&&0===L.data.length&&A.remove(L),!0}function X0(a,c){var h=a.selection.getRng();if(!Dn(h.commonAncestorContainer))return!1;var m=c?Oo.Forwards:Oo.Backwards,b=kl(a.getBody()),M=jt(yh,c?b.next:b.prev),A=c?lC:uC,L=ss(m,a.getBody(),h),B=fl(c,M(L));if(!B||!Ic(L,B))return!1;if(A(B))return zh(a,h,L.getNode(),m,c,B);var N=M(B);return!!(N&&A(N)&&Ic(B,N))&&zh(a,h,L.getNode(),m,c,N)}function Mb(a,c,h){return Ys(c,a,h).bind(function(m){return H=m.getNode(),qo(it.fromDom(H))||zr(it.fromDom(H))||(L=a,G=m,Ac(!(B=c),N=h).fold(function(){return Ac(B,G).fold(Pr,X)},X))?De.none():c&&Dr(m.getNode())||!1===c&&Dr(m.getNode(!0))?(b=a,M=h,A=m.getNode(!1===c),Xv(it.fromDom(b),it.fromDom(M.getNode())).map(function(J){return j(J)?eu.remove(J.dom):eu.moveToElement(A)}).orThunk(function(){return De.some(eu.moveToElement(A))})):c&&zc(h)||!1===c&&Eh(h)?De.some(eu.moveToPosition(m)):De.none();var b,M,A,L,B,N,G,H;function X(J){return du(it.fromDom(J))&&!Us(N,G,L)}})}function Tb(a,c){return De.from(Th(a.getBody(),c))}function cC(a,c){var h=a.selection.getNode();return Tb(a,h).filter(Dr).fold(function(){return H=a.getBody(),J=Mg((X=c)?1:-1,H,a.selection.getRng()),ne=_t.fromRangeStart(J),te=it.fromDom(H),(!1===X&&zc(ne)?De.some(eu.remove(ne.getNode(!0))):X&&Eh(ne)?De.some(eu.remove(ne.getNode())):!1===X&&Eh(ne)&&Hp(te,ne)?IS(te,ne).map(function(oe){return eu.remove(oe.getNode())}):X&&zc(ne)&&Ec(te,ne)?PS(te,ne).map(function(oe){return eu.remove(oe.getNode())}):(m=H,b=X,N=(M=ne).getNode(!1===(B=b)),G=B?"after":"before",lr(N)&&N.getAttribute("data-mce-caret")===G?(L=M.getNode(!1===(A=b)),(A&&Dr(L.nextSibling)?De.some(eu.moveToElement(L.nextSibling)):!1===A&&Dr(L.previousSibling)?De.some(eu.moveToElement(L.previousSibling)):De.none()).fold(function(){return Mb(m,b,M)},De.some)):Mb(m,b,M).bind(function(oe){return se=m,fe=M,oe.fold(function(pe){return De.some(eu.remove(pe))},function(pe){return De.some(eu.moveToElement(pe))},function(pe){return Us(fe,pe,se)?De.none():De.some(eu.moveToPosition(pe))});var se,fe}))).exists(function(oe){return oe.fold(function(me){return Ae._selectionOverrides.hideFakeCaret(),Qg(Ae,ze,it.fromDom(me)),!0},(pe=ze=c,function(me){var we=pe?_t.before(me):_t.after(me);return fe.selection.setRng(we.toRange()),!0}),(se=fe=Ae=a,function(me){return se.selection.setRng(me.toRange()),!0}));var se,fe,pe,Ae,ze});var m,b,M,A,L,B,N,G,H,X,J,ne,te},Kn)}function dC(a,c){var h=a.selection.getNode();return!(!Dr(h)||ra(h))&&Tb(a,h.parentNode).filter(Dr).fold(function(){return It(cl(it.fromDom(a.getBody()),".mce-offscreen-selection"),Ai),Qg(a,c,it.fromDom(a.selection.getNode())),G0(a),!0},Kn)}function Y_(a){var c,h=a.dom,m=a.selection,b=Th(a.getBody(),m.getNode());return na(b)&&h.isBlock(b)&&h.isEmpty(b)&&(c=h.create("br",{"data-mce-bogus":"1"}),h.setHTML(b,""),b.appendChild(c),m.setRng(_t.before(c).toRange())),!0}function kb(a,c){return(a.selection.isCollapsed()?cC:dC)(a,c)}function Fr(a,c){return!!a.selection.isCollapsed()&&(m=c,b=_t.fromRangeStart((h=a).selection.getRng()),Ys(m,h.getBody(),b).filter(function(M){return(m?DS:fT)(M)}).bind(function(M){return De.from(Ca(m?0:-1,M))}).exists(function(M){return h.selection.select(M),!0}));var h,m,b}function Kv(a){return ny(a)&&a.data[0]===Hn}function X_(a){return ny(a)&&a.data[a.data.length-1]===Hn}function Rf(a){return a.ownerDocument.createTextNode(Hn)}function Db(a,c){return(a?function(h){if(ny(h.previousSibling))return X_(h.previousSibling)||h.previousSibling.appendData(Hn),h.previousSibling;if(ny(h))return Kv(h)||h.insertData(0,Hn),h;var m=Rf(h);return h.parentNode.insertBefore(m,h),m}:function(h){if(ny(h.nextSibling))return Kv(h.nextSibling)||h.nextSibling.insertData(0,Hn),h.nextSibling;if(ny(h))return X_(h)||h.appendData(Hn),h;var m=Rf(h);return h.nextSibling?h.parentNode.insertBefore(m,h.nextSibling):h.parentNode.appendChild(m),m})(c)}function Ab(a,c){return Dn(a.container())?Db(c,a.container()):Db(c,a.getNode())}function q0(a,c){var h=c.get();return h&&a.container()===h&&bc(h)}function $v(a,c){return c.fold(function(h){sa(a.get());var m=bC(h);return a.set(m),De.some(_t(m,m.length-1))},function(h){return us(h).map(function(m){if(q0(m,a))return _t(a.get(),1);sa(a.get());var b=Ab(m,!0);return a.set(b),_t(b,1)})},function(h){return Mu(h).map(function(m){if(q0(m,a))return _t(a.get(),a.get().length-1);sa(a.get());var b=Ab(m,!1);return a.set(b),_t(b,b.length-1)})},function(h){sa(a.get());var m=DT(h);return a.set(m),De.some(_t(m,1))})}function fC(a,c){for(var h=0;h<a.length;h++){var m=a[h].apply(null,c);if(m.isSome())return m}return De.none()}function hC(a,c){return ql(c,a)||a}function pC(a,c,h){var m=Lb(h),b=hC(c,m.container());return Md(a,b,m).fold(function(){return Kl(b,m).bind(jt(Md,a,b)).map(function(M){return Zs.before(M)})},De.none)}function gC(a,c){return null===rf(a,c)}function q_(a,c,h){return Md(a,c,h).filter(jt(gC,c))}function mC(a,c,h){var m=Td(h);return q_(a,c,m).bind(function(b){return Cu(b,m).isNone()?De.some(Zs.start(b)):De.none()})}function vC(a,c,h){var m=Lb(h);return q_(a,c,m).bind(function(b){return Kl(b,m).isNone()?De.some(Zs.end(b)):De.none()})}function yC(a,c,h){var m=Td(h),b=hC(c,m.container());return Md(a,b,m).fold(function(){return Cu(b,m).bind(jt(Md,a,b)).map(function(M){return Zs.after(M)})},De.none)}function Z0(a){return c=Rb(a),!1===("rtl"===Uo.DOM.getStyle(c,"direction",!0)||Fh.test(c.textContent));var c}function Au(a,c,h){return fC([pC,mC,vC,yC],[a,c,h]).filter(Z0)}function Jv(a){return a.fold(Jt("before"),Jt("start"),Jt("end"),Jt("after"))}function Qv(a){return a.fold(Zs.before,Zs.before,Zs.after,Zs.after)}function ey(a){return a.fold(Zs.start,Zs.start,Zs.end,Zs.end)}function Z_(a,c,h,m,b,M){return Eo(Md(c,h,m),Md(c,h,b),function(A,L){return A!==L&&(N=L,G=ql(A,B=h),H=ql(N,B),G&&G===H)?Zs.after(a?A:L):M;var B,N,G,H}).getOr(M)}function K0(a,c){return a.fold(Kn,function(h){return b=c,!(Jv(m=h)===Jv(b)&&Rb(m)===Rb(b));var m,b})}function jp(a,c){return a?c.fold(Vn(De.some,Zs.start),De.none,Vn(De.some,Zs.after),De.none):c.fold(De.none,Vn(De.some,Zs.before),De.none,Vn(De.some,Zs.end))}function K_(a,c,h,m){var b=fl(a,m),M=Au(c,h,b);return Au(c,h,b).bind(jt(jp,a)).orThunk(function(){return L=c,B=h,N=M,G=fl(A=a,m),Ys(A,B,G).map(jt(fl,A)).fold(function(){return N.map(Qv)},function(H){return Au(L,B,H).map(jt(Z_,A,L,B,G,H)).filter(jt(K0,N))}).filter(Z0);var A,L,B,N,G})}function Ib(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];var m=window.console;m&&(m.error||m.log).apply(m,ot([a],c,!1))}var Vh,ba,cm=function(a,c){var h=a.editorManager.baseURL+"/skins/content",m="content"+a.editorManager.suffix+".css",b=!0===a.inline;return Tn(c,function(M){return/^[a-z0-9\-]+$/i.test(M)&&!b?h+"/"+M+"/"+m:a.documentBaseURI.toAbsolute(M)})},TT=0,Pb=kt.each,hl=Uo.DOM,ty=[9,27,Gn.HOME,Gn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Gn.DOWN,Gn.UP,Gn.LEFT,Gn.RIGHT].concat(sr.browser.isFirefox()?[224]:[]),$_="data-mce-placeholder",Fh=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Lb=jt(fl,!0),Td=jt(fl,!1),Of=na,kT=Dr,eu=xl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ny=Dn,bC=jt(Db,!0),DT=jt(Db,!1),Zs=xl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Rb=function(a){return a.fold(ho,ho,ho,ho)};function $0(a,c,h){var m=a?1:-1;return c.setRng(_t(h.container(),h.offset()+m).toRange()),c.getSel().modify("move",a?"forward":"backward","word"),!0}function dm(a,c){return a===Oo.Backwards?ko(c):c}function J0(a,c,h,m){for(var b,M,A,L,B=kl(h),N=m,G=[];N;){var H=(A=B,L=N,c===Oo.Forwards?A.next(L):A.prev(L));if(!H)break;if(Po(H.getNode(!1)))return c===Oo.Forwards?{positions:dm(c,G).concat([H]),breakType:Vh.Br,breakAt:De.some(H)}:{positions:dm(c,G),breakType:Vh.Br,breakAt:De.some(H)};if(H.isVisible()){if(a(N,H)){var X=(b=N,Po((M=H).getNode(c===Oo.Forwards))?Vh.Br:!1===Us(b,M)?Vh.Block:Vh.Wrap);return{positions:dm(c,G),breakType:X,breakAt:De.some(H)}}G.push(H),N=H}else N=H}return{positions:dm(c,G),breakType:Vh.Eol,breakAt:De.none()}}function Q0(a,c,h,m){return c(h,m).breakAt.map(function(b){var M=c(h,b).positions;return a===Oo.Backwards?M.concat(b):[b].concat(M)}).getOr([])}function Hh(a,c){return ir(a,function(h,m){return h.fold(function(){return De.some(m)},function(b){return Eo(Dt(b.getClientRects()),Dt(m.getClientRects()),function(M,A){var L=Math.abs(c-M.left);return Math.abs(c-A.left)<=L?m:b}).or(h)})},De.none())}function Yp(a,c){return Dt(c.getClientRects()).bind(function(h){return Hh(a,h.left)})}function J_(a){function c(m){return Tn(m,function(b){var M=sd(b);return M.node=a,M})}if(lr(a))return c(a.getClientRects());if(Dn(a)){var h=a.ownerDocument.createRange();return h.setStart(a,0),h.setEnd(a,a.data.length),c(h.getClientRects())}}function e1(a){return Ms(a,J_)}jt(K_,!1),jt(K_,!0),(ba=Vh={})[ba.Br=0]="Br",ba[ba.Block=1]="Block",ba[ba.Wrap=2]="Wrap",ba[ba.Eol=3]="Eol";var Wh,ry,oy=jt(J0,_t.isAbove,-1),fm=jt(J0,_t.isBelow,1),xC=jt(Q0,-1,oy),_C=jt(Q0,1,fm);function Q_(a,c,h,m,b,M){function A(H){var X=e1([H]);-1===a&&(X=X.reverse());for(var J=0;J<X.length;J++){var ne=X[J];if(!h(ne,N)){if(0<B.length&&c(ne,Do(B))&&L++,ne.line=L,b(ne))return!0;B.push(ne)}}}var L=0,B=[],N=Do(M.getClientRects());if(!N)return B;var G=M.getNode();return A(G),function(H,X,J,ne){for(;ne=yu(ne,H,P,X);)if(J(ne))return}(a,m,A,G),B}function wC(a){return function(c){return c.line>a}}function Ob(a){return function(c){return c.line===a}}function Nb(a,c){return Math.abs(a.left-c)}function Eb(a,c){return Math.abs(a.right-c)}function Bb(a,c){return a>=c.left&&a<=c.right}function zb(a,c){return a>=c.top&&a<=c.bottom}function Vb(a,c,h){return void 0===h&&(h=Kn),Yo(a,function(m,b){if(Bb(c,b))return h(b)?b:m;if(Bb(c,m))return h(m)?m:b;var M=Math.min(Nb(m,c),Eb(m,c)),A=Math.min(Nb(b,c),Eb(b,c));return A===M&&Kr(b,"node")&&jC(b.node)||A<M?b:m})}function SC(a,c,h,m,b){var M=Uh(m,a,P,c,!b);do{if(!M||h(M))return}while(M=Uh(M,a,P,c))}function Nf(a,c){a.selection.setRng(c),ic(a,a.selection.getRng())}function ew(a,c,h){return De.some(dc(a,c,h))}function CC(a,c,h,m,b,M){var A=c===Oo.Forwards,L=kl(a.getBody()),B=jt(yh,A?L.next:L.prev),N=A?m:b;if(!h.collapsed){var G=ch(h);if(M(G))return Lf(c,a,G,c===Oo.Backwards,!1)}var H=ss(c,a.getBody(),h);if(N(H))return um(a,H.getNode(!A));var X=fl(A,B(H)),J=w(h);if(!X)return J?De.some(h):De.none();if(N(X))return Lf(c,a,X.getNode(!A),A,!1);var ne=B(X);return ne&&N(ne)&&Ic(X,ne)?Lf(c,a,ne.getNode(!A),A,!1):J?ew(a,X.toRange(),!1):De.none()}function tw(a,c,h,m,b,M){var A=ss(c,a.getBody(),h),L=Do(A.getClientRects()),B=c===Wh.Down;if(!L)return De.none();var N,G=dt((B?UC:GC)(a.getBody(),wC(1),A),Ob(1)),H=L.left,X=Vb(G,H);if(X&&M(X.node)){var J=Math.abs(H-X.left),ne=Math.abs(H-X.right);return Lf(c,a,X.node,J<ne,!1)}if(N=m(A)?A.getNode():b(A)?A.getNode(!0):ch(h)){var te=function(se,fe,pe,Ae){function ze(bt){return Do(bt.getClientRects())}var me,we,Ie,Ke=kl(fe),lt=[],pt=0,Ge=1===se?(me=Ke.next,we=uh,Ie=Qu,_t.after(Ae)):(me=Ke.prev,we=Qu,Ie=uh,_t.before(Ae)),$e=ze(Ge);do{if(Ge.isVisible()){var qe=ze(Ge);if(!Ie(qe,$e)){0<lt.length&&we(qe,Do(lt))&&pt++;var et=sd(qe);if(et.position=Ge,et.line=pt,pe(et))return lt;lt.push(et)}}}while(Ge=me(Ge));return lt}(c,a.getBody(),wC(1),N),oe=Vb(dt(te,Ob(1)),H);if(oe||(oe=Do(dt(te,Ob(0)))))return ew(a,oe.position.toRange(),!1)}return 0===G.length?Zb(a,B).filter(B?b:m).map(function(se){return dc(a,se.toRange(),!1)}):De.none()}function iy(a,c,h){return Zb(a,c).filter(h).exists(function(m){return a.selection.setRng(m.toRange()),!0})}function Fb(a,c){var h=a.dom.createRng();h.setStart(c.container(),c.offset()),h.setEnd(c.container(),c.offset()),a.selection.setRng(h)}function MC(a,c){a?c.setAttribute("data-mce-selected","inline-boundary"):c.removeAttribute("data-mce-selected")}function TC(a,c,h){return $v(c,h).map(function(m){return Fb(a,m),h})}function t1(a,c,h){return!!Cg(a)&&(b=c,M=h,A=(m=a).getBody(),L=_t.fromRangeStart(m.selection.getRng()),K_(M,jt(Yv,m),A,L).bind(function(B){return TC(m,b,B)}).isSome());var m,b,M,A,L}function fc(a,c,h){return!!Cg(c)&&(m=a,M=(b=c).selection.getRng(),A=m?_t.fromRangeEnd(M):_t.fromRangeStart(M),!!Qt(b.selection.getSel().modify)&&(m&&xc(A)?$0(!0,b.selection,A):!(m||!nr(A))&&$0(!1,b.selection,A)));var m,b,M,A}function n1(a,c,h){if(Cg(a)){var m=Zb(a,c).getOrThunk(function(){var b=a.selection.getRng();return c?_t.fromRangeEnd(b):_t.fromRangeStart(b)});return Au(jt(Yv,a),a.getBody(),m).exists(function(b){var M=Qv(b);return $v(h,M).exists(function(A){return Fb(a,A),!0})})}return!1}function r1(a,c){return function(h){return $v(c,h).exists(function(m){return Fb(a,m),!0})}}function kC(a,c,h,m){var b=a.getBody(),M=jt(Yv,a);a.undoManager.ignore(function(){var A,L,B;a.selection.setRng((A=h,L=m,(B=document.createRange()).setStart(A.container(),A.offset()),B.setEnd(L.container(),L.offset()),B)),a.execCommand("Delete"),Au(M,b,_t.fromRangeStart(a.selection.getRng())).map(ey).map(r1(a,c))}),a.nodeChanged()}function Hb(a,c,h){if(a.selection.isCollapsed()&&Cg(a)){var m=_t.fromRangeStart(a.selection.getRng());return M=c,A=h,L=m,B=(b=a).getBody(),N=ql(L.container(),B)||B,G=jt(Yv,b),(H=Au(G,N,L)).bind(function(X){return A?X.fold(Jt(De.some(ey(X))),De.none,Jt(De.some(Qv(X))),De.none):X.fold(De.none,Jt(De.some(Qv(X))),De.none,Jt(De.some(ey(X))))}).map(r1(b,M)).getOrThunk(function(){var X=ni(A,N,L),J=X.bind(function(ne){return Au(G,N,ne)});return Eo(H,J,function(){return Md(G,N,L).exists(function(ne){return!!Eo(us(te=ne),Mu(te),function(oe,se){var fe=fl(!0,oe),pe=fl(!1,se);return Kl(te,fe).forall(function(Ae){return Ae.isEqual(pe)})}).getOr(!0)&&(Qg(b,A,it.fromDom(ne)),!0);var te})}).orThunk(function(){return J.bind(function(ne){return X.map(function(te){return A?kC(b,M,L,te):kC(b,M,te,L),!0})})}).getOr(!1)})}var b,M,A,L,B,N,G,H;return!1}function IT(a){return 1===ja(a)}function Gh(a,c){return!!a.selection.isCollapsed()&&function DC(a,c){var h,m=it.fromDom(a.getBody()),b=it.fromDom(a.selection.getStart()),M=dt(zn(h=jr(b,m),fr).fold(Jt(h),function(A){return h.slice(0,A)}),IT);return ut(M).exists(function(A){var L,B,N,G,H,X,J,ne,te,oe=_t.fromRangeStart(a.selection.getRng()),se=c,fe=oe,pe=A.dom;return!(!Eo(us(pe),Mu(pe),function(Ae,ze){var me=fl(!0,Ae),we=fl(!1,ze),Ie=fl(!1,fe);return se?Kl(pe,Ie).exists(function(Ke){return Ke.isEqual(we)&&fe.isEqual(me)}):Cu(pe,Ie).exists(function(Ke){return Ke.isEqual(me)&&fe.isEqual(we)})}).getOr(!0)||Ba((L=A).dom)&&Qo(L.dom)||(B=c,G=A,0===(te=Tn(dt(M,jt(Pv,N=a)),function(Ae){return Ae.dom})).length?Qg(N,B,G):(X=G.dom,ne=TS(te,(J=$x(!1)).dom),ta(it.fromDom(X),J),Ai(it.fromDom(X)),H=_t(ne,0),N.selection.setRng(H.toRange())),0))})}(a,c)}function Wb(a,c,h){return a._selectionOverrides.hideFakeCaret(),Qg(a,c,it.fromDom(h)),!0}function kd(a,c){return a.selection.isCollapsed()?(L=(A=c)?Lv:Rv,N=ss(A?Oo.Forwards:Oo.Backwards,(M=a).getBody(),M.selection.getRng()),L(N)?Wb(M,A,N.getNode(!A)):De.from(fl(A,N)).filter(function(G){return L(G)&&Ic(N,G)}).exists(function(G){return Wb(M,A,G.getNode(!A))})):(m=c,b=(h=a).selection.getNode(),!!Za(b)&&Wb(h,m,b));var h,m,b,M,A,L,N}function hm(a){var c=parseInt(a,10);return isNaN(c)?0:c}function ay(a,c){return(a||"table"===No(c)?"margin":"padding")+("rtl"===Os(c,"direction")?"-right":"-left")}function Gb(a){var c,h=Bf(a);return!a.mode.isReadOnly()&&(1<h.length||(c=a,Wn(h,function(m){var b=jf(m,ay(Jd(c),m)).map(hm).getOr(0);return"false"!==c.dom.getContentEditable(m.dom)&&0<b})))}function AC(a){return lo(a)||zr(a)}function Ub(a,c){var h=a.dom,m=a.selection,b=a.formatter,M=a.getParam("indentation","40px","string"),A=/[a-z%]+$/i.exec(M)[0],L=parseInt(M,10),B=Jd(a),N=Na(a);a.queryCommandState("InsertUnorderedList")||a.queryCommandState("InsertOrderedList")||""!==N||h.getParent(m.getNode(),h.isBlock)||b.apply("div"),It(Bf(a),function(G){var H,X=h,J=c,ne=L,te=A,oe=G.dom,se=ay(B,it.fromDom(oe));"outdent"===J?(H=Math.max(0,hm(oe.style[se])-ne),X.setStyle(oe,se,H?H+te:"")):(H=hm(oe.style[se])+ne+te,X.setStyle(oe,se,H))})}function rw(a,c){if(a.selection.isCollapsed()&&Gb(a)){var h=a.dom,m=a.selection.getRng(),b=_t.fromRangeStart(m),M=h.getParent(m.startContainer,h.isBlock);if(null!==M&&tm(it.fromDom(M),b))return Ub(a,"outdent"),!0}return!1}function o1(a,c){a.getDoc().execCommand(c,!1,null)}function pm(a){return void 0===a.touches||1!==a.touches.length?De.none():De.some(a.touches[0])}function ow(a,c){return Rr(a,c.nodeName)}function PT(a){var c,h,m,b=a.dom,M=a.selection,A=a.schema,L=A.getBlockElements(),B=M.getStart(),N=a.getBody(),G=Na(a);if(B&&lr(B)&&G){var H=N.nodeName.toLowerCase();if(A.isValidChild(H,G.toLowerCase())&&(X=L,J=N,!Un(Wr(it.fromDom(B),it.fromDom(J)),function(we){return ow(X,we.dom)}))){var X,J,te,oe,se=M.getRng(),fe=se.startContainer,pe=se.startOffset,Ae=se.endContainer,ze=se.endOffset,me=ws(a);for(B=N.firstChild;B;)te=L,Dn(oe=B)||lr(oe)&&!ow(te,oe)&&!Al(oe)?function(Ie,Ke){if(Dn(Ke)&&(0===Ke.nodeValue.length||/^\s+$/.test(Ke.nodeValue)&&(!Ke.nextSibling||ow(Ie,Ke.nextSibling))))return 1}(L,B)?(B=(h=B).nextSibling,b.remove(h)):(c||(c=b.create(G,bp(a)),B.parentNode.insertBefore(c,B),m=!0),B=(h=B).nextSibling,c.appendChild(h)):(c=null,B=B.nextSibling);m&&me&&(se.setStart(fe,pe),se.setEnd(Ae,ze),M.setRng(se),a.nodeChanged())}}}function IC(a,c){c.hasAttribute("data-mce-caret")&&(g(c),a.selection.setRng(a.selection.getRng()),a.selection.scrollIntoView(c))}function LT(a,c){var h=Lr(it.fromDom(a.getBody()),"*[data-mce-caret]").map(function(m){return m.dom}).getOrNull();if(h)return"compositionstart"===c.type?(c.preventDefault(),c.stopPropagation(),void IC(a,h)):void(fu(h)&&(IC(a,h),a.undoManager.add()))}function PC(a,c,h){var m,b,M,A=kl(a.getBody()),L=jt(yh,1===c?A.next:A.prev);!h.collapsed||""===Na(a)||(m=a.dom.getParent(h.startContainer,"PRE"))&&(L(_t.fromRangeStart(h))||(M=a.dom.create(Na(a)),(!sr.ie||11<=sr.ie)&&(M.innerHTML='<br data-mce-bogus="1">'),b=M,1===c?a.$(m).after(b):a.$(m).before(b),a.selection.select(b,!0),a.selection.collapse()))}function LC(a,c){return m=c?Oo.Forwards:Oo.Backwards,b=(h=a).selection.getRng(),CC(h,m,b,Eh,zc,_w).orThunk(function(){return PC(h,m,b),De.none()}).exists(function(M){return Nf(a,M),!0});var h,m,b}function RC(a,c){return m=c?1:-1,b=(h=a).selection.getRng(),tw(h,m,b,function(M){return Eh(M)||y0(M)},function(M){return zc(M)||r_(M)},_w).orThunk(function(){return PC(h,m,b),De.none()}).exists(function(M){return Nf(a,M),!0});var h,m,b}function sy(a,c){return iy(a,c,c?zc:Eh)}function RT(a){return kr(["figcaption"],No(a))}function OC(a){var c=document.createRange();return c.setStartBefore(a.dom),c.setEndBefore(a.dom),c}function iw(a,c,h){(h?Ui:el)(a,c)}function aw(a,c){return!!a.selection.isCollapsed()&&function NC(a,c){var h=it.fromDom(a.getBody()),m=_t.fromRangeStart(a.selection.getRng()),b=Na(a),M=bp(a),A=m,L=jt(Ut,h);return Vu(it.fromDom(A.container()),fr,L).filter(RT).exists(function(){if(Ae=h,ze=m,c?fm(Ae.dom,ze).breakAt.isNone():oy(Ae.dom,ze).breakAt.isNone()){var B=(N=h,H=M,X=c,""===(G=b)?(fe=X,iw(N,pe=it.fromTag("br"),fe),OC(pe)):(J=N,ne=X,te=H,oe=it.fromTag(G),se=it.fromTag("br"),Rs(oe,te),Ui(oe,se),iw(J,oe,ne),OC(se)));return a.selection.setRng(B),!0}var N,G,H,X,J,ne,te,oe,se,fe,pe,Ae,ze;return!1})}(a,c)}function qr(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];return function(){return a.apply(null,c)}}function gm(a,c){return jo((h=c,Ms(Tn(a,function(m){return Xn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Mn},m)}),function(m){return h.keyCode===m.keyCode&&h.shiftKey===m.shiftKey&&h.altKey===m.altKey&&h.ctrlKey===m.ctrlKey&&h.metaKey===m.metaKey?[m]:[]})),function(m){return m.action()});var h}function sw(a,c){var h=c?Oo.Forwards:Oo.Backwards,m=a.selection.getRng();return CC(a,h,m,Lv,Rv,Za).exists(function(b){return Nf(a,b),!0})}function lw(a,c){var h=c?1:-1,m=a.selection.getRng();return tw(a,h,m,Lv,Rv,Za).exists(function(b){return Nf(a,b),!0})}function hc(a,c){return iy(a,c,c?Rv:Lv)}function uw(a,c,h,m,b){var M,A=cl(it.fromDom(h),"td,th,caption").map(function(G){return G.dom}),L=dt((M=a,Ms(A,function(G){var H,X={left:(H=sd(G.getBoundingClientRect())).left- -1,top:H.top- -1,right:H.right+-2,bottom:H.bottom+-2,width:H.width+-1,height:H.height+-1};return[{x:X.left,y:M(X),cell:G},{x:X.right,y:M(X),cell:G}]})),function(G){return c(G,b)}),B=m,N=b;return ir(L,function(G,H){return G.fold(function(){return De.some(H)},function(X){var J=Math.sqrt(Math.abs(X.x-B)+Math.abs(X.y-N)),ne=Math.sqrt(Math.abs(H.x-B)+Math.abs(H.y-N));return De.some(ne<J?H:X)})},De.none()).map(function(G){return G.cell})}function ly(a,c,h){var m,b,M=a(c,h);return M.breakType===Vh.Wrap&&0===M.positions.length||!Po(h.getNode())&&M.breakType===Vh.Br&&1===M.positions.length?(m=a,b=c,!M.breakAt.exists(function(A){return m(b,A).breakAt.isSome()})):M.breakAt.isNone()}function mm(a,c,h,m){var b,M,A,L=a.selection.getRng(),B=c?1:-1;return!(!wp()||(b=c,M=h,A=_t.fromRangeStart(L),!Dl(!b,M).exists(function(N){return N.isEqual(A)}))||(Lf(B,a,h,!c,!1).each(function(N){Nf(a,N)}),0))}function EC(a,c,h){var b,M=(b=h.getNode(!!c),lr(b)&&"TABLE"===b.nodeName?De.some(b):De.none()),A=!1===c;M.fold(function(){return Nf(a,h.toRange())},function(L){return Dl(A,a.getBody()).filter(function(B){return B.isEqual(h)}).fold(function(){return Nf(a,h.toRange())},function(B){var N,G,H=c,X=L,J=h;(G=Na(N=a))?N.undoManager.transact(function(){var ne=it.fromTag(G);Rs(ne,bp(N)),Ui(ne,it.fromTag("br")),(H?Ps:ta)(it.fromDom(X),ne);var te=N.dom.createRng();te.setStart(ne.dom,0),te.setEnd(ne.dom,0),Nf(N,te)}):Nf(N,J.toRange())})})}function OT(a,c,h,m){var b,M,A,L,B,N,G,H,X,J,ne=a.selection.getRng(),te=_t.fromRangeStart(ne),oe=a.getBody();if(c||!Sw(m,te))return!(!c||!FT(m,te)||(b=oe,X=M=h,EC(a,c,se=ut((J=A=te).getClientRects()).bind(function(fe){return Ki(X,fe.left,fe.top)}).bind(function(fe){return Yp(us(pe=fe).map(function(Ae){return[Ae].concat(fm(pe,Ae).positions)}).getOr([]),J);var pe}).orThunk(function(){return Dt(A.getClientRects()).bind(function(fe){return Hh(_C(b,_t.after(M)),fe.left)})}).getOr(_t.after(M))),0));var se=(L=oe,G=B=h,Dt((H=N=te).getClientRects()).bind(function(fe){return ww(G,fe.left,fe.top)}).bind(function(fe){return Yp(Mu(pe=fe).map(function(Ae){return oy(pe,Ae).positions.concat(Ae)}).getOr([]),H);var pe}).orThunk(function(){return Dt(N.getClientRects()).bind(function(fe){return Hh(xC(L,_t.before(B)),fe.left)})}).getOr(_t.before(B)));return EC(a,c,se),!0}function BC(a,c,h){return De.from(a.dom.getParent(a.selection.getNode(),"td,th")).bind(function(m){return De.from(a.dom.getParent(m,"table")).map(function(b){return h(a,c,b,m)})}).getOr(!1)}function i1(a,c){return BC(a,c,mm)}function cw(a,c){return BC(a,c,OT)}function tu(a,c){var h,m,b=c,M=a.dom,A=a.schema.getMoveCaretBeforeOnEnterElements();if(c){!/^(LI|DT|DD)$/.test(c.nodeName)||(m=function(N){for(;N;){if(1===N.nodeType||3===N.nodeType&&N.data&&/[\r\n\s]/.test(N.data))return N;N=N.nextSibling}}(c.firstChild))&&/^(UL|OL|DL)$/.test(m.nodeName)&&c.insertBefore(M.doc.createTextNode(bo),c.firstChild);var L=M.createRng();if(c.normalize(),c.hasChildNodes()){for(var B=new wi(c,c);h=B.current();){if(Dn(h)){L.setStart(h,0),L.setEnd(h,0);break}if(A[h.nodeName.toLowerCase()]){L.setStartBefore(h),L.setEndBefore(h);break}b=h,h=B.next()}h||(L.setStart(b,0),L.setEnd(b,0))}else Po(c)?c.nextSibling&&M.isBlock(c.nextSibling)?(L.setStartBefore(c),L.setEndBefore(c)):(L.setStartAfter(c),L.setEndAfter(c)):(L.setStart(c,0),L.setEnd(c,0));a.selection.setRng(L),ic(a,L)}}function dw(a){return De.from(a.dom.getParent(a.selection.getStart(!0),a.dom.isBlock))}function zC(a,c){return a&&a.parentNode&&a.parentNode.nodeName===c}function Fc(a){return a&&/^(OL|UL|LI)$/.test(a.nodeName)}function oi(a){var c=a.parentNode;return/^(LI|DT|DD)$/.test(c.nodeName)?c:a}function Zi(a,c,h){for(var m=a[h?"firstChild":"lastChild"];m&&!lr(m);)m=m[h?"nextSibling":"previousSibling"];return m===c}function Hc(a){a.innerHTML='<br data-mce-bogus="1">'}function Wc(a,c){return a.nodeName===c||a.previousSibling&&a.previousSibling.nodeName===c}function fw(a,c){return c&&a.isBlock(c)&&!/^(TD|TH|CAPTION|FORM)$/.test(c.nodeName)&&!/^(fixed|absolute)/i.test(c.style.position)&&"true"!==a.getContentEditable(c)}function uy(a,c,h){return!1===Dn(c)?h:a?1===h&&c.data.charAt(h-1)===Hn?0:h:h===c.data.length-1&&c.data.charAt(h)===Hn?c.data.length:h}function Ll(a,c){for(var h,m=a.getRoot(),b=c;b!==m&&"false"!==a.getContentEditable(b);)"true"===a.getContentEditable(b)&&(h=b),b=b.parentNode;return b!==m?h:m}function cy(a,c){var h=Na(a);h&&h.toLowerCase()===c.tagName.toLowerCase()&&function(m,b,M){var A=m.dom;De.from(M.style).map(A.parseStyle).each(function(N){var G=og(it.fromDom(b)),H=Xn(Xn({},G),N);A.setStyles(b,H)}),Eo(De.from(M.class).map(function(N){return N.split(/\s+/)}),De.from(b.className).map(function(N){return dt(N.split(/\s+/),function(G){return""!==G})}),function(N,G){var H=dt(G,function(J){return!kr(N,J)}),X=ot(ot([],N,!0),H,!0);A.setAttrib(b,"class",X.join(" "))});var L=["style","class"],B=Nr(M,function(N,G){return!kr(L,G)});A.setAttribs(b,B)}(a,c,bp(a))}function hw(a,c,h){var m=a.dom.createRng();h?(m.setStartBefore(c),m.setEndBefore(c)):(m.setStartAfter(c),m.setEndAfter(c)),a.selection.setRng(m),ic(a,m)}function ET(a,c){var h=it.fromTag("br");ta(it.fromDom(c),h),a.undoManager.add()}function pw(a,c){$b(a.getBody(),c)||Ps(it.fromDom(c),it.fromTag("br"));var h=it.fromTag("br");Ps(it.fromDom(c),h),hw(a,h.dom,!1),a.undoManager.add()}function jb(a){return a&&"A"===a.nodeName&&"href"in a}function VC(a){return a.fold(Pr,jb,jb,Pr)}function FC(a,c){c.fold(Mn,jt(ET,a),jt(pw,a),Mn)}function gw(a,c){var h,m,b,M=(m=jt(Yv,h=a),b=_t.fromRangeStart(h.selection.getRng()),Au(m,h.getBody(),b).filter(VC));M.isSome()?M.each(jt(FC,a)):function(A,L){var B,N,H=A.dom,X=A.selection.getRng();mf(H,X).each(function(Ae){X.setStart(Ae.startContainer,Ae.startOffset),X.setEnd(Ae.endContainer,Ae.endOffset)});var J,ne=X.startOffset,te=X.startContainer;1===te.nodeType&&te.hasChildNodes()&&(J=ne>te.childNodes.length-1,te=te.childNodes[Math.min(ne,te.childNodes.length-1)]||te,ne=J&&3===te.nodeType?te.nodeValue.length:0);var oe=H.getParent(te,H.isBlock),se=oe?H.getParent(oe.parentNode,H.isBlock):null;"LI"!==(se?se.nodeName.toUpperCase():"")||!(!L||!L.ctrlKey)||(oe=se),te&&3===te.nodeType&&ne>=te.nodeValue.length&&!function(Ae){for(var ze,me=new wi(te,oe),we=Ae.getNonEmptyElements();ze=me.next();)if(we[ze.nodeName.toLowerCase()]||0<ze.length)return 1}(A.schema)&&(B=H.create("br"),X.insertNode(B),X.setStartAfter(B),X.setEndAfter(B),N=!0),B=H.create("br"),hh(H,X,B),hw(A,B,N),A.undoManager.add()}(a,c)}function mw(a,c){return dw(a).filter(function(h){return 0<c.length&&Kt(it.fromDom(h),c)}).isSome()}function BT(a,c){return mw(a,a.getParam("no_newline_selector",""))}function vw(a){return function(c,h){return""===Na(c)===a}}function yw(a){return function(c,h){return dw(c).filter(function(m){return zr(it.fromDom(m))}).isSome()===a}}function Iu(a,c){return function(h,m){return dw(h).fold(Jt(""),function(b){return b.nodeName.toUpperCase()})===a.toUpperCase()===c}}function dy(a){return Iu("pre",a)}function Yb(a){return function(c,h){return c.getParam("br_in_pre",!0)===a}}function Xb(a,c){return mw(a,a.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function Xp(a,c){return c}function HC(a){var c=Na(a),h=function(m,b){for(var M,A=m.getRoot(),L=b;L!==A&&"false"!==m.getContentEditable(L);)"true"===m.getContentEditable(L)&&(M=L),L=L.parentNode;return L!==A?M:A}(a.dom,a.selection.getStart());return h&&a.schema.isValidChild(h.nodeName,c||"P")}function nu(a,c){return function(h,m){return ir(a,function(b,M){return b&&M(h,m)},!0)?De.some(c):De.none()}}function Ef(a,c){var h,m;h=a,m=c,fC([nu([BT],ru.none()),nu([Iu("summary",!0)],ru.br()),nu([dy(!0),Yb(!1),Xp],ru.br()),nu([dy(!0),Yb(!1)],ru.block()),nu([dy(!0),Yb(!0),Xp],ru.block()),nu([dy(!0),Yb(!0)],ru.br()),nu([yw(!0),Xp],ru.br()),nu([yw(!0)],ru.block()),nu([vw(!0),Xp,HC],ru.block()),nu([vw(!0)],ru.br()),nu([Xb],ru.br()),nu([vw(!1),Xp],ru.br()),nu([HC],ru.block())],[h,!(!m||!m.shiftKey)]).getOr(ru.none()).fold(function(){gw(a,c)},function(){!function NT(a,c){function h(qt){var Nn,Rt=J,pn=G.getTextInlineElements(),Zt=qt||"TABLE"===pe||"HR"===pe?N.create(qt||we):se.cloneNode(!1),Cn=Zt;if(!1===a.getParam("keep_styles",!0))N.setAttrib(Zt,"style",null),N.setAttrib(Zt,"class",null);else for(;pn[Rt.nodeName]&&(Ba(Rt)||Al(Rt)||(Nn=Rt.cloneNode(!1),N.setAttrib(Nn,"id",""),Zt.hasChildNodes()?Nn.appendChild(Zt.firstChild):Cn=Nn,Zt.appendChild(Nn))),(Rt=Rt.parentNode)&&Rt!==Sn;);return cy(a,Zt),Hc(Cn),Zt}function m(qt){var Nn,Rt,pn=uy(qt,J,ne);if(!Dn(J)||!(qt?0<pn:pn<J.nodeValue.length)){if(J.parentNode===se&&B&&!qt||qt&&lr(J)&&J===se.firstChild)return 1;if(Wc(J,"TABLE")||Wc(J,"HR"))return B&&!qt||!B&&qt;var Zt=new wi(J,se);for(Dn(J)&&(qt&&0===pn?Zt.prev():qt||pn!==J.nodeValue.length||Zt.next());Nn=Zt.current();){if(lr(Nn)){if(!Nn.getAttribute("data-mce-bogus")&&(Rt=Nn.nodeName.toLowerCase(),H[Rt]&&"br"!==Rt))return}else if(Dn(Nn)&&!E(Nn.nodeValue))return;qt?Zt.prev():Zt.next()}return 1}}function b(){A=/^(H[1-6]|PRE|FIGURE)$/.test(pe)&&"HGROUP"!==Ae?h(we):h(),a.getParam("end_container_on_empty_block",!1)&&fw(N,fe)&&N.isEmpty(se)?A=N.split(fe,se):N.insertAfter(A,se),tu(a,A)}var M,A,L,B,N=a.dom,G=a.schema,H=G.getNonEmptyElements(),X=a.selection.getRng();mf(N,X).each(function(qt){X.setStart(qt.startContainer,qt.startOffset),X.setEnd(qt.endContainer,qt.endOffset)});var J=X.startContainer,ne=X.startOffset,we=Na(a),te=!(!c||!c.shiftKey),oe=!(!c||!c.ctrlKey);lr(J)&&J.hasChildNodes()&&(B=ne>J.childNodes.length-1,J=J.childNodes[Math.min(ne,J.childNodes.length-1)]||J,ne=B&&Dn(J)?J.nodeValue.length:0);var se,fe,pe,Ae,ze,me,Ie,Ke,lt,pt,Ge,$e,qe,et,bt,Yt,an,wt,St,mn,Sn=Ll(N,J);Sn&&((we&&!te||!we&&te)&&(J=function(qt,Nn,Rt,pn){var Zt,Cn,Ln,co,ke,Ye,Mt=we||"P",Ot=qt.dom,Lt=Ll(Ot,Rt),ln=Ot.getParent(Rt,Ot.isBlock);if(!ln||!fw(Ot,ln)){if(ke=((ln=ln||Lt)===qt.getBody()||(Ye=ln)&&/^(TD|TH|CAPTION)$/.test(Ye.nodeName)?ln:ln.parentNode).nodeName.toLowerCase(),!ln.hasChildNodes())return cy(qt,Zt=Ot.create(Mt)),ln.appendChild(Zt),Nn.setStart(Zt,0),Nn.setEnd(Zt,0),Zt;for(Ln=Rt;Ln.parentNode!==ln;)Ln=Ln.parentNode;for(;Ln&&!Ot.isBlock(Ln);)Ln=(Cn=Ln).previousSibling;if(Cn&&qt.schema.isValidChild(ke,Mt.toLowerCase())){for(cy(qt,Zt=Ot.create(Mt)),Cn.parentNode.insertBefore(Zt,Cn),Ln=Cn;Ln&&!Ot.isBlock(Ln);)co=Ln.nextSibling,Zt.appendChild(Ln),Ln=co;Nn.setStart(Rt,pn),Nn.setEnd(Rt,pn)}}return Rt}(a,X,J,ne)),fe=(se=N.getParent(J,N.isBlock))?N.getParent(se.parentNode,N.isBlock):null,pe=se?se.nodeName.toUpperCase():"","LI"!==(Ae=fe?fe.nodeName.toUpperCase():"")||oe||(fe=(se=fe).parentNode,pe=Ae),/^(LI|DT|DD)$/.test(pe)&&N.isEmpty(se)?(Ke=h,lt=fe,pt=se,Ge=we,St=(Ie=a).dom,mn=Ie.selection.getRng(),lt!==Ie.getBody()&&(qe=(Ge=Fc($e=lt)&&Fc($e.parentNode)?"LI":Ge)?Ke(Ge):St.create("BR"),Zi(lt,pt,!0)&&Zi(lt,pt,!1)?zC(lt,"LI")?(et=oi(lt),St.insertAfter(qe,et),(null===(wt=(an=lt).parentNode)||void 0===wt?void 0:wt.firstChild)===an?St.remove(et):St.remove(lt)):St.replace(qe,lt):(Zi(lt,pt,!0)?zC(lt,"LI")?(St.insertAfter(qe,oi(lt)),qe.appendChild(St.doc.createTextNode(" ")),qe.appendChild(lt)):lt.parentNode.insertBefore(qe,lt):Zi(lt,pt,!1)?St.insertAfter(qe,oi(lt)):(lt=oi(lt),(bt=mn.cloneRange()).setStartAfter(pt),bt.setEndAfter(lt),Yt=bt.extractContents(),"LI"===Ge&&Yt.firstChild&&"LI"===Yt.firstChild.nodeName?(qe=Yt.firstChild,St.insertAfter(Yt,lt)):(St.insertAfter(Yt,lt),St.insertAfter(qe,lt))),St.remove(pt)),tu(Ie,qe))):we&&se===a.getBody()||(we=we||"P",es(se)?(A=g(se),N.isEmpty(se)&&Hc(se),cy(a,A),tu(a,A)):m()?b():m(!0)?(A=se.parentNode.insertBefore(h(),se),tu(a,Wc(se,"HR")?A:se)):((me=(ze=X).cloneRange()).setStart(ze.startContainer,uy(!0,ze.startContainer,ze.startOffset)),me.setEnd(ze.endContainer,uy(!1,ze.endContainer,ze.endOffset)),(M=me.cloneRange()).setEndAfter(se),L=M.extractContents(),It(gp(it.fromDom(L),ms),function(qt){var Nn=qt.dom;Nn.nodeValue=Li(Nn.nodeValue)}),function(qt){for(;Dn(qt)&&(qt.nodeValue=qt.nodeValue.replace(/^[\r\n]+/,"")),qt=qt.firstChild;);}(L),A=L.firstChild,N.insertAfter(L,se),function(qt,Nn){var Rt,pn,Zt=A,Cn=[];if(Zt){for(;Zt=Zt.firstChild;){if(qt.isBlock(Zt))return;lr(Zt)&&!Nn[Zt.nodeName.toLowerCase()]&&Cn.push(Zt)}for(Rt=Cn.length;Rt--;)(!(Zt=Cn[Rt]).hasChildNodes()||Zt.firstChild===Zt.lastChild&&""===Zt.firstChild.nodeValue||(pn=Zt)&&"A"===pn.nodeName&&qt.isEmpty(pn))&&qt.remove(Zt)}}(N,H),function(qt,Nn){Nn.normalize();var Rt=Nn.lastChild;Rt&&!/^(left|right)$/gi.test(qt.getStyle(Rt,"float",!0))||qt.add(Nn,"br")}(N,se),N.isEmpty(se)&&Hc(se),A.normalize(),N.isEmpty(A)?(N.remove(A),b()):(cy(a,A),tu(a,A))),N.setAttrib(A,"id",""),a.fire("NewBlock",{newBlock:A})))}(a,c)},Mn)}function a1(a){return a.stopImmediatePropagation()}function bw(a){return a.keyCode===Gn.PAGE_UP||a.keyCode===Gn.PAGE_DOWN}function xw(a,c,h){h&&!a.get()?c.on("NodeChange",a1,!0):!h&&a.get()&&c.off("NodeChange",a1),a.set(h)}function WC(a,c){var h=c.container(),m=c.offset();return Dn(h)?(h.insertData(m,a),De.some(_t(h,m+a.length))):vh(c).map(function(b){var M=it.fromText(a);return(c.isAtEnd()?Ps:ta)(b,M),_t(M.dom,a.length)})}function s1(a){var c,h,m=_t.fromRangeStart(a.selection.getRng()),b=it.fromDom(a.getBody());if(a.selection.isCollapsed()){var M=jt(Yv,a),A=_t.fromRangeStart(a.selection.getRng());return Au(M,a.getBody(),A).bind((h=b,function(L){return L.fold(function(B){return Cu(h.dom,_t.before(B))},function(B){return us(B)},function(B){return Mu(B)},function(B){return Kl(h.dom,_t.after(B))})})).bind(function zT(a,c){return function(h){return M=a,(!Wp(A=h)&&(Cu((m=M).dom,b=A).isNone()||Kl(m.dom,b).isNone()||tm(m,b)||o_(m,b)||Hp(m,b)||Ec(m,b)||Dv(M,A)||Kg(M,A))?Jb:XC)(c);var m,b,M,A}}(b,m)).exists((c=a,function(L){return c.selection.setRng(L.toRange()),c.nodeChanged(),!0}))}return!1}(ry=Wh=Wh||{})[ry.Up=-1]="Up",ry[ry.Down=1]="Down";var GC=jt(Q_,Wh.Up,Qu,uh),UC=jt(Q_,Wh.Down,uh,Qu),jC=Dr,Uh=yu,Zb=function(a,c){var h=a.selection.getRng(),m=a.getBody();if(c){var b=_t.fromRangeEnd(h),M=fm(m,b);return ut(M.positions)}return b=_t.fromRangeStart(h),Dt((M=oy(m,b)).positions)},VT=jt(fc,!0),Kb=jt(fc,!1),Bf=function(a){return dt(Tn(a.selection.getSelectedBlocks(),it.fromDom),function(c){return!AC(c)&&!yi(c).exists(AC)&&Vu(c,function(h){return na(h.dom)||Dr(h.dom)}).exists(function(h){return na(h.dom)})})},_w=Dr,ww=jt(uw,function(a){return a.bottom},function(a,c){return a.y<c}),Ki=jt(uw,function(a){return a.top},function(a,c){return a.y>c}),Sw=jt(ly,oy),FT=jt(ly,fm),$b=function(a,c){return h=_t.after(c),!!Po(h.getNode())||Kl(a,_t.after(c)).map(function(m){return Po(m.getNode())}).getOr(!1);var h},ru=xl([{br:[]},{block:[]},{none:[]}]),HT=_i().browser,YC=_i(),Jb=jt(WC,bo),XC=jt(WC," "),qC=(Qb.prototype.nodeChanged=function(a){var c,h,m,b=this.editor.selection;this.editor.initialized&&b&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(m=this.editor.getBody(),(c=b.getStart(!0)||m).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(c,m)||(c=m),h=[],this.editor.dom.getParent(c,function(M){return M===m||void h.push(M)}),(a=a||{}).element=c,a.parents=h,this.editor.fire("NodeChange",a))},Qb.prototype.isSameElementPath=function(a){var c,h=this.editor.$(a).parentsUntil(this.editor.getBody()).add(a);if(h.length===this.lastPath.length){for(c=h.length;0<=c&&h[c]===this.lastPath[c];c--);if(-1===c)return this.lastPath=h,!0}return this.lastPath=h,!1},Qb);function Qb(a){var c;this.lastPath=[],this.editor=a;var h=this;"onselectionchange"in a.getDoc()||a.on("NodeChange click mouseup keyup focus",function(m){var b=a.selection.getRng(),M={startContainer:b.startContainer,startOffset:b.startOffset,endContainer:b.endContainer,endOffset:b.endOffset};"nodechange"!==m.type&&Ah(M,c)||a.fire("SelectionChange"),c=M}),a.on("contextmenu",function(){a.fire("SelectionChange")}),a.on("SelectionChange",function(){var m=a.selection.getStart(!0);!m||!sr.range&&a.selection.isCollapsed()||rc(a)&&!h.isSameElementPath(m)&&a.dom.isChildOf(m,a.getBody())&&a.nodeChanged({selectionChange:!0})}),a.on("mouseup",function(m){!m.isDefaultPrevented()&&rc(a)&&("IMG"===a.selection.getNode().nodeName?Bo.setEditorTimeout(a,function(){a.nodeChanged()}):a.nodeChanged())})}function ZC(a){return lr(a)&&Jn(it.fromDom(a))}function fy(a){var c=a.getBoundingClientRect(),h=a.ownerDocument,m=h.documentElement,b=h.defaultView;return{top:c.top+b.pageYOffset-m.clientTop,left:c.left+b.pageXOffset-m.clientLeft}}function hy(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function ex(a,c){return Th(a.getBody(),c)}function tx(a){function c(me){return me!==oe&&(Dd(me)||Za(me))&&ne.isChildOf(me,oe)}function h(me){return Eh(me)||zc(me)||Lv(me)||Rv(me)}function m(me){me&&J.setRng(me)}function b(me,we,Ie,Ke){return void 0===Ke&&(Ke=!0),a.fire("ShowCaret",{target:we,direction:me,before:Ie}).isDefaultPrevented()?null:(Ke&&J.scrollIntoView(we,-1===me),se.show(Ie,we))}function M(me){return Ia(me)||Pa(me)||bi(me)}function A(me){return M(me.startContainer)||M(me.endContainer)}function L(me,we){if(!me)return null;if(me.collapsed){if(!A(me)){var Ie=we?1:-1,Ke=ss(Ie,oe,me),lt=Ke.getNode(!we);if(Qd(lt))return b(Ie,lt,!!we&&!Ke.isAtEnd(),!1);var pt=Ke.getNode(we);if(Qd(pt))return b(Ie,pt,!we&&!Ke.isAtEnd(),!1)}return null}var Ge=me.startContainer,$e=me.startOffset,qe=me.endOffset;if(3===Ge.nodeType&&0===$e&&Dd(Ge.parentNode)&&($e=ne.nodeIndex(Ge=Ge.parentNode),Ge=Ge.parentNode),1!==Ge.nodeType)return null;if(qe===$e+1&&Ge===me.endContainer){var et=Ge.childNodes[$e];if(c(et))return function(bt){var Yt=bt.cloneNode(!0),an=a.fire("ObjectSelected",{target:bt,targetClone:Yt});if(an.isDefaultPrevented())return null;var wt=function(mn,Sn,qt){var Nn=a.$,Rt=Lr(it.fromDom(a.getBody()),"#"+fe).fold(function(){return Nn([])},function(Cn){return Nn([Cn.dom])});0===Rt.length&&(Rt=Nn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",fe)).appendTo(a.getBody());var pn=ne.createRng();Sn===qt&&sr.ie?(Rt.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(Sn),pn.setStartAfter(Rt[0].firstChild.firstChild),pn.setEndAfter(Sn)):(Rt.empty().append(bo).append(Sn).append(bo),pn.setStart(Rt[0].firstChild,1),pn.setEnd(Rt[0].lastChild,0)),Rt.css({top:ne.getPos(mn,a.getBody()).y}),Rt[0].focus();var Zt=J.getSel();return Zt.removeAllRanges(),Zt.addRange(pn),pn}(bt,an.targetClone,Yt),St=it.fromDom(bt);return It(cl(it.fromDom(a.getBody()),"*[data-mce-selected]"),function(mn){Ut(St,mn)||su(mn,pe)}),ne.getAttrib(bt,pe)||bt.setAttribute(pe,"1"),N=bt,ze(),wt}(et)}return null}function B(){N&&N.removeAttribute(pe),Lr(it.fromDom(a.getBody()),"#"+fe).each(Ai),N=null}var N,G,H,X,J=a.selection,ne=a.dom,te=ne.isBlock,oe=a.getBody(),se=function av(a,c,h,m){function b(){(function(){for(var G=cl(it.fromDom(c),"*[contentEditable=false],video,audio,embed,object"),H=0;H<G.length;H++){var X,J=G[H].dom,ne=J.previousSibling;bi(ne)&&(1===(X=ne.data).length?ne.parentNode.removeChild(ne):ne.deleteData(X.length-1,1)),Pa(ne=J.nextSibling)&&(1===(X=ne.data).length?ne.parentNode.removeChild(ne):ne.deleteData(0,1))}})(),A&&(sa(A),A=null),L.on(function(G){Cr(G.caret).remove(),L.clear()}),M&&(Bo.clearInterval(M),M=void 0)}var M,A,L=lh(),B=Na(a),N=0<B.length?B:"p";return{show:function(G,H){var X;if(b(),cv(H))return null;if(!h(H))return A=function(te,oe){var se=te.ownerDocument.createTextNode(Hn),fe=te.parentNode;if(oe){if(oa(pe=te.previousSibling)){if(Ia(pe))return pe;if(bi(pe))return pe.splitText(pe.data.length-1)}fe.insertBefore(se,te)}else{var pe=te.nextSibling;if(oa(pe)){if(Ia(pe))return pe;if(Pa(pe))return pe.splitText(1),pe}te.nextSibling?fe.insertBefore(se,te.nextSibling):fe.appendChild(se)}return se}(H,G),X=H.ownerDocument.createRange(),ci(A.nextSibling)?(X.setStart(A,0),X.setEnd(A,0)):(X.setStart(A,1),X.setEnd(A,1)),X;A=function(te,oe,se){var fe,pe=oe.ownerDocument.createElement(te);pe.setAttribute("data-mce-caret",se?"before":"after"),pe.setAttribute("data-mce-bogus","all"),pe.appendChild(((fe=document.createElement("br")).setAttribute("data-mce-bogus","1"),fe));var Ae=oe.parentNode;return se?Ae.insertBefore(pe,oe):oe.nextSibling?Ae.insertBefore(pe,oe.nextSibling):Ae.appendChild(pe),pe}(N,H,G);var J=Xl(c,H,G);Cr(A).css("top",J.top);var ne=Cr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Xn({},J)).appendTo(c)[0];return L.set({caret:ne,element:H,before:G}),G&&Cr(ne).addClass("mce-visual-caret-before"),M=Bo.setInterval(function(){m()?Cr("div.mce-visual-caret",c).toggleClass("mce-visual-caret-hidden"):Cr("div.mce-visual-caret",c).addClass("mce-visual-caret-hidden")},500),(X=H.ownerDocument.createRange()).setStart(A,0),X.setEnd(A,0),X},hide:b,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){L.on(function(G){var H=Xl(c,G.element,G.before);Cr(G.caret).css(Xn({},H))})},destroy:function(){return Bo.clearInterval(M)}}}(a,oe,te,function(){return ws(a)}),fe="sel-"+ne.uniqueId(),pe="data-mce-selected",Ae=J.getRng,ze=function(){se.hide()};return sr.ceFalse&&!kf(a)&&(a.on("mouseup",function(me){var we=Ae();we.collapsed&&vb(a,me.clientX,me.clientY)&&Y0(a,we,!1).each(m)}),a.on("click",function(me){var we=ex(a,me.target);we&&(Dd(we)&&(me.preventDefault(),a.focus()),Iw(we)&&ne.isChildOf(we,J.getNode())&&B())}),a.on("blur NewBlock",B),a.on("ResizeWindow FullscreenStateChanged",se.reposition),a.on("tap",function(me){var we=me.target,Ie=ex(a,we);Dd(Ie)?(me.preventDefault(),um(a,Ie).each(L)):c(we)&&um(a,we).each(L)},!0),a.on("mousedown",function(me){var we,Ie,Ke,lt,pt,Ge,$e,qe=me.target;qe!==oe&&"HTML"!==qe.nodeName&&!ne.isChildOf(qe,oe)||!1===vb(a,me.clientX,me.clientY)||((we=ex(a,qe))?Dd(we)?(me.preventDefault(),um(a,we).each(L)):(B(),Iw(we)&&me.shiftKey||Lg(me.clientX,me.clientY,J.getRng())||(ze(),J.placeCaretAt(me.clientX,me.clientY))):c(qe)?um(a,qe).each(L):!1===Qd(qe)&&(B(),ze(),(Ie=function AT(a,c,h){function m(N){return!Ls(N.node)&&!Za(N.node)}var b,M,A,L=e1(dt(ka(a.getElementsByTagName("*")),Qd));return(A=Vb(dt(L,jt(zb,h)),c,m))&&(A=Vb(function(N,G,H){function X(ne,te){var oe=dt(e1([te]),function(se){return!ne(se,G)});return J=J.concat(oe),0===oe.length}void 0===H&&(H=!0);var J=[];return J.push(G),SC(Wh.Up,N,jt(X,Qu),G.node,H),SC(Wh.Down,N,jt(X,uh),G.node,H),J}(a,A,m(A)),c,m))&&Qd(A.node)?{node:(b=A).node,before:Nb(b,M=c)<Eb(b,M)}:null}(oe,me.clientX,me.clientY))&&(lt=Ie.node,Ge=ne.getParent(Ke=qe,te),$e=ne.getParent(lt,te),!Tt(Ge)&&(Ke!==$e&&ne.isChildOf(Ge,$e)&&!1===Dd(ex(a,Ge))||!ne.isChildOf($e,Ge)&&(pt=$e,ne.getParent(Ge,te)!==ne.getParent(pt,te))&&function(et){var bt=et.firstChild;if(!Tt(bt)){var Yt=_t.before(bt);if(Po(Yt.getNode())&&1===et.childNodes.length)return!h(Yt);var an=kl(et).next(Yt);return an&&!h(an)}}(Ge))||(me.preventDefault(),m(b(1,Ie.node,Ie.before,!1)),a.getBody().focus()))))}),a.on("keypress",function(me){Gn.modifierPressed(me)||Dd(J.getNode())&&me.preventDefault()}),a.on("GetSelectionRange",function(me){var we=me.range;N&&(N.parentNode?((we=we.cloneRange()).selectNode(N),me.range=we):N=null)}),a.on("SetSelectionRange",function(me){var we,Ie,Ke,lt,pt,Ge,$e;me.range=(we=me.range,Ie=a.schema.getShortEndedElements(),Ke=ne.createRng(),pt=we.startOffset,Ge=we.endContainer,$e=we.endOffset,Rr(Ie,(lt=we.startContainer).nodeName.toLowerCase())?0===pt?Ke.setStartBefore(lt):Ke.setStartAfter(lt):Ke.setStart(lt,pt),Rr(Ie,Ge.nodeName.toLowerCase())?0===$e?Ke.setEndBefore(Ge):Ke.setEndAfter(Ge):Ke.setEnd(Ge,$e),Ke);var qe=L(me.range,me.forward);qe&&(me.range=qe)}),a.on("AfterSetSelectionRange",function(me){var we=me.range,Ie=we.startContainer.parentNode;A(we)||"mcepastebin"===Ie.id||ze(),ne.hasClass(Ie,"mce-offscreen-selection")||B()}),a.on("copy",function(me){var we,Ie,Ke=me.clipboardData;me.isDefaultPrevented()||!me.clipboardData||sr.ie||(we=(Ie=ne.get(fe))&&Ie.getElementsByTagName("*")[0])&&(me.preventDefault(),Ke.clearData(),Ke.setData("text/html",we.outerHTML),Ke.setData("text/plain",we.outerText||we.innerText))}),function GT(a){var c,h;function m(A){var L;A.isDefaultPrevented()||(L=A.dataTransfer)&&(kr(L.types,"Files")||0<L.files.length)&&(A.preventDefault(),"drop"===A.type&&jv(h,"Dropped file type is not supported"))}function b(A){wf(h,A.target)&&m(A)}function M(){var A=Uo.DOM,L=h.dom,B=document,N=h.inline?h.getBody():h.getDoc(),G=["drop","dragover"];It(G,function(H){A.bind(B,H,b),L.bind(N,H,m)}),h.on("remove",function(){It(G,function(H){A.unbind(B,H,b),L.unbind(N,H,m)})})}(function KC(a){var m,b,M,A,L,B,N=lh(),G=Uo.DOM,H=document,X=function WT(a,c){var h=Bo.throttle(function(m,b){c._selectionOverrides.hideFakeCaret(),c.selection.placeCaretAt(m,b)},0);return c.on("remove",h.stop),function(m){return a.on(function(b){var M,A,L,B,N,G,H,X,J,ne,te,oe,se,fe,pe,Ae,ze,me,we,Ie,Ke=Math.max(Math.abs(m.screenX-b.screenX),Math.abs(m.screenY-b.screenY));if(!b.dragging&&10<Ke){if(c.fire("dragstart",{target:b.element}).isDefaultPrevented())return;b.dragging=!0,c.focus()}b.dragging&&(oe=b,M={pageX:(pe=m,Ae=(fe=c).inline?fy(fe.getBody()):{left:0,top:0},Ie=(we=fe).getBody(),ze=we.inline?{left:Ie.scrollLeft,top:Ie.scrollTop}:{left:0,top:0},(se={pageX:(me=function(lt,pt){if(pt.target.ownerDocument===lt.getDoc())return{left:pt.pageX,top:pt.pageY};var Ge,$e,qe,Yt=fy(lt.getContentAreaContainer()),an=($e=(Ge=lt).getBody(),qe=Ge.getDoc().documentElement,Ge.inline?{left:$e.scrollLeft,top:$e.scrollTop}:{left:$e.scrollLeft||qe.scrollLeft,top:$e.scrollTop||qe.scrollTop});return{left:pt.pageX-Yt.left+an.left,top:pt.pageY-Yt.top+an.top}}(fe,pe)).left-Ae.left+ze.left,pageY:me.top-Ae.top+ze.top}).pageX-oe.relX),pageY:se.pageY+5},ne=b.ghost,te=c.getBody(),ne.parentNode!==te&&te.appendChild(ne),B=b.width,N=b.height,G=b.maxX,H=b.maxY,J=X=0,(A=b.ghost).style.left=(L=M).pageX+"px",A.style.top=L.pageY+"px",H<L.pageY+N&&(J=L.pageY+N-H),A.style.width=B-(X=G<L.pageX+B?L.pageX+B-G:X)+"px",A.style.height=N-J+"px",h(m.clientX,m.clientY))})}}(L=N,B=a),J=(m=M=N,function(){m.on(function(ne){ne.dragging&&b.fire("dragend")}),Aw(m)});(b=A=a).on("mousedown",function c(ne){var te,oe,se,fe,pe,Ae;0===ne.button&&(te=jo(B.dom.getParents(ne.target),function(){for(var ze=[],me=0;me<arguments.length;me++)ze[me]=arguments[me];return function(we){for(var Ie=0;Ie<ze.length;Ie++)if(ze[Ie](we))return!0;return!1}}(ox,Dw)).getOr(null),pe=B.getBody(),ox(Ae=te)&&Ae!==pe&&(oe=B.dom.getPos(te),se=B.getBody(),fe=B.getDoc().documentElement,L.set({element:te,dragging:!1,screenX:ne.screenX,screenY:ne.screenY,maxX:(B.inline?se.scrollWidth:fe.offsetWidth)-2,maxY:(B.inline?se.scrollHeight:fe.offsetHeight)-2,relX:ne.pageX-oe.x,relY:ne.pageY-oe.y,width:te.offsetWidth,height:te.offsetHeight,ghost:function(ze,me,we){var Ie=B.dom,Ke=ze.cloneNode(!0);Ie.setStyles(Ke,{width:me,height:we}),Ie.setAttrib(Ke,"data-mce-selected",null);var lt=Ie.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return Ie.setStyles(lt,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:me,height:we}),Ie.setStyles(Ke,{margin:0,boxSizing:"border-box"}),lt.appendChild(Ke),lt}(te,te.offsetWidth,te.offsetHeight)})))}),a.on("mousemove",X),a.on("mouseup",function h(ne){M.on(function(te){var oe,se,fe,pe,Ae,ze;te.dragging&&((pe=3===(ze=(fe=A).selection.getSel().getRangeAt(0).startContainer).nodeType?ze.parentNode:ze)===(Ae=te.element)||fe.dom.isChildOf(pe,Ae)||ox(pe)||((se=te.element.cloneNode(!0)).removeAttribute("data-mce-selected"),oe=se,A.fire("drop",{clientX:ne.clientX,clientY:ne.clientY}).isDefaultPrevented()||A.undoManager.transact(function(){hy(te.element),A.insertContent(A.dom.getOuterHTML(oe)),A._selectionOverrides.hideFakeCaret()})),A.fire("dragend"))}),Aw(M)}),G.bind(H,"mousemove",X),G.bind(H,"mouseup",J),a.on("remove",function(){G.unbind(H,"mousemove",X),G.unbind(H,"mouseup",J)}),a.on("keydown",function(ne){ne.keyCode===Gn.ESC&&J()})})(a),(c=a).on("drop",function(A){var L=void 0!==A.clientX?c.getDoc().elementFromPoint(A.clientX,A.clientY):null;!ox(L)&&"false"!==c.dom.getContentEditableParent(L)||A.preventDefault()}),a.getParam("block_unsupported_drop",!0,"boolean")&&(h=a).on("init",function(){Bo.setEditorTimeout(h,M,0)})}(a),H=Yd(function(){var me,we;G.removed||!G.getBody().contains(document.activeElement)||(me=G.selection.getRng()).collapsed&&(we=dc(G,me,!1),G.selection.setRng(we))},0),(G=a).on("focus",function(){H.throttle()}),G.on("blur",function(){H.cancel()}),(X=a).on("init",function(){X.on("focusin",function(me){var we,Ie,Ke=me.target;Za(Ke)&&(we=Th(X.getBody(),Ke),Ie=Dr(we)?we:Ke,X.selection.getNode()!==Ie&&um(X,Ie).each(function(lt){return X.selection.setRng(lt)}))})})),{showCaret:b,showBlockCaretContainer:function(me){me.hasAttribute("data-mce-caret")&&(g(me),m(Ae()),J.scrollIntoView(me))},hideFakeCaret:ze,destroy:function(){se.destroy(),N=null}}}function Cw(a){return Nr(a,function(c){return!1===Jr(c)})}function Mw(a){var c=a.settings,h=a.editorUpload.blobCache;return Cw({allow_conditional_comments:c.allow_conditional_comments,allow_html_data_urls:c.allow_html_data_urls,allow_svg_data_urls:c.allow_svg_data_urls,allow_html_in_named_anchor:c.allow_html_in_named_anchor,allow_script_urls:c.allow_script_urls,allow_unsafe_link_target:c.allow_unsafe_link_target,convert_fonts_to_spans:c.convert_fonts_to_spans,fix_list_elements:c.fix_list_elements,font_size_legacy_values:c.font_size_legacy_values,forced_root_block:c.forced_root_block,forced_root_block_attrs:c.forced_root_block_attrs,padd_empty_with_br:c.padd_empty_with_br,preserve_cdata:c.preserve_cdata,remove_trailing_brs:c.remove_trailing_brs,inline_styles:c.inline_styles,root_name:a.inline?a.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:h,document:a.getDoc(),images_dataimg_filter:c.images_dataimg_filter})}function QC(a){return(a.inline?a.ui:a.dom).styleSheetLoader}function py(a){function c(){b.unloadAll(A),a.inline||a.ui.styleSheetLoader.unloadAll(M)}function h(){a.removed?c():a.on("remove",c)}var m,b=QC(a),M=tv(a),A=a.contentCSS;0<a.contentStyles.length&&(m="",kt.each(a.contentStyles,function(se){m+=se+"\r\n"}),a.dom.addStyle(m));var L,B,N,G,H,X,J,ne,te,oe=Wo.all((L=a,B=A,N=M,G=[new Wo(function(se,fe){return QC(L).loadAll(B,se,fe)})],L.inline?G:G.concat([new Wo(function(se,fe){return L.ui.styleSheetLoader.loadAll(N,se,fe)})]))).then(h).catch(h);return a.settings.content_style&&(X=(H=a).settings.content_style,J=it.fromDom(H.getBody()),ne=Ko(gi(J)),rl(te=it.fromTag("style"),"type","text/css"),Ui(te,it.fromText(X)),Ui(ne,te),H.on("remove",function(){Ai(te)})),oe}function Tw(a){var c;!0!==a.removed&&(kf(c=a)||c.load({initial:!0,format:"html"}),c.startContent=c.getContent({format:"raw"}),function JC(a){var c,h,m;a.bindPendingEventDelegates(),a.initialized=!0,a.fire("Init"),a.focus(!0),m=(h=a).dom.getRoot(),h.inline||rc(h)&&h.selection.getStart(!0)!==m||us(m).each(function(b){var M,A,L,B,N=b.getNode(),G=Ls(N)?us(N).getOr(b):b;sr.browser.isIE()?(M=h,A=G.toRange(),L=it.fromDom(M.getBody()),B=(c0(M)?De.from(A):De.none()).map(Nc).filter(Ih(L)),M.bookmark=B.isSome()?B:M.bookmark):h.selection.setRng(G.toRange())}),a.nodeChanged({initial:!0}),a.execCallback("init_instance_callback",a),(c=a).settings.auto_focus&&Bo.setEditorTimeout(c,function(){var b=!0===c.settings.auto_focus?c:c.editorManager.get(c.settings.auto_focus);b.destroyed||b.focus()},100)}(a))}function l1(a,c){var h=a.settings,m=a.getElement(),b=a.getDoc();h.inline||(a.getElement().style.visibility=a.orgVisibility),c||a.inline||(b.open(),b.write(a.iframeHTML),b.close()),a.inline&&(ix.addClass(m,"mce-content-body"),a.contentDocument=b=document,a.contentWindow=window,a.bodyElement=m,a.contentAreaContainer=m);var M,A,L,B,N,G,H,X,J,ne,te,oe=a.getBody();oe.disabled=!0,a.readonly=!!h.readonly,a.readonly||(a.inline&&"static"===ix.getStyle(oe,"position",!0)&&(oe.style.position="relative"),oe.contentEditable=a.getParam("content_editable_state",!0)),oe.disabled=!1,a.editorUpload=function rC(a){function c(fe){return function(pe){return a.selection?fe(pe):[]}}function h(fe,pe,Ae){for(var ze=0;-1!==(ze=fe.indexOf(pe,ze))&&(fe=fe.substring(0,ze)+Ae+fe.substr(ze+pe.length),ze+=Ae.length-pe.length+1),-1!==ze;);return fe}function m(fe,pe,Ae){return fe=h(fe,'src="'+pe+'"','src="'+Ae+'"'+(Ae===sr.transparentSrc?' data-mce-placeholder="1"':"")),h(fe,'data-mce-src="'+pe+'"','data-mce-src="'+Ae+'"')}function b(fe,pe){It(a.undoManager.data,function(Ae){"fragmented"===Ae.type?Ae.fragments=Tn(Ae.fragments,function(ze){return m(ze,fe,pe)}):Ae.content=m(Ae.content,fe,pe)})}function M(fe){return N=N||H0(a,ne),se().then(c(function(pe){var Ae=Tn(pe,function(ze){return ze.blobInfo});return N.upload(Ae,V_(a)).then(c(function(ze){var me=[],we=Tn(ze,function(Ie,Ke){var pt,Ge,$e,qe=pe[Ke].blobInfo,et=pe[Ke].image;return Ie.status&&a.getParam("images_replace_blob_uris",!0,"boolean")?(J.removeByUri(et.src),kf(a)||(pt=et,$e=a.convertURL(Ge=Ie.url,"src"),b(pt.src,Ge),a.$(pt).attr({src:a.getParam("images_reuse_filename",!1,"boolean")?Ge+(-1===Ge.indexOf("?")?"?":"&")+(new Date).getTime():Ge,"data-mce-src":$e}))):Ie.error&&(Ie.error.options.remove&&(b(et.getAttribute("src"),sr.transparentSrc),me.push(et)),jv(a,jl.translate(["Failed to upload image: {0}",Ie.error.message]))),{element:et,status:Ie.status,uploadUri:Ie.url,blobInfo:qe}});return 0<we.length&&oe.fireIfChanged(),0<me.length&&(kf(a)?console.error("Removing images on failed uploads is currently unsupported for RTC"):a.undoManager.transact(function(){It(me,function(Ie){a.dom.remove(Ie),J.removeByUri(Ie.src)})})),fe&&fe(we),we}))}))}function A(fe){if(xp(a))return M(fe)}function L(fe){return!1!==Wn(te,function(pe){return pe(fe)})&&(0!==fe.getAttribute("src").indexOf("data:")||a.getParam("images_dataimg_filter",Kn,"function")(fe))}function B(fe){return fe.replace(/src="(blob:[^"]+)"/g,function(pe,Ae){var ze=ne.getResultUri(Ae);if(ze)return'src="'+ze+'"';var me=(me=J.getByUri(Ae))||ir(a.editorManager.get(),function(we,Ie){return we||Ie.editorUpload&&Ie.editorUpload.blobCache.getByUri(Ae)},null);return me?'src="data:'+me.blob().type+";base64,"+me.base64()+'"':pe})}var N,G,H,X,J=function F0(){function a(b){return jo(m,b).getOrUndefined()}function c(b){if(!b.blob||!b.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var M=b.id||B_("blobid"),A=b.name||M,L=b.blob;return{id:Jt(M),name:Jt(A),filename:Jt(b.filename||A+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[L.type.toLowerCase()]||"dat")),blob:Jt(L),base64:Jt(b.base64),blobUri:Jt(b.blobUri||URL.createObjectURL(L)),uri:Jt(b.uri)}}function h(b){return a(function(M){return M.id()===b})}var m=[];return{create:function(b,M,A,L,B){if(Ir(b))return c({id:b,name:L,filename:B,blob:M,base64:A});if(Mi(b))return c(b);throw new Error("Unknown input type")},add:function(b){h(b.id())||m.push(b)},get:h,getByUri:function(b){return a(function(M){return M.blobUri()===b})},getByData:function(b,M){return a(function(A){return A.base64()===b&&A.blob().type===M})},findFirst:a,removeByUri:function(b){m=dt(m,function(M){return M.blobUri()!==b||void URL.revokeObjectURL(M.blobUri())})},destroy:function(){It(m,function(b){URL.revokeObjectURL(b.blobUri())}),m=[]}}}(),ne=E_(),te=[],oe=(X=os(null),(H=a).on("change AddUndo",function(fe){X.set(Xn({},fe.level))}),{fireIfChanged:function(){var fe=H.undoManager.data;ut(fe).filter(function(pe){return!T0(X.get(),pe)}).each(function(pe){H.setDirty(!0),H.fire("change",{level:pe,lastLevel:Wa(fe,fe.length-2).getOrNull()})})}}),se=function(){return(G=G||function cc(a,c){var h={};return{findAll:function(m,b){b=b||Kn;var M=Tn(dt(m?ka(m.getElementsByTagName("img")):[],function(A){var L=A.src;return sr.fileApi&&!A.hasAttribute("data-mce-bogus")&&!A.hasAttribute("data-mce-placeholder")&&L&&L!==sr.transparentSrc&&(0===L.indexOf("blob:")?!a.isUploaded(L)&&b(A):0===L.indexOf("data:")&&b(A))}),function(A){if(void 0!==h[A.src])return new Wo(function(B){h[A.src].then(function(N){return"string"==typeof N?N:void B({image:A,blobInfo:N.blobInfo})})});var L=new Wo(function(B,N){var G,H,X,J,ne,te,se,fe;G=c,X=B,J=N,0!==(H=A).src.indexOf("blob:")?(te=(ne=hb(H.src)).data,(fe=G.getByData(se=te,ne.type))?X({image:H,blobInfo:fe}):uc(H.src).then(function(pe){fe=G.create(pb(),pe,se),G.add(fe),X({image:H,blobInfo:fe})},function(pe){J(pe)})):(fe=G.getByUri(H.src))?X({image:H,blobInfo:fe}):uc(H.src).then(function(pe){var Ae=pe;new Wo(function(ze){var me=new FileReader;me.onloadend=function(){ze(me.result)},me.readAsDataURL(Ae)}).then(function(ze){se=hb(ze).data,fe=G.create(pb(),pe,se),G.add(fe),X({image:H,blobInfo:fe})})},function(pe){J(pe)})}).then(function(B){return delete h[B.image.src],B}).catch(function(B){return delete h[A.src],B});return h[A.src]=L});return Wo.all(M)}}}(ne,J)).findAll(a.getBody(),L).then(c(function(fe){return fe=dt(fe,function(pe){return"string"!=typeof pe||void jv(a,pe)}),kf(a)||It(fe,function(pe){b(pe.image.src,pe.blobInfo.blobUri()),pe.image.src=pe.blobInfo.blobUri(),pe.image.removeAttribute("data-mce-src")}),fe}))};return a.on("SetContent",function(){(xp(a)?A:se)()}),a.on("RawSaveContent",function(fe){fe.content=B(fe.content)}),a.on("GetContent",function(fe){fe.source_view||"raw"===fe.format||"tree"===fe.format||(fe.content=B(fe.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(fe){It(fe,function(pe){var Ae,ze=pe.attr("src");J.getByUri(ze)||(Ae=ne.getResultUri(ze))&&pe.attr("src",Ae)})})}),{blobCache:J,addFilter:function(fe){te.push(fe)},uploadImages:M,uploadImagesAuto:A,scanForImages:se,destroy:function(){J.destroy(),ne.destroy(),G=N=null}}}(a),a.schema=Xe(h),a.dom=Uo(b,{keep_values:!0,url_converter:a.convertURL,url_converter_scope:a,hex_colors:h.force_hex_style_colors,update_styles:!0,root_element:a.inline?a.getBody():null,collect:function(){return a.inline},schema:a.schema,contentCssCors:a.getParam("content_css_cors",!1,"boolean"),referrerPolicy:_p(a),onSetAttrib:function(Ge){a.fire("SetAttrib",Ge)}}),a.parser=((A=Gv(Mw(M=a),M.schema)).addAttributeFilter("src,href,style,tabindex",function(Ge,$e){for(var qe,et,bt=Ge.length,Yt=M.dom,an="data-mce-"+$e;bt--;)(et=(qe=Ge[bt]).attr($e))&&!qe.attr(an)&&0!==et.indexOf("data:")&&0!==et.indexOf("blob:")&&("style"===$e?((et=Yt.serializeStyle(Yt.parseStyle(et),qe.name)).length||(et=null),qe.attr(an,et),qe.attr($e,et)):"tabindex"===$e?(qe.attr(an,et),qe.attr($e,null)):qe.attr(an,M.convertURL(et,$e,qe.name)))}),A.addNodeFilter("script",function(Ge){for(var $e=Ge.length;$e--;){var qe=Ge[$e],et=qe.attr("type")||"no/type";0!==et.indexOf("mce-")&&qe.attr("type","mce-"+et)}}),M.settings.preserve_cdata&&A.addNodeFilter("#cdata",function(Ge){for(var $e=Ge.length;$e--;){var qe=Ge[$e];qe.type=8,qe.name="#comment",qe.value="[CDATA["+M.dom.encode(qe.value)+"]]"}}),A.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(Ge){for(var $e=Ge.length,qe=M.schema.getNonEmptyElements();$e--;){var et=Ge[$e];et.isEmpty(qe)&&0===et.getAll("br").length&&(et.append(new le("br",1)).shortEnded=!0)}}),A),a.serializer=A_((L=a.settings,Xn(Xn({},Mw(a)),Cw({url_converter:L.url_converter,url_converter_scope:L.url_converter_scope,element_format:L.element_format,entities:L.entities,entity_encoding:L.entity_encoding,indent:L.indent,indent_after:L.indent_after,indent_before:L.indent_before,block_elements:L.block_elements,boolean_attributes:L.boolean_attributes,custom_elements:L.custom_elements,extended_valid_elements:L.extended_valid_elements,invalid_elements:L.invalid_elements,invalid_styles:L.invalid_styles,move_caret_before_on_enter_elements:L.move_caret_before_on_enter_elements,non_empty_elements:L.non_empty_elements,schema:L.schema,self_closing_elements:L.self_closing_elements,short_ended_elements:L.short_ended_elements,special:L.special,text_block_elements:L.text_block_elements,text_inline_elements:L.text_inline_elements,valid_children:L.valid_children,valid_classes:L.valid_classes,valid_elements:L.valid_elements,valid_styles:L.valid_styles,verify_html:L.verify_html,whitespace_elements:L.whitespace_elements}))),a),a.selection=US(a.dom,a.getWin(),a.serializer,a),a.annotator=o0(a),a.formatter=H_(a),a.undoManager=W0(a),a._nodeChangeDispatcher=new qC(a),a._selectionOverrides=tx(a),X=a,J=lh(),ne=os(!1),te=eo(function(Ge){X.fire("longpress",Xn(Xn({},Ge),{type:"longpress"})),ne.set(!0)},400),X.on("touchstart",function(Ge){pm(Ge).each(function($e){te.cancel();var qe={x:$e.clientX,y:$e.clientY,target:Ge.target};te.throttle(Ge),ne.set(!1),J.set(qe)})},!0),X.on("touchmove",function(Ge){te.cancel(),pm(Ge).each(function($e){J.on(function(qe){var et=$e,bt=qe,Yt=Math.abs(et.clientX-bt.x),an=Math.abs(et.clientY-bt.y);(5<Yt||5<an)&&(J.clear(),ne.set(!1),X.fire("longpresscancel"))})})},!0),X.on("touchend touchcancel",function(Ge){te.cancel(),"touchcancel"!==Ge.type&&J.get().filter(function($e){return $e.target.isEqualNode(Ge.target)}).each(function(){ne.get()?Ge.preventDefault():X.fire("tap",Xn(Xn({},Ge),{type:"tap"}))})},!0),(G=N=a).on("click",function(Ge){G.dom.getParent(Ge.target,"details")&&Ge.preventDefault()}),(H=N).parser.addNodeFilter("details",function(Ge){It(Ge,function($e){$e.attr("data-mce-open",$e.attr("open")),$e.attr("open","open")})}),H.serializer.addNodeFilter("details",function(Ge){It(Ge,function($e){var qe=$e.attr("data-mce-open");$e.attr("open",Ir(qe)?qe:null),$e.attr("data-mce-open",null)})}),kf(a)||(B=a).on("click",function(Ge){var $e,qe,et,bt,Yt;3<=Ge.detail&&(et=($e=B).selection.getRng(),bt=_t.fromRangeStart(et),Yt=_t.fromRangeEnd(et),!_t.isElementPosition(bt)||ZC(qe=bt.container())&&us(qe).each(function(an){return et.setStart(an.container(),an.offset())}),!_t.isElementPosition(Yt)||ZC(qe=bt.container())&&Mu(qe).each(function(an){return et.setEnd(an.container(),an.offset())}),$e.selection.setRng(Q1(et)))});var se,fe,pe,Ae,ze,me,we,Ie,Ke,lt=kf(se=a)?os(null):function qb(a){var c,h,m,b,M,A,L,B,N,G,H,X,J,ne,te=function nw(a){var c=os(null),h=jt(Yv,a);return a.on("NodeChange",function(m){var b,M,A,L,B,G,H,X,J,ne,te,oe;!Cg(a)||sr.browser.isIE()&&m.initial||(B=h,G=m.parents,It(Qi(H=dt(Tn(cl(it.fromDom(a.dom.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(se){return se.dom}),B),X=dt(G,B)),jt(MC,!1)),It(Qi(X,H),jt(MC,!0)),ne=c,(J=a).selection.isCollapsed()&&!0!==J.composing&&ne.get()&&(te=_t.fromRangeStart(J.selection.getRng()),_t.isTextPosition(te)&&!1===(xc(oe=te)||nr(oe))&&(Fb(J,Lx(ne.get(),te)),ne.set(null))),b=h,A=c,L=m.parents,(M=a).selection.isCollapsed()&&It(dt(L,b),function(se){var fe=_t.fromRangeStart(M.selection.getRng());Au(b,M.getBody(),fe).bind(function(pe){return TC(M,A,pe)})}))}),c}(a);return a.on("keyup compositionstart",jt(LT,a)),ne=te,(J=a).on("keydown",function(oe){var se,fe,pe,Ae;!1===oe.isDefaultPrevented()&&(se=J,fe=ne,pe=oe,Ae=_i().os,gm([{keyCode:Gn.RIGHT,action:qr(LC,se,!0)},{keyCode:Gn.LEFT,action:qr(LC,se,!1)},{keyCode:Gn.UP,action:qr(RC,se,!1)},{keyCode:Gn.DOWN,action:qr(RC,se,!0)},{keyCode:Gn.RIGHT,action:qr(i1,se,!0)},{keyCode:Gn.LEFT,action:qr(i1,se,!1)},{keyCode:Gn.UP,action:qr(cw,se,!1)},{keyCode:Gn.DOWN,action:qr(cw,se,!0)},{keyCode:Gn.RIGHT,action:qr(sw,se,!0)},{keyCode:Gn.LEFT,action:qr(sw,se,!1)},{keyCode:Gn.UP,action:qr(lw,se,!1)},{keyCode:Gn.DOWN,action:qr(lw,se,!0)},{keyCode:Gn.RIGHT,action:qr(t1,se,fe,!0)},{keyCode:Gn.LEFT,action:qr(t1,se,fe,!1)},{keyCode:Gn.RIGHT,ctrlKey:!Ae.isOSX(),altKey:Ae.isOSX(),action:qr(VT,se,fe)},{keyCode:Gn.LEFT,ctrlKey:!Ae.isOSX(),altKey:Ae.isOSX(),action:qr(Kb,se,fe)},{keyCode:Gn.UP,action:qr(aw,se,!1)},{keyCode:Gn.DOWN,action:qr(aw,se,!0)}],pe).each(function(ze){pe.preventDefault()}))}),X=te,(H=a).on("keydown",function(oe){var se,fe,pe;!1===oe.isDefaultPrevented()&&(fe=X,pe=oe,gm([{keyCode:Gn.BACKSPACE,action:qr(rw,se=H,!1)},{keyCode:Gn.BACKSPACE,action:qr(kb,se,!1)},{keyCode:Gn.DELETE,action:qr(kb,se,!0)},{keyCode:Gn.BACKSPACE,action:qr(X0,se,!1)},{keyCode:Gn.DELETE,action:qr(X0,se,!0)},{keyCode:Gn.BACKSPACE,action:qr(Hb,se,fe,!1)},{keyCode:Gn.DELETE,action:qr(Hb,se,fe,!0)},{keyCode:Gn.BACKSPACE,action:qr(em,se,!1)},{keyCode:Gn.DELETE,action:qr(em,se,!0)},{keyCode:Gn.BACKSPACE,action:qr(Fr,se,!1)},{keyCode:Gn.DELETE,action:qr(Fr,se,!0)},{keyCode:Gn.BACKSPACE,action:qr(kd,se,!1)},{keyCode:Gn.DELETE,action:qr(kd,se,!0)},{keyCode:Gn.BACKSPACE,action:qr(Zv,se,!1)},{keyCode:Gn.DELETE,action:qr(Zv,se,!0)},{keyCode:Gn.BACKSPACE,action:qr(qv,se,!1)},{keyCode:Gn.DELETE,action:qr(qv,se,!0)},{keyCode:Gn.BACKSPACE,action:qr(Gh,se,!1)},{keyCode:Gn.DELETE,action:qr(Gh,se,!0)}],pe).each(function(Ae){pe.preventDefault()}))}),H.on("keyup",function(oe){var se,fe;!1===oe.isDefaultPrevented()&&(fe=oe,gm([{keyCode:Gn.BACKSPACE,action:qr(Y_,se=H)},{keyCode:Gn.DELETE,action:qr(Y_,se)}],fe))}),(G=a).on("keydown",function(oe){var se,fe,pe;oe.keyCode===Gn.ENTER&&(se=G,(fe=oe).isDefaultPrevented()||(fe.preventDefault(),(pe=se.undoManager).typing&&(pe.typing=!1,pe.add()),se.undoManager.transact(function(){!1===se.selection.isCollapsed()&&se.execCommand("Delete"),Ef(se,fe)})))}),(N=a).on("keydown",function(oe){var se;!1===oe.isDefaultPrevented()&&(se=oe,gm([{keyCode:Gn.SPACEBAR,action:qr(s1,N)}],se).each(function(fe){se.preventDefault()}))}),L=A=a,B=Yd(function(){L.composing||dS(L)},0),HT.isIE()&&(L.on("keypress",function(oe){B.throttle()}),L.on("remove",function(oe){B.cancel()})),A.on("input",function(oe){!1===oe.isComposing&&dS(A)}),M=te,(b=a).on("keydown",function(oe){var se,fe,pe;!1===oe.isDefaultPrevented()&&(fe=M,pe=oe,gm([{keyCode:Gn.END,action:qr(sy,se=b,!0)},{keyCode:Gn.HOME,action:qr(sy,se,!1)},{keyCode:Gn.END,action:qr(hc,se,!0)},{keyCode:Gn.HOME,action:qr(hc,se,!1)},{keyCode:Gn.END,action:qr(n1,se,!0,fe)},{keyCode:Gn.HOME,action:qr(n1,se,!1,fe)}],pe).each(function(Ae){pe.preventDefault()}))}),c=a,h=te,YC.os.isOSX()||(m=os(!1),c.on("keydown",function(oe){bw(oe)&&xw(m,c,!0)}),c.on("keyup",function(oe){var se,fe,pe;!1===oe.isDefaultPrevented()&&(pe=oe,gm([{keyCode:Gn.PAGE_UP,action:qr(n1,se=c,!1,fe=h)},{keyCode:Gn.PAGE_DOWN,action:qr(n1,se,!0,fe)}],pe)),bw(oe)&&m.get()&&(xw(m,c,!1),c.nodeChanged())})),te}(se);Ke=lt,(Ie=a).addCommand("delete",function(){var Ge,$e=Ke;rw(Ge=Ie)||kb(Ge,!1)||X0(Ge,!1)||Hb(Ge,$e,!1)||qv(Ge,!1)||em(Ge)||Fr(Ge,!1)||kd(Ge,!1)||Zv(Ge)||Gh(Ge,!1)||(o1(Ge,"Delete"),G0(Ge))}),Ie.addCommand("forwardDelete",function(){var Ge,$e=Ke;kb(Ge=Ie,!0)||X0(Ge,!0)||Hb(Ge,$e,!0)||qv(Ge,!0)||em(Ge)||Fr(Ge,!0)||kd(Ge,!0)||Zv(Ge)||Gh(Ge,!0)||o1(Ge,"ForwardDelete")}),Na(fe=a)&&fe.on("NodeChange",jt(PT,fe)),Ae=(pe=a).dom,ze=Na(pe),me=pe.getParam("placeholder",Rx.getAttrib(pe.getElement(),"placeholder"),"string"),we=function(Ge,$e){var qe,et,bt;!function(Yt){if(wb(Yt)){var an=Yt.keyCode;return!iC(Yt)&&(Gn.metaKeyPressed(Yt)||Yt.altKey||112<=an&&an<=123||kr(ty,an))}}(Ge)&&(qe=pe.getBody(),et=!(wb(bt=Ge)&&!(iC(bt)||"keyup"===bt.type&&229===bt.keyCode))&&function(Yt,an,wt){if(j(it.fromDom(an),!1)){var St=""===wt,mn=an.firstElementChild;return!mn||!Yt.getStyle(an.firstElementChild,"padding-left")&&!Yt.getStyle(an.firstElementChild,"padding-right")&&(St?!Yt.isBlock(mn):wt===mn.nodeName.toLowerCase())}return!1}(Ae,qe,ze),""!==Ae.getAttrib(qe,$_)===et&&!$e||(Ae.setAttrib(qe,$_,et?me:null),Ae.setAttrib(qe,"aria-placeholder",et?me:null),pe.fire("PlaceholderToggle",{state:et}),pe.on(et?"keydown":"keyup",we),pe.off(et?"keyup":"keydown",we)))},me&&pe.on("init",function(Ge){we(Ge,!0),pe.on("change SetContent ExecCommand",we),pe.on("paste",function($e){return Bo.setEditorTimeout(pe,function(){return we($e)})})});var pt=function HS(a){var c=a;return Rn(a.plugins,"rtc").bind(function(h){return De.from(h.setup)}).fold(function(){return c.rtcInstance=lb(a),De.none()},function(h){var m,b;return c.rtcInstance=(m=Jt(null),b=Jt(""),{undoManager:{beforeChange:Mn,add:m,undo:m,redo:m,clear:Mn,reset:Mn,hasUndo:Pr,hasRedo:Pr,transact:m,ignore:Mn,extra:Mn},formatter:{match:Pr,matchAll:Jt([]),matchNode:Jt(void 0),canApply:Pr,closest:b,apply:Mn,remove:Mn,toggle:Mn,formatChanged:Jt({unbind:Mn})},editor:{getContent:b,setContent:b,insertContent:Mn,addVisual:Mn},selection:{getContent:b},raw:{getModel:Jt(De.none())}}),De.some(function(){return h().then(function(M){return c.rtcInstance=(G=M.selection,H=M.raw,{undoManager:{beforeChange:(L=M.undoManager).beforeChange,add:L.add,undo:L.undo,redo:L.redo,clear:L.clear,reset:L.reset,hasUndo:L.hasUndo,hasRedo:L.hasRedo,transact:function(X,J,ne){return L.transact(ne)},ignore:function(X,J){return L.ignore(J)},extra:function(X,J,ne,te){return L.extra(ne,te)}},formatter:{match:function(X,J,ne,te){return B.match(X,A(J),te)},matchAll:(B=M.formatter).matchAll,matchNode:B.matchNode,canApply:function(X){return B.canApply(X)},closest:function(X){return B.closest(X)},apply:function(X,J,ne){return B.apply(X,A(J))},remove:function(X,J,ne,te){return B.remove(X,A(J))},toggle:function(X,J,ne){return B.toggle(X,A(J))},formatChanged:function(X,J,ne,te,oe){return B.formatChanged(J,ne,te,oe)}},editor:{getContent:function(X,J){return N.getContent(X)},setContent:function(X,J){return N.setContent(X,J)},insertContent:function(X,J){return N.insertContent(X)},addVisual:(N=M.editor).addVisual},selection:{getContent:function(X,J){return G.getContent(J)}},raw:{getModel:function(){return De.some(H.getRawModel())}}}),M.rtc.isRemote;function A(X){return Mi(X)?X:{}}var L,B,N,G,H})})})}(a);(function(Ge){var $e=Ge.settings,qe=Ge.getDoc(),et=Ge.getBody();Ge.fire("PreInit"),$e.browser_spellcheck||$e.gecko_spellcheck||(qe.body.spellcheck=!1,ix.setAttrib(et,"spellcheck","false")),Ge.quirks=function $C(a){function c(qe,et){try{a.getDoc().execCommand(qe,!1,et)}catch(bt){}}function h(qe){return qe.isDefaultPrevented()}function m(){a.shortcuts.add("meta+a",null,"SelectAll")}function b(){a.inline||fe.bind(a.getDoc(),"mousedown mouseup",function(qe){var et;qe.target===a.getDoc().documentElement&&(et=pe.getRng(),a.getBody().focus(),"mousedown"===qe.type?Ia(et.startContainer)||pe.placeCaretAt(qe.clientX,qe.clientY):pe.setRng(et))})}function M(){Range.prototype.getClientRects||a.on("mousedown",function(qe){var et;h(qe)||"HTML"!==qe.target.nodeName||((et=a.getBody()).blur(),Bo.setEditorTimeout(a,function(){et.focus()}))})}function A(){a.on("click",function(qe){var et=qe.target;/^(IMG|HR)$/.test(et.nodeName)&&"false"!==fe.getContentEditableParent(et)&&(qe.preventDefault(),a.selection.select(et),a.nodeChanged()),"A"===et.nodeName&&fe.hasClass(et,"mce-item-anchor")&&(qe.preventDefault(),pe.select(et))})}function L(){a.on("keydown",function(qe){if(!h(qe)&&qe.keyCode===oe&&pe.isCollapsed()&&0===pe.getRng().startOffset){var et=pe.getNode().previousSibling;if(et&&et.nodeName&&"table"===et.nodeName.toLowerCase())return qe.preventDefault(),!1}})}function B(){a.getParam("readonly")||a.on("BeforeExecCommand mousedown",function(){c("StyleWithCSS",!1),c("enableInlineTableEditing",!1),Sg(a)||c("enableObjectResizing",!1)})}function N(){a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function G(){a.inline||a.on("keydown",function(){document.activeElement===document.body&&a.getWin().focus()})}function H(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(qe){var et;"HTML"===qe.target.nodeName&&(11<sr.ie?a.getBody().focus():(et=a.selection.getRng(),a.getBody().focus(),a.selection.setRng(et),a.selection.normalize(),a.nodeChanged()))}))}function X(){sr.mac&&a.on("keydown",function(qe){!Gn.metaKeyPressed(qe)||qe.shiftKey||37!==qe.keyCode&&39!==qe.keyCode||(qe.preventDefault(),a.selection.getSel().modify("move",37===qe.keyCode?"backward":"forward","lineboundary"))})}function J(){a.on("click",function(qe){var et=qe.target;do{if("A"===et.tagName)return void qe.preventDefault()}while(et=et.parentNode)}),a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function ne(){a.on("init",function(){a.dom.bind(a.getBody(),"submit",function(qe){qe.preventDefault()})})}var te=kt.each,oe=Gn.BACKSPACE,se=Gn.DELETE,fe=a.dom,pe=a.selection,Ae=a.parser,ze=sr.gecko,we=sr.webkit,Ie="data:text/mce-internal,",Ke=sr.ie?"Text":"URL",lt=Mn;return kf(a)?(we&&(b(),A(),ne(),m(),sr.iOS&&(G(),H(),J())),ze&&(M(),B(),N(),X())):(a.on("keydown",function(qe){if(!h(qe)&&qe.keyCode===Gn.BACKSPACE){var et,bt=(et=pe.getRng()).startContainer,Yt=et.startOffset,an=fe.getRoot(),wt=bt;if(et.collapsed&&0===Yt){for(;wt&&wt.parentNode&&wt.parentNode.firstChild===wt&&wt.parentNode!==an;)wt=wt.parentNode;"BLOCKQUOTE"===wt.tagName&&(a.formatter.toggle("blockquote",null,wt),(et=fe.createRng()).setStart(bt,0),et.setEnd(bt,0),pe.setRng(et))}}}),a.on("keydown",function(qe){var et,bt,Yt,an,wt=qe.keyCode;h(qe)||wt!==se&&wt!==oe||(et=a.selection.isCollapsed(),bt=a.getBody(),et&&!fe.isEmpty(bt)||!et&&(Yt=$e(a.selection.getRng()),(an=fe.createRng()).selectNode(a.getBody()),Yt!==$e(an))||(qe.preventDefault(),a.setContent(""),bt.firstChild&&fe.isBlock(bt.firstChild)?a.selection.setCursorLocation(bt.firstChild,0):a.selection.setCursorLocation(bt,0),a.nodeChanged()))}),sr.windowsPhone||a.on("keyup focusin mouseup",function(qe){Gn.modifierPressed(qe)||pe.normalize()},!0),we&&(b(),A(),Na(a)&&a.on("init",function(){c("DefaultParagraphSeparator",Na(a))}),ne(),L(),Ae.addNodeFilter("br",function(qe){for(var et=qe.length;et--;)"Apple-interchange-newline"===qe[et].attr("class")&&qe[et].remove()}),sr.iOS?(G(),H(),J()):m()),11<=sr.ie&&(H(),L()),sr.ie&&(m(),c("AutoUrlDetect",!1),a.on("dragstart",function(qe){var et,bt,Yt;(et=qe).dataTransfer&&(a.selection.isCollapsed()&&"IMG"===et.target.tagName&&pe.select(et.target),0<(bt=a.selection.getContent()).length&&(Yt=Ie+escape(a.id)+","+escape(bt),et.dataTransfer.setData(Ke,Yt)))}),a.on("drop",function(qe){var et,bt,Yt,an;h(qe)||(et=qe.dataTransfer&&(an=qe.dataTransfer.getData(Ke))&&0<=an.indexOf(Ie)?(an=an.substr(Ie.length).split(","),{id:unescape(an[0]),html:unescape(an[1])}):null)&&et.id!==a.id&&(qe.preventDefault(),bt=Dh(qe.x,qe.y,a.getDoc()),pe.setRng(bt),Yt=et.html,a.queryCommandSupported("mceInsertClipboardContent")?a.execCommand("mceInsertClipboardContent",!1,{content:Yt,internal:!0}):a.execCommand("mceInsertContent",!1,Yt))})),ze&&(a.on("keydown",function(qe){if(!h(qe)&&qe.keyCode===oe&&a.getBody().getElementsByTagName("hr").length&&pe.isCollapsed()&&0===pe.getRng().startOffset){var et=pe.getNode(),bt=et.previousSibling;if("HR"===et.nodeName)return fe.remove(et),void qe.preventDefault();bt&&bt.nodeName&&"hr"===bt.nodeName.toLowerCase()&&(fe.remove(bt),qe.preventDefault())}}),M(),a.on("keypress",function(qe){var et;if(!h(qe)&&(8===qe.keyCode||46===qe.keyCode)&&Ge())return et=pt(),a.getDoc().execCommand("delete",!1,null),et(),qe.preventDefault(),!1}),fe.bind(a.getDoc(),"cut",function(qe){var et;!h(qe)&&Ge()&&(et=pt(),Bo.setEditorTimeout(a,function(){et()}))}),B(),a.on("SetContent ExecCommand",function(qe){"setcontent"!==qe.type&&"mceInsertLink"!==qe.command||te(fe.select("a"),function(et){var bt=et.parentNode,Yt=fe.getRoot();if(bt.lastChild===et){for(;bt&&!fe.isBlock(bt);){if(bt.parentNode.lastChild!==bt||bt===Yt)return;bt=bt.parentNode}fe.add(bt,"br",{"data-mce-bogus":1})}})}),N(),X(),L())),{refreshContentEditable:lt,isHidden:function(){if(!ze||a.removed)return!1;var qe=a.selection.getSel();return!qe||!qe.rangeCount||0===qe.rangeCount}};function pt(){var qe=fe.getAttribs(pe.getStart().cloneNode(!1));return function(){var et=pe.getStart();et!==a.getBody()&&(fe.setAttrib(et,"style",null),te(qe,function(bt){et.setAttributeNode(bt.cloneNode(!0))}))}}function Ge(){return!pe.isCollapsed()&&fe.getParent(pe.getStart(),fe.isBlock)!==fe.getParent(pe.getEnd(),fe.isBlock)}function $e(qe){var et=fe.create("body"),bt=qe.cloneContents();return et.appendChild(bt),pe.serializer.serialize(et,{format:"html"})}}(Ge),Ge.fire("PostRender");var bt=Ge.getParam("directionality",jl.isRtl()?"rtl":void 0);void 0!==bt&&(et.dir=bt),$e.protect&&Ge.on("BeforeSetContent",function(Yt){kt.each($e.protect,function(an){Yt.content=Yt.content.replace(an,function(wt){return"\x3c!--mce:protected "+escape(wt)+"--\x3e"})})}),Ge.on("SetContent",function(){Ge.addVisual(Ge.getBody())}),Ge.on("compositionstart compositionend",function(Yt){Ge.composing="compositionstart"===Yt.type})})(a),pt.fold(function(){py(a).then(function(){return Tw(a)})},function(Ge){a.setProgressState(!0),py(a).then(function(){Ge().then(function($e){a.setProgressState(!1),Tw(a)},function($e){a.notificationManager.open({type:"error",text:String($e)}),Tw(a)})})})}function kw(a){return a.replace(/^\-/,"")}function nx(a){return{editorContainer:a,iframeContainer:a,api:{}}}function gy(a){var c,h,m,b,M,A,L,B;a.fire("ScriptsLoaded"),h=kt.trim(ev(c=a)),m=c.ui.registry.getAll().icons,Nt(Xn(Xn({},N0.get("default").icons),N0.get(h).icons),function(se,fe){Rr(m,fe)||c.ui.registry.addIcon(fe,se)}),A=mh(b=a),Ir(A)?(b.settings.theme=kw(A),M=Pf.get(A),b.theme=new M(b,Pf.urls[A]),b.theme.init&&b.theme.init(b,Pf.urls[A]||b.documentBaseUrl.replace(/\/$/,""),b.$)):b.theme={},B=[],kt.each(Yl(L=a).split(/[ ,]/),function(se){nM(L,B,kw(se))});var N=function eM(a){var c,h,m,b,M,A,L,B=a.getElement();return a.orgDisplay=B.style.display,Ir(mh(a))?a.theme.renderUI():Qt(mh(a))?(h=(c=a).getElement(),(m=mh(c)(c,h)).editorContainer.nodeType&&(m.editorContainer.id=m.editorContainer.id||c.id+"_parent"),m.iframeContainer&&m.iframeContainer.nodeType&&(m.iframeContainer.id=m.iframeContainer.id||c.id+"_iframecontainer"),m.height=m.iframeHeight||h.offsetHeight,m):(L=(b=a).getElement(),b.inline?nx(null):(M=L,A=Pw.create("div"),Pw.insertAfter(A,M),nx(A)))}(a),G=a,H=De.from(N.api).getOr({}),X={show:De.from(H.show).getOr(Mn),hide:De.from(H.hide).getOr(Mn),disable:De.from(H.disable).getOr(Mn),isDisabled:De.from(H.isDisabled).getOr(Pr),enable:function(){G.mode.isReadOnly()||De.from(H.enable).map(vo)}};G.ui=Xn(Xn({},G.ui),X);var J,ne,te,oe={editorContainer:N.editorContainer,iframeContainer:N.iframeContainer};return a.editorContainer=oe.editorContainer||null,function V0(a){var c,h;a.contentCSS=a.contentCSS.concat(cm(a,(h=(c=a).getParam("content_css"),Ir(h)?Tn(h.split(","),Ti):Zr(h)?h:!1===h||c.inline?[]:["default"])),cm(a,tv(a)))}(a),a.inline?l1(a):(te=function UT(a,c){var h,m,b,M,A=a.translate(a.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")),L=(h=a.id,m=A,b=a.getParam("iframe_attrs",{}),Rs(M=it.fromTag("iframe"),b),Rs(M,{id:h+"_ifr",frameBorder:"0",allowTransparency:"true",title:m}),Xr(M,"tox-edit-area__iframe"),M.dom);L.onload=function(){L.onload=null,a.fire("load")};var B=function(N,G){if(document.domain!==window.location.hostname&&sr.browser.isIE()){var H=B_("mce");N[H]=function(){l1(N)};var X='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+N.id+'");document.write(ed.iframeHTML);document.close();ed.'+H+"(true);})()";return yy.setAttrib(G,"src",X),!0}return!1}(a,L);return a.contentAreaContainer=c.iframeContainer,a.iframeElement=L,a.iframeHTML=function(N){var G=N.getParam("doctype","<!DOCTYPE html>")+"<html><head>";N.getParam("document_base_url","")!==N.documentBaseUrl&&(G+='<base href="'+N.documentBaseURI.getURI()+'" />'),G+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var H=$d(N,"body_id","tinymce"),X=$d(N,"body_class","");return H1(N)&&(G+='<meta http-equiv="Content-Security-Policy" content="'+H1(N)+'" />'),G+'</head><body id="'+H+'" class="mce-content-body '+X+'" data-id="'+N.id+'"><br></body></html>'}(a),yy.add(c.iframeContainer,L),B}(J=a,ne=oe),ne.editorContainer&&(yy.get(ne.editorContainer).style.display=J.orgDisplay,J.hidden=yy.isHidden(ne.editorContainer)),J.getElement().style.display="none",yy.setAttrib(J.id,"aria-hidden","true"),void(te||l1(J)))}function u1(a){return"-"===a.charAt(0)}function c1(a,c,h){return De.from(c).filter(function(m){return 0<m.length&&!N0.has(m)}).map(function(m){return{url:a.editorManager.baseURL+"/icons/"+m+"/icons"+h+".js",name:De.some(m)}})}function tM(a){return function(c,h){return De.from(h).map(it.fromDom).filter(fa).bind(function(m){return b=a,M=c,nb(it.fromDom(m.dom),function(B){return jf(N=B,b).orThunk(function(){return"font"===No(N)?Rn(qp,b).bind(function(G){return vc(N,G)}):De.none()});var N},function(B){return Ut(it.fromDom(M),B)}).or(De.from(Uo.DOM.getStyle(m.dom,a,!0)));var b,M}).getOr("")}}function my(a){return us(a.getBody()).map(function(c){var h=c.container();return Dn(h)?h.parentNode:h})}function rx(a,c){return h=a,m=xr(De.some,c),De.from((b=h).selection.getRng()).bind(function(M){var A=b.getBody();return M.startContainer===A&&0===M.startOffset?De.none():De.from(b.selection.getStart(!0))}).orThunk(jt(my,h)).map(it.fromDom).filter(fa).bind(m);var h,m,b}function vy(a,c){if(/^[0-9.]+$/.test(c)){var h=parseInt(c,10);if(1<=h&&h<=7){var m=kt.explode(a.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),b=kt.explode(a.getParam("font_size_classes",""));return b?b[h-1]||c:m[h-1]||c}return c}return c}var ox=Dr,Dw=na,Aw=function(a){a.on(function(c){hy(c.ghost)}),a.clear()},Iw=na,Dd=Dr,ix=Uo.DOM,yy=Uo.DOM,Pw=Uo.DOM,nM=function(a,c,h){var m,M,A,L=Pl.get(h),B=Pl.urls[h]||a.documentBaseUrl.replace(/\/$/,"");if(h=kt.trim(h),L&&-1===kt.inArray(c,h)&&(kt.each(Pl.dependencies(h),function(G){nM(a,c,G)}),!a.plugins[h]))try{var N=new L(a,B,a.$);(a.plugins[h]=N).init&&(N.init(a,B),c.push(h))}catch(G){M=G,Rg(m=a,"PluginLoadError",{message:A=jl.translate(["Failed to initialize plugin: {0}",h])}),Ib(A,M),jv(m,A)}},Gc=Uo.DOM,qp={"font-size":"size","font-family":"face"},Zp=tM("font-size"),vm=Vn(function(a){return a.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},tM("font-family")),by=kt.each,rM=kt.map,YT=kt.inArray,oM=(pl.prototype.execCommand=function(a,c,h,m){var b,M,A=!1,L=this;if(!L.editor.removed){if("mcefocus"!==a.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||m&&m.skip_focus?_d(M=L.editor).each(function(N){return M.selection.setRng(N)}):L.editor.focus()),(m=L.editor.fire("BeforeExecCommand",{command:a,ui:c,value:h})).isDefaultPrevented())return!1;var B=a.toLowerCase();if(b=L.commands.exec[B])return b(B,c,h),L.editor.fire("ExecCommand",{command:a,ui:c,value:h}),!0;if(by(this.editor.plugins,function(N){if(N.execCommand&&N.execCommand(a,c,h))return L.editor.fire("ExecCommand",{command:a,ui:c,value:h}),!(A=!0)}),A)return A;if(L.editor.theme&&L.editor.theme.execCommand&&L.editor.theme.execCommand(a,c,h))return L.editor.fire("ExecCommand",{command:a,ui:c,value:h}),!0;try{A=L.editor.getDoc().execCommand(a,c,h)}catch(N){}return!!A&&(L.editor.fire("ExecCommand",{command:a,ui:c,value:h}),!0)}},pl.prototype.queryCommandState=function(a){var c;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(a=a.toLowerCase(),c=this.commands.state[a])return c(a);try{return this.editor.getDoc().queryCommandState(a)}catch(h){}return!1}},pl.prototype.queryCommandValue=function(a){var c;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(a=a.toLowerCase(),c=this.commands.value[a])return c(a);try{return this.editor.getDoc().queryCommandValue(a)}catch(h){}}},pl.prototype.addCommands=function(a,c){void 0===c&&(c="exec");var h=this;by(a,function(m,b){by(b.toLowerCase().split(","),function(M){h.commands[c][M]=m})})},pl.prototype.addCommand=function(a,c,h){var m=this;a=a.toLowerCase(),this.commands.exec[a]=function(b,M,A,L){return c.call(h||m.editor,M,A,L)}},pl.prototype.queryCommandSupported=function(a){if(a=a.toLowerCase(),this.commands.exec[a])return!0;try{return this.editor.getDoc().queryCommandSupported(a)}catch(c){}return!1},pl.prototype.addQueryStateHandler=function(a,c,h){var m=this;a=a.toLowerCase(),this.commands.state[a]=function(){return c.call(h||m.editor)}},pl.prototype.addQueryValueHandler=function(a,c,h){var m=this;a=a.toLowerCase(),this.commands.value[a]=function(){return c.call(h||m.editor)}},pl.prototype.hasCustomCommand=function(a){return a=a.toLowerCase(),!!this.commands.exec[a]},pl.prototype.execNativeCommand=function(a,c,h){return void 0===c&&(c=!1),void 0===h&&(h=null),this.editor.getDoc().execCommand(a,c,h)},pl.prototype.isFormatMatch=function(a){return this.editor.formatter.match(a)},pl.prototype.toggleFormat=function(a,c){this.editor.formatter.toggle(a,c),this.editor.nodeChanged()},pl.prototype.storeSelection=function(a){this.selectionBookmark=this.editor.selection.getBookmark(a)},pl.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},pl.prototype.setupCommands=function(a){var c=this;function h(m){return function(){var b=a.selection,M=b.isCollapsed()?[a.dom.getParent(b.getNode(),a.dom.isBlock)]:b.getSelectedBlocks(),A=rM(M,function(L){return!!a.formatter.matchNode(L,m)});return-1!==YT(A,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Mn,"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},mceFocus:function(m,b,M){var A;(A=a).removed||(M?K:function(B){var N=B.selection,G=B.getBody(),H=N.getRng();B.quirks.refreshContentEditable(),void 0!==B.bookmark&&!1===ws(B)&&_d(B).each(function(te){B.selection.setRng(te),H=te});var X,J,ne=(X=B,J=N.getNode(),X.dom.getParent(J,function(te){return"true"===X.dom.getContentEditable(te)}));if(B.$.contains(G,ne))return lc(ne),Ph(B,H),K(B);B.inline||(sr.opera||lc(G),B.getWin().focus()),(sr.gecko||B.inline)&&(lc(G),Ph(B,H)),K(B)})(A)},"Cut,Copy,Paste":function(m){var b,M,A=a.getDoc();try{c.execNativeCommand(m)}catch(L){b=!0}!(b="paste"===m&&!A.queryCommandEnabled(m)||b)&&A.queryCommandSupported(m)||(M=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),sr.mac&&(M=M.replace(/Ctrl\+/g,"\u2318+")),a.notificationManager.open({text:M,type:"error"}))},unlink:function(){var m;a.selection.isCollapsed()?(m=a.dom.getParent(a.selection.getStart(),"a"))&&a.dom.remove(m,!0):a.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(m){var b=m.substring(7);"full"===b&&(b="justify"),by("left,center,right,justify".split(","),function(M){b!==M&&a.formatter.remove("align"+M)}),"none"!==b&&c.toggleFormat("align"+b)},"InsertUnorderedList,InsertOrderedList":function(m){var b;c.execNativeCommand(m);var M=a.dom.getParent(a.selection.getNode(),"ol,ul");M&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((b=M.parentNode).nodeName)&&(c.storeSelection(),a.dom.split(b,M),c.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(m){c.toggleFormat(m)},"ForeColor,HiliteColor":function(m,b,M){c.toggleFormat(m,{value:M})},FontName:function(m,b,M){var A,L;L=vy(A=a,M),A.formatter.toggle("fontname",{value:Tn(L.split(/\s*,\s*/),function(B){return-1===B.indexOf(" ")||$n(B,'"')||$n(B,"'")?B:"'"+B+"'"}).join(",")}),A.nodeChanged()},FontSize:function(m,b,M){var A;(A=a).formatter.toggle("fontsize",{value:vy(A,M)}),A.nodeChanged()},LineHeight:function(m,b,M){var A;(A=a).formatter.toggle("lineheight",{value:String(M)}),A.nodeChanged()},Lang:function(m,b,M){c.toggleFormat(m,{value:M.code,customValue:M.customCode})},RemoveFormat:function(m){a.formatter.remove(m)},mceBlockQuote:function(){c.toggleFormat("blockquote")},FormatBlock:function(m,b,M){return c.toggleFormat(M||"p")},mceCleanup:function(){var m=a.selection.getBookmark();a.setContent(a.getContent()),a.selection.moveToBookmark(m)},mceRemoveNode:function(m,b,M){var A=M||a.selection.getNode();A!==a.getBody()&&(c.storeSelection(),a.dom.remove(A,!0),c.restoreSelection())},mceSelectNodeDepth:function(m,b,M){var A=0;a.dom.getParent(a.selection.getNode(),function(L){if(1===L.nodeType&&A++===M)return a.selection.select(L),!1},a.getBody())},mceSelectNode:function(m,b,M){a.selection.select(M)},mceInsertContent:function(m,b,M){var A,L,B,N;A=a,B=(L=function(G){if("string"==typeof G)return{content:G,details:{}};var H=kt.extend({paste:G.paste,data:{paste:G.paste}},G);return{content:G.content,details:H}}(M)).content,N=L.details,ub(A).editor.insertContent(B,N)},mceInsertRawHTML:function(m,b,M){a.selection.setContent("tiny_mce_marker");var A=a.getContent();a.setContent(A.replace(/tiny_mce_marker/g,function(){return M}))},mceInsertNewLine:function(m,b,M){Ef(a,M)},mceToggleFormat:function(m,b,M){c.toggleFormat(M)},mceSetContent:function(m,b,M){a.setContent(M)},"Indent,Outdent":function(m){Ub(a,m)},mceRepaint:Mn,InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(m,b,M){a.execCommand("mceInsertContent",!1,M.replace(/\{\$selection\}/g,a.selection.getContent({format:"text"})))},mceInsertLink:function(m,b,M){"string"==typeof M&&(M={href:M});var A=a.dom.getParent(a.selection.getNode(),"a");M.href=M.href.replace(/ /g,"%20"),A&&M.href||a.formatter.remove("link"),M.href&&a.formatter.apply("link",M,A)},selectAll:function(){var m,b=a.dom.getParent(a.selection.getStart(),na);b&&((m=a.dom.createRng()).selectNodeContents(b),a.selection.setRng(m))},mceNewDocument:function(){a.setContent("")},InsertLineBreak:function(m,b,M){return gw(a,M),!0}}),c.addCommands({JustifyLeft:h("alignleft"),JustifyCenter:h("aligncenter"),JustifyRight:h("alignright"),JustifyFull:h("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(m){return c.isFormatMatch(m)},mceBlockQuote:function(){return c.isFormatMatch("blockquote")},Outdent:function(){return Gb(a)},"InsertUnorderedList,InsertOrderedList":function(m){var b=a.dom.getParent(a.selection.getNode(),"ul,ol");return b&&("insertunorderedlist"===m&&"UL"===b.tagName||"insertorderedlist"===m&&"OL"===b.tagName)}},"state"),c.addCommands({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}}),c.addQueryValueHandler("FontName",function(){return rx(m=a,function(b){return vm(m.getBody(),b.dom)}).getOr("");var m},this),c.addQueryValueHandler("FontSize",function(){return rx(m=a,function(b){return Zp(m.getBody(),b.dom)}).getOr("");var m},this),c.addQueryValueHandler("LineHeight",function(){return rx(m=a,function(b){var M=it.fromDom(m.getBody());return nb(b,function(A){return jf(A,"line-height")},jt(Ut,M)).getOrThunk(function(){var A=parseFloat(Os(b,"line-height")),L=parseFloat(Os(b,"font-size"));return String(A/L)})}).getOr("");var m},this)},pl);function pl(a){this.commands={state:{},exec:{},value:{}},this.editor=a,this.setupCommands(a)}function ax(a,c,h){try{a.getDoc().execCommand(c,!1,String(h))}catch(m){}}function ym(a,c){a.dom.contentEditable=c?"true":"false"}function Kp(a){return a.readonly}function Lw(a){a.parser.addAttributeFilter("contenteditable",function(c){Kp(a)&&It(c,function(h){h.attr($p,h.attr("contenteditable")),h.attr("contenteditable","false")})}),a.serializer.addAttributeFilter($p,function(c){Kp(a)&&It(c,function(h){h.attr("contenteditable",h.attr($p))})}),a.serializer.addTempAttr($p)}var $p="data-mce-contenteditable",aM=kt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),zf=(bm.isNative=function(a){return!!aM[a.toLowerCase()]},bm.prototype.fire=function(a,c){var h=a.toLowerCase(),m=rn(h,c||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(m);var b=this.bindings[h];if(b)for(var M=0,A=b.length;M<A;M++){var L=b[M];if(!L.removed){if(L.once&&this.off(h,L.func),m.isImmediatePropagationStopped())return m;if(!1===L.func.call(this.scope,m))return m.preventDefault(),m}}return m},bm.prototype.on=function(a,c,h,m){if(c=!1===c?Pr:c){var b={func:c,removed:!1};m&&kt.extend(b,m);for(var M=a.toLowerCase().split(" "),A=M.length;A--;){var L=M[A],B=this.bindings[L];B||(B=[],this.toggleEvent(L,!0)),B=h?ot([b],B,!0):ot(ot([],B,!0),[b],!1),this.bindings[L]=B}}return this},bm.prototype.off=function(a,c){var h=this;if(a)for(var m=a.toLowerCase().split(" "),b=m.length;b--;){var M,A=m[b],L=this.bindings[A];if(!A)return Nt(this.bindings,function(B,N){h.toggleEvent(N,!1),delete h.bindings[N]}),this;L&&(c?(L=(M=Yn(L,function(B){return B.func===c})).fail,this.bindings[A]=L,It(M.pass,function(B){B.removed=!0})):L.length=0,L.length||(this.toggleEvent(a,!1),delete this.bindings[A]))}else Nt(this.bindings,function(B,N){h.toggleEvent(N,!1)}),this.bindings={};return this},bm.prototype.once=function(a,c,h){return this.on(a,c,h,{once:!0})},bm.prototype.has=function(a){return a=a.toLowerCase(),!(!this.bindings[a]||0===this.bindings[a].length)},bm);function bm(a){this.bindings={},this.settings=a||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Pr}function d1(a){return a._eventDispatcher||(a._eventDispatcher=new zf({scope:a,toggleEvent:function(c,h){zf.isNative(c)&&a.toggleNativeEvent&&a.toggleNativeEvent(c,h)}})),a._eventDispatcher}function f1(a,c){if("selectionchange"===c)return a.getDoc();if(!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(c))return a.getDoc().documentElement;var h=nv(a);return h?(a.eventRoot||(a.eventRoot=p1.select(h)[0]),a.eventRoot):a.getBody()}function Rw(a,c,h){var m,b,M,A;a.hidden||Kp(a)?Kp(a)&&(m=a,"click"!==(b=h).type||Gn.metaKeyPressed(b)||(M=it.fromDom(b.target),A=m,_l(M,"a",function(L){return Ut(L,it.fromDom(A.getBody()))}).bind(function(L){return vc(L,"href")}).each(function(L){var B,N;b.preventDefault(),/^#/.test(L)?(B=m.dom.select(L+',[name="'+($n(N=L,"#")?N.substring(1):N)+'"]')).length&&m.selection.scrollIntoView(B[0],!0):window.open(L,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):a.fire(c,h)}function sx(a,c){var h,m;a.delegates||(a.delegates={}),a.delegates[c]||a.removed||(m=f1(a,c),nv(a)?(xm||(xm={},a.editorManager.on("removeEditor",function(){a.editorManager.activeEditor||xm&&(Nt(xm,function(b,M){a.dom.unbind(f1(a,M))}),xm=null)})),xm[c]||(xm[c]=h=function(b){for(var M=b.target,A=a.editorManager.get(),L=A.length;L--;){var B=A[L].getBody();B!==M&&!p1.isChildOf(M,B)||Rw(A[L],c,b)}},p1.bind(m,c,h))):(p1.bind(m,c,h=function(b){Rw(a,c,b)}),a.delegates[c]=h))}function sM(a,c,h,m){var b=h[c.get()],M=h[m];try{M.activate()}catch(A){return void console.error("problem while activating editor mode "+m+":",A)}b.deactivate(),b.editorReadOnly!==M.editorReadOnly&&function jh(a,c){var h,m,b=it.fromDom(a.getBody());(function iM(a,c,h){var m,b,M,A,L,B;V1(a,c)&&!1===h?(b=c,gg(m=a)?m.dom.classList.remove(b):(L=b,0<(B=dt(Um(A=m,"class"),function(N){return N!==L})).length?rl(A,"class",B.join(" ")):su(A,"class")),0===(gg(M=m)?M.dom.classList:Um(M,"class")).length&&su(M,"class")):h&&Xr(a,c)})(b,"mce-content-readonly",c),c?(a.selection.controlSelection.hideResizeRect(),a._selectionOverrides.hideFakeCaret(),De.from(a.selection.getNode()).each(function(M){M.removeAttribute("data-mce-selected")}),ym(b,!(a.readonly=!0)),It(cl(b,'*[contenteditable="true"]'),function(M){rl(M,$p,"true"),ym(M,!1)})):(ym(b,!(a.readonly=!1)),It(cl(b,"*["+$p+'="true"]'),function(M){su(M,$p),ym(M,!0)}),ax(a,"StyleWithCSS",!1),ax(a,"enableInlineTableEditing",!1),ax(a,"enableObjectResizing",!1),(ws(h=a)||xf(gi(it.fromDom((m=h).getElement()))).filter(function(M){return!(void 0!==(A=M.dom.classList)&&(A.contains("tox-edit-area")||A.contains("tox-edit-area__iframe")||A.contains("mce-content-body")))&&wf(m,M.dom);var A}).isSome())&&a.focus(),a.selection.setRng(a.selection.getRng()),a.nodeChanged())}(a,M.editorReadOnly),c.set(m),a.fire("SwitchMode",{mode:m})}function h1(a){var c,h={};Ow(_y(a.toLowerCase(),"+"),function(b){b in g1?h[b]=!0:/^[0-9]{2,}$/.test(b)?h.keyCode=parseInt(b,10):(h.charCode=b.charCodeAt(0),h.keyCode=ux[b]||b.toUpperCase().charCodeAt(0))});var m=[h.keyCode];for(c in g1)h[c]?m.push(c):h[c]=!1;return h.id=m.join(","),h.access&&(h.alt=!0,sr.mac?h.ctrl=!0:h.shift=!0),h.meta&&(sr.mac?h.meta=!0:(h.ctrl=!0,h.meta=!1)),h}var xm,lx={fire:function(a,c,h){if(this.removed&&"remove"!==a&&"detach"!==a)return c;var m=d1(this).fire(a,c);if(!1!==h&&this.parent)for(var b=this.parent();b&&!m.isPropagationStopped();)b.fire(a,m,!1),b=b.parent();return m},on:function(a,c,h){return d1(this).on(a,c,h)},off:function(a,c){return d1(this).off(a,c)},once:function(a,c){return d1(this).once(a,c)},hasEventListeners:function(a){return d1(this).has(a)}},p1=Uo.DOM,xy=Xn(Xn({},lx),{bindPendingEventDelegates:function(){var a=this;kt.each(a._pendingNativeEvents,function(c){sx(a,c)})},toggleNativeEvent:function(a,c){var h=this;"focus"!==a&&"blur"!==a&&(h.removed||(c?h.initialized?sx(h,a):h._pendingNativeEvents?h._pendingNativeEvents.push(a):h._pendingNativeEvents=[a]:h.initialized&&(h.dom.unbind(f1(h,a),a,h.delegates[a]),delete h.delegates[a])))},unbindAllNativeEvents:function(){var a=this,c=a.getBody(),h=a.dom;a.delegates&&(Nt(a.delegates,function(m,b){a.dom.unbind(f1(a,b),b,m)}),delete a.delegates),!a.inline&&c&&h&&(c.onload=null,h.unbind(a.getWin()),h.unbind(a.getDoc())),h&&(h.unbind(c),h.unbind(a.getContainer()))}}),XT=["design","readonly"],Ow=kt.each,_y=kt.explode,ux={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},g1=kt.makeMap("alt,ctrl,shift,meta,access"),m1=(Ad.prototype.add=function(a,c,h,m){var b=this,M=b.normalizeCommandFunc(h);return Ow(_y(kt.trim(a)),function(A){var L=b.createShortcut(A,c,M,m);b.shortcuts[L.id]=L}),!0},Ad.prototype.remove=function(a){var c=this.createShortcut(a);return!!this.shortcuts[c.id]&&(delete this.shortcuts[c.id],!0)},Ad.prototype.normalizeCommandFunc=function(a){var c=this,h=a;return"string"==typeof h?function(){c.editor.execCommand(h,!1,null)}:kt.isArray(h)?function(){c.editor.execCommand(h[0],h[1],h[2])}:h},Ad.prototype.createShortcut=function(a,c,h,m){var b=kt.map(_y(a,">"),h1);return b[b.length-1]=kt.extend(b[b.length-1],{func:h,scope:m||this.editor}),kt.extend(b[0],{desc:this.editor.translate(c),subpatterns:b.slice(1)})},Ad.prototype.hasModifier=function(a){return a.altKey||a.ctrlKey||a.metaKey},Ad.prototype.isFunctionKey=function(a){return"keydown"===a.type&&112<=a.keyCode&&a.keyCode<=123},Ad.prototype.matchShortcut=function(a,c){return!!c&&c.ctrl===a.ctrlKey&&c.meta===a.metaKey&&c.alt===a.altKey&&c.shift===a.shiftKey&&!!(a.keyCode===c.keyCode||a.charCode&&a.charCode===c.charCode)&&(a.preventDefault(),!0)},Ad.prototype.executeShortcutAction=function(a){return a.func?a.func.call(a.scope):null},Ad);function Ad(a){this.shortcuts={},this.pendingPatterns=[],this.editor=a;var c=this;a.on("keyup keypress keydown",function(h){!c.hasModifier(h)&&!c.isFunctionKey(h)||h.isDefaultPrevented()||(Ow(c.shortcuts,function(m){if(c.matchShortcut(h,m))return c.pendingPatterns=m.subpatterns.slice(0),"keydown"===h.type&&c.executeShortcutAction(m),!0}),c.matchShortcut(h,c.pendingPatterns[0])&&(1===c.pendingPatterns.length&&"keydown"===h.type&&c.executeShortcutAction(c.pendingPatterns[0]),c.pendingPatterns.shift()))})}var Yh=Uo.DOM,lM=kt.extend,uM=kt.each,Nw=kt.resolve,cM=sr.ie,v1=(oo.prototype.render=function(){!function(a){var c=a.id;jl.setCode(gh(a));var h,m,b,M,A=function(){Gc.unbind(window,"ready",A),a.render()};Fd.Event.domLoaded?a.getElement()&&sr.contentEditable&&(h=it.fromDom(a.getElement()),m=ir(h.dom.attributes,function(L,B){return L[B.name]=B.value,L},{}),a.on("remove",function(){xn(h.dom.attributes,function(L){return su(h,L.name),0}),Rs(h,m)}),a.ui.styleSheetLoader=Jc.forElement(h,{contentCssCors:(b=a).getParam("content_css_cors"),referrerPolicy:_p(b)}),a.getParam("inline")?a.inline=!0:(a.orgVisibility=a.getElement().style.visibility,a.getElement().style.visibility="hidden"),(M=a.getElement().form||Gc.getParent(c,"form"))&&(a.formElement=M,a.getParam("hidden_input")&&!Kc(a.getElement())&&(Gc.insertAfter(Gc.create("input",{type:"hidden",name:c}),c),a.hasHiddenInput=!0),a.formEventDelegate=function(L){a.fire(L.type,L)},Gc.bind(M,"submit reset",a.formEventDelegate),a.on("reset",function(){a.resetContent()}),!a.getParam("submit_patch")||M.submit.nodeType||M.submit.length||M._mceOldSubmit||(M._mceOldSubmit=M.submit,M.submit=function(){return a.editorManager.triggerSave(),a.setDirty(!1),M._mceOldSubmit(M)})),a.windowManager=E0(a),a.notificationManager=yb(a),"xml"===a.getParam("encoding")&&a.on("GetContent",function(L){L.save&&(L.content=Gc.encode(L.content))}),a.getParam("add_form_submit_trigger")&&a.on("submit",function(){a.initialized&&a.save()}),a.getParam("add_unload_trigger")&&(a._beforeUnload=function(){!a.initialized||a.destroyed||a.isHidden()||a.save({format:"raw",no_events:!0,set_dirty:!1})},a.editorManager.on("BeforeUnload",a._beforeUnload)),a.editorManager.add(a),function jT(a,c){var h,m,b=Ws.ScriptLoader,M=b,A=c,L=function(){var N,G,H,X,J,ne,te,oe,se;J=b,oe=gh(ne=a),se=ne.getParam("language_url","","string"),!1===jl.hasCode(oe)&&"en"!==oe&&J.add(te=""!==se?se:ne.editorManager.baseURL+"/langs/"+oe+".js",Mn,void 0,function(){B0(ne,"LanguageLoadError",z0("language",te,oe))}),H=b,It(function(fe){for(var pe=[],Ae=function(me){pe.push(me)},ze=0;ze<fe.length;ze++)fe[ze].each(Ae);return pe}([c1(X=a,"default",c),De.from(X.getParam("icons_url","","string")).filter(function(fe){return 0<fe.length}).map(function(fe){return{url:fe,name:De.none()}}).orThunk(function(){return c1(X,ev(X),"")})]),function(fe){H.add(fe.url,Mn,void 0,function(){B0(X,"IconsLoadError",z0("icons",fe.url,fe.name.getOrUndefined()))})}),G=c,kt.each((N=a).getParam("external_plugins"),function(fe,pe){Pl.load(pe,fe,Mn,void 0,function(){lm(N,fe,pe)}),N.settings.plugins+=" "+pe}),kt.each(Yl(N).split(/[ ,]/),function(fe){var pe,Ae;(fe=kt.trim(fe))&&!Pl.urls[fe]&&(u1(fe)?(fe=fe.substr(1,fe.length),pe=Pl.dependencies(fe),kt.each(pe,function(ze){var me=Pl.createUrl({prefix:"plugins/",resource:ze,suffix:"/plugin"+G+".js"},ze);Pl.load(me.resource,me,Mn,void 0,function(){lm(N,me.prefix+me.resource+me.suffix,me.resource)})})):Pl.load(fe,Ae={prefix:"plugins/",resource:fe,suffix:"/plugin"+G+".js"},Mn,void 0,function(){lm(N,Ae.prefix+Ae.resource+Ae.suffix,fe)}))}),b.loadQueue(function(){a.removed||gy(a)},a,function(){a.removed||gy(a)})},B=mh(h=a);Ir(B)?(u1(B)||Rr(Pf.urls,B)||((m=h.getParam("theme_url"))?Pf.load(B,h.documentBaseURI.toAbsolute(m)):Pf.load(B,"themes/"+B+"/theme"+A+".js")),M.loadQueue(function(){Pf.waitFor(B,L)})):L()}(a,a.suffix)):Gc.bind(window,"ready",A)}(this)},oo.prototype.focus=function(a){this.execCommand("mceFocus",!1,a)},oo.prototype.hasFocus=function(){return ws(this)},oo.prototype.execCallback=function(a){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];var m,b=this.settings[a];if(b)return this.callbackLookup&&(m=this.callbackLookup[a])&&(b=m.func,m=m.scope),"string"==typeof b&&(m=(m=b.replace(/\.\w+$/,""))?Nw(m):0,b=Nw(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:m}),b.apply(m||this,c)},oo.prototype.translate=function(a){return jl.translate(a)},oo.prototype.getParam=function(a,c,h){return M=c,G=(b=a)in(m=this).settings?m.settings[b]:M,"hash"===(A=h)?(N={},"string"==typeof(B=G)?It(0<B.indexOf("=")?B.split(/[;,](?![^=;,]*(?:[;,]|$))/):B.split(","),function(H){var X=H.split("=");N[kt.trim(X[0])]=kt.trim(1<X.length?X[1]:X[0])}):N=B,N):"string"===A?im(Ir,m,b).getOr(M):"number"===A?im(en,m,b).getOr(M):"boolean"===A?im(fi,m,b).getOr(M):"object"===A?im(Mi,m,b).getOr(M):"array"===A?im(Zr,m,b).getOr(M):"string[]"===A?im((L=Ir,function(H){return Zr(H)&&Wn(H,L)}),m,b).getOr(M):"function"===A?im(Qt,m,b).getOr(M):G;var m,b,M,A,L,B,N,G},oo.prototype.hasPlugin=function(a,c){return!(!kr(Yl(this).split(/[ ,]/),a)||c&&void 0===Pl.get(a))},oo.prototype.nodeChanged=function(a){this._nodeChangeDispatcher.nodeChanged(a)},oo.prototype.addCommand=function(a,c,h){this.editorCommands.addCommand(a,c,h)},oo.prototype.addQueryStateHandler=function(a,c,h){this.editorCommands.addQueryStateHandler(a,c,h)},oo.prototype.addQueryValueHandler=function(a,c,h){this.editorCommands.addQueryValueHandler(a,c,h)},oo.prototype.addShortcut=function(a,c,h,m){this.shortcuts.add(a,c,h,m)},oo.prototype.execCommand=function(a,c,h,m){return this.editorCommands.execCommand(a,c,h,m)},oo.prototype.queryCommandState=function(a){return this.editorCommands.queryCommandState(a)},oo.prototype.queryCommandValue=function(a){return this.editorCommands.queryCommandValue(a)},oo.prototype.queryCommandSupported=function(a){return this.editorCommands.queryCommandSupported(a)},oo.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Yh.show(this.getContainer()),Yh.hide(this.id)),this.load(),this.fire("show"))},oo.prototype.hide=function(){var a=this,c=a.getDoc();a.hidden||(cM&&c&&!a.inline&&c.execCommand("SelectAll"),a.save(),a.inline?(a.getBody().contentEditable="false",a===a.editorManager.focusedEditor&&(a.editorManager.focusedEditor=null)):(Yh.hide(a.getContainer()),Yh.setStyle(a.id,"display",a.orgDisplay)),a.hidden=!0,a.fire("hide"))},oo.prototype.isHidden=function(){return!!this.hidden},oo.prototype.setProgressState=function(a,c){this.fire("ProgressState",{state:a,time:c})},oo.prototype.load=function(a){var c=this.getElement();if(this.removed)return"";if(c){(a=a||{}).load=!0;var h=Kc(c)?c.value:c.innerHTML,m=this.setContent(h,a);return a.element=c,a.no_events||this.fire("LoadContent",a),a.element=c=null,m}},oo.prototype.save=function(a){var c,h,m=this,b=m.getElement();if(b&&m.initialized&&!m.removed)return(a=a||{}).save=!0,a.element=b,a.content=m.getContent(a),a.no_events||m.fire("SaveContent",a),"raw"===a.format&&m.fire("RawSaveContent",a),c=a.content,Kc(b)?b.value=c:(!a.is_removing&&m.inline||(b.innerHTML=c),(h=Yh.getParent(m.id,"form"))&&uM(h.elements,function(M){if(M.name===m.id)return M.value=c,!1})),a.element=b=null,!1!==a.set_dirty&&m.setDirty(!1),c},oo.prototype.setContent=function(a,c){return gb(this,a,c)},oo.prototype.getContent=function(a){return m=(h=void 0===(h=a)?{}:h).format||"html",b=h,ub(this).editor.getContent(b,m);var h,m,b},oo.prototype.insertContent=function(a,c){c&&(a=lM({content:a},c)),this.execCommand("mceInsertContent",!1,a)},oo.prototype.resetContent=function(a){void 0===a?gb(this,this.startContent,{format:"raw"}):gb(this,a),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},oo.prototype.isDirty=function(){return!this.isNotDirty},oo.prototype.setDirty=function(a){var c=!this.isNotDirty;this.isNotDirty=!a,a&&a!==c&&this.fire("dirty")},oo.prototype.getContainer=function(){return this.container||(this.container=Yh.get(this.editorContainer||this.id+"_parent")),this.container},oo.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},oo.prototype.getElement=function(){return this.targetElm||(this.targetElm=Yh.get(this.id)),this.targetElm},oo.prototype.getWin=function(){var a;return this.contentWindow||(a=this.iframeElement)&&(this.contentWindow=a.contentWindow),this.contentWindow},oo.prototype.getDoc=function(){var a;return this.contentDocument||(a=this.getWin())&&(this.contentDocument=a.document),this.contentDocument},oo.prototype.getBody=function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},oo.prototype.convertURL=function(a,c,h){var m=this.settings;return m.urlconverter_callback?this.execCallback("urlconverter_callback",a,h,!0,c):!m.convert_urls||h&&"LINK"===h.nodeName||0===a.indexOf("file:")||0===a.length?a:m.relative_urls?this.documentBaseURI.toRelative(a):this.documentBaseURI.toAbsolute(a,m.remove_script_host)},oo.prototype.addVisual=function(a){var c;c=a,ya(this).editor.addVisual(c)},oo.prototype.remove=function(){var a,c,h,m,b;(a=this).removed||(c=a._selectionOverrides,h=a.editorUpload,m=a.getBody(),b=a.getElement(),m&&a.save({is_removing:!0}),a.removed=!0,a.unbindAllNativeEvents(),a.hasHiddenInput&&b&&bb.remove(b.nextSibling),a.fire("remove"),a.editorManager.remove(a),!a.inline&&m&&bb.setStyle(a.id,"display",a.orgDisplay),a.fire("detach"),bb.remove(a.getContainer()),R0(c),R0(h),a.destroy())},oo.prototype.destroy=function(a){var c,h,m,b,M,A,L;h=a,A=(c=this).selection,L=c.dom,c.destroyed||(h||c.removed?(h||(c.editorManager.off("beforeunload",c._beforeUnload),c.theme&&c.theme.destroy&&c.theme.destroy(),R0(A),R0(L)),(b=(m=c).formElement)&&(b._mceOldSubmit&&(b.submit=b._mceOldSubmit,b._mceOldSubmit=null),bb.unbind(b,"submit reset",m.formEventDelegate)),(M=c).contentAreaContainer=M.formElement=M.container=M.editorContainer=null,M.bodyElement=M.contentDocument=M.contentWindow=null,M.iframeElement=M.targetElm=null,M.selection&&(M.selection=M.selection.win=M.selection.dom=M.selection.dom.doc=null),c.destroyed=!0):c.remove())},oo.prototype.uploadImages=function(a){return this.editorUpload.uploadImages(a)},oo.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},oo.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},oo.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},oo.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},oo.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},oo);function oo(a,c,h){var m,b,M,A,L,B,N,G,J,ne,te,oe,fe,pe,Ae,ze=this;function me($e,qe){return function(et,bt){return $e[et.toLowerCase()]=Xn(Xn({},bt),{type:qe})}}this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=h,this.documentBaseUrl=h.documentBaseURL,lM(this,xy),this.settings=(J=h.defaultSettings,te=this.documentBaseUrl,oe=Cd,fe={id:a,theme:"silver",toolbar_mode:I_(ne=c,"floating"),plugins:"",document_base_url:te,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this},pe=Xn(Xn({},fe),oe?O_:{}),!1!==(Ae=function xT(a,c,h,m,b){var M,A,L,B,N,G,H,X,J=a?{mobile:(M=c,A={resize:!1,toolbar_mode:I_(b.mobile||{},"scrolling"),toolbar_sticky:!1},Xn(Xn(Xn({},O_),A),M?{menubar:!1}:{}))}:{},ne=(N=["mobile"],yn(Uv(J,b),function(oe,se){return kr(N,se)},dn(G={}),dn(H={})),{sections:Jt((X={t:G,f:H}).t),settings:Jt(X.f)}),te=kt.extend(h,m,ne.settings(),a&&mb(ne,"mobile")?function(oe){void 0===oe&&(oe={});var se=Rn(ne.sections(),"mobile").getOr({});return kt.extend({},oe,se)}():{},{validate:!0,external_plugins:(L=m,B=ne.settings().external_plugins||{},L&&L.external_plugins?kt.extend({},L.external_plugins,B):B)});return function qS(a,c,h,m){var b,M,A,L,B,N,G,H,X=Sd(h.forced_plugins),J=Sd(m.plugins),ne=mb(b=c,"mobile")?b.sections().mobile:{},oe=(L=c,B=J,N=ne.plugins?Sd(ne.plugins):J,M=(A=a)&&(H=(G=L).sections(),mb(G,"mobile")&&"mobile"===H.mobile.theme)?dt(N,jt(kr,_b)):A&&mb(L,"mobile")?N:B,[].concat(Sd(X)).concat(Sd(M)));if(sr.browser.isIE()&&kr(oe,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return kt.extend(m,{plugins:oe.join(" ")})}(a,ne,m,te)}(QS||R_,QS,pe,J,ne)).deprecation_warnings&&function XS(a,c){var h,m,b,M,A,L,B,N=(h=a,m=dt(wT,function(te){return Rr(h,te)}),!1!==(b=h.forced_root_block)&&""!==b||m.push("forced_root_block (false only)"),Ma(m)),G=(B=kt.makeMap(c.plugins," "),Ma(ot(ot([],dt(xb,ne),!0),Ms(ST,function(te){return ne(te)?[te+" (moving to premium)"]:[]}),!0))),H=0<G.length,X=0<N.length,J="mobile"===c.theme;function ne(te){return Rr(B,te)}(H||X||J)&&(M=J?"\n\nThemes:\n- mobile":"",A=H?"\n\nPlugins:\n- "+G.join("\n- "):"",L=X?"\n\nSettings:\n- "+N.join("\n- "):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+M+A+L))}(ne,Ae),Ae),this.settings.suffix&&(h.suffix=this.settings.suffix),this.suffix=h.suffix,this.settings.base_url&&h._setBaseUrl(this.settings.base_url),this.baseUri=h.baseURI,this.settings.referrer_policy&&(Ws.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Uo.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ga.languageLoad=this.settings.language_load,ga.baseURL=h.baseURL,this.id=a,this.setDirty(!1),this.documentBaseURI=new Fe(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new m1(this),this.editorCommands=new oM(this),this.settings.cache_suffix&&(sr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(L={},(m={addButton:me(b={},"button"),addGroupToolbarButton:me(b,"grouptoolbarbutton"),addToggleButton:me(b,"togglebutton"),addMenuButton:me(b,"menubutton"),addSplitButton:me(b,"splitbutton"),addMenuItem:me(M={},"menuitem"),addNestedMenuItem:me(M,"nestedmenuitem"),addToggleMenuItem:me(M,"togglemenuitem"),addAutocompleter:me(A={},"autocompleter"),addContextMenu:me(B={},"contextmenu"),addContextToolbar:me(N={},"contexttoolbar"),addContextForm:me(N,"contextform"),addSidebar:me(G={},"sidebar"),addIcon:function($e,qe){return L[$e.toLowerCase()]=qe},getAll:function(){return{buttons:b,menuItems:M,icons:L,popups:A,contextMenus:B,contextToolbars:N,sidebars:G}}}).addAutocompleter),addButton:m.addButton,addContextForm:m.addContextForm,addContextMenu:m.addContextMenu,addContextToolbar:m.addContextToolbar,addIcon:m.addIcon,addMenuButton:m.addMenuButton,addMenuItem:m.addMenuItem,addNestedMenuItem:m.addNestedMenuItem,addSidebar:m.addSidebar,addSplitButton:m.addSplitButton,addToggleButton:m.addToggleButton,addGroupToolbarButton:m.addGroupToolbarButton,addToggleMenuItem:m.addToggleMenuItem,getAll:m.getAll},styleSheetLoader:void 0,show:Mn,hide:Mn,enable:Mn,disable:Mn,isDisabled:Pr};var we,Ie,Ke,lt,pt,Ge=(lt=os("design"),pt=os({design:{activate:Mn,deactivate:Mn,editorReadOnly:!1},readonly:{activate:Mn,deactivate:Mn,editorReadOnly:!0}}),(Ie=we=this).serializer?Lw(Ie):Ie.on("PreInit",function(){Lw(Ie)}),(Ke=we).on("ShowCaret",function($e){Kp(Ke)&&$e.preventDefault()}),Ke.on("ObjectSelected",function($e){Kp(Ke)&&$e.preventDefault()}),{isReadOnly:function(){return Kp(we)},set:function($e){return function(qe,et,bt,Yt){if(Yt!==bt.get()){if(!Rr(et,Yt))throw new Error("Editor mode '"+Yt+"' is invalid");qe.initialized?sM(qe,bt,et,Yt):qe.on("init",function(){return sM(qe,bt,et,Yt)})}}(we,pt.get(),lt,$e)},get:function(){return lt.get()},register:function($e,qe){pt.set(function(et,bt,Yt){var an;if(kr(XT,bt))throw new Error("Cannot override default mode "+bt);return Xn(Xn({},et),((an={})[bt]=Xn(Xn({},Yt),{deactivate:function(){try{Yt.deactivate()}catch(wt){console.error("problem while deactivating editor mode "+bt+":",wt)}}}),an))}(pt.get(),$e,qe))}});this.mode=Ge,this.setMode=Ge.set,h.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Cr.overrideDefaults(function(){return{context:ze.inline?ze.getBody():ze.getDoc(),element:ze.getBody()}})}function dM(a){var c=a.type;Id(Xh.get(),function(h){switch(c){case"scroll":h.fire("ScrollWindow",a);break;case"resize":h.fire("ResizeWindow",a)}})}function Ew(a){a!==Bw&&(a?Cr(window).on("resize scroll",dM):Cr(window).off("resize scroll",dM),Bw=a)}function y1(a){var c=Rl;delete Pd[a.id];for(var h=0;h<Pd.length;h++)if(Pd[h]===a){Pd.splice(h,1);break}return Rl=dt(Rl,function(m){return a!==m}),Xh.activeEditor===a&&(Xh.activeEditor=0<Rl.length?Rl[0]:null),Xh.focusedEditor===a&&(Xh.focusedEditor=null),c.length!==Rl.length}var b1,pc=Uo.DOM,qT=kt.explode,Id=kt.each,fM=kt.extend,hM=0,Bw=!1,Pd=[],Rl=[],pM="CSS1Compat"!==document.compatMode,Xh=Xn(Xn({},lx),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Cr,majorVersion:"5",minorVersion:"10.0",releaseDate:"2021-10-11",editors:Pd,i18n:jl,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var a,c="",h=Fe.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(h)&&(h=h.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(h)||(h+="/"));var m=window.tinymce||window.tinyMCEPreInit;if(m)a=m.base||m.baseURL,c=m.suffix;else{for(var b,M=document.getElementsByTagName("script"),A=0;A<M.length;A++)if(""!==(b=M[A].src||"")){var L=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){-1!==L.indexOf(".min")&&(c=".min"),a=b.substring(0,b.lastIndexOf("/"));break}}!a&&document.currentScript&&(-1!==(b=document.currentScript.src).indexOf(".min")&&(c=".min"),a=b.substring(0,b.lastIndexOf("/")))}this.baseURL=new Fe(h).toAbsolute(a),this.documentBaseURL=h,this.baseURI=new Fe(this.baseURL),this.suffix=c,this.on("AddEditor",jt(ku,this)),this.on("RemoveEditor",jt(d0,this))},overrideDefaults:function(a){var c=a.base_url;c&&this._setBaseUrl(c),a.suffix&&(this.suffix=a.suffix);var m=(this.defaultSettings=a).plugin_base_urls;void 0!==m&&Nt(m,function(b,M){ga.PluginManager.urls[M]=b})},init:function(a){function c(B){var N=B.id;return N||(N=Rn(B,"name").filter(function(G){return!pc.get(G)}).getOrThunk(pc.uniqueId),B.setAttribute("id",N)),N}function h(B,N){return N.constructor===RegExp?N.test(B.className):pc.hasClass(B,N)}var m,b=this,M=kt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),A=function(B){m=B},L=function(){function B(J,ne,te){var oe=new v1(J,ne,b);X.push(oe),oe.on("init",function(){++H===N.length&&A(X)}),oe.targetElm=oe.targetElm||te,oe.render()}var N,G,H=0,X=[];pc.unbind(window,"ready",L),(G=a.onpageload)&&G.apply(b,[]),N=Cr.unique(function(J){var ne=[];if(sr.browser.isIE()&&sr.browser.version.major<11)return Ib("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(pM)return Ib("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(J.types)return Id(J.types,function(oe){ne=ne.concat(pc.select(oe.selector))}),ne;if(J.selector)return pc.select(J.selector);if(J.target)return[J.target];switch(J.mode){case"exact":var te=J.elements||"";0<te.length&&Id(qT(te),function(oe){var se=pc.get(oe);se?ne.push(se):Id(document.forms,function(fe){Id(fe.elements,function(pe){pe.name===oe&&(oe="mce_editor_"+hM++,pc.setAttrib(pe,"id",oe),ne.push(pe))})})});break;case"textareas":case"specific_textareas":Id(pc.select("textarea"),function(oe){J.editor_deselector&&h(oe,J.editor_deselector)||J.editor_selector&&!h(oe,J.editor_selector)||ne.push(oe)})}return ne}(a)),a.types?Id(a.types,function(J){kt.each(N,function(ne){return!pc.is(ne,J.selector)||(B(c(ne),fM({},a,J),ne),!1)})}):(kt.each(N,function(J){var ne;(ne=b.get(J.id))&&ne.initialized&&!(ne.getContainer()||ne.getBody()).parentNode&&(y1(ne),ne.unbindAllNativeEvents(),ne.destroy(!0),ne.removed=!0)}),0===(N=kt.grep(N,function(J){return!b.get(J.id)})).length?A([]):Id(N,function(J){a.inline&&J.tagName.toLowerCase()in M?Ib("Could not initialize inline editor on invalid inline target element",J):B(c(J),a,J)}))};return b.settings=a,pc.bind(window,"ready",L),new Wo(function(B){m?B(m):A=function(N){B(N)}})},get:function(a){return 0===arguments.length?Rl.slice(0):Ir(a)?jo(Rl,function(c){return c.id===a}).getOr(null):en(a)&&Rl[a]||null},add:function(a){var c=this;return Pd[a.id]===a||(null===c.get(a.id)&&("length"!==a.id&&(Pd[a.id]=a),Pd.push(a),Rl.push(a)),Ew(!0),c.activeEditor=a,c.fire("AddEditor",{editor:a}),b1||(b1=function(h){var m=c.fire("BeforeUnload");if(m.returnValue)return h.preventDefault(),h.returnValue=m.returnValue,m.returnValue},window.addEventListener("beforeunload",b1))),a},createEditor:function(a,c){return this.add(new v1(a,c,this))},remove:function(a){var c,h,m=this;if(a){if(!Ir(a))return er(m.get((h=a).id))?null:(y1(h)&&m.fire("RemoveEditor",{editor:h}),0===Rl.length&&window.removeEventListener("beforeunload",b1),h.remove(),Ew(0<Rl.length),h);Id(pc.select(a),function(b){(h=m.get(b.id))&&m.remove(h)})}else for(c=Rl.length-1;0<=c;c--)m.remove(Rl[c])},execCommand:function(a,c,h){var m=this.get(h);switch(a){case"mceAddEditor":return this.get(h)||new v1(h,this.settings,this).render(),!0;case"mceRemoveEditor":return m&&m.remove(),!0;case"mceToggleEditor":return m?m.isHidden()?m.show():m.hide():this.execCommand("mceAddEditor",!1,h),!0}return!!this.activeEditor&&this.activeEditor.execCommand(a,c,h)},triggerSave:function(){Id(Rl,function(a){a.save()})},addI18n:function(a,c){jl.add(a,c)},translate:function(a){return jl.translate(a)},setActive:function(a){var c=this.activeEditor;this.activeEditor!==a&&(c&&c.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:c})),this.activeEditor=a},_setBaseUrl:function(a){this.baseURL=new Fe(this.documentBaseURL).toAbsolute(a.replace(/\/+$/,"")),this.baseURI=new Fe(this.baseURL)}});function gM(a,c,h){var m=c.x,b=c.y,M=a.w,A=a.h,L=c.w,B=c.h,N=(h||"").split("");return"b"===N[0]&&(b+=B),"r"===N[1]&&(m+=L),"c"===N[0]&&(b+=qh(B/2)),"c"===N[1]&&(m+=qh(L/2)),"b"===N[3]&&(b-=A),"r"===N[4]&&(m-=M),"c"===N[3]&&(b-=qh(A/2)),"c"===N[4]&&(m-=qh(M/2)),Sy(m,b,M,A)}function wy(){}function Sy(a,c,h,m){return{x:a,y:c,w:h,h:m}}Xh.setup();var Cy,My,mM,Jp,vM=Math.min,Ty=Math.max,qh=Math.round,x1={inflate:function(a,c,h){return Sy(a.x-c,a.y-h,a.w+2*c,a.h+2*h)},relativePosition:gM,findBestRelativePosition:function(a,c,h,m){for(var b,M=0;M<m.length;M++)if((b=gM(a,c,m[M])).x>=h.x&&b.x+b.w<=h.w+h.x&&b.y>=h.y&&b.y+b.h<=h.h+h.y)return m[M];return null},intersect:function(a,c){var h=Ty(a.x,c.x),m=Ty(a.y,c.y),b=vM(a.x+a.w,c.x+c.w),M=vM(a.y+a.h,c.y+c.h);return b-h<0||M-m<0?null:Sy(h,m,b-h,M-m)},clamp:function(a,c,h){var m=a.x,b=a.y,M=a.x+a.w,A=a.y+a.h,L=c.x+c.w,B=c.y+c.h,N=Ty(0,c.x-m),G=Ty(0,c.y-b),H=Ty(0,M-L),X=Ty(0,A-B);return m+=N,b+=G,h&&(M+=N,A+=G,m-=H,b-=X),Sy(m,b,(M-=H)-m,(A-=X)-b)},create:Sy,fromClientRect:function(a){return Sy(a.left,a.top,a.width,a.height)}},ZT=(Cy={},My={},{load:function(a,c){var h='Script at URL "'+c+'" failed to load',m='Script at URL "'+c+"\" did not call `tinymce.Resource.add('"+a+"', data)` within 1 second";if(void 0!==Cy[a])return Cy[a];var b=new Wo(function(M,A){var L=function(B,N,G){function H(oe){return function(){for(var se=[],fe=0;fe<arguments.length;fe++)se[fe]=arguments[fe];X||(X=!0,null!==J&&(clearTimeout(J),J=null),oe.apply(null,se))}}void 0===G&&(G=1e3);var X=!1,J=null,ne=H(B),te=H(N);return{start:function(){for(var oe=[],se=0;se<arguments.length;se++)oe[se]=arguments[se];X||null!==J||(J=setTimeout(function(){return te.apply(null,oe)},G))},resolve:ne,reject:te}}(M,A);My[a]=L.resolve,Ws.ScriptLoader.loadScript(c,function(){return L.start(m)},function(){return L.reject(h)})});return Cy[a]=b},add:function(a,c){void 0!==My[a]&&(My[a](c),delete My[a]),Cy[a]=Wo.resolve(c)}}),cx=kt.each,KT=kt.extend;wy.extend=mM=function(a){function c(){var M,A,L;if(!Jp&&(this.init&&this.init.apply(this,arguments),A=this.Mixins))for(M=A.length;M--;)(L=A[M]).init&&L.init.apply(this,arguments)}function h(){return this}var m=this.prototype;Jp=!0;var b=new this;return Jp=!1,a.Mixins&&(cx(a.Mixins,function(M){for(var A in M)"init"!==A&&(a[A]=M[A])}),m.Mixins&&(a.Mixins=m.Mixins.concat(a.Mixins))),a.Methods&&cx(a.Methods.split(","),function(M){a[M]=h}),a.Properties&&cx(a.Properties.split(","),function(M){var A="_"+M;a[M]=function(L){return void 0!==L?(this[A]=L,this):this[A]}}),a.Statics&&cx(a.Statics,function(M,A){c[A]=M}),a.Defaults&&m.Defaults&&(a.Defaults=KT({},m.Defaults,a.Defaults)),Nt(a,function(M,A){var L,B;b[A]="function"==typeof M&&m[A]?(L=A,B=M,function(){var N=this._super;this._super=m[L];var G=B.apply(this,arguments);return this._super=N,G}):M}),c.prototype=b,(c.constructor=c).extend=mM,c};var _m,wm,zw,dx=Math.min,ky=Math.max,Qp=Math.round,Vw={serialize:function(a){var c=JSON.stringify(a);return Ir(c)?c.replace(/[\u0080-\uFFFF]/g,function(h){var m=h.charCodeAt(0).toString(16);return"\\u"+"0000".substring(m.length)+m}):c},parse:function(a){try{return JSON.parse(a)}catch(c){}}},Fw={callbacks:{},count:0,send:function(a){var c=this,h=Uo.DOM,m=(void 0!==a.count?a:c).count,b="tinymce_jsonp_"+m;c.callbacks[m]=function(M){h.remove(b),delete c.callbacks[m],a.callback(M)},h.add(h.doc.body,"script",{id:b,src:a.url,type:"text/javascript"}),c.count++}},_1=Xn(Xn({},lx),{send:function(a){var c,h=0,m=function(){!a.async||4===c.readyState||1e4<h++?(a.success&&h<1e4&&200===c.status?a.success.call(a.success_scope,""+c.responseText,c,a):a.error&&a.error.call(a.error_scope,1e4<h?"TIMED_OUT":"GENERAL",c,a),c=null):Bo.setTimeout(m,10)};if(a.scope=a.scope||this,a.success_scope=a.success_scope||a.scope,a.error_scope=a.error_scope||a.scope,a.async=!1!==a.async,a.data=a.data||"",_1.fire("beforeInitialize",{settings:a}),(c=new XMLHttpRequest).overrideMimeType&&c.overrideMimeType(a.content_type),c.open(a.type||(a.data?"POST":"GET"),a.url,a.async),a.crossDomain&&(c.withCredentials=!0),a.content_type&&c.setRequestHeader("Content-Type",a.content_type),a.requestheaders&&kt.each(a.requestheaders,function(b){c.setRequestHeader(b.key,b.value)}),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),(c=_1.fire("beforeSend",{xhr:c,settings:a}).xhr).send(a.data),!a.async)return m();Bo.setTimeout(m,10)}}),yM=kt.extend,Dy=(w1.sendRPC=function(a){return(new w1).send(a)},w1.prototype.send=function(a){var c=a.error,h=a.success,m=yM(this.settings,a);m.success=function(b,M){(b=void 0===(b=Vw.parse(b))?{error:"JSON Parse error."}:b).error?c.call(m.error_scope||m.scope,b.error,M):h.call(m.success_scope||m.scope,b.result)},m.error=function(b,M){c&&c.call(m.error_scope||m.scope,b,M)},m.data=Vw.serialize({id:a.id||"c"+this.count++,method:a.method,params:a.params}),m.content_type="application/json",_1.send(m)},w1);function w1(a){this.settings=yM({},a),this.count=0}try{var fx,S1="__storage_test__";(fx=window.localStorage).setItem(S1,S1),fx.removeItem(S1)}catch(a){_m={},wm=[],zw={getItem:function(c){return _m[c]||null},setItem:function(c,h){wm.push(c),_m[c]=String(h)},key:function(c){return wm[c]},removeItem:function(c){wm=wm.filter(function(h){return h===c}),delete _m[c]},clear:function(){wm=[],_m={}},length:0},Object.defineProperty(zw,"length",{get:function(){return wm.length},configurable:!1,enumerable:!1}),fx=zw}var xM=kt.extend(Xh,{geom:{Rect:x1},util:{Promise:Wo,Delay:Bo,Tools:kt,VK:Gn,URI:Fe,Class:wy,EventDispatcher:zf,Observable:lx,I18n:jl,XHR:_1,JSON:Vw,JSONRequest:Dy,JSONP:Fw,LocalStorage:fx,Color:function(a){function c(A){var L;return"object"==typeof A?"r"in A?(m=A.r,b=A.g,M=A.b):"v"in A&&function(B,N,G){if(B=(parseInt(B,10)||0)%360,N=parseInt(N,10)/100,G=parseInt(G,10)/100,N=ky(0,dx(N,1)),G=ky(0,dx(G,1)),0!==N){var H=B/60,X=G*N,J=X*(1-Math.abs(H%2-1)),ne=G-X;switch(Math.floor(H)){case 0:m=X,b=J,M=0;break;case 1:m=J,b=X,M=0;break;case 2:m=0,b=X,M=J;break;case 3:m=0,b=J,M=X;break;case 4:m=J,b=0,M=X;break;case 5:m=X,b=0,M=J;break;default:m=b=M=0}m=Qp(255*(m+ne)),b=Qp(255*(b+ne)),M=Qp(255*(M+ne))}else m=b=M=Qp(255*G)}(A.h,A.s,A.v):(L=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(A))?(m=parseInt(L[1],10),b=parseInt(L[2],10),M=parseInt(L[3],10)):(L=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(A))?(m=parseInt(L[1],16),b=parseInt(L[2],16),M=parseInt(L[3],16)):(L=/#([0-F])([0-F])([0-F])/gi.exec(A))&&(m=parseInt(L[1]+L[1],16),b=parseInt(L[2]+L[2],16),M=parseInt(L[3]+L[3],16)),m=m<0?0:255<m?255:m,b=b<0?0:255<b?255:b,M=M<0?0:255<M?255:M,h}var h={},m=0,b=0,M=0;return a&&c(a),h.toRgb=function(){return{r:m,g:b,b:M}},h.toHsv=function(){return A=m,L=b,B=M,G=0,(H=dx(A/=255,dx(L/=255,B/=255)))===(X=ky(A,ky(L,B)))?{h:0,s:0,v:100*(G=H)}:(N=(X-H)/X,{h:Qp(60*((A===H?3:B===H?1:5)-(A===H?L-B:B===H?A-L:B-A)/((G=X)-H))),s:Qp(100*N),v:Qp(100*G)});var A,L,B,N,G,H,X},h.toHex=function(){function A(L){return 1<(L=parseInt(L,10).toString(16)).length?L:"0"+L}return"#"+A(m)+A(b)+A(M)},h.parse=c,h},ImageUploader:function(a){var c=E_(),h=H0(a,c);return{upload:function(m,b){return h.upload(m,(b=void 0===b||b)?V_(a):void 0)}}}},dom:{EventUtils:Fd,Sizzle:xo,DomQuery:Cr,TreeWalker:wi,TextSeeker:mg,DOMUtils:Uo,ScriptLoader:Ws,RangeUtils:vf,Serializer:A_,StyleSheetLoader:ep,ControlSelection:gf,BookmarkManager:Mh,Selection:US,Event:Fd.Event},html:{Styles:$t,Entities:sl,Node:le,Schema:Xe,SaxParser:Ve,DomParser:Gv,Writer:yt,Serializer:An},Env:sr,AddOnManager:ga,Annotator:o0,Formatter:H_,UndoManager:W0,EditorCommands:oM,WindowManager:E0,NotificationManager:yb,EditorObservable:xy,Shortcuts:m1,Editor:v1,FocusManager:z,EditorManager:Xh,DOM:Uo.DOM,ScriptLoader:Ws.ScriptLoader,PluginManager:Pl,ThemeManager:Pf,IconManager:N0,Resource:ZT,trim:kt.trim,isArray:kt.isArray,is:kt.is,toArray:kt.toArray,makeMap:kt.makeMap,each:kt.each,map:kt.map,grep:kt.grep,inArray:kt.inArray,extend:kt.extend,create:kt.create,walk:kt.walk,createNS:kt.createNS,resolve:kt.resolve,explode:kt.explode,_addCacheSuffix:kt._addCacheSuffix,isOpera:sr.opera,isWebKit:sr.webkit,isIE:sr.ie,isGecko:sr.gecko,isMac:sr.mac}),_M=xM;window.tinymce=_M,window.tinyMCE=_M,function(a){if("object"==typeof module)try{module.exports=a}catch(c){}}(xM)}(),function(){"use strict";function wn(ot){return function(Bt){return Ue=typeof(Me=Bt),(null===Me?"null":"object"==Ue&&(Array.prototype.isPrototypeOf(Me)||Me.constructor&&"Array"===Me.constructor.name)?"array":"object"==Ue&&(String.prototype.isPrototypeOf(Me)||Me.constructor&&"String"===Me.constructor.name)?"string":Ue)===ot;var Me,Ue}}function Gr(ot){return function(Bt){return typeof Bt===ot}}function We(){}function ai(ot){return function(){return ot}}function Fn(ot){return ot}function Pn(ot,Bt){return ot===Bt}function Tt(){return Ir}var Mn=tinymce.util.Tools.resolve("tinymce.PluginManager"),Vn=tinymce.util.Tools.resolve("tinymce.util.VK"),xr=wn("string"),Jt=wn("array"),ua=Gr("boolean"),wo=Gr("function"),fo=ai(!1),or=ai(!null),Ir={fold:function(ot,Bt){return ot()},isSome:fo,isNone:or,getOr:Fn,getOrThunk:Mi,getOrDie:function(ot){throw new Error(ot||"error: getOrDie called on none.")},getOrNull:ai(null),getOrUndefined:ai(void 0),or:Fn,orThunk:Mi,map:Tt,each:We,bind:Tt,exists:fo,forall:or,filter:function(){return Ir},toArray:function(){return[]},toString:ai("none()")};function Mi(ot){return ot()}function er(ot){for(var Bt=[],Me=0,Ue=ot.length;Me<Ue;++Me){if(!Jt(ot[Me]))throw new Error("Arr.flatten item "+Me+" was not an array, input: "+ot);Rn.apply(Bt,ot[Me])}return Bt}function fi(ot,Bt){for(var Me=0;Me<ot.length;Me++){var Ue=Bt(ot[Me],Me);if(Ue.isSome())return Ue}return yn.none()}function Jr(ot,Bt,Me){return void 0===Me&&(Me=Pn),ot.exists(function(Ue){return Me(Ue,Bt)})}function Qt(ot,Bt){return ot?yn.some(Bt):yn.none()}function en(ot){var Bt=ot.getParam("link_assume_external_targets",!1);return ua(Bt)&&Bt?1:!xr(Bt)||"http"!==Bt&&"https"!==Bt?0:Bt}function jt(ot){return ot.getParam("default_link_target")}function tt(ot){return ot.getParam("target_list",!0)}function Gt(ot){return ot.getParam("rel_list",[],"array")}function vo(ot){return ot.getParam("allow_unsafe_link_target",!1,"boolean")}function hn(ot){return xr(ot.value)?ot.value:""}function Pr(ot){return void 0===ot&&(ot=hn),function(Bt){return yn.from(Bt).map(function(Me){return So(Me,ot)})}}function Yr(ot,Bt){return Yo.call(ot,Bt)}function ue(ot){return ot&&"a"===ot.nodeName.toLowerCase()}function Ht(ot){return ue(ot)&&!!Ga(ot)}function kr(ot,Bt){if(ot.collapsed)return[];for(var Me=ot.cloneContents(),Ue=new _n(Me.firstChild,Me),ht=[],mt=Me.firstChild;Bt(mt)&&ht.push(mt),mt=Ue.next(););return ht}function Un(ot){return/^\w+:/i.test(ot)}function Tn(ot,Bt){function Me(ft){return ft.filter(function(tn){return-1===Kr.inArray(ht,tn)})}var Ue,ht=["noopener"],mt=ot?ot.split(/\s+/):[],st=Bt?0<(Ue=Me(Ue=mt)).length?Ue.concat(ht):ht:Me(mt);return 0<st.length?Kr.trim(st.sort().join(" ")):""}function It(ot,Bt){return Bt=Bt||ot.selection.getNode(),De(Bt)?ot.dom.select("a[href]",Bt)[0]:ot.dom.getParent(Bt,"a[href]")}function xn(ot,Bt){return(Bt?Bt.innerText||Bt.textContent:ot.getContent({format:"text"})).replace(/\uFEFF/g,"")}function Yn(ot){return 0<Kr.grep(ot,Ht).length}function dt(ot){var Bt=ot.schema.getTextInlineElements();return 0===kr(ot.selection.getRng(),function(Me){return 1===Me.nodeType&&!ue(Me)&&!Yr(Bt,Me.nodeName.toLowerCase())}).length}function ir(ot,Bt,Me){var Ue,ht,mt,st,tn,Xt,nn,un,Kt,Vt=(Ue=ot,ht=Me.href,bn(bn({},Me),{href:Do.isDomSafe(ht,"a",Ue.settings)?ht:""}));ot.hasPlugin("rtc",!0)?ot.execCommand("createlink",!1,(tn=Vt.href,Xt=Vt.rel,nn=Vt.target,un=Vt.text,Kt=Vt.title,function Kn(ot,Bt,Me,Ue){(function(ht){for(var mt=Ta(ht),st=0,ft=mt.length;st<ft;st++){var tn=mt[st];(Bt(Xt=ht[tn],nn=tn)?Me:Ue)(Xt,nn)}var Xt,nn})(ot)}({class:Vt.class.getOrNull(),href:tn,rel:Xt.getOrNull(),target:nn.getOrNull(),text:un.getOrNull(),title:Kt.getOrNull()},function(Ut,at){return!1===function(ot){return null===ot}(Ut)},(mt=st={},function(Ut,at){mt[at]=Ut}),We),st)):function ge(ot,Bt,Me){var Ue,ht,mt,st,ft,tn,Xt,nn=ot.selection.getNode(),un=It(ot,nn),Kt=(ht=ot,mt=function Zr(ot,Bt,Me){return function(Ue){for(var mt=0,st=Ue.length;mt<st;mt++)Me=Bt(Me,Ue[mt],mt)}(ot),Me}(["title","rel","class","target"],function(Vt,Ut){return Ue[Ut].each(function(at){Vt[Ut]=0<at.length?at:null}),Vt},{href:(Ue=Me).href}),Xt=bn({},mt),0<Gt(ht).length||!1!==vo(ht)||(st=Tn(Xt.rel,"_blank"===Xt.target),Xt.rel=st||null),yn.from(Xt.target).isNone()&&!1===tt(ht)&&(Xt.target=jt(ht)),Xt.href=(ft=Xt.href,"http"!==(tn=en(ht))&&"https"!==tn||Un(ft)?ft:tn+"://"+ft),Xt);ot.undoManager.transact(function(){var Vt,Ut,at,vr,tr,ar,Tr;Me.href===Bt.href&&Bt.attach(),un?(ot.focus(),tr=ot,ar=un,Tr=Kt,Me.text.each(function(Ao){Yr(ar,"innerText")?ar.innerText=Ao:ar.textContent=Ao}),tr.dom.setAttribs(ar,Tr),tr.selection.select(ar)):(Vt=ot,at=Me.text,vr=Kt,De(Ut=nn)?Xo(Vt,Ut,vr):at.fold(function(){Vt.execCommand("mceInsertLink",!1,vr)},function(Ao){Vt.insertContent(Vt.dom.createHTML("a",vr,Vt.dom.encode(Ao)))}))})}(ot,Bt,Vt)}function je(ot){var Bt;ot.hasPlugin("rtc",!0)?ot.execCommand("unlink"):(Bt=ot).undoManager.transact(function(){var Me,Ue,ht,mt,st,ft,tn,Xt=Bt.selection.getNode();De(Xt)?hi(Bt,Xt):(Ue=(Me=Bt).dom,mt=(ht=Me.selection).getBookmark(),st=ht.getRng().cloneRange(),ft=Ue.getParent(st.startContainer,"a[href]",Me.getBody()),tn=Ue.getParent(st.endContainer,"a[href]",Me.getBody()),ft&&st.setStartBefore(ft),tn&&st.setEndAfter(tn),ht.setRng(st),Me.execCommand("unlink"),ht.moveToBookmark(mt)),Bt.focus()})}function jo(ot){var Bt=ot.href;return 0<Bt.indexOf("@")&&-1===Bt.indexOf("/")&&-1===Bt.indexOf("mailto:")?yn.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Me){return bn(bn({},Me),{href:"mailto:"+Bt})}}):yn.none()}function zn(ot,Bt,Me){var Ue=ot.getAttrib(Bt,Me);return null!==Ue&&0<Ue.length?yn.some(Ue):yn.none()}function Wn(ot,Bt){return ot.dom.getParent(Bt,"a[href]")}function ko(ot){return Wn(ot,ot.selection.getStart())}function Qi(ot,Bt){var Me,Ue;Bt&&(Me=Ga(Bt),/^#/.test(Me)?(Ue=ot.$(Me)).length&&ot.selection.scrollIntoView(Ue[0],!0):function(ht){var mt=document.createElement("a");mt.target="_blank",mt.href=ht,mt.rel="noreferrer noopener";var st,ft,tn=document.createEvent("MouseEvents");tn.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),st=mt,ft=tn,document.body.appendChild(st),st.dispatchEvent(ft),document.body.removeChild(st)}(Bt.href))}function Ma(ot){return function(){!function Ms(ot){var Bt,Me=It(Bt=ot);Xn(Bt,Me).then(function(Ue){var ht,mt,st,ft,Xt=st=ot,nn=(ht=ft=Ue).anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),un=ht.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Kt=yn.from(jt(Xt)),Vt=ht.anchor,Ut={url:{value:mt=Vt.url.getOr(""),meta:{original:{value:mt}}},text:Vt.text.getOr(""),title:Vt.title.getOr(""),anchor:mt,link:mt,rel:Vt.rel.getOr(""),target:Vt.target.or(Kt).getOr(""),linkClass:Vt.linkClass.getOr("")},at=ht.catalogs,vr=ka(Ut,at);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:er([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],nn,un,function(tr){for(var ar=[],yr=function(Ao){ar.push(Ao)},Tr=0;Tr<tr.length;Tr++)tr[Tr].each(yr);return ar}([at.anchor.map(ei.createUi("anchor","Anchors")),at.rels.map(ei.createUi("rel","Rel")),at.targets.map(ei.createUi("target","Open link in...")),at.link.map(ei.createUi("link","Link list")),at.classes.map(ei.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ut,onChange:function(tr,ar){vr.onChange(tr.getData,{name:ar.name}).each(function(Tr){tr.setData(Tr)})},onSubmit:function(tr){var ar=tr.getData();if(!ar.url.value)return je(st),void tr.close();function yr($n){return yn.from(ar[$n]).filter(function(Ti){return!Jr(ft.anchor[$n],Ti)})}var Tr={href:ar.url.value,text:yr("text"),target:yr("target"),rel:yr("rel"),class:yr("linkClass"),title:yr("title")},Ao={href:ar.url.value,attach:void 0!==ar.url.meta&&ar.url.meta.attach?ar.url.meta.attach:We};Ts(st,Tr).then(function($n){ir(st,Ao,$n)}),tr.close()}}}).then(function(Ue){ot.windowManager.open(Ue)})}(ot)}}function Wa(ot){return function(){Qi(ot,ko(ot))}}function Dt(ot,Bt){return ot.on("NodeChange",Bt),function(){return ot.off("NodeChange",Bt)}}function ut(ot){return function(Bt){function Me(){return Bt.setActive(!ot.mode.isReadOnly()&&null!==It(ot,ot.selection.getNode()))}return Me(),Dt(ot,Me)}}function At(ot){return function(Bt){function Me(){return Bt.setDisabled(null===It(ot,ot.selection.getNode()))}return Me(),Dt(ot,Me)}}function Nt(ot){return function(Bt){function Me(ht){return Yn(ht)||0<kr(ot.selection.getRng(),Ht).length}var Ue=ot.dom.getParents(ot.selection.getStart());return Bt.setDisabled(!Me(Ue)),Dt(ot,function(ht){return Bt.setDisabled(!Me(ht.parents))})}}function fn(ot){var Bt=er(function(Me,Ue){for(var ht=Me.length,mt=new Array(ht),st=0;st<ht;st++)mt[st]=Ue(Me[st]);return mt}(ot.dom.select("a:not([href])"),function(Me){var Ue=Me.name||Me.id;return Ue?[{text:Ue,value:"#"+Ue}]:[]}));return 0<Bt.length?yn.some([{text:"None",value:""}].concat(Bt)):yn.none()}var dn=function(ot){function Bt(){return ht}function Me(mt){return mt(ot)}var Ue=ai(ot),ht={fold:function(mt,st){return st(ot)},isSome:or,isNone:fo,getOr:Ue,getOrThunk:Ue,getOrDie:Ue,getOrNull:Ue,getOrUndefined:Ue,or:Bt,orThunk:Bt,map:function(mt){return dn(mt(ot))},each:function(mt){mt(ot)},bind:Me,exists:Me,forall:Me,filter:function(mt){return mt(ot)?ht:Ir},toArray:function(){return[ot]},toString:function(){return"some("+ot+")"}};return ht},yn={some:dn,none:Tt,from:function(ot){return null==ot?Ir:dn(ot)}},Nr=Array.prototype.indexOf,Rn=Array.prototype.push,Kr=tinymce.util.Tools.resolve("tinymce.util.Tools"),So=function(ot,Bt){var Me=[];return Kr.each(ot,function(Ue){var ht,mt,st,ft=xr((ht=Ue).text)?ht.text:xr(ht.title)?ht.title:"";void 0!==Ue.menu?(mt=So(Ue.menu,Bt),Me.push({text:ft,items:mt})):(st=Bt(Ue),Me.push({text:ft,value:st}))}),Me},ei={sanitize:function(ot){return Pr(hn)(ot)},sanitizeWith:Pr,createUi:function(ot,Bt){return function(Me){return{name:ot,type:"listbox",label:Bt,items:Me}}},getValue:hn},bn=function(){return(bn=Object.assign||function(ot){for(var Bt,Me=1,Ue=arguments.length;Me<Ue;Me++)for(var ht in Bt=arguments[Me])Object.prototype.hasOwnProperty.call(Bt,ht)&&(ot[ht]=Bt[ht]);return ot}).apply(this,arguments)},Ta=Object.keys,Yo=Object.hasOwnProperty,_n=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Do=tinymce.util.Tools.resolve("tinymce.util.URI"),Ga=function(ot){return ot.getAttribute("data-mce-href")||ot.getAttribute("href")},De=function(ot){return ot&&"FIGURE"===ot.nodeName&&/\bimage\b/i.test(ot.className)},hi=function(ot,Bt){var Me,Ue=ot.dom.select("img",Bt)[0];!Ue||(Me=ot.dom.getParents(Ue,"a[href]",Bt)[0])&&(Me.parentNode.insertBefore(Ue,Me),ot.dom.remove(Me))},Xo=function(ot,Bt,Me){var Ue,ht=ot.dom.select("img",Bt)[0];ht&&(Ue=ot.dom.create("a",Me),ht.parentNode.insertBefore(Ue,ht),Ue.appendChild(ht))},ca=function(ot,Bt){return fi(Bt,function(Me){return Yr(Ue=Me,"items")&&null!=Ue.items?ca(ot,Me.items):Qt(Me.value===ot,Me);var Ue})},ka=function(ot,Bt){var Ue={text:ot.text,title:ot.title};return{onChange:function(ht,mt){var ft,tn,nn,un,Kt=mt.name;return"url"===Kt?(ft=ht(),nn=Qt(Ue.text.length<=0,yn.from((tn=ft.url).meta.text).getOr(tn.value)),un=Qt(Ue.title.length<=0,yn.from(ft.url.meta.title).getOr("")),nn.isSome()||un.isSome()?yn.some(bn(bn({},nn.map(function(Vt){return{text:Vt}}).getOr({})),un.map(function(Vt){return{title:Vt}}).getOr({}))):yn.none()):-1<Nr.call(["anchor","link"],Kt)?function Me(ht,mt){var st,ft,nn,un,Kt=("link"===(st=mt.name)?Bt.link:"anchor"===st?Bt.anchor:yn.none()).getOr([]);return un=0<(ft=Ue.text).length,void 0!==(nn=ht[mt.name])?ca(nn,Kt).map(function(Vt){return{url:{value:Vt.value,meta:{text:un?ft:Vt.text,attach:We}},text:un?ft:Vt.text}}):yn.none()}(ht(),mt):("text"!==Kt&&"title"!==Kt||(Ue[Kt]=ht()[Kt]),yn.none())}}},si=tinymce.util.Tools.resolve("tinymce.util.Delay"),Da=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ts=function(ot,Bt){return fi([jo,(Me=en(ot),Ue=ot.getParam("link_default_protocol","http","string"),function(ht){var mt=ht.href;return 1===Me&&!Un(mt)||0===Me&&/^\s*www(\.|\d\.)/i.test(mt)?yn.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Ue+":// prefix?",preprocess:function(st){return bn(bn({},st),{href:Ue+"://"+mt})}}):yn.none()})],function(ht){return ht(Bt)}).fold(function(){return Da.resolve(Bt)},function(ht){return new Da(function(mt){var st=ot,ft=ht.message,Xt=st.selection.getRng();si.setEditorTimeout(st,function(){st.windowManager.confirm(ft,function(nn){st.selection.setRng(Xt),function(nn){mt(nn?ht.preprocess(Bt):Bt)}(nn)})})})});var Me,Ue},Rr=tinymce.util.Tools.resolve("tinymce.util.XHR"),$s=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Xn=function(ot,Bt){return ht=(Ue=ot).getParam("link_list"),new Da(function(mt){xr(ht)?Rr.send({url:ht,success:function(st){return mt(function(ft){try{return yn.some(JSON.parse(ft))}catch(tn){return yn.none()}}(st))},error:function(st){return mt(yn.none())}}):wo(ht)?ht(function(st){return mt(yn.some(st))}):mt(yn.from(ht))}).then(function(mt){return mt.bind(ei.sanitizeWith(Me)).map(function(st){return 0<st.length?[{text:"None",value:""}].concat(st):st})}).then(function(mt){var st,ft,tn,Xt,nn,un,Kt,Vt,Ut,at,vr=(ft=Bt,tn=(st=ot).dom,Xt=dt(st)?yn.some(xn(st.selection,ft)):yn.none(),nn=ft?yn.some(tn.getAttrib(ft,"href")):yn.none(),un=ft?yn.from(tn.getAttrib(ft,"target")):yn.none(),Kt=zn(tn,ft,"rel"),Vt=zn(tn,ft,"class"),{url:nn,text:Xt,title:zn(tn,ft,"title"),target:un,rel:Kt,linkClass:Vt});return{anchor:vr,catalogs:{targets:(at=tt(ot),Jt(at)?ei.sanitize(at).orThunk(function(){return yn.some($s)}):!1===at?yn.none():yn.some($s)),rels:function(tr,ar){var yr=Gt(tr);if(0<yr.length){var Tr=Jr(ar,"_blank");return(!1===vo(tr)?ei.sanitizeWith(function(Ao){return Tn(ei.getValue(Ao),Tr)}):ei.sanitize)(yr)}return yn.none()}(ot,vr.target),classes:0<(Ut=ot.getParam("link_class_list",[],"array")).length?ei.sanitize(Ut):yn.none(),anchor:fn(ot),link:mt},optNode:yn.from(Bt),flags:{titleEnabled:ot.getParam("link_title",!0,"boolean")}}});function Me(mt){return Ue.convertURL(mt.value||mt.url,"href")}var Ue,ht};Mn.add("link",function(ot){var Bt,Me,Ue,ht,mt,st,ft;function tn(Xt){var nn=ft.selection.getNode();return Xt.setDisabled(!It(ft,nn)),We}(Bt=ot).ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ma(Bt),onSetup:ut(Bt)}),Bt.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Wa(Bt),onSetup:At(Bt)}),Bt.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return je(Bt)},onSetup:Nt(Bt)}),(Me=ot).ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Wa(Me),onSetup:At(Me)}),Me.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ma(Me)}),Me.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return je(Me)},onSetup:Nt(Me)}),(Ue=ot).ui.registry.addContextMenu("link",{update:function(Xt){return Yn(Ue.dom.getParents(Xt,"a"))?"link unlink openlink":"link"}}),(ft=ot).ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ut(ft)},label:"Link",predicate:function(Xt){return!!It(ft,Xt)&&ft.getParam("link_context_toolbar",!1,"boolean")},initValue:function(){var Xt=It(ft);return Xt?Ga(Xt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Xt){var nn=ft.selection.getNode();return Xt.setActive(!!It(ft,nn)),ut(ft)(Xt)},onAction:function(Xt){var nn=Xt.getValue(),un=function(Kt){var Vt=It(ft),Ut=dt(ft);if(Vt||!Ut)return yn.none();var at=xn(ft.selection,Vt);return yn.some(0<at.length?at:Kt)}(nn);ir(ft,{href:nn,attach:We},{href:nn,text:un,title:yn.none(),rel:yn.none(),target:yn.none(),class:yn.none()}),ft.selection.collapse(!1),Xt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:tn,onAction:function(Xt){je(ft),Xt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:tn,onAction:function(Xt){Wa(ft)(),Xt.hide()}}]}),(st=ot).on("click",function(Xt){var nn=Wn(st,Xt.target);nn&&Vn.metaKeyPressed(Xt)&&(Xt.preventDefault(),Qi(st,nn))}),st.on("keydown",function(Xt){var nn=ko(st);nn&&13===Xt.keyCode&&!0===Xt.altKey&&!1===Xt.shiftKey&&!1===Xt.ctrlKey&&!1===Xt.metaKey&&(Xt.preventDefault(),Qi(st,nn))}),(ht=ot).addCommand("mceLink",function(){ht.getParam("link_quicklink",!1,"boolean")?ht.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ma(ht)()}),(mt=ot).addShortcut("Meta+K","",function(){mt.execCommand("mceLink")})})}(),function(){"use strict";function wn(Me){var Ue=Me;return{get:function(){return Ue},set:function(ht){Ue=ht}}}function Gr(Me){return null!=Me}function We(){}function ai(Me){return function(){return Me}}function Fn(Me){return Me}function Pn(){return Jt}var rr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Mn=function(Me){return ht=typeof(Ue=Me),"array"==(null===Ue?"null":"object"==ht&&(Array.prototype.isPrototypeOf(Ue)||Ue.constructor&&"Array"===Ue.constructor.name)?"array":"object"==ht&&(String.prototype.isPrototypeOf(Ue)||Ue.constructor&&"String"===Ue.constructor.name)?"string":ht);var Ue,ht},Vn=ai(!1),xr=ai(!0),Jt={fold:function(Me,Ue){return Me()},isSome:Vn,isNone:xr,getOr:Fn,getOrThunk:ho,getOrDie:function(Me){throw new Error(Me||"error: getOrDie called on none.")},getOrNull:ai(null),getOrUndefined:ai(void 0),or:Fn,orThunk:ho,map:Pn,each:We,bind:Pn,exists:Vn,forall:xr,filter:function(){return Jt},toArray:function(){return[]},toString:ai("none()")};function ho(Me){return Me()}function ua(Me,Ue){for(var ht=0,mt=Me.length;ht<mt;ht++)if(Ue(Me[ht],ht))return!0;return!1}function wo(Me,Ue){for(var ht=Me.length,mt=new Array(ht),st=0;st<ht;st++)mt[st]=Ue(Me[st],st);return mt}function fo(Me,Ue){for(var ht=0,mt=Me.length;ht<mt;ht++)Ue(Me[ht],ht)}function or(){var Me,Ue,ht=(Me=We,Ue=wn(Kr.none()),{clear:function(){mt(),Ue.set(Kr.none())},isSet:function(){return Ue.get().isSome()},get:function(){return Ue.get()},set:function(st){mt(),Ue.set(Kr.some(st))}});function mt(){return Ue.get().each(Me)}return Ta(Ta({},ht),{on:function(st){return ht.get().each(st)}})}function Ir(Me,Ue,ht){return""===Ue||Me.length>=Ue.length&&Me.substr(ht,ht+Ue.length)===Ue}function Mi(Me,Ue){return Me.fire("PastePlainTextToggle",{state:Ue})}function Zr(Me){return Me.getParam("paste_data_images",!1)}function er(Me){return Me.getParam("paste_retain_style_properties")}function fi(Me){return Me.getParam("validate")}function Jr(Me){return Me.getParam("paste_data_images",!1,"boolean")}function Qt(Me){return De.explode(Me.getParam("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string"))}function en(Me){return-1!==Me.indexOf(Xo)}function tt(Me,Ue){return De.each(Ue,function(ht){Me=ht.constructor===RegExp?Me.replace(ht,""):Me.replace(ht[0],ht[1])}),Me}function Gt(Me){return tt(Me,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(Ue,ht,mt){return ht||mt?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function vo(Me){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(Me)||/class="OutlineElement/.test(Me)||/id="?docs\-internal\-guid\-/.test(Me)}function Pr(Me,Ue){return{content:Me,cancelled:Ue}}function Yr(Me,Ue){return Me.insertContent(Ue,{merge:Me.getParam("paste_merge_formats",!0),paste:!0}),!0}function ue(Me){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(Me)}function Ht(Me,Ue,ht){return!(!1!==Me.selection.isCollapsed()||!ue(Ue)||(st=Ue,ft=ht,(mt=Me).undoManager.extra(function(){ft(mt,st)},function(){mt.execCommand("mceInsertLink",!1,st)}),0));var mt,st,ft}function kr(Me,Ue,ht){return mt=Me,!(!ue(st=Ue)||!ua(Qt(mt),function(nn){return Ir(un=st.toLowerCase(),Kt="."+nn.toLowerCase(),un.length-Kt.length);var un,Kt})||(tn=Ue,Xt=ht,(ft=Me).undoManager.extra(function(){Xt(ft,tn)},function(){ft.insertContent('<img src="'+tn+'">')}),0));var mt,st,ft,tn,Xt}function Un(Me){return"\n"===Me||"\r"===Me}function Tn(Me,Ue,ht,mt){var st,ft,tn,Xt,nn=function Kn(Me,Ue,ht){var mt,st,ft,tn,Xt,nn,un,Kt,Vt,Ut,at,vr,tr=vo(Ue),ar=tr?(st=Ue,(mt=Me).getParam("paste_enable_default_filters",!0)?function hn(Me,Ue){var ht,mt=er(Me);mt&&(ht=De.makeMap(mt.split(/[, ]/))),Ue=tt(Ue,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(nn,un){return 0<un.length?un.replace(/./," ").slice(Math.floor(un.length/2)).split("").join("\xa0"):""}]]);var st=Me.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"),ft=$s({valid_elements:st,valid_children:"-li[p]"});De.each(ft.elements,function(nn){nn.attributes.class||(nn.attributes.class={},nn.attributesOrder.push("class")),nn.attributes.style||(nn.attributes.style={},nn.attributesOrder.push("style"))});var tn=Da({},ft);tn.addAttributeFilter("style",function(nn){for(var un,Kt=nn.length;Kt--;)(un=nn[Kt]).attr("style",function(Vt,Ut,at,vr){var tr={},ar=Vt.dom.parseStyle(vr);return De.each(ar,function(yr,Tr){switch(Tr){case"mso-list":var Ao=/\w+ \w+([0-9]+)/i.exec(vr);Ao&&(at._listLevel=parseInt(Ao[1],10)),/Ignore/i.test(yr)&&at.firstChild&&(at._listIgnore=!0,at.firstChild._listIgnore=!0);break;case"horiz-align":Tr="text-align";break;case"vert-align":Tr="vertical-align";break;case"font-color":case"mso-foreground":Tr="color";break;case"mso-background":case"mso-highlight":Tr="background";break;case"font-weight":case"font-style":return void("normal"!==yr&&(tr[Tr]=yr));case"mso-element":if(/^(comment|comment-list)$/i.test(yr))return void at.remove()}0!==Tr.indexOf("mso-comment")?0!==Tr.indexOf("mso-")&&("all"===er(Vt)||Ut&&Ut[Tr])&&(tr[Tr]=yr):at.remove()}),/(bold)/i.test(tr["font-weight"])&&(delete tr["font-weight"],at.wrap(new Rr("b",1))),/(italic)/i.test(tr["font-style"])&&(delete tr["font-style"],at.wrap(new Rr("i",1))),Vt.dom.serializeStyle(tr,at.name)||null}(Me,ht,un,un.attr("style"))),"span"===un.name&&un.parent&&!un.attributes.length&&un.unwrap()}),tn.addAttributeFilter("class",function(nn){for(var un,Kt,Vt=nn.length;Vt--;)Kt=(un=nn[Vt]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Kt)&&un.remove(),un.attr("class",null)}),tn.addNodeFilter("del",function(nn){for(var un=nn.length;un--;)nn[un].remove()}),tn.addNodeFilter("a",function(nn){for(var un,Kt,Vt,Ut=nn.length;Ut--;)Kt=(un=nn[Ut]).attr("href"),Vt=un.attr("name"),Kt&&-1!==Kt.indexOf("#_msocom_")?un.remove():!(Kt=Kt&&0===Kt.indexOf("file://")?(Kt=Kt.split("#")[1])&&"#"+Kt:Kt)&&!Vt||Vt&&!/^_?(?:toc|edn|ftn)/i.test(Vt)?un.unwrap():un.attr({href:Kt,name:Vt})});var Xt=tn.parse(Ue);return Me.getParam("paste_convert_word_fake_lists",!0)&&function(nn){for(var un,Kt,Vt=1,Ut=function(In){var cr="";if(3===In.type)return In.value;if(In=In.firstChild)for(;cr+=Ut(In),In=In.next;);return cr},at=function(In,cr){if(3===In.type&&cr.test(In.value))return In.value=In.value.replace(cr,""),!1;if(In=In.firstChild)do{if(!at(In,cr))return!1}while(In=In.next);return!0},vr=function(In){if(In._listIgnore)In.remove();else if(In=In.firstChild)for(;vr(In),In=In.next;);},tr=function(In,cr,$r){var pi=In._listLevel||Vt;(un=pi!==Vt?pi<Vt?un&&un.parent.parent:(Kt=un,null):un)&&un.name===cr?un.append(In):(Kt=Kt||un,un=new Rr(cr,1),1<$r&&un.attr("start",""+$r),In.wrap(un)),In.name="li",Vt<pi&&Kt&&Kt.lastChild.append(un),Vt=pi,vr(In),at(In,/^\u00a0+/),at(In,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),at(In,/^\u00a0+/)},ar=[],yr=nn.firstChild;null!=yr;)if(ar.push(yr),null!==(yr=yr.walk()))for(;void 0!==yr&&yr.parent!==nn;)yr=yr.walk();for(var Tr,Ao,$n,Ti=0;Ti<ar.length;Ti++)"p"===(nn=ar[Ti]).name&&nn.firstChild?(Tr=Ut(nn),/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(Tr)?tr(nn,"ul"):function(In){var cr=!1;return In=Tr.replace(/^[\u00a0 ]+/,""),De.each([/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],function($r){if($r.test(In))return!(cr=!0)}),cr}(Tr)?($n=1,tr(nn,"ol",$n=(Ao=/([0-9]+)\./.exec(Tr))?parseInt(Ao[1],10):$n)):nn._listLevel?tr(nn,"ul",1):un=null):(Kt=un,un=null)}(Xt),Ts({validate:fi(Me)},ft).serialize(Xt)}(mt,st):st):Ue;return at=(ft=Me).fire("PastePreProcess",{content:ar,internal:tn=ht,wordContent:Xt=tr}),vr=function(yr,Tr){var Ao=Da({},yr.schema);Ao.addNodeFilter("meta",function(Ti){De.each(Ti,function(In){In.remove()})});var $n=Ao.parse(Tr,{forced_root_block:!1,isRootContent:!0});return Ts({validate:fi(yr)},yr.schema).serialize($n)}(ft,at.content),ft.hasEventListeners("PastePostProcess")&&!at.isDefaultPrevented()?(un=tn,Kt=Xt,Vt=(nn=ft).dom.create("div",{style:"display:none"},vr),Pr((Ut=nn.fire("PastePostProcess",{node:Vt,internal:un,wordContent:Kt})).node.innerHTML,Ut.isDefaultPrevented())):Pr(vr,at.isDefaultPrevented())}(Me,Ue,ht);!1===nn.cancelled&&(st=Me,ft=nn.content,mt||!1===st.getParam("smart_paste",!0)?Yr(st,ft):(tn=st,Xt=ft,De.each([Ht,kr,Yr],function(un){return!0!==un(tn,Xt,Yr)})))}function It(Me,Ue,ht){var mt=ht||en(Ue);Tn(Me,Ue.replace(Xo,""),mt,!1)}function xn(Me,Ue){var ht,mt,st,ft,tn,Xt,un=function jt(Me,Ue,ht){return Ue?(mt=!0===Ue?"p":Ue,st=ht,ft=Me.split(/\n\n/),tn=function(un,Kt){var Ut=[],at="<"+un;if("object"==typeof Kt){for(var vr in Kt)ka.call(Kt,vr)&&Ut.push(vr+'="'+si.encodeAllRaw(Kt[vr])+'"');Ut.length&&(at+=" "+Ut.join(" "))}return at+">"}(mt,st),Xt="</"+mt+">",1===(nn=De.map(ft,function(un){return un.split(/\n/).join("<br />")})).length?nn[0]:De.map(nn,function(un){return tn+un+Xt}).join("")):Me.replace(/\r?\n/g,"<br>");var mt,st,ft,tn,Xt,nn}((ht=Me.dom.encode(Ue).replace(/\r\n/g,"\n"),ft=(mt=Me.getParam("paste_tab_spaces",4,"number"))<=0?"":new Array(mt+1).join(" "),tn=ht.replace(/\t/g,ft),Xt={pcIsSpace:!(st=function(Kt,Vt){return-1!==" \f\t\v".indexOf(Vt)||"\xa0"===Vt?Kt.pcIsSpace||""===Kt.str||Kt.str.length===tn.length-1||(Ut=Kt.str.length+1)<tn.length&&0<=Ut&&Un(tn[Ut])?{pcIsSpace:!1,str:Kt.str+"\xa0"}:{pcIsSpace:!0,str:Kt.str+" "}:{pcIsSpace:Un(Vt),str:Kt.str+Vt};var Ut}),str:""},fo(tn,function(Kt,Vt){Xt=st(Xt,Kt)}),Xt.str),Me.getParam("forced_root_block"),Me.getParam("forced_root_block_attrs"));Tn(Me,un,!1,!0)}function Yn(Me){var Ue,ht={};if(Me&&(!Me.getData||(Ue=Me.getData("Text"))&&0<Ue.length&&-1===Ue.indexOf("data:text/mce-internal,")&&(ht["text/plain"]=Ue),Me.types))for(var mt=0;mt<Me.types.length;mt++){var st=Me.types[mt];try{ht[st]=Me.getData(st)}catch(ft){ht[st]=""}}return ht}function dt(Me,Ue){return Ue in Me&&0<Me[Ue].length}function ge(Me){return dt(Me,"text/html")||dt(Me,"text/plain")}function ir(Me,Ue,ht){var mt,st,ft,tn,Xt,nn="paste"===Ue.type?Ue.clipboardData:Ue.dataTransfer;if(Jr(Me)&&nn){var un=(mt=Me,ft=(st=nn).items?function(Kt){for(var Vt=[],Ut=0,at=Kt.length;Ut<at;++Ut){if(!Mn(Kt[Ut]))throw new Error("Arr.flatten item "+Ut+" was not an array, input: "+Kt);ei.apply(Vt,Kt[Ut])}return Vt}(wo(bn(st.items),function(Kt){return"file"===Kt.kind?[Kt.getAsFile()]:[]})):[],tn=st.files?bn(st.files):[],function(Kt,Vt){for(var Ut=[],at=0,vr=Kt.length;at<vr;at++){var tr=Kt[at];Vt(tr,at)&&Ut.push(tr)}return Ut}(0<ft.length?ft:tn,(Xt=Qt(mt),function(Kt){return Ir(Kt.type,"image/",0)&&ua(Xt,function(Vt){return Ut=Vt.toLowerCase(),(De.hasOwn(at={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},Ut)?"image/"+at[Ut]:"image/"+Ut)===Kt.type;var Ut,at})})));if(0<un.length)return Ue.preventDefault(),Do.all(wo(un,function(Kt){return new Do(function(Vt){var Ut=Gr(Kt.getAsFile)?Kt.getAsFile():Kt,at=new window.FileReader;at.onload=function(){Vt({blob:Ut,uri:at.result})},at.readAsDataURL(Ut)})})).then(function(Kt){ht&&Me.selection.setRng(ht),fo(Kt,function(Vt){var Ut,at,vr,tr,ar,yr,Tr,Ao,Ti,In,cr,$r,pi,Ho,Zo,ks,ds,fs,vi;Ut=Me,vr=(at=Vt).uri,Zo=(Ho=(tr=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(vr))?{type:tr[1],data:decodeURIComponent(tr[2])}:{type:null,data:null}).data,ks=Ho.type,ds=Xn(),fs=at.blob,(vi=new Image).src=at.uri,$r=vi,!(pi=Ut.getParam("images_dataimg_filter"))||pi($r)?(Ti=void 0,(yr=(ar=Ut.editorUpload.blobCache).getByData(Zo,ks))?Ti=yr:(Ao=(Tr=Ut.getParam("images_reuse_filename")&&Gr(fs.name))?(In=Ut,Gr(cr=fs.name.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i))?In.dom.encode(cr[1]):null):ds,Ti=ar.create(ds,fs,Zo,Ao,Tr?fs.name:void 0),ar.add(Ti)),It(Ut,'<img src="'+Ti.blobUri()+'">',!1)):It(Ut,'<img src="'+at.uri+'">',!1)})}),!0}return!1}function je(Me){return Ga.metaKeyPressed(Me)&&86===Me.keyCode||Me.shiftKey&&45===Me.keyCode}function zn(Me){return Yo.ie&&Me.inline?document.body:Me.getBody()}function Wn(Me,Ue,ht,mt){!function(st,ft,tn){if(!1===Yo.iOS&&"function"==typeof(null==st?void 0:st.setData))try{return st.clearData(),st.setData("text/html",ft),st.setData("text/plain",tn),st.setData(ca(),ft),1}catch(Xt){return}}(Me.clipboardData,Ue.html,Ue.text)?ht(Ue.html,mt):(Me.preventDefault(),mt())}function ko(Me){return function(Ue,ht){var mt=Xo+Ue,st=Me.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),ft=Me.dom.create("div",{contenteditable:"true"},mt);Me.dom.setStyles(st,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),st.appendChild(ft),Me.dom.add(Me.getBody(),st);var tn=Me.selection.getRng();ft.focus();var Xt=Me.dom.createRng();Xt.selectNodeContents(ft),Me.selection.setRng(Xt),_n.setTimeout(function(){Me.selection.setRng(tn),st.parentNode.removeChild(st),ht()},0)}}function Qi(Me){return{html:Me.selection.getContent({contextual:!0}),text:Me.selection.getContent({format:"text"})}}function Ma(Me){return!Me.selection.isCollapsed()||(Ue=Me).dom.getParent(Ue.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",Ue.getBody());var Ue}function Wa(Me,Ue){return Bt.getCaretRangeFromPoint(Ue.clientX,Ue.clientY,Me.getDoc())}function Dt(Me,Ue){Me.focus(),Me.selection.setRng(Ue)}function ut(Me,Ue){Me.on("PastePreProcess",function(ht){ht.content=Ue(Me,ht.content,ht.internal,ht.wordContent)})}function At(Me,Ue){if(!vo(Ue))return Ue;var ht=[];return De.each(Me.schema.getBlockElements(),function(mt,st){ht.push(st)}),Ue=tt(Ue,[[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+ht.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),"$1"]]),tt(Ue,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function Nt(Me,Ue,ht,mt){if(mt||ht)return Ue;var st,ft,tn,Xt=Me.getParam("paste_webkit_styles");return!1===Me.getParam("paste_remove_styles_if_webkit",!0)||"all"===Xt?Ue:(Ue=(st=Xt?Xt.split(/[, ]/):st)?(ft=Me.dom,tn=Me.selection.getNode(),Ue.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(nn,un,Kt,Vt){var Ut=ft.parseStyle(ft.decode(Kt)),at={};if("none"===st)return un+Vt;for(var vr=0;vr<st.length;vr++){var tr=Ut[st[vr]],ar=ft.getStyle(tn,st[vr],!0);/color/.test(st[vr])&&(tr=ft.toHex(tr),ar=ft.toHex(ar)),ar!==tr&&(at[st[vr]]=tr)}var yr=ft.serializeStyle(at,"span");return yr?un+' style="'+yr+'"'+Vt:un+Vt})):Ue.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")).replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(nn,un,Kt,Vt){return un+' style="'+Kt+'"'+Vt})}function fn(Me,Ue){Me.$("a",Ue).find("font,u").each(function(ht,mt){Me.dom.remove(mt,!0)})}function dn(Me,Ue){return function(ht){function mt(st){return ht.setActive(st.state)}return ht.setActive("text"===Ue.pasteFormat.get()),Me.on("PastePlainTextToggle",mt),function(){return Me.off("PastePlainTextToggle",mt)}}}function yn(Me){return Me.dom.get("mcepastebin")}var Nr,Rn=function(Me){function Ue(){return st}function ht(ft){return ft(Me)}var mt=ai(Me),st={fold:function(ft,tn){return tn(Me)},isSome:xr,isNone:Vn,getOr:mt,getOrThunk:mt,getOrDie:mt,getOrNull:mt,getOrUndefined:mt,or:Ue,orThunk:Ue,map:function(ft){return Rn(ft(Me))},each:function(ft){ft(Me)},bind:ht,exists:ht,forall:ht,filter:function(ft){return ft(Me)?st:Jt},toArray:function(){return[Me]},toString:function(){return"some("+Me+")"}};return st},Kr={some:Rn,none:Pn,from:function(Me){return null==Me?Jt:Rn(Me)}},So=Array.prototype.slice,ei=Array.prototype.push,bn="function"==typeof Array.from?Array.from:function(Me){return So.call(Me)},Ta=function(){return(Ta=Object.assign||function(Me){for(var Ue,ht=1,mt=arguments.length;ht<mt;ht++)for(var st in Ue=arguments[ht])Object.prototype.hasOwnProperty.call(Ue,st)&&(Me[st]=Ue[st]);return Me}).apply(this,arguments)},Yo=tinymce.util.Tools.resolve("tinymce.Env"),_n=tinymce.util.Tools.resolve("tinymce.util.Delay"),Do=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ga=tinymce.util.Tools.resolve("tinymce.util.VK"),De=tinymce.util.Tools.resolve("tinymce.util.Tools"),hi="x-tinymce/html",Xo="\x3c!-- "+hi+" --\x3e",ca=ai(hi),ka=Object.hasOwnProperty,si=tinymce.util.Tools.resolve("tinymce.html.Entities"),Da=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Ts=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Rr=tinymce.util.Tools.resolve("tinymce.html.Node"),$s=tinymce.util.Tools.resolve("tinymce.html.Schema"),Xn=(Nr=0,function(){return"mceclip"+Nr++}),ot=function(Me,Ue){var ht=yn(Me);return ht&&"mcepastebin"===ht.id&&ht.innerHTML===Ue},Bt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");rr.add("paste",function(Me){if(0==(!!Me.hasPlugin("powerpaste",!0)&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0))){var Ue=wn(!1),ht=wn(Me.getParam("paste_as_text",!1)?"text":"html"),mt=(Tr=ht,Ao=function Ms(Me){var Ue=wn(null),ht="%MCEPASTEBIN%";return{create:function(){return function(mt,st,ft){var tn=mt.dom,Xt=mt.getBody();st.set(mt.selection.getRng());var nn,un,Vt,Ut=mt.dom.add(zn(mt),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},"%MCEPASTEBIN%");(Yo.ie||Yo.gecko)&&tn.setStyle(Ut,"left","rtl"===tn.getStyle(Xt,"direction",!0)?65535:-65535),tn.bind(Ut,"beforedeactivate focusin focusout",function(at){at.stopPropagation()}),un=Ut,zn(Vt=nn=mt)!==Vt.getBody()&&nn.dom.bind(un,"paste keyup",function(at){ot(nn,"%MCEPASTEBIN%")||nn.fire("paste")}),Ut.focus(),mt.selection.select(Ut,!0)}(Me,Ue)},remove:function(){return function(mt,st){if(yn(mt)){for(var ft,tn=st.get();ft=mt.dom.get("mcepastebin");)mt.dom.remove(ft),mt.dom.unbind(ft);tn&&mt.selection.setRng(tn)}st.set(null)}(Me,Ue)},getEl:function(){return yn(Me)},getHtml:function(){return function(mt){function st(Kt,Vt){Kt.appendChild(Vt),mt.dom.remove(Vt,!0)}var ft=De.grep(zn(mt).childNodes,function(Kt){return"mcepastebin"===Kt.id}),tn=ft.shift();De.each(ft,function(Kt){st(tn,Kt)});for(var Xt=mt.dom.select("div[id=mcepastebin]",tn),nn=Xt.length-1;0<=nn;nn--){var un=mt.dom.create("div");tn.insertBefore(un,Xt[nn]),st(un,Xt[nn])}return tn?tn.innerHTML:""}(Me)},getLastRng:Ue.get,isDefault:function(){return ot(Me,ht)},isDefaultContent:function(mt){return mt===ht}}}(yr=Me),yr.on("PreInit",function(){return function jo(Me,Ue,ht){var mt,st,ft,tn,Xt,nn,un;function Kt(Vt,Ut,at,vr,tr){var ar;dt(Ut,"text/html")?ar=Ut["text/html"]:(ar=ft.getHtml(),tr=tr||en(ar),ft.isDefaultContent(ar)&&(vr=!0)),ar=Gt(ar),ft.remove();var yr,Tr,Ao,$n,Ti,In,cr,$r,pi=!1===tr&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(ar),Ho=ue(ar);((vr=!ar.length||pi&&!Ho||vr)||Ho)&&(ar=dt(Ut,"text/plain")&&pi?Ut["text/plain"]:(yr=ar,Tr=$s(),Ao=Da({},Tr),$n="",Ti=Tr.getShortEndedElements(),In=De.makeMap("script noscript style textarea video audio iframe object"," "),cr=Tr.getBlockElements(),$r=function(Zo){var ks=Zo.name,ds=Zo;if("br"!==ks){if("wbr"!==ks)if(Ti[ks]&&($n+=" "),In[ks])$n+=" ";else{if(3===Zo.type&&($n+=Zo.value),!Zo.shortEnded&&(Zo=Zo.firstChild))for(;$r(Zo),Zo=Zo.next;);cr[ks]&&ds.next&&($n+="\n","p"===ks&&($n+="\n"))}}else $n+="\n"},yr=tt(yr,[/<!\[[^\]]+\]>/g]),$r(Ao.parse(yr)),$n)),ft.isDefaultContent(ar)?at||Vt.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):vr?xn(Vt,ar):It(Vt,ar,tr)}st=Me,ft=Ue,tn=ht,nn=or(),un=or(),st.on("keyup",un.clear),st.on("keydown",function(Vt){function Ut(at){je(at)&&!at.isDefaultPrevented()&&ft.remove()}if(je(Vt)&&!Vt.isDefaultPrevented()&&(!(Xt=Vt.shiftKey&&86===Vt.keyCode)||!Yo.webkit||-1===navigator.userAgent.indexOf("Version/"))){if(Vt.stopImmediatePropagation(),nn.set(Vt),un.set(!0),Yo.ie&&Xt)return Vt.preventDefault(),void st.fire("paste",{ieFake:!0});ft.remove(),ft.create(),st.once("keyup",Ut),st.once("paste",function(){st.off("keyup",Ut)})}}),st.on("paste",function(Vt){var Ut=nn.isSet()||un.isSet();Ut&&nn.clear();var at,vr=Yn(Vt.clipboardData||st.getDoc().dataTransfer),tr="text"===tn.get()||Xt,ar=dt(vr,ca());Xt=!1,Vt.isDefaultPrevented()||(at=Vt.clipboardData,-1!==navigator.userAgent.indexOf("Android")&&at&&at.items&&0===at.items.length)||!ge(vr)&&ir(st,Vt,ft.getLastRng()||st.selection.getRng())?ft.remove():(Ut||Vt.preventDefault(),!Yo.ie||Ut&&!Vt.ieFake||dt(vr,"text/html")||(ft.create(),st.dom.bind(ft.getEl(),"paste",function(yr){yr.stopPropagation()}),st.getDoc().execCommand("Paste",!1,null),vr["text/html"]=ft.getHtml()),dt(vr,"text/html")?(Vt.preventDefault(),ar=ar||en(vr["text/html"]),Kt(st,vr,Ut,tr,ar)):_n.setEditorTimeout(st,function(){Kt(st,vr,Ut,tr,ar)},0))}),Me.parser.addNodeFilter("img",function(Vt,Ut,at){var vr;if(!Jr(Me)&&at.data&&!0===at.data.paste)for(var tr=Vt.length;tr--;)(mt=Vt[tr].attr("src"))&&(0!==mt.indexOf("webkit-fake-url")&&(Me.getParam("allow_html_data_urls",!1,"boolean")||0!==mt.indexOf("data:"))||(vr=Vt[tr]).attr("data-mce-object")||mt===Yo.transparentSrc||vr.remove())})}(yr,Ao,Tr)}),{pasteFormat:Tr,pasteHtml:function(In,cr){return It(yr,In,cr)},pasteText:function(In){return xn(yr,In)},pasteImageData:function(In,cr){return ir(yr,In,cr)},getDataTransferItems:Yn,hasHtmlOrText:ge,hasContentType:dt}),vr=Me;return Yo.webkit&&ut(vr,Nt),Yo.ie&&(ut(vr,At),ar=fn,(tr=vr).on("PastePostProcess",function(In){ar(tr,In.node)})),(Ut=Me).ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:$n,onSetup:dn(Ut,at=mt)}),Ut.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:$n,onSetup:dn(Ut,at)}),Vt=mt,(Kt=Me).addCommand("mceTogglePlainTextPaste",function(){var In,cr=Kt;"text"===(In=Vt).pasteFormat.get()?(In.pasteFormat.set("html"),Mi(cr,!1)):(In.pasteFormat.set("text"),Mi(cr,!0)),cr.focus()}),Kt.addCommand("mceInsertClipboardContent",function(In,cr){cr.content&&Vt.pasteHtml(cr.content,cr.internal),cr.text&&Vt.pasteText(cr.text)}),function(In){var cr=In.plugins.paste,$r=In.getParam("paste_preprocess");$r&&In.on("PastePreProcess",function(Ho){$r.call(cr,cr,Ho)});var pi=In.getParam("paste_postprocess");pi&&In.on("PastePostProcess",function(Ho){pi.call(cr,cr,Ho)})}(Me),(Xt=Me).on("cut",(nn=Xt,function(In){Ma(nn)&&Wn(In,Qi(nn),ko(nn),function(){var cr;Yo.browser.isChrome()||Yo.browser.isFirefox()?(cr=nn.selection.getRng(),_n.setEditorTimeout(nn,function(){nn.selection.setRng(cr),nn.execCommand("Delete")},0)):nn.execCommand("Delete")})})),Xt.on("copy",(un=Xt,function(In){Ma(un)&&Wn(In,Qi(un),ko(un),We)})),ft=mt,tn=Ue,(st=Me).getParam("paste_block_drop",!1)&&st.on("dragend dragover draggesture dragdrop drop drag",function(In){In.preventDefault(),In.stopPropagation()}),Zr(st)||st.on("drop",function(In){var cr=In.dataTransfer;cr&&cr.files&&0<cr.files.length&&In.preventDefault()}),st.on("drop",function(In){var cr,$r,pi,Ho,Zo=Wa(st,In);In.isDefaultPrevented()||tn.get()||(cr=ft.getDataTransferItems(In.dataTransfer),$r=ft.hasContentType(cr,ca()),(!ft.hasHtmlOrText(cr)||(pi=cr["text/plain"])&&0===pi.indexOf("file://"))&&ft.pasteImageData(In,Zo)||!Zo||!st.getParam("paste_filter_drop",!0)||(Ho=cr["mce-internal"]||cr["text/html"]||cr["text/plain"])&&(In.preventDefault(),_n.setEditorTimeout(st,function(){st.undoManager.transact(function(){cr["mce-internal"]&&st.execCommand("Delete"),Dt(st,Zo),Ho=Gt(Ho),cr["text/html"]?ft.pasteHtml(Ho,$r):ft.pasteText(Ho)})})))}),st.on("dragstart",function(In){tn.set(!0)}),st.on("dragover dragend",function(In){Zr(st)&&!1===tn.get()&&(In.preventDefault(),Dt(st,Wa(st,In))),"dragend"===In.type&&tn.set(!1)}),{clipboard:mt}}var st,ft,tn,Xt,nn,un,Kt,Vt,Ut,at,tr,ar,yr,Tr,Ao;function $n(){return Ut.execCommand("mceTogglePlainTextPaste")}})}(),function(){"use strict";function wn(_){return function(D){return W=typeof(z=D),(null===z?"null":"object"==W&&(Array.prototype.isPrototypeOf(z)||z.constructor&&"Array"===z.constructor.name)?"array":"object"==W&&(String.prototype.isPrototypeOf(z)||z.constructor&&"String"===z.constructor.name)?"string":W)===_;var z,W}}function Gr(_){return function(D){return typeof D===_}}function We(_){return function(D){return _===D}}function ai(_){return null!=_}function Fn(){}function Pn(_){return function(){return _}}function Tt(_){return _}function rr(_,D){return _===D}var Mn=wn("string"),Vn=wn("object"),xr=wn("array"),Jt=We(null),ho=Gr("boolean"),ua=We(void 0),wo=Gr("function"),fo=Gr("number");function or(_){for(var D=[],z=1;z<arguments.length;z++)D[z-1]=arguments[z];return function(){for(var W=[],K=0;K<arguments.length;K++)W[K]=arguments[K];var Q=D.concat(W);return _.apply(null,Q)}}function Ir(_){return function(D){return!_(D)}}function Mi(){return fi}var Zr=Pn(!1),er=Pn(!0),fi={fold:function(_,D){return _()},isSome:Zr,isNone:er,getOr:Tt,getOrThunk:Jr,getOrDie:function(_){throw new Error(_||"error: getOrDie called on none.")},getOrNull:Pn(null),getOrUndefined:Pn(void 0),or:Tt,orThunk:Jr,map:Mi,each:Fn,bind:Mi,exists:Zr,forall:er,filter:function(){return fi},toArray:function(){return[]},toString:Pn("none()")};function Jr(_){return _()}function Qt(_,D){return-1<zn.call(_,D)}function en(_,D){for(var z=0,W=_.length;z<W;z++)if(D(_[z],z))return!0;return!1}function jt(_,D){for(var z=[],W=0;W<_;W++)z.push(D(W));return z}function tt(_,D){for(var z=_.length,W=new Array(z),K=0;K<z;K++)W[K]=D(_[K],K);return W}function Gt(_,D){for(var z=0,W=_.length;z<W;z++)D(_[z],z)}function vo(_,D){for(var z=[],W=[],K=0,Q=_.length;K<Q;K++){var le=_[K];(D(le,K)?z:W).push(le)}return{pass:z,fail:W}}function hn(_,D){for(var z=[],W=0,K=_.length;W<K;W++){var Q=_[W];D(Q,W)&&z.push(Q)}return z}function Pr(_,D,z){return function(W){for(var Q=W.length-1;0<=Q;Q--)z=D(z,W[Q],Q)}(_),z}function Kn(_,D,z){return Gt(_,function(W,K){z=D(z,W,K)}),z}function Yr(_,D){return function(z,W,K){for(var Q=0,le=z.length;Q<le;Q++){var de=z[Q];if(W(de,Q))return je.some(de);if(K(de,Q))break}return je.none()}(_,D,Zr)}function ue(_,D){for(var z=0,W=_.length;z<W;z++)if(D(_[z],z))return je.some(z);return je.none()}function Ht(_){for(var D=[],z=0,W=_.length;z<W;++z){if(!xr(_[z]))throw new Error("Arr.flatten item "+z+" was not an array, input: "+_);Ms.apply(D,_[z])}return D}function kr(_,D){return Ht(tt(_,D))}function Un(_,D){for(var z=0,W=_.length;z<W;++z)if(!0!==D(_[z],z))return!1;return!0}function Tn(_,D){for(var z={},W=0,K=_.length;W<K;W++){var Q=_[W];z[String(Q)]=D(Q,W)}return z}function It(_){return[_]}function xn(_,D){return 0<=D&&D<_.length?je.some(_[D]):je.none()}function Yn(_){return xn(_,0)}function dt(_){return xn(_,_.length-1)}function ge(_,D){for(var z=0;z<_.length;z++){var W=D(_[z],z);if(W.isSome())return W}return je.none()}var ir=function(_){function D(){return K}function z(Q){return Q(_)}var W=Pn(_),K={fold:function(Q,le){return le(_)},isSome:er,isNone:Zr,getOr:W,getOrThunk:W,getOrDie:W,getOrNull:W,getOrUndefined:W,or:D,orThunk:D,map:function(Q){return ir(Q(_))},each:function(Q){Q(_)},bind:z,exists:z,forall:z,filter:function(Q){return Q(_)?K:fi},toArray:function(){return[_]},toString:function(){return"some("+_+")"}};return K},je={some:ir,none:Mi,from:function(_){return null==_?fi:ir(_)}},jo=Array.prototype.slice,zn=Array.prototype.indexOf,Ms=Array.prototype.push,Wn=function(){return(Wn=Object.assign||function(_){for(var D,z=1,W=arguments.length;z<W;z++)for(var K in D=arguments[z])Object.prototype.hasOwnProperty.call(D,K)&&(_[K]=D[K]);return _}).apply(this,arguments)};function ko(_,D,z){if(z||2===arguments.length)for(var W,K=0,Q=D.length;K<Q;K++)!W&&K in D||((W=W||Array.prototype.slice.call(D,0,K))[K]=D[K]);return _.concat(W||Array.prototype.slice.call(D))}function Qi(_){var D,z=!1;return function(){for(var W=[],K=0;K<arguments.length;K++)W[K]=arguments[K];return z||(z=!0,D=_.apply(null,W)),D}}function Ma(_,D){var z=String(D).toLowerCase();return Yr(_,function(W){return W.search(z)})}function Wa(_,D,z){return""===D||_.length>=D.length&&_.substr(z,z+D.length)===D}function Dt(_,D){return-1!==_.indexOf(D)}function ut(_,D){return Wa(_,D,_.length-D.length)}function At(_){return 0<_.length}function Nt(_){return function(D){return Dt(D,_)}}function fn(_){return window.matchMedia(_).matches}function dn(_,D){var z=_.dom;if(1!==z.nodeType)return!1;var W=z;if(void 0!==W.matches)return W.matches(D);if(void 0!==W.msMatchesSelector)return W.msMatchesSelector(D);if(void 0!==W.webkitMatchesSelector)return W.webkitMatchesSelector(D);if(void 0!==W.mozMatchesSelector)return W.mozMatchesSelector(D);throw new Error("Browser lacks native selectors")}function yn(_){return 1!==_.nodeType&&9!==_.nodeType&&11!==_.nodeType||0===_.childElementCount}function Nr(_,D){var z=void 0===D?document:D.dom;return yn(z)?je.none():je.from(z.querySelector(_)).map(at.fromDom)}function Rn(_,D){return _.dom===D.dom}function Kr(_,D){return Ut().browser.isIE()?(K=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(_.dom.compareDocumentPosition(D.dom)&K)):(Q=_.dom)!==(le=D.dom)&&Q.contains(le);var K,Q,le}function So(_,D){for(var z=tr(_),W=0,K=z.length;W<K;W++){var Q=z[W];D(_[Q],Q)}}function ei(_,D){return yr(_,function(z,W){return{k:W,v:D(z,W)}})}function bn(_,D){var z={},W=D,K=z,Q=function(de,xe){K[xe]=de},le=Fn;return So(_,function(de,xe){(W(de,xe)?Q:le)(de,xe)}),z}function Ta(_,D){var z=[];return So(_,function(W,K){z.push(D(W,K))}),z}function Yo(_){return Ta(_,Tt)}function _n(_){return tr(_).length}function Do(_,D){return Tr(_,D)?je.from(_[D]):je.none()}function Ga(_,D){return Tr(_,D)&&null!=_[D]}function De(_,D,z){return{element:_,rowspan:D,colspan:z}}function hi(_,D,z){return{element:_,cells:D,section:z}}function Xo(_,D,z){return{element:_,isNew:D,isLocked:z}}function ca(_,D,z,W){return{element:_,cells:D,section:z,isNew:W}}function ka(){return $s(0,0)}function si(_){function D(K){return function(){return z===K}}var z=_.current;return{current:z,version:_.version,isEdge:D("Edge"),isChrome:D("Chrome"),isIE:D("IE"),isOpera:D("Opera"),isFirefox:D(ht),isSafari:D("Safari")}}function Da(_){function D(K){return function(){return z===K}}var z=_.current;return{current:z,version:_.version,isWindows:D(ft),isiOS:D("iOS"),isAndroid:D(tn),isOSX:D("OSX"),isLinux:D("Linux"),isSolaris:D(Xt),isFreeBSD:D(nn),isChromeOS:D(un)}}function Ts(_){if(null==_)throw new Error("Node cannot be null or undefined");return{dom:_}}var Rr,$s=function(_,D){return{major:_,minor:D}},Xn={nu:$s,detect:function(_,D){var z,W,K=String(D).toLowerCase();return 0===_.length?ka():(W=function(le,de){for(var xe=0;xe<le.length;xe++){var Te=le[xe];if(Te.test(de))return Te}}(_,z=K))?$s(Q(1),Q(2)):{major:0,minor:0};function Q(le){return Number(z.replace(W,"$"+le))}},unknown:ka},ot=function(_,D){return Wa(_,D,0)},Bt=(Rr=/^\s+|\s+$/g,function(_){return _.replace(Rr,"")}),Me=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ue={browsers:Pn([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(_){return Dt(_,"edge/")&&Dt(_,"chrome")&&Dt(_,"safari")&&Dt(_,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Me],search:function(_){return Dt(_,"chrome")&&!Dt(_,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(_){return Dt(_,"msie")||Dt(_,"trident")}},{name:"Opera",versionRegexes:[Me,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Nt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Nt("firefox")},{name:"Safari",versionRegexes:[Me,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(_){return(Dt(_,"safari")||Dt(_,"mobile/"))&&Dt(_,"applewebkit")}}]),oses:Pn([{name:"Windows",search:Nt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(_){return Dt(_,"iphone")||Dt(_,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Nt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Nt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Nt("linux"),versionRegexes:[]},{name:"Solaris",search:Nt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Nt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Nt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},ht="Firefox",mt=function(){return si({current:void 0,version:Xn.unknown()})},st=si,ft=(Pn("Edge"),Pn("Chrome"),Pn("IE"),Pn("Opera"),Pn(ht),Pn("Safari"),"Windows"),tn="Android",Xt="Solaris",nn="FreeBSD",un="ChromeOS",Kt=function(){return Da({current:void 0,version:Xn.unknown()})},Vt=Da,Ut=(Pn(ft),Pn("iOS"),Pn(tn),Pn("Linux"),Pn("OSX"),Pn(Xt),Pn(nn),Pn(un),Qi(function(){return _=navigator.userAgent,D=je.from(navigator.userAgentData),z=fn,Qe=Ue.browsers(),gt=Ue.oses(),{browser:Ve=D.bind(function(Pt){return Ze=Qe,ge(Pt.brands,function(Et){var yt=Et.brand.toLowerCase();return Yr(Ze,function(An){var Wt;return yt===(null===(Wt=An.brand)||void 0===Wt?void 0:Wt.toLowerCase())}).map(function(An){return{current:An.name,version:Xn.nu(parseInt(Et.version,10),0)}})});var Ze}).orThunk(function(){return Ma(Qe,Pt=_).map(function(Ze){var Et=Xn.detect(Ze.versionRegexes,Pt);return{current:Ze.name,version:Et}});var Pt}).fold(mt,st),os:rt=Ma(gt,W=_).map(function(Pt){var Ze=Xn.detect(Pt.versionRegexes,W);return{current:Pt.name,version:Ze}}).fold(Kt,Vt),deviceType:(Q=Ve,le=_,de=z,xe=(K=rt).isiOS()&&!0===/ipad/i.test(le),Te=K.isiOS()&&!xe,Ee=(Ne=K.isiOS()||K.isAndroid())||de("(pointer:coarse)"),Oe=xe||!Te&&Ne&&de("(min-device-width:768px)"),nt=Te||Ne&&!Oe,Fe=Q.isSafari()&&K.isiOS()&&!1===/safari/i.test(le),{isiPad:Pn(xe),isiPhone:Pn(Te),isTablet:Pn(Oe),isPhone:Pn(nt),isTouch:Pn(Ee),isAndroid:K.isAndroid,isiOS:K.isiOS,isWebView:Pn(Fe),isDesktop:Pn(!nt&&!Oe&&!Fe)})};var _,D,z,W,K,Q,le,de,xe,Te,Ne,Ee,Oe,nt,Fe,Qe,gt,Ve,rt})),at={fromHtml:function(_,D){var z=(D||document).createElement("div");if(z.innerHTML=_,!z.hasChildNodes()||1<z.childNodes.length)throw console.error("HTML does not have a single root node",_),new Error("HTML must have a single root node");return Ts(z.childNodes[0])},fromTag:function(_,D){return Ts((D||document).createElement(_))},fromText:function(_,D){return Ts((D||document).createTextNode(_))},fromDom:Ts,fromPoint:function(_,D,z){return je.from(_.dom.elementFromPoint(D,z)).map(Ts)}},vr=dn,tr=Object.keys,ar=Object.hasOwnProperty,yr=function(_,D){var z={};return So(_,function(W,K){var Q=D(W,K);z[Q.k]=Q.v}),z},Tr=function(_,D){return ar.call(_,D)},Ao=["tfoot","thead","tbody","colgroup"];function $n(_){return _.dom.nodeName.toLowerCase()}function Ti(_){return _.dom.nodeType}function In(_){return function(D){return Ti(D)===_}}function cr(_){return 8===Ti(_)||"#comment"===$n(_)}function $r(_){return function(D){return Ol(D)&&$n(D)===_}}function pi(_){return at.fromDom(_.dom.ownerDocument)}function Ho(_){return ti(_)?_:pi(_)}function Zo(_){return je.from(_.dom.parentNode).map(at.fromDom)}function ks(_,D){for(var z=wo(D)?D:Zr,W=_.dom,K=[];null!=W.parentNode;){var Q=W.parentNode,le=at.fromDom(Q);if(K.push(le),!0===z(le))break;W=Q}return K}function ds(_){return je.from(_.dom.previousSibling).map(at.fromDom)}function fs(_){return je.from(_.dom.nextSibling).map(at.fromDom)}function vi(_){return tt(_.dom.childNodes,at.fromDom)}function mc(_,D){return je.from(_.dom.childNodes[D]).map(at.fromDom)}function ng(_){return at.fromDom(_.dom.host)}function Ru(_,D,z){return W=function(K){return dn(K,D)},hn(ks(_,z),W);var W}function $h(_,D){return z=function(W){return dn(W,D)},hn(vi(_),z);var z}function _i(_,D){return yn(z=void 0===_?document:_.dom)?[]:tt(z.querySelectorAll(D),at.fromDom);var z}"undefined"!=typeof window||Function("return this;")();var Ol=In(1),Js=In(3),ti=In(9),Ds=In(11),li=wo(Element.prototype.attachShadow)&&wo(Node.prototype.getRootNode),Wf=Pn(li),Dm=li?function(_){return at.fromDom(_.dom.getRootNode())}:Ho,sr=function(_){var D=Js(_)?_.dom.parentNode:_.dom;if(null==D||null===D.ownerDocument)return!1;var z,W,K,Q,le,de=D.ownerDocument;return K=at.fromDom(D),le=Dm(K),(Ds(Q=le)&&ai(Q.dom.host)?je.some(le):je.none()).fold(function(){return de.body.contains(D)},(z=sr,W=ng,function(xe){return z(W(xe))}))},Jh=function(_){var D=_.dom.body;if(null==D)throw new Error("Body is not available yet");return at.fromDom(D)},Gf=function(_,D){var z=[];return Gt(vi(_),function(W){z=(z=D(W)?z.concat([W]):z).concat(Gf(W,D))}),z};function kt(_,D,z,W,K){return _(z,W)?je.some(z):wo(K)&&K(z)?je.none():D(z,W,K)}function it(_,D,z){for(var W=_.dom,K=wo(z)?z:Zr;W.parentNode;){var Q=at.fromDom(W=W.parentNode);if(D(Q))return je.some(Q);if(K(Q))break}return je.none()}function No(_,D,z){return it(_,function(W){return dn(W,D)},z)}function jc(_,D){return z=function(W){return dn(W,D)},Yr(_.dom.childNodes,function(W){return z(at.fromDom(W))}).map(at.fromDom);var z}function Qs(_,D){return Nr(D,_)}function ea(_,D,z){return kt(dn,No,_,D,z)}function ml(_,D,z){if(!(Mn(z)||ho(z)||fo(z)))throw console.error("Invalid call to Attribute.set. Key ",D,":: Value ",z,":: Element ",_),new Error("Attribute value was not simple");_.setAttribute(D,z+"")}function Bi(_,D,z){ml(_.dom,D,z)}function yi(_,D){var z=_.dom;So(D,function(W,K){ml(z,K,W)})}function zi(_,D){var z=_.dom.getAttribute(D);return null===z?void 0:z}function so(_,D){return je.from(zi(_,D))}function vl(_){return Kn(_.dom.attributes,function(D,z){return D[z.name]=z.value,D},{})}function As(_,D,z){return void 0===z&&(z=rr),_.exists(function(W){return z(W,D)})}function Is(_){for(var D=[],z=function(K){D.push(K)},W=0;W<_.length;W++)_[W].each(z);return D}function hs(_,D,z){return _.isSome()&&D.isSome()?je.some(z(_.getOrDie(),D.getOrDie())):je.none()}function Ua(_,D){return _?je.some(D):je.none()}function ja(_){return void 0!==_.style&&wo(_.style.getPropertyValue)}function Yc(_,D,z){if(!Mn(z))throw console.error("Invalid call to CSS.set. Property ",D,":: Value ",z,":: Element ",_),new Error("CSS value must be a string: "+z);ja(_)&&_.style.setProperty(D,z)}function Ko(_,D,z){Yc(_.dom,D,z)}function Gi(_,D){var z=_.dom;So(D,function(W,K){Yc(z,K,W)})}function ta(_,D){var z=_.dom,W=window.getComputedStyle(z).getPropertyValue(D);return""!==W||sr(_)?W:lr(z,D)}function Ps(_,D){var W=lr(_.dom,D);return je.from(W).filter(function(K){return 0<K.length})}function el(_,D){var z,W=D;ja(z=_.dom)&&z.style.removeProperty(W),As(so(_,"style").map(Bt),"")&&$o(_,"style")}function wa(_,D,z){return void 0===z&&(z=0),so(_,D).map(function(W){return parseInt(W,10)}).getOr(z)}function Xc(_,D){return wa(_,D,1)}function qc(_){return $r("col")(_)?1<wa(_,"span",1):1<Xc(_,"colspan")}function Uf(_){return 1<Xc(_,"rowspan")}function yl(_,D){return parseInt(ta(_,D),10)}function iu(_,D){return $c(_,D,er)}function ps(_,D){return z=["td","th"],(K=void 0===(K=D)?Zr:D)(W=_)?je.none():Qt(z,$n(W))?je.some(W):No(W,z.join(","),function(Q){return dn(Q,"table")||K(Q)});var z,W,K}function da(_){return iu(_,"th,td")}function Qr(_){return dn(_,"colgroup")?$h(_,"col"):kr(al(_),function(D){return $h(D,"col")})}function yo(_,D){return ea(_,"table",D)}function bl(_){return iu(_,"tr")}function Ya(_,D){return tt(_,function(z){if("colgroup"!==$n(z))return hi(z,W=tt(da(z),function(K){return De(K,wa(K,"rowspan",1),wa(K,"colspan",1))}),D(z));var W=tt(Qr(z),function(K){return De(K,1,wa(K,"span",1))});return hi(z,W,"colgroup")})}function Nl(_){return Zo(_).map(function(D){var z=$n(D);return Qt(Ao,z)?z:"tbody"}).getOr("tbody")}function au(_){var D=bl(_);return Ya(ko(ko([],al(_),!0),D,!0),Nl)}function tl(_,D,z){var W=_.cells,K=W.slice(0,D),Q=W.slice(D),le=K.concat(z).concat(Q);return Ns(_,le)}function Ls(_,D,z){return tl(_,D,[z])}function nl(_,D,z){_.cells[D]=z}function Xa(_,D){return _.cells[D]}function Eo(_,D){return Xa(_,D).element}function ki(_){return _.cells.length}function Vi(_){var D=vo(_,function(z){return"colgroup"===z.section});return{rows:D.fail,cols:D.pass}}function rl(_,D,z){var W=tt(_.cells,z);return ca(D(_.element),W,_.section,!0)}function Rs(_){return so(_,Po).bind(function(D){return je.from(D.match(/\d+/g))}).map(function(D){return Tn(D,er)})}function ol(_){var D,z=Ta(Kn(Vi(_).rows,function(W,K){return Gt(K.cells,function(Q,le){Q.isLocked&&(W[le]=!0)}),W},{}),function(W,K){return parseInt(K,10)});return(D=jo.call(z,0)).sort(void 0),D}function vc(_){var D={},z=[],W=Yn(_).map(function(Oe){return Oe.element}).bind(yo).bind(Rs).getOr({}),K=0,Q=0,le=0,de=vo(_,function(Oe){return"colgroup"===Oe.section}),xe=de.pass;Gt(de.fail,function(Oe){var nt=[];Gt(Oe.cells,function(Fe){for(var Qe=0;void 0!==D[le+","+Qe];)Qe++;for(var gt=Ga(W,Qe.toString()),Ve={element:Fe.element,rowspan:Fe.rowspan,colspan:Fe.colspan,row:le,column:Qe,isLocked:gt},rt=0;rt<Fe.colspan;rt++)for(var Pt=0;Pt<Fe.rowspan;Pt++){var Ze=Qe+rt;D[le+Pt+","+Ze]=Ve,Q=Math.max(Q,Ze+1)}nt.push(Ve)}),K++,z.push(hi(Oe.element,nt,Oe.section)),le++});var Te=dt(xe).map(function(Oe){var nt,Fe,Qe=(nt={},Fe=0,Gt(Oe.cells,function(gt){var Ve=gt.colspan;jt(Ve,function(rt){var Pt=Fe+rt;nt[Pt]={element:gt.element,colspan:Ve,column:Pt}}),Fe+=Ve}),nt);return{colgroups:[{element:Oe.element,columns:Yo(Qe)}],columns:Qe}}).getOrThunk(function(){return{colgroups:[],columns:{}}});return{grid:{rows:K,columns:Q},access:D,all:z,columns:Te.columns,colgroups:Te.colgroups}}function su(_,D){return D.column<=_.finishCol&&D.column+D.colspan-1>=_.startCol&&D.row<=_.finishRow&&D.row+D.rowspan-1>=_.startRow}function qa(_,D){return D.column>=_.startCol&&D.column+D.colspan-1<=_.finishCol&&D.row>=_.startRow&&D.row+D.rowspan-1<=_.finishRow}function Os(_,D,z){var W=_r.findItem(_,D,Rn),K=_r.findItem(_,z,Rn);return W.bind(function(Q){return K.map(function(le){return de=Q,xe=le,{startRow:Math.min(de.row,xe.row),startCol:Math.min(de.column,xe.column),finishRow:Math.max(de.row+de.rowspan-1,xe.row+xe.rowspan-1),finishCol:Math.max(de.column+de.colspan-1,xe.column+xe.colspan-1)};var de,xe})})}function jf(_,D,z){return Os(_,D,z).map(function(W){return tt(_r.filterItems(_,or(su,W)),function(K){return K.element})})}function og(_,D){return _r.findItem(_,D,function(z,W){return Kr(W,z)}).map(function(z){return z.element})}function Yf(_,D,z,W,K){var Q=na(_),le=Rn(_,z)?je.some(D):og(Q,D),de=Rn(_,K)?je.some(W):og(Q,W);return le.bind(function(xe){return de.bind(function(Te){return jf(Q,xe,Te)})})}function gs(_,D){Zo(_).each(function(z){z.dom.insertBefore(D.dom,_.dom)})}function fa(_,D){fs(_).fold(function(){Zo(_).each(function(z){Dr(z,D)})},function(z){gs(z,D)})}function ms(_,D){mc(_,0).fold(function(){Dr(_,D)},function(z){_.dom.insertBefore(D.dom,z.dom)})}function By(_,D){gs(_,D),Dr(D,_)}function El(_,D){Gt(D,function(z,W){fa(0===W?_:D[W-1],z)})}function Di(_,D){Gt(D,function(z){Dr(_,z)})}function Qh(_){_.dom.textContent="",Gt(vi(_),function(D){ra(D)})}function ig(_){var D,z=vi(_);0<z.length&&(D=_,Gt(z,function(W){gs(D,W)})),ra(_)}function gi(_){return Za.get(_)}function Ui(_){return Za.getOption(_)}function Ai(_,D){return Za.set(_,D)}function Zc(_,D){return hn(kr(_.all,function(z){return z.cells}),D)}var Nd,il,$o=function(_,D){_.dom.removeAttribute(D)},lr=function(_,D){return ja(_)?_.style.getPropertyValue(D):""},Kc=Pn(10),Dn=Pn(10),$c=function(_,D,z){return kr(vi(_),function(W){return dn(W,D)?z(W)?[W]:[]:$c(W,D,z)})},al=function(_){return yo(_).fold(Pn([]),function(D){return $h(D,"colgroup")})},Ns=function(_,D){return ca(_.element,D,_.section,_.isNew)},Po="data-snooker-locked-cols",_r={fromTable:function(_){return vc(au(_))},generate:vc,getAt:function(_,D,z){return je.from(_.access[D+","+z])},findItem:function(_,D,z){var W=Zc(_,function(K){return z(D,K.element)});return 0<W.length?je.some(W[0]):je.none()},filterItems:Zc,justCells:function(_){return kr(_.all,function(D){return D.cells})},justColumns:function(_){return Yo(_.columns)},hasColumns:function(_){return 0<tr(_.columns).length},getColumnAt:function(_,D){return je.from(_.columns[D])}},na=_r.fromTable,Dr=function(_,D){_.dom.appendChild(D.dom)},ra=function(_){var D=_.dom;null!==D.parentNode&&D.parentNode.removeChild(D)},Za=(Nd=Js,{get:function(_){if(!Nd(_))throw new Error("Can only get text value of a text node");return il(_).getOr("")},getOption:il=function(_){return Nd(_)?je.from(_.dom.nodeValue):je.none()},set:function(_,D){if(!Nd(_))throw new Error("Can only set raw text value of a text node");_.dom.nodeValue=D}}),Am=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Ou(){return{up:Pn({selector:No,closest:ea,predicate:it,all:ks}),down:Pn({selector:_i,predicate:Gf}),styles:Pn({get:ta,getRaw:Ps,set:Ko,remove:el}),attrs:Pn({get:zi,set:Bi,remove:$o,copyTo:function(_,D){yi(D,vl(_))}}),insert:Pn({before:gs,after:fa,afterAll:El,append:Dr,appendAll:Di,prepend:ms,wrap:By}),remove:Pn({unwrap:ig,remove:ra}),create:Pn({nu:at.fromTag,clone:function(_){return at.fromDom(_.dom.cloneNode(!1))},text:at.fromText}),query:Pn({comparePosition:function(_,D){return _.dom.compareDocumentPosition(D.dom)},prevSibling:ds,nextSibling:fs}),property:Pn({children:vi,name:$n,parent:Zo,document:function(_){return Ho(_).dom},isText:Js,isComment:cr,isElement:Ol,isSpecial:function(_){return Qt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],$n(_))},getLanguage:function(_){return Ol(_)?so(_,"lang"):je.none()},getText:gi,setText:Ai,isBoundary:function(_){return!!Ol(_)&&("body"===$n(_)||Qt(Am,$n(_)))},isEmptyTag:function(_){return!!Ol(_)&&Qt(["br","img","hr","input"],$n(_))},isNonEditable:function(_){return Ol(_)&&"false"===zi(_,"contenteditable")}}),eq:Rn,is:vr}}function Nu(_,D){return T(E,function(z,W){return _(W)},D)}function Eu(_){return No(_,"table")}function Ii(_,D,z){function W(K){return function(Q){return void 0!==z&&z(Q)||Rn(Q,K)}}return Rn(_,D)?je.some({boxes:je.some([_]),start:_,finish:D}):Eu(_).bind(function(K){return Eu(D).bind(function(Q){if(Rn(K,Q))return je.some({boxes:(Te=_,Ne=D,jf(na(K),Te,Ne)),start:_,finish:D});if(Kr(K,Q)){var le=0<(de=Ru(D,"td,th",W(K))).length?de[de.length-1]:D;return je.some({boxes:Yf(K,_,K,D,Q),start:_,finish:le})}if(Kr(Q,K)){var de,xe=0<(de=Ru(_,"td,th",W(Q))).length?de[de.length-1]:_;return je.some({boxes:Yf(Q,_,K,D,Q),start:_,finish:xe})}return P(E,_,D,void 0).shared.bind(function(Ee){return ea(Ee,"table",z).bind(function(Oe){var nt=Ru(D,"td,th",W(Oe)),Fe=0<nt.length?nt[nt.length-1]:D,Qe=Ru(_,"td,th",W(Oe)),gt=0<Qe.length?Qe[Qe.length-1]:_;return je.some({boxes:Yf(Oe,_,K,D,Q),start:gt,finish:Fe})})});var Te,Ne})})}function lu(_,D){var z=_i(_,D);return 0<z.length?je.some(z):je.none()}function xl(_,D,z){return Qs(_,D).bind(function(W){return Qs(_,z).bind(function(K){return Nu(Eu,[W,K]).map(function(Q){return{first:W,last:K,table:Q}})})})}function Ed(_,D,z,W){return _.fold(D,z,W)}function dr(_,D){return at.fromDom(_.dom.cloneNode(D))}function Bl(_){return dr(_,!1)}function Es(_){return dr(_,!0)}function uu(_,D){var z=at.fromTag(D);return yi(z,vl(_)),z}function Bu(_,D){function z(K){var Q=D(K);if(Q<=0||null===Q){var le=ta(K,_);return parseFloat(le)||0}return Q}function W(K,Q){return Kn(Q,function(le,de){var xe=ta(K,de),Te=void 0===xe?0:parseInt(xe,10);return isNaN(Te)?le:le+Te},0)}return{set:function(K,Q){if(!fo(Q)&&!Q.match(/^[0-9]+$/))throw new Error(_+".set accepts only positive integer values. Value was "+Q);var le=K.dom;ja(le)&&(le.style[_]=Q+"px")},get:z,getOuter:z,aggregate:W,max:function(K,Q,le){var de=W(K,le);return de<Q?Q-de:0}}}function zu(){var _=Ut().browser;return _.isIE()||_.isEdge()}function $a(_,D,z){return W=ta(_,D),K=z,Q=parseFloat(W),(isNaN(Q)?je.none():je.some(Q)).getOr(K);var W,K,Q}function Vu(_){return ta(_,"box-sizing")}function Fu(_,D,z,W){return D-$a(_,"padding-"+z,0)-$a(_,"padding-"+W,0)-$a(_,"border-"+z+"-width",0)-$a(_,"border-"+W+"-width",0)}function Lr(_,D){var z=_.dom,W=z.getBoundingClientRect().width||z.offsetWidth;return"border-box"===D?W:Fu(_,W,"left","right")}function _l(_){return ye.get(_)}function zl(_){return ye.getOuter(_)}function qf(_,D){void 0===D&&(D=er);var z=_.grid,W=jt(z.columns,Tt),K=jt(z.rows,Tt);return tt(W,function(Q){return Be(function(){return kr(K,function(le){return _r.getAt(_,le,Q).filter(function(de){return de.column===Q}).toArray()})},function(le){return 1===le.colspan&&D(le.element)},function(){return _r.getAt(_,0,Q)})})}function Ja(_){var D=_.grid,z=jt(D.rows,Tt),W=jt(D.columns,Tt);return tt(z,function(K){return Be(function(){return kr(W,function(Q){return _r.getAt(_,K,Q).filter(function(le){return le.row===K}).fold(Pn([]),function(le){return[le]})})},function(Q){return 1===Q.rowspan},function(){return _r.getAt(_,K,0)})})}function ep(_,D){return function(z){return"rtl"===Xe(z)?D:_}}function Hu(_){return ct.get(_)}function yc(_){return ct.getOuter(_)}function Qa(_,D){return void 0!==_?_:void 0!==D?D:0}function Wo(_){var D=_.dom.ownerDocument,z=D.body,W=D.defaultView,K=D.documentElement;if(z===_.dom)return rn(z.offsetLeft,z.offsetTop);var Q=Qa(null==W?void 0:W.pageYOffset,K.scrollTop),le=Qa(null==W?void 0:W.pageXOffset,K.scrollLeft),de=Qa(K.clientTop,z.clientTop),xe=Qa(K.clientLeft,z.clientLeft);return kn(_).translate(le-xe,Q-de)}function Bo(_,D){return{row:_,y:D}}function Jc(_,D){return{col:_,x:D}}function wi(_){return Wo(_).left+zl(_)}function cu(_){return Wo(_).left}function Aa(_,D){return Jc(_,cu(D))}function du(_,D){return Jc(_,wi(D))}function Wu(_){return Wo(_).top}function es(_,D){return Bo(_,Wu(D))}function bc(_,D){return Bo(_,Wu(D)+yc(D))}function Ia(_,D,z){if(0===z.length)return[];var W=tt(z.slice(1),function(Q,le){return Q.map(function(de){return _(le,de)})}),K=z[z.length-1].map(function(Q){return D(z.length-1,Q)});return W.concat([K])}function fu(_){if(!xr(_))throw new Error("cases must be an array");if(0===_.length)throw new Error("there must be at least one case");var D=[],z={};return Gt(_,function(W,K){var Q=tr(W);if(1!==Q.length)throw new Error("one and only one name per case");var le=Q[0],de=W[le];if(void 0!==z[le])throw new Error("duplicate key detected:"+le);if("cata"===le)throw new Error("cannot have a case named cata (sorry)");if(!xr(de))throw new Error("case arguments must be an array");D.push(le),z[le]=function(){for(var xe=[],Te=0;Te<arguments.length;Te++)xe[Te]=arguments[Te];var Ne=xe.length;if(Ne!==de.length)throw new Error("Wrong number of arguments to case "+le+". Expected "+de.length+" ("+de+"), got "+Ne);return{fold:function(){for(var Ee=[],Oe=0;Oe<arguments.length;Oe++)Ee[Oe]=arguments[Oe];if(Ee.length!==_.length)throw new Error("Wrong number of arguments to fold. Expected "+_.length+", got "+Ee.length);return Ee[K].apply(null,xe)},match:function(Ee){var Oe=tr(Ee);if(D.length!==Oe.length)throw new Error("Wrong number of arguments to match. Expected: "+D.join(",")+"\nActual: "+Oe.join(","));if(!Un(D,function(nt){return Qt(Oe,nt)}))throw new Error("Not all branches were specified when using match. Specified: "+Oe.join(", ")+"\nRequired: "+D.join(", "));return Ee[le].apply(null,xe)},log:function(Ee){console.log(Ee,{constructors:D,constructor:le,params:xe})}}}}),z}var xc,nr,g,T=function(_,D,z){return 0<z.length?(W=_,K=D,Q=z[0],Pr(z.slice(1),function(le,de){var xe=K(W,de);return function(_,D,z){return D.bind(function(W){return z.filter(or(_.eq,W))})}(W,le,xe)},K(W,Q))):je.none();var W,K,Q},P=function(_,D,z,W){function K(Ne){return ue(Ne,W).fold(function(){return Ne},function(Ee){return Ne.slice(0,Ee+1)})}void 0===W&&(W=Zr);var Q=[D].concat(_.up().all(D)),le=[z].concat(_.up().all(z)),de=K(Q),xe=K(le),Te=Yr(de,function(Ne){return en(xe,or(_.eq,Ne))});return{firstpath:de,secondpath:xe,shared:Te}},E=Ou(),U=lu,j=fu([{none:[]},{multiple:["elements"]},{single:["element"]}]),q=j.none,$=j.multiple,ee=j.single,he=tinymce.util.Tools.resolve("tinymce.PluginManager"),ye=Bu("width",function(_){return _.dom.offsetWidth}),Se=function(_){return Lr(_,"content-box")},Re=function(_){return zu()?Lr(_,Vu(_)):$a(_,"width",_.dom.offsetWidth)},Be=function(_,D,z){var W=_();return Yr(W,D).orThunk(function(){return je.from(W[0]).orThunk(z)}).map(function(K){return K.element})},Xe=function(_){return"rtl"===ta(_,"direction")?"rtl":"ltr"},ct=Bu("height",function(_){var D=_.dom;return sr(_)?D.getBoundingClientRect().height:D.offsetHeight}),zt=function(_,D){return{left:_,top:D,translate:function(z,W){return zt(_+z,D+W)}}},rn=zt,kn=function(_){var D,z=_.dom,W=z.ownerDocument.body;return W===z?rn(W.offsetLeft,W.offsetTop):sr(_)?(D=z.getBoundingClientRect(),rn(D.left,D.top)):rn(0,0)},gn={delta:Tt,positions:function(_){return Ia(es,bc,_)},edge:Wu},qn=ep({delta:Tt,edge:cu,positions:function(_){return Ia(Aa,du,_)}},{delta:function(_){return-_},edge:wi,positions:function(_){return Ia(du,Aa,_)}}),Sr={delta:function(_,D){return qn(D).delta(_,D)},positions:function(_,D){return qn(D).positions(_,D)},edge:function(_){return qn(_).edge(_)}},fr={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Jn=(g=["Infinity",(xc="[0-9]+")+"\\."+lo(xc)+lo(nr="[eE][+-]?[0-9]+"),"\\."+xc+lo(nr),xc+lo(nr)].join("|"),new RegExp("^([+-]?(?:"+g+"))(.*)$"));function lo(_){return"(?:"+_+")?"}function zr(_,D,z){var W=je.from(_.dom.parentElement).map(at.fromDom).getOrThunk(function(){return Jh(pi(_))});return D(_)/z(W)*100}function po(_,D){Ko(_,"width",D+"px")}function qo(_,D){Ko(_,"width",D+"%")}function to(_,D){Ko(_,"height",D+"px")}function bo(_,D){return Ps(_,D).orThunk(function(){return so(_,D).map(function(z){return z+"px"})})}function Hn(_){return bo(_,"width")}function Pi(_){return zr(_,_l,Se)}function Li(_){return(Ky(_)?_l:Re)(_)}function no(_){return function Go(_){var D,z,W,K,Q,le,de,xe,Te,Ne,Ee=function(_){return zu()?(z=Vu(D=_),K=(W=D.dom).getBoundingClientRect().height||W.offsetHeight,"border-box"===z?K:Fu(D,K,"top","bottom")):$a(_,"height",_.dom.offsetHeight);var D,z,W,K}(_)+"px";return Ee?(D=Ee,z=_,W=Hu,K=to,Ne=parseFloat(D),ut(D,"%")&&"table"!==$n(z)?(le=Ne,de=W,xe=K,Te=yo(Q=z).map(function(Oe){var nt=de(Oe);return Math.floor(le/100*nt)}).getOr(le),xe(Q,Te),Te):Ne):Hu(_)}(D=_)/Xc(D,"rowspan");var D}function oa(_,D,z){Ko(_,"width",D+z)}function Pa(_){return zr(_,_l,Se)+"%"}function bi(_){return Hn(_).getOrThunk(function(){return Li(_)+"px"})}function O1(_){return bo(_,"height").getOrThunk(function(){return no(_)+"px"})}function Im(_,D,z,W,K,Q){return _.filter(W).fold(function(){return Q(function(le,de){if(de<0||de>=le.length-1)return je.none();var xe=le[de].fold(function(){var Ne,Ee;return ge((Ne=le.slice(0,de),(Ee=jo.call(Ne,0)).reverse(),Ee),function(Oe,nt){return Oe.map(function(Fe){return{value:Fe,delta:nt+1}})})},function(Ne){return je.some({value:Ne,delta:0})}),Te=le[de+1].fold(function(){return ge(le.slice(de+1),function(Ne,Ee){return Ne.map(function(Oe){return{value:Oe,delta:Ee+1}})})},function(Ne){return je.some({value:Ne,delta:1})});return xe.bind(function(Ne){return Te.map(function(Ee){var Oe=Ee.delta+Ne.delta;return Math.abs(Ee.value-Ne.value)/Oe})})}(z,D))},function(le){return K(le)})}function Pm(_,D,z,W){var K=qf(_),Q=_r.hasColumns(_)?tt(_r.justColumns(_),function(xe){return je.from(xe.element)}):K,le=[je.some(Sr.edge(D))].concat(tt(Sr.positions(K,D),function(xe){return xe.map(function(Te){return Te.x})})),de=Ir(qc);return tt(Q,function(xe,Te){return Im(xe,Te,le,de,function(Ne){return Oe=Ne,Fe=(nt=Ut().browser).isChrome()||nt.isFirefox(),!Xl(Oe)||Fe?z(Ne):Im(null!=(Ee=K[Te])?Ee:je.none(),Te,le,de,function(Qe){return W(je.some(_l(Qe)))},W);var Ee,Oe,nt,Fe},W)})}function tp(_){return _.map(function(D){return D+"px"}).getOr("")}function ia(_,D,z){return Pm(_,D,Li,function(W){return W.getOrThunk(z.minCellWidth)})}function ag(_,D,z,W,K){var Q=Ja(_),le=[je.some(z.edge(D))].concat(tt(z.positions(Q,D),function(de){return de.map(function(xe){return xe.y})}));return tt(Q,function(de,xe){return Im(de,xe,le,Ir(Uf),W,K)})}function Bd(_,D){return function(){return sr(_)?D(_):parseFloat(Ps(_,"width").getOr("0"))}}function zd(_){var D=Bd(_,function(W){return parseFloat(Pa(W))}),z=Bd(_,_l);return{width:D,pixelWidth:z,getWidths:function(W,K){return Q=K,Pm(W,_,Pi,function(le){return le.fold(function(){return Q.minCellWidth()},function(de){return de/Q.pixelWidth()*100})});var Q},getCellDelta:function(W){return W/z()*100},singleColumnWidth:function(W,K){return[100-W]},minCellWidth:function(){return Kc()/z()*100},setElementWidth:qo,adjustTableWidth:function(W){var K=D();qo(_,K+W/100*K)},isRelative:!0,label:"percent"}}function go(_){var D=Bd(_,_l);return{width:D,pixelWidth:D,getWidths:function(z,W){return ia(z,_,W)},getCellDelta:Tt,singleColumnWidth:function(z,W){return[Math.max(Kc(),z+W)-z]},minCellWidth:Kc,setElementWidth:po,adjustTableWidth:function(z){var W=D()+z;po(_,W)},isRelative:!1,label:"pixel"}}function hu(_){return"img"===$n(_)?1:Ui(_).fold(function(){return vi(_).length},function(D){return D.length})}function Lm(_){return Ui(_).filter(function(D){return 0!==D.trim().length||-1<D.indexOf("\xa0")}).isSome()||Qt(sv,$n(_))}function Fi(_){return D=Lm,(z=function(W){for(var K=0;K<W.childNodes.length;K++){var Q=at.fromDom(W.childNodes[K]);if(D(Q))return je.some(Q);var le=z(W.childNodes[K]);if(le.isSome())return le}return je.none()})(_.dom);var D,z}function sg(_){return yu(_,Lm)}function Zf(_){return function(){var D=at.fromTag("td",_.dom);return Dr(D,at.fromTag("br",_.dom)),D}}function Kf(_){return function(){return at.fromTag("col",_.dom)}}function $f(_){return function(){return at.fromTag("colgroup",_.dom)}}function zy(_){return function(){return at.fromTag("tr",_.dom)}}function Jf(_,D,z){var W,K,Q=(Di(K=uu(W=_,D),vi(Es(W))),K);return So(z,function(le,de){null===le?$o(Q,de):Bi(Q,de,le)}),Q}function N1(_){return _}function ts(_,D,z){function W(K,Q){var le=K.element.dom,de=Q.dom;ja(le)&&ja(de)&&(de.style.cssText=le.style.cssText),el(Q,"height"),1!==K.colspan&&el(Q,"width")}return{col:function(K){var Q=at.fromTag($n(K.element),D.dom);return W(K,Q),_(K.element,Q),Q},colgroup:$f(D),row:zy(D),cell:function(K){var Q,le,de,xe,Te,Ne=at.fromTag($n(K.element),D.dom),Ee=z.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Oe=0<Ee.length?(le=Ne,de=Ee,Fi(Q=K.element).map(function(nt){return Pr(Ru(nt,de.join(","),function(Fe){return Rn(Fe,Q)}),function(Fe,Qe){var gt=Bl(Qe);return $o(gt,"contenteditable"),Dr(Fe,gt),gt},le)}).getOr(le)):Ne;return Dr(Oe,at.fromTag("br")),W(K,Ne),xe=K.element,Te=Ne,So(ql,function(nt,Fe){return so(xe,Fe).filter(function(Qe){return Qt(nt,Qe)}).each(function(Qe){return Bi(Te,Fe,Qe)})}),_(K.element,Ne),Ne},replace:Jf,colGap:Kf(D),gap:Zf(D)}}function Rm(_){return{col:Kf(_),colgroup:$f(_),row:zy(_),cell:Zf(_),replace:N1,colGap:Kf(_),gap:Zf(_)}}function lg(_){return tt(_,at.fromDom)}function sl(_){return at.fromDom(_.getBody())}function Vd(_){return _.getBoundingClientRect().width}function E1(_){return _.getBoundingClientRect().height}function wl(_){return function(D){return Rn(D,sl(_))}}function ui(_){return/^\d+(\.\d+)?$/.test(_)?_+"px":_}function ll(_){function D(z){return $o(z,"data-mce-style")}$o(_,"data-mce-style"),Gt(da(_),D),Gt(Qr(_),D)}function Qf(_){return at.fromDom(_.selection.getStart())}function Om(_){return Ed(_.get(),Pn([]),Tt,It)}function eh(_,D,z){return{element:z,mergable:(Q=D,le=Us,Ed(_.get(),je.none,function(de){return de.length<=1?je.none():function Ka(_,D,z){return xl(_,D,z).bind(function(W){function K(xe){return Rn(_,xe)}var Q="thead,tfoot,tbody,table",le=No(W.first,Q,K),de=No(W.last,Q,K);return le.bind(function(xe){return de.bind(function(Te){return Rn(xe,Te)?(Oe=W.first,nt=W.last,Fe=na(W.table),Os(Ne=Fe,Oe,nt).bind(function(Qe){return function(gt,Ve){for(var rt=!0,Pt=or(qa,Ve),Ze=Ve.startRow;Ze<=Ve.finishRow;Ze++)for(var Et=Ve.startCol;Et<=Ve.finishCol;Et++)rt=rt&&_r.getAt(gt,Ze,Et).exists(Pt);return rt?je.some(Ve):je.none()}(Ne,Qe)})):je.none();var Ne,Oe,nt,Fe})})})}(Q,le.firstSelectedSelector,le.lastSelectedSelector).map(function(xe){return{bounds:xe,cells:de}})},je.none)),unmergable:0<(K=Om(_)).length&&Un(K,function(de){return W(de,"rowspan")||W(de,"colspan")})?je.some(K):je.none(),selection:Om(_)};function W(de,xe){return so(de,xe).exists(function(Te){return 1<parseInt(Te,10)})}var K,Q,le}function B1(_){return function(D,z){var W,K=$n(D);return ea("col"===K||"colgroup"===K?yo(W=D).bind(function(Q){return U(Q,Us.firstSelectedSelector)}).fold(Pn(W),function(Q){return Q[0]}):D,_,z)}}function Gu(_,D,z){for(var W=0,K=_;K<D;K++)W+=void 0!==z[K]?z[K]:0;return W}function Vl(_,D,z){var W,K,Q,le;Gt((K=D,_r.hasColumns(W=_)?(le=K,tt(_r.justColumns(W),function(de,xe){return{element:de.element,width:le[xe],colspan:de.colspan}})):(Q=K,tt(_r.justCells(W),function(de){var xe=Gu(de.column,de.column+de.colspan,Q);return{element:de.element,width:xe,colspan:de.colspan}}))),function(de){z.setElementWidth(de.element,de.width)})}function ji(_,D,z,W,K){var Q,le,de,xe,Te,Ne,Ee,Oe,nt,Fe,Qe=_r.fromTable(_),gt=K.getCellDelta(D),Ve=K.getWidths(Qe,K),rt=z===Qe.grid.columns-1,Pt=W.clampTableDelta(Ve,z,gt,K.minCellWidth(),rt),Ze=(le=z,de=Pt,xe=K,Te=W,Oe=(Q=Ve).slice(0),Ee=le,nt=0===(Ne=Q).length?Ac.none():1===Ne.length?Ac.only(0):0===Ee?Ac.left(0,1):Ee===Ne.length-1?Ac.right(Ee-1,Ee):0<Ee&&Ee<Ne.length-1?Ac.middle(Ee-1,Ee,Ee+1):Ac.none(),Fe=Pn(tt(Oe,Pn(0))),nt.fold(Fe,function(Et){return xe.singleColumnWidth(Oe[Et],de)},function(Et,yt){return Te.calcLeftEdgeDeltas(Oe,Et,yt,de,xe.minCellWidth(),xe.isRelative)},function(Et,yt,An){return Te.calcMiddleDeltas(Oe,Et,yt,An,de,xe.minCellWidth(),xe.isRelative)},function(Et,yt){return Te.calcRightEdgeDeltas(Oe,Et,yt,de,xe.minCellWidth(),xe.isRelative)}));Vl(Qe,tt(Ze,function(Et,yt){return Et+Ve[yt]}),K),W.resizeTable(K.adjustTableWidth,Pt,rt)}function Lo(_){return tt(_,Pn(0))}function np(_,D,z,W,K){return K(_.slice(0,D)).concat(W).concat(K(_.slice(z)))}function Nm(_){return function(D,z,W,K){if(_(W)){var Q=Math.max(K,D[z]-Math.abs(W)),le=Math.abs(Q-D[z]);return 0<=W?le:-le}return W}}function rp(){function _(z,W,K,Q){var le=(100+K)/100,de=Math.max(Q,(z[W]+K)/le);return tt(z,function(xe,Te){return(Te===W?de:xe/le)-xe})}function D(z,W,K,Q,le,de){return de?_(z,W,Q,le):(Ne=K,Ee=ss(xe=z,Te=W,Q,le),np(xe,Te,Ne+1,[Ee,0],Lo));var xe,Te,Ne,Ee}return{resizeTable:function(z,W){return z(W)},clampTableDelta:ss,calcLeftEdgeDeltas:D,calcMiddleDeltas:function(z,W,K,Q,le,de,xe){return D(z,K,Q,le,de,xe)},calcRightEdgeDeltas:function(z,W,K,Q,le,de){if(de)return _(z,K,Q,le);var xe=ss(z,K,Q,le);return Lo(z.slice(0,K)).concat([xe])},calcRedestributedWidths:function(z,W,K,Q){if(Q){var le=(W+K)/W,de=tt(z,function(xe){return xe/le});return{delta:100*le-100,newSizes:de}}return{delta:K,newSizes:z}}}}function ug(){function _(D,z,W,K,Q){var le=vh(D,0<=K?W:z,K,Q);return np(D,z,W+1,[le,-le],Lo)}return{resizeTable:function(D,z,W){W&&D(z)},clampTableDelta:function(D,z,W,K,Q){if(Q){if(0<=W)return W;var le=Kn(D,function(de,xe){return de+xe-K},0);return Math.max(-le,W)}return ss(D,z,W,K)},calcLeftEdgeDeltas:_,calcMiddleDeltas:function(D,z,W,K,Q,le){return _(D,W,K,Q,le)},calcRightEdgeDeltas:function(D,z,W,K,Q,le){return le?Lo(D):tt(D,Pn(K/D.length))},calcRedestributedWidths:function(D,z,W,K){return{delta:0,newSizes:D}}}}function Em(_,D,z){var W=z.substring(0,z.length-_.length),K=parseFloat(W);return W===K.toString()?D(K):yh.invalid(z)}function cg(_,D,z){var W,K,Q,le,de=Ic.from(z),xe=Un(_,function(Te){return"0px"===Te})?(W=_.length,K=de.fold(function(){return Pn("")},function(Te){return Pn(Te/W+"px")},function(){return Pn(100/W+"%")}),jt(W,K)):(Q=_,le=D,de.fold(function(){return Q},function(Te){return Ee=(Ne=Te)/le,tt(Q,function(Oe){return Ic.from(Oe).fold(function(){return Oe},function(nt){return nt*Ee+"px"},function(nt){return nt/100*Ne+"px"})});var Ne,Ee},function(Te){return Ne=le,tt(Q,function(Ee){return Ic.from(Ee).fold(function(){return Ee},function(Oe){return Oe/Ne*100+"%"},function(Oe){return Oe+"%"})});var Ne}));return Oo(xe)}function pu(_,D){return 0===_.length?D:Pr(_,function(z,W){return Ic.from(W).fold(Pn(0),Tt,Tt)+z},0)}function th(_){return lv(_).fold(Pn("px"),Pn("px"),Pn("%"))}function Qc(_,D,z){var W=_r.fromTable(_),K=W.all,Q=_r.justCells(W),le=_r.justColumns(W);D.each(function(de){var xe,Te,Ne,Ee,Oe=th(de),nt=_l(_),Fe=cg(Pm(W,_,bi,tp),nt,de);_r.hasColumns(W)?(Ne=Fe,Ee=Oe,Gt(le,function(Qe,gt){var Ve=pu([Ne[gt]],Kc());Ko(Qe.element,"width",Ve+Ee)})):(xe=Fe,Te=Oe,Gt(Q,function(Qe){var gt=pu(xe.slice(Qe.column,Qe.colspan+Qe.column),Kc());Ko(Qe.element,"width",gt+Te)})),Ko(_,"width",de)}),z.each(function(de){var xe=th(de),Te=Hu(_),Ne=cg(ag(W,_,gn,O1,tp),Te,de),Ee=K,Oe=xe;Gt(Q,function(nt){var Fe=pu(Ne.slice(nt.row,nt.rowspan+nt.row),Dn());Ko(nt.element,"height",Fe+Oe)}),Gt(Ee,function(nt,Fe){Ko(nt.element,"height",Ne[Fe])}),Ko(_,"height",de)})}function Bs(_){return _r.fromTable(_).grid}function vs(_){var D=[];return{bind:function(z){if(void 0===z)throw new Error("Event bind error: undefined handler");D.push(z)},unbind:function(z){D=hn(D,function(W){return W!==z})},trigger:function(){for(var z=[],W=0;W<arguments.length;W++)z[W]=arguments[W];var K={};Gt(_,function(Q,le){K[Q]=z[le]}),Gt(D,function(Q){Q(K)})}}}function aa(_){return{registry:ei(_,function(D){return{bind:D.bind,unbind:D.unbind}}),trigger:ei(_,function(D){return D.trigger})}}function ul(_){return _.slice(0).sort()}function nh(_,D){var z=hn(D,function(W){return!Qt(_,W)});0<z.length&&function(){throw new Error("Unsupported keys for object: "+ul(z).join(", "))}()}function rh(_){return function(D,z,W){if(0===z.length)throw new Error("You must specify at least one required field.");var K;return function(Q,le){if(!xr(le))throw new Error("The "+Q+" fields must be an array. Was: "+le+".");Gt(le,function(de){if(!Mn(de))throw new Error("The value "+de+" in the "+Q+" fields was not a string.")})}("required",z),Yr(K=ul(z),function(Q,le){return le<K.length-1&&Q===K[le+1]}).each(function(Q){throw new Error("The field: "+Q+" occurs more than once in the combined fields: ["+K.join(", ")+"].")}),function(Q){var le=tr(Q);Un(z,function(xe){return Qt(le,xe)})||function(xe,Te){throw new Error("All required keys ("+ul(xe).join(", ")+") were not specified. Specified keys were: "+ul(Te).join(", ")+".")}(z,le),D(z,le);var de=hn(z,function(xe){return!W.validate(Q[xe],xe)});return 0<de.length&&function(xe,Te){throw new Error("All values need to be of type: "+Te+". Keys ("+ul(xe).join(", ")+") were not.")}(de,W.label),Q}}(nh,_,{validate:wo,label:"function"})}function Sl(_){function D(){return _.stopPropagation()}function z(){return _.preventDefault()}var W,K,Q=at.fromDom(function(de){if(Wf()&&ai(de.target)){var xe=at.fromDom(de.target);if(Ol(xe)&&function(_){return ai(_.dom.shadowRoot)}(xe)&&de.composed&&de.composedPath){var Te=de.composedPath();if(Te)return Yn(Te)}}return je.from(de.target)}(_).getOr(_.target)),le=(W=z,K=D,function(){for(var de=[],xe=0;xe<arguments.length;xe++)de[xe]=arguments[xe];return W(K.apply(null,de))});return{target:Q,x:_.clientX,y:_.clientY,stop:D,prevent:z,kill:le,raw:_}}function ys(_,D,z){return le=Ea,de=z,(W=_).dom.addEventListener(K=D,xe=function(Te){le(Te)&&de(Sl(Te))},!1),{unbind:or(W1,W,K,xe,!1)};var W,K,le,de,xe}function dg(_){return void 0!==_.dom.classList}function Hd(_,D){dg(_)?_.dom.classList.add(D):function ed(_,D){return K=D,Bi(_,"class",(void 0===(W=zi(_,"class"))||""===W?[]:W.split(" ")).concat([K]).join(" ")),1;var W,K}(_,D)}function fg(_,D){return dg(_)&&_.dom.classList.contains(D)}function hg(_){var D=_.replace(/\./g,"-");return{resolve:function(z){return D+"-"+z}}}function Wd(_){return ea(_,"[contenteditable]")}function Fl(_,D){return void 0===D&&(D=!1),!Ut().browser.isIE()&&sr(_)?_.dom.isContentEditable:Wd(_).fold(Pn(D),function(z){return"true"===G1(z)})}function ha(_){Gt(_i(_.parent(),"."+sa),ra)}function oh(_,D,z){var W=_.origin();Gt(D,function(K){K.each(function(Q){var le=z(W,Q);Hd(le,sa),Dr(_.parent(),le)})})}function gu(_,D){var z;ha(_),_.isResizable(D)&&function Gd(_,D,z,W,K){var Q,le,de,xe,Te,Ne=Wo(z),Ee=D.isResizable,Oe=0<W.length?gn.positions(W,z):[],nt=0<Oe.length?(Q=Ee,kr(_.all,function(On,ur){return Q(On.element)?[ur]:[]})):[];le=D,de=hn(Oe,function(On,ur){return en(nt,function(Qn){return ur===Qn})}),xe=Ne,Te=zl(z),oh(le,de,function(On,ur){var Qn,hr,Er,wr,Br,Ur=(Qn=ur.row,hr=xe.left-On.left,Er=ur.y-On.top,wr=Te,Gi(Br=at.fromTag("div"),{position:"absolute",left:hr+"px",top:Er-3.5+"px",height:"7px",width:wr+"px"}),yi(Br,{"data-row":Qn,role:"presentation"}),Br);return Hd(Ur,uv),Ur});var Qe,gt,Ve,rt,Pt,Ze,Et,yt=0<K.length?Sr.positions(K,z):[],An=0<yt.length?(gt=Ee,Ve=[],jt((Qe=_).grid.columns,function(On){_r.getColumnAt(Qe,On).map(function(ur){return ur.element}).forall(gt)&&Ve.push(On)}),hn(Ve,function(On){return Un(_r.filterItems(Qe,function(ur){return ur.column===On}),function(ur){return gt(ur.element)})})):[];rt=D,Pt=hn(yt,function(On,ur){return en(An,function(Qn){return ur===Qn})}),Ze=Ne,Et=yc(z),oh(rt,Pt,function(On,ur){var Qn,hr,Er,wr,Br,Ur=(Qn=ur.col,hr=ur.x-On.left,Er=Ze.top-On.top,wr=Et,Gi(Br=at.fromTag("div"),{position:"absolute",left:hr-3.5+"px",top:Er+"px",height:wr+"px",width:"7px"}),yi(Br,{"data-column":Qn,role:"presentation"}),Br);return Hd(Ur,Qy),Ur})}(z=_r.fromTable(D),_,D,Ja(z),qf(z))}function Si(_,D){Gt(_i(_.parent(),"."+sa),D)}function Ud(_){Si(_,function(D){Ko(D,"display","none")})}function Ci(_){Si(_,function(D){Ko(D,"display","block")})}function _c(_,D){return _.fire("newrow",{node:D})}function Bm(_,D){return _.fire("newcell",{node:D})}function Hl(_,D,z){_.fire("TableModified",Wn(Wn({},z),{table:D}))}function Sa(_){return _.getParam("table_sizing_mode","auto")}function zm(_){return _.getParam("table_responsive_width")}function Vy(_){return _.getParam("table_border_widths",Mp,"array")}function ih(_){return _.getParam("table_border_styles",fv,"array")}function Vm(_){return _.getParam("table_default_attributes",tf,"object")}function op(_){return _.getParam("table_default_styles",function(D){var z;if(nf(D)){var W=D.dom,K=null!==(z=W.getParent(D.selection.getStart(),W.isBlock))&&void 0!==z?z:D.getBody(),Q=Se(at.fromDom(K));return Wn(Wn({},dv),{width:Q+"px"})}return tc(D)?bn(dv,function(le,de){return"width"!==de}):dv}(_),"object")}function zs(_){return _.getParam("table_cell_advtab",!0,"boolean")}function Vs(_){return _.getParam("table_row_advtab",!0,"boolean")}function Uu(_){return _.getParam("table_advtab",!0,"boolean")}function td(_){return _.getParam("table_style_by_css",!1,"boolean")}function ju(_){return _.getParam("table_cell_class_list",[],"array")}function ip(_){return _.getParam("table_class_list",[],"array")}function Cl(_){return"relative"===Sa(_)||!0===zm(_)}function xo(_){var D="section",z=_.getParam("table_header_type",D,"string");return Qt(["section","cells","sectionCells","auto"],z)?z:D}function nd(_){var D=_.getParam("table_column_resizing",fd,"string");return Yr(["preservetable","resizetable"],function(z){return z===D}).getOr(fd)}function Wl(_){return"preservetable"===nd(_)}function Fm(_){return"resizetable"===nd(_)}function rd(_){var D=_.getParam("table_clone_elements");return Mn(D)?je.some(D.split(/[ ,]/)):Array.isArray(D)?je.some(D):je.none()}function Hm(_){return _.getParam("table_background_color_map",[],"array")}function Fy(_){return _.getParam("table_border_color_map",[],"array")}function pg(_,D){return(Cl(_)?Qd:nf(_)?wp:av)(D)}function Ro(_){$o(_,"width")}function wc(_){return"false"!==zi(_,"data-mce-resize")}function ns(_,D){return{element:_,offset:D}}function Yu(_,D){return(_.property().isText(D)?_.property().getText(D):_.property().children(D)).length}function Xu(_,D){1===Xc(_,"colspan")&&Hn(_).bind(function(z){return W=["fixed","relative","empty"],je.from(Jn.exec(z)).bind(function(K){var Q=Number(K[1]),le=K[2],de=le;return en(W,function(xe){return en(fr[xe],function(Te){return de===Te})})?je.some({value:Q,unit:le}):je.none()});var W}).each(function(z){var W=z.value/2;oa(_,W,z.unit),oa(D,W,z.unit)})}function Ml(_){return Un(_,function(D){return Dl(D.element)})}function ah(_){var D="thead"===_.section,z=As(Ba(_.cells),"th");return D||z?{type:"header",subType:D&&z?"sectionCells":D?"section":"cells"}:"tfoot"===_.section?{type:"footer"}:{type:"body"}}function La(_,D,z){return Xo(z(_.element,D),!0,_.isLocked)}function Cc(_,D){return _.section!==D?ca(_.element,_.cells,D,_.isNew):_}function Fs(){return{transformRow:Cc,transformCell:function(_,D,z){var W,K,Q=z(_.element,D);return Xo("td"!==$n(Q)?(K=uu(W=Q,"td"),gs(W,K),Di(K,vi(W)),ra(W),K):Q,_.isNew,_.isLocked)}}}function ap(){return{transformRow:Cc,transformCell:La}}function qu(){return{transformRow:function(_,D){return Cc(_,"thead"===D?"tbody":D)},transformCell:La}}function od(_,D,z,W){z===W?$o(_,D):Bi(_,D,z)}function id(_,D,z){dt($h(_,D)).fold(function(){return ms(_,z)},function(W){return fa(W,z)})}function Mc(_,D){if(0===_.length)return 0;var z=_[0];return ue(_,function(W){return!D(z.element,W.element)}).getOr(_.length)}function Zu(_,D,z){var W=[];Gt(_.colgroups,function(Ne){for(var Ee=[],Oe=0;Oe<_.grid.columns;Oe++){var nt=_r.getColumnAt(_,Oe).map(function(Fe){return Xo(Fe.element,z,!1)}).getOrThunk(function(){return Xo(D.colGap(),!0,!1)});Ee.push(nt)}W.push(ca(Ne.element,Ee,"colgroup",z))});for(var K=0;K<_.grid.rows;K++){for(var Q=[],le=0;le<_.grid.columns;le++){var de=_r.getAt(_,K,le).map(function(Ne){return Xo(Ne.element,z,Ne.isLocked)}).getOrThunk(function(){return Xo(D.gap(),!0,!1)});Q.push(de)}var xe=_.all[K],Te=ca(xe.element,Q,xe.section,z);W.push(Te)}return W}function mu(_){return function Wy(_,D){var z=tt(_,function(W){return tt(W.cells,Zr)});return tt(_,function(W,K){var Q=kr(W.cells,function(le,de){if(!1!==z[K][de])return[];var xe,Te,Ne,Ee,Oe,nt,Fe,Qe,gt=(Ee=D,Qe="colgroup"===(Fe=(xe=_)[Te=K]).section,{colspan:Mc(Fe.cells.slice(Ne=de),Ee),rowspan:Qe?1:Mc((Oe=xe.slice(Te),nt=Ne,tt(Oe,function(Ve){return Xa(Ve,nt)})),Ee)});return function(Ve,rt,Pt,Ze){for(var Et=Ve;Et<Ve+Pt;Et++)for(var yt=rt;yt<rt+Ze;yt++)z[Et][yt]=!0}(K,de,gt.rowspan,gt.colspan),[{element:le.element,rowspan:gt.rowspan,colspan:gt.colspan,isNew:le.isNew}]});return{element:W.element,cells:Q,section:W.section,isNew:W.isNew}})}(_,Rn)}function Tc(_,D){return ge(_.all,function(z){return Yr(z.cells,function(W){return Rn(D,W.element)})})}function Gy(_,D,z){var W=Is(tt(D.selection,function(K){return ps(K).bind(function(Q){return Tc(_,Q)}).filter(z)}));return Ua(0<W.length,W)}function pa(_,D,z,W,K){return function(Q,le,de,xe,Te){var Ne=_r.fromTable(le),Ee=je.from(null==Te?void 0:Te.section).getOrThunk(Cg);return D(Ne,de).map(function(Oe){var nt=Zu(Ne,xe,!1),Fe=_(nt,Oe,Rn,K(xe),Ee),Qe=ol(Fe.grid);return{info:Oe,grid:mu(Fe.grid),cursor:Fe.cursor,lockedColumns:Qe}}).bind(function(Oe){var nt=function Hy(_,D){function W(Ne,Ee){0<Ne.length?function z(Ne,Ee){var Oe,nt,Fe;Di((Qh(Fe=jc(Oe=_,nt=Ee).getOrThunk(function(){var Qe=at.fromTag(nt,pi(Oe).dom);return"thead"===nt?id(Oe,"caption,colgroup",Qe):"colgroup"===nt?id(Oe,"caption",Qe):Dr(Oe,Qe),Qe})),Fe),("colgroup"===Ee?function(Qe){return kr(Qe,function(gt){return tt(gt.cells,function(Ve){return od(Ve.element,"span",Ve.colspan,1),Ve.element})})}:function(Qe){return tt(Qe,function(gt){gt.isNew&&K.push(gt.element);var Ve=gt.element;return Qh(Ve),Gt(gt.cells,function(rt){rt.isNew&&Q.push(rt.element),od(rt.element,"colspan",rt.colspan,1),od(rt.element,"rowspan",rt.rowspan,1),Dr(Ve,rt.element)}),Ve})})(Ne))}(Ne,Ee):jc(_,Ee).each(ra)}var K=[],Q=[],le=[],de=[],xe=[],Te=[];return Gt(D,function(Ne){switch(Ne.section){case"thead":le.push(Ne);break;case"tbody":de.push(Ne);break;case"tfoot":xe.push(Ne);break;case"colgroup":Te.push(Ne)}}),W(Te,"colgroup"),W(le,"thead"),W(de,"tbody"),W(xe,"tfoot"),{newRows:K,newCells:Q}}(le,Oe.grid),Fe=je.from(null==Te?void 0:Te.sizing).getOrThunk(function(){return av(le)}),Qe=je.from(null==Te?void 0:Te.resize).getOrThunk(ug);return z(le,Oe.grid,Oe.info,{sizing:Fe,resize:Qe,section:Ee}),W(le),gu(Q,le),$o(le,Po),0<Oe.lockedColumns.length&&Bi(le,Po,Oe.lockedColumns.join(",")),je.some({cursor:Oe.cursor,newRows:nt.newRows,newCells:nt.newCells})})}}function sp(_,D){return Gy(_,D,er).map(function(z){return{cells:z,generators:D.generators,clipboard:D.clipboard}})}function Ra(_,D){return Gy(_,D,er)}function Gl(_,D){return Gy(_,D,function(z){return!z.isLocked})}function Wm(_,D){return Un(D,function(z){return Tc(_,z).exists(function(W){return!W.isLocked})})}function Ku(_,D){return D.mergable.filter(function(z){return Wm(_,z.cells)})}function $u(_,D){return D.unmergable.filter(function(z){return Wm(_,z)})}function ad(_,D,z,W){for(var K=Vi(_).rows,Q=!0,le=0;le<K.length;le++)for(var de=0;de<ki(K[0]);de++){var xe=K[le],Te=Xa(xe,de),Ne=z(Te.element,D);!0===Ne&&!1===Q?nl(xe,de,Xo(W(),!0,Te.isLocked)):!0===Ne&&(Q=!1)}return _}function rs(_,D){return{rowDelta:0,colDelta:ki(_[0])-ki(D[0])}}function Cr(_,D){return{rowDelta:_.length-D.length,colDelta:0}}function sh(_,D,z,W){var K="colgroup"===D.section?z.col:z.cell;return jt(_,function(Q){return Xo(K(),!0,W(Q))})}function Px(_,D,z,W){var K=_[_.length-1];return _.concat(jt(D,function(){var le=rl(K,"colgroup"===K.section?z.colgroup:z.row,Tt),de=sh(le.cells.length,le,z,function(xe){return Tr(W,xe.toString())});return Ns(le,de)}))}function Gm(_,D,z,W){return tt(_,function(K){var Q=sh(D,K,z,Zr);return tl(K,W,Q)})}function lp(_,D,z){var W=D.colDelta<0?Gm:Tt,K=D.rowDelta<0?Px:Tt,Q=ol(_),le=ki(_[0]),de=en(Q,function(Ne){return Ne===le-1}),xe=W(_,Math.abs(D.colDelta),z,de?le-1:le),Te=ol(xe);return K(xe,Math.abs(D.rowDelta),z,Tn(Te,er))}function Uo(_,D,z){return hn(z,function(W){return W>=_.column&&W<=ki(D[0])+_.column})}function Vr(_,D,z,W,K){var Q=_,le=K,de=W.cell;0<Q&&Q<D[0].cells.length&&Gt(D,function(Te){var Ee=Te.cells[Q];le(Ee.element,Te.cells[Q-1].element)&&nl(Te,Q,Xo(de(),!0,Ee.isLocked))});var xe=lp(z,Cr(z,D),W);return tt(lp(D,Cr(D,xe),W),function(Te,Ne){return tl(Te,_,xe[Ne].cells)})}function z1(_,D,z,W,K){!function Hs(_,D,z,W){var Q,le=Vi(_).rows;0<D&&D<le.length&&(Q=z,Gt(Kn(le[D-1].cells,function(de,xe){return en(de,function(Te){return Q(Te.element,xe.element)})?de:de.concat([xe])},[]),function(de){for(var xe=je.none(),Te=D;Te<le.length;Te++)for(var Ne=0;Ne<ki(le[0]);Ne++)!function(Ee){var Oe=le[Te],nt=Xa(Oe,Ee);z(nt.element,de.element)&&(xe=xe.isNone()?je.some(W()):xe).each(function(Fe){nl(Oe,Ee,Xo(Fe,!0,nt.isLocked))})}(Ne)}))}(D,_,K,W.cell);var Q,le,de=ol(D),xe=rs(D,z),Te=lp(D,Wn(Wn({},xe),{colDelta:xe.colDelta-de.length}),W),Ne=Vi(Te),Ee=Ne.cols,Oe=Ne.rows,nt=ol(Te),Fe=rs(z,D),Qe=Wn(Wn({},Fe),{colDelta:Fe.colDelta+nt.length}),gt=lp((Q=W,le=nt,tt(z,function(Ve){return Kn(le,function(rt,Pt){return Ls(rt,Pt,sh(1,Ve,Q,er)[0])},Ve)})),Qe,W);return Ee.concat(Oe.slice(0,_)).concat(gt).concat(Oe.slice(_,Oe.length))}function Ws(_,D,z,W,K){var le,de,xe,Te=Vi(_),Ne=Te.rows,Ee=Te.cols,Oe=Ne.slice(0,D),nt=Ne.slice(D),Fe=(le=function(Qe,gt){return 0<D&&D<Ne.length&&W(Eo(Ne[D-1],gt),Eo(Ne[D],gt))?Xa(Ne[D],gt):Xo(K(Qe.element,W),!0,Qe.isLocked)},de=W,xe=K,rl(Ne[z],function(Qe){return xe(Qe,de)},le));return Ee.concat(Oe).concat([Fe]).concat(nt)}function Ul(_,D,z,W,K){return tt(_,function(Q){var de,xe=0<D&&D<ki(Q)&&W(Eo(Q,D-1),Eo(Q,D)),Te=(de=K,"colgroup"!==Q.section&&xe?Xa(Q,D):Xo(de(Xa(Q,z).element,W),!0,!1));return Ls(Q,D,Te)})}function os(_,D,z,W){return void 0!==Eo((Q=_)[le=D],z)&&0<le&&W(Eo(Q[le-1],z),Eo(Q[le],z))||(K=_[D],0<z&&W(Eo(K,z-1),Eo(K,z)));var K,Q,le}function Yi(_,D,z,W){function K(Q){return("row"===Q?Uf:qc)(D)?Q+"group":Q}return _?Dl(D)?K(z):null:W&&Dl(D)?K("row"===z?"col":"row"):null}function Ju(_,D,z){return Xo(z(_.element,D),!0,_.isLocked)}function up(_,D,z,W,K,Q,le){return tt(_,function(de,xe){return Ee=tt((Te=de).cells,function(Oe,nt){if(Qe=Oe,en(D,function(gt){return z(Qe.element,gt.element)})){var Fe=le(Oe,xe,nt)?K(Oe,z,W):Oe;return Q(Fe,xe,nt).each(function(gt){var Ve=Fe.element;So({scope:je.from(gt)},function(rt,Pt){rt.fold(function(){$o(Ve,Pt)},function(Ze){ml(Ve.dom,Pt,Ze)})})}),Fe}return Oe;var Qe}),ca(Te.element,Ee,Te.section,Te.isNew);var Te,Ee})}function jl(_,D,z){return kr(_,function(W,K){return os(_,K,D,z)?[]:[Xa(W,D)]})}function ga(_,D,z,W,K){var Q,le,de,xe,Te=Vi(_).rows,Ne=kr(D,function(Fe){return jl(Te,Fe,W)}),Ee=tt(_,function(Fe){return Ml(Fe.cells)}),Oe=(Q=Ne,Un(le=Ee,Tt)&&Ml(Q)?er:function(Fe,Qe,gt){return!("th"===$n(Fe.element)&&le[Qe])}),nt=(de=z,xe=Ee,function(Fe,Qe){return je.some(Yi(de,Fe.element,"row",xe[Qe]))});return up(_,Ne,W,K,Ju,nt,Oe)}function lh(_,D,z,W){var K=Vi(_).rows;return up(_,tt(D,function(Q){return Xa(K[Q.row],Q.column)}),z,W,Ju,je.none,er)}function Yd(_){return Kn(_,function(D,z){return en(D,function(W){return W.column===z.column})?D:D.concat([z])},[]).sort(function(D,z){return D.column-z.column})}function eo(_){return"tr"===$n(_)||U1(_)}function Um(_){return{element:_,colspan:wa(_,"colspan",1),rowspan:wa(_,"rowspan",1)}}function gg(_){return so(_,"scope").map(function(D){return D.substr(0,3)})}function Xr(_){return D=_,z=za.property().name(D),Qt(Al,z);var D,z}function V1(_){return D=_,Qt(["ol","ul"],za.property().name(D));var D}function jm(_){return Fl(_,!0)}function jy(_){0===da(_).length&&ra(_)}function cp(_,D){return{grid:_,cursor:D}}function is(_,D,z){var W,K,Q,le,de;return cp(_,(W=D,K=z,de=Vi(_).rows,je.from(null===(le=null===(Q=de[W])||void 0===Q?void 0:Q.cells[K])||void 0===le?void 0:le.element).filter(jm).orThunk(function(){return ge(de,function(Te){return ge(Te.cells,function(Ne){var Ee=Ne.element;return Ua(jm(Ee),Ee)})})})))}function dp(_){return Kn(_,function(D,z){return en(D,function(W){return W.row===z.row})?D:D.concat([z])},[]).sort(function(D,z){return D.row-z.row})}function kc(_,D){return function(z,W,K,Q,le){return is(function(de,xe,Te,Ne,Ee,Oe,nt){var Fe=Vi(de),Qe=Fe.cols,gt=Fe.rows,Ve=gt[xe[0]],rt=kr(xe,function(hr){return Br=Ee,kr((Er=gt)[wr=hr].cells,function(Ur,Co){return os(Er,wr,Co,Br)?[]:[Ur]});var Er,wr,Br}),Pt=tt(Ve.cells,function(hr,Er){return Ml(jl(gt,Er,Ee))}),Ze=ko([],gt,!0);Gt(xe,function(hr){Ze[hr]=nt.transformRow(gt[hr],Te)});var Et,yt,An,Wt,On=Qe.concat(Ze),ur=(Et=Ve,Un(yt=Pt,Tt)&&Ml(Et.cells)?er:function(hr,Er,wr){return!("th"===$n(hr.element)&&yt[wr])}),Qn=(An=Ne,Wt=Pt,function(hr,Er,wr){return je.some(Yi(An,hr.element,"col",Wt[wr]))});return up(On,rt,Ee,Oe,nt.transformCell,Qn,ur)}(z,tt(dp(W),function(de){return de.row}),_,D,K,Q.replaceOrInit,le),W[0].row,W[0].column)}}function br(_,D,z){var W,K=(W=z.section,Ya(_,function(){return W}));return Zu(_r.generate(K),D,!0)}function fp(_,D,z,W){var K=W.sizing,Q=_r.generate(D);Vl(Q,K.getWidths(Q,K),K)}function mg(_,D,z,W){var K=z,Q=W.sizing,le=W.resize,de=_r.generate(D),xe=Q.getWidths(de,Q),Te=Q.pixelWidth(),Ne=le.calcRedestributedWidths(xe,Te,K.pixelDelta,Q.isRelative),Oe=Ne.delta;Vl(de,Ne.newSizes,Q),Q.adjustTableWidth(Oe)}function sd(_,D){return en(D,function(z){return 0===z.column&&z.isLocked})}function Ym(_,D){return en(D,function(z){return z.column+z.colspan>=_.grid.columns&&z.isLocked})}function bs(_,D){var z=qf(_);return Kn(Yd(D),function(W,K){return W+z[K.column].map(zl).getOr(0)},0)}function Qu(_){return function(D,z){return Ra(D,z).filter(function(W){return!(_?sd:Ym)(D,W)}).map(function(W){return{details:W,pixelDelta:bs(D,W)}})}}function uh(_){return function(D,z){return sp(D,z).filter(function(W){return!(_?sd:Ym)(D,W.cells)})}}function Xd(_,D){var z=_r.fromTable(_);return Ra(z,D).bind(function(W){var K=W[W.length-1],Q=W[0].column,le=K.column+K.colspan,de=Ht(tt(z.all,function(xe){return hn(xe.cells,function(Te){return Te.column>=Q&&Te.column<le})}));return Ba(de)}).getOr("")}function ch(_,D){return Ra(_r.fromTable(_),D).bind(Ba).getOr("")}function hp(_,D,z,W){return jt(_,function(K){return function(Q,le,de,xe){for(var Te=at.fromTag("tr"),Ne=0;Ne<Q;Ne++){var Ee=at.fromTag(xe<le||Ne<de?"th":"td");Ne<de&&Bi(Ee,"scope","row"),xe<le&&Bi(Ee,"scope","col"),Dr(Ee,at.fromTag("br")),Dr(Te,Ee)}return Te}(D,z,W,K)})}function dh(_,D){_.selection.select(D.dom,!0),_.selection.collapse(!0)}function ld(_,D,z,W,K){var Q=op(_),le={styles:Q,attributes:Vm(_),colGroups:_.getParam("table_use_colgroups",!1,"boolean")};return _.undoManager.ignore(function(){var de=function(Oe,nt,Fe,Qe,gt,Ve){void 0===Ve&&(Ve=pd);var rt,Pt,Ze=at.fromTag("table"),Et="cells"!==gt;Gi(Ze,Ve.styles),yi(Ze,Ve.attributes),Ve.colGroups&&Dr(Ze,(rt=nt,Pt=at.fromTag("colgroup"),jt(rt,function(){return Dr(Pt,at.fromTag("col"))}),Pt));var yt,An=Math.min(Oe,Fe);Et&&0<Fe&&(yt=at.fromTag("thead"),Dr(Ze,yt),Di(yt,hp(Fe,nt,"sectionCells"===gt?An:0,Qe)));var Wt=at.fromTag("tbody");return Dr(Ze,Wt),Di(Wt,hp(Et?Oe-An:Oe,nt,Et?0:Fe,Qe)),Ze}(z,D,K,W,xo(_),le);Bi(de,"data-mce-id","__mce");var xe,Te,Ne,Ee=(xe=de,Te=at.fromTag("div"),Ne=at.fromDom(xe.dom.cloneNode(!0)),Dr(Te,Ne),Te.dom.innerHTML);_.insertContent(Ee),_.addVisual()}),Qs(sl(_),'table[data-mce-id="__mce"]').map(function(de){var xe,Te,Ne;return nf(_)?hv(de):tc(_)?bh(de):(Cl(_)||Mn(xe=Q.width)&&-1!==xe.indexOf("%"))&&bu(de),ll(de),$o(de,"data-mce-id"),Te=_,Gt(_i(de,"tr"),function(Ee){_c(Te,Ee.dom),Gt(_i(Ee,"th,td"),function(Oe){Bm(Te,Oe.dom)})}),Ne=_,Qs(de,"td,th").each(or(dh,Ne)),de.dom}).getOr(null)}function Xm(_,D,z,W,K){function Q(de){return fo(de)&&0<de}return void 0===W&&(W={}),Q(D)&&Q(z)?ld(_,z,D,W.headerColumns||0,W.headerRows||0):(console.error(K),null)}function vg(_){return function(){return _().fold(function(){return[]},function(D){return tt(D,function(z){return z.dom})})}}function pp(_){return function(D){var z=0<D.length?je.some(lg(D)):je.none();_(z)}}function ud(_,D,z){var W=wa(_,D,1);1===z||W<=1?$o(_,D):Bi(_,D,Math.min(z,W))}function gp(_,D,z){return function(W,K){for(var Q=0;Q<K.length;Q++){var le=_.getStyle(K[Q],z);if((W=void 0===W?le:W)!==le)return""}return W}(void 0,_.select("td,th",D))}function fh(_,D,z){z&&_.formatter.apply("align"+z,{},D)}function qd(_,D){wh.each("left center right".split(" "),function(z){_.formatter.remove("align"+z,{},D)})}function qm(_){return r0.test(z=_)||Sh.test(z)?je.some({value:(ot(D=_,"#")?D.substring(1):D).toUpperCase()}):je.none();var D,z}function Yy(_){var D=_.toString(16);return(1===D.length?"0"+D:D).toUpperCase()}function Xy(_){return{value:Yy(_.red)+Yy(_.green)+Yy(_.blue)}}function Gs(_,D,z,W){return{red:_,green:D,blue:z,alpha:W}}function yg(_,D,z,W){return Gs(parseInt(_,10),parseInt(D,10),parseInt(z,10),parseFloat(W))}function Zd(_){var D=_;return{get:function(){return D},set:function(z){D=z}}}function Kd(_){function D(){return z.get().each(_)}var z=Zd(je.none());return{clear:function(){D(),z.set(je.none())},isSet:function(){return z.get().isSome()},get:function(){return z.get()},set:function(W){D(),z.set(je.some(W))}}}function bg(){var _=Kd(Fn);return Wn(Wn({},_),{on:function(D){return _.get().each(D)}})}function Zm(_){return Ga(_,"menu")}function Oa(_,D){return function(z){var W;_.execCommand("mceTableApplyCellStyle",!1,((W={})[D]=z,W))}}function Tl(_,D,z,W,K){return function(Q){return Q(rc(_,D,z,W,K))}}function cd(_,D,z){var W=tt(D,function(K){return{text:K.title,value:"#"+qm(Q=K.value).orThunk(function(){return function(le){if("transparent"===le)return je.some(Gs(0,0,0,0));var de=Lp.exec(le);if(null!==de)return je.some(yg(de[1],de[2],de[3],"1"));var xe=Ch.exec(le);return null!==xe?je.some(yg(xe[1],xe[2],xe[3],xe[4])):je.none()}(Q).map(Xy)}).getOrThunk(function(){var le=document.createElement("canvas");le.height=1,le.width=1;var de=le.getContext("2d");de.clearRect(0,0,le.width,le.height),de.fillStyle="#FFFFFF",de.fillStyle=Q,de.fillRect(0,0,1,1);var xe=de.getImageData(0,0,1,1).data;return Xy(Gs(xe[0],xe[1],xe[2],xe[3]))}).value,type:"choiceitem"};var Q});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:0<W.length?W:void 0,allowCustomColors:!1},onAction:function(K){var Q;_.execCommand("mceTableApplyCellStyle",!1,((Q={})[z]="remove"===K.value?"":K.value,Q))}}]}function xg(_){return function(){var D=_.queryCommandValue("mceTableRowType");_.execCommand("mceTableRowType",!1,{type:"header"===D?"body":"header"})}}function Km(_){return function(){var D=_.queryCommandValue("mceTableColType");_.execCommand("mceTableColType",!1,{type:"th"===D?"td":"th"})}}function mp(_){return Ag.concat((0<(D=lf(ju(_))).length?je.some({name:"class",type:"listbox",label:"Class",items:D}):je.none()).toArray());var D}function ec(_,D){var z=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(lf(ih(_)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===D?[{name:"borderwidth",type:"input",label:"Border width"}].concat(z):z}}function _t(_){return function(D,z){var W=D.dom;return{setAttrib:function(K,Q){_&&!Q||W.setAttrib(z,K,Q)},setStyle:function(K,Q){_&&!Q||W.setStyle(z,K,Q)},setFormat:function(K,Q){_&&!Q||(""===Q?D.formatter.remove(K,{value:null},z,!0):D.formatter.apply(K,{value:Q},z))}}}}function dd(_){return function(D){return ot(D,"rgb")?_.toHex(D):D}}function hh(_,D){var z=at.fromDom(D);return{borderwidth:Ps(z,"border-width").getOr(""),borderstyle:Ps(z,"border-style").getOr(""),bordercolor:Ps(z,"border-color").map(dd(_)).getOr(""),backgroundcolor:Ps(z,"background-color").map(dd(_)).getOr("")}}function _g(_){var D=_[0];return Gt(_.slice(1),function(z){Gt(tr(D),function(W){So(z,function(K,Q){var le=D[W];""!==le&&W===Q&&le!==K&&(D[W]="")})})}),D}function $m(_,D,z,W){return Yr(_,function(K){return!ua(z.formatter.matchNode(W,D+K))}).getOr("")}function qy(_,D){var z=_r.fromTable(_);return tt(hn(_r.justCells(z),function(W){return en(D,function(K){return Rn(W.element,K)})}),function(W){return{element:W.element.dom,column:_r.getColumnAt(z,W.column).map(function(K){return K.element.dom})}})}function Jo(_,D,z,W){var K=W.getData();W.close(),_.undoManager.transact(function(){var Q,le=_,de=D,xe=z,Te=bn(Q=K,function(Ne,Ee){return xe[Ee]!==Ne});0<_n(Te)&&1<=de.length&&yo(de[0]).each(function(Ne){var Ee,Oe,nt,Fe=qy(Ne,de),Qe=0<_n(bn(Te,function(Ve,rt){return"scope"!==rt&&"celltype"!==rt})),gt=Tr(Te,"celltype");(Qe||Tr(Te,"scope"))&&(Ee=le,Oe=Q,nt=1===Fe.length,Gt(Fe,function(Ve){var rt,Pt,Ze,Et,yt,An,Wt=Ve.element,On=nt?md.normal(Ee,Wt):md.ifTruthy(Ee,Wt),ur=Ve.column.map(function(hr){return nt?md.normal(Ee,hr):md.ifTruthy(Ee,hr)}).getOr(On),Qn=Oe;(rt=On).setAttrib("scope",Qn.scope),rt.setAttrib("class",Qn.class),rt.setStyle("height",ui(Qn.height)),ur.setStyle("width",ui(Qn.width)),zs(Ee)&&((Pt=On).setFormat("tablecellbackgroundcolor",(Ze=Oe).backgroundcolor),Pt.setFormat("tablecellbordercolor",Ze.bordercolor),Pt.setFormat("tablecellborderstyle",Ze.borderstyle),Pt.setFormat("tablecellborderwidth",ui(Ze.borderwidth))),nt&&(qd(Ee,Wt),Et=Ee,yt=Wt,wh.each("top middle bottom".split(" "),function(hr){Et.formatter.remove("valign"+hr,{},yt)})),Oe.halign&&fh(Ee,Wt,Oe.halign),!Oe.valign||(An=Oe.valign)&&Ee.formatter.apply("valign"+An,{},Wt)})),gt&&le.execCommand("mceTableCellType",!1,{type:Q.celltype,no_events:!0}),Hl(le,Ne.dom,{structure:gt,style:Qe})}),_.focus()})}function Jm(_,D){var z,W,K,Q,le,de=Dc(D);0!==de.length&&(W=_,z=_g(yo((K=de)[0]).map(function(xe){return tt(qy(xe,K),function(Te){return Ee=W,Oe=Te.element,nt=zs(W),Qe=Ee.dom,gt=Te.column.getOr(Oe),Wn({width:Ne(gt,"width"),height:Ne(Oe,"height"),scope:Qe.getAttrib(Oe,"scope"),celltype:Oe.nodeName.toLowerCase(),class:Qe.getAttrib(Oe,"class",""),halign:Rp(Ee,Oe),valign:Ox(Ee,Oe)},nt?hh(Qe,Oe):{});function Ne(Ve,rt){return Qe.getStyle(Ve,rt)||Qe.getAttrib(Ve,rt)}var Ee,Oe,nt,Qe,gt})}).getOrDie()),Q={type:"tabpanel",tabs:[{title:"General",name:"general",items:mp(_)},ec(_,"cell")]},le={type:"panel",items:[{type:"grid",columns:2,items:mp(_)}]},_.windowManager.open({title:"Cell Properties",size:"normal",body:zs(_)?Q:le,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:z,onSubmit:or(Jo,_,de,z)}))}function wg(_){return o0.concat((0<(D=lf(_.getParam("table_row_class_list",[],"array"))).length?je.some({name:"class",type:"listbox",label:"Class",items:D}):je.none()).toArray());var D}function F1(_,D,z,W){var K=W.getData();W.close(),_.undoManager.transact(function(){var Q,le,de,xe,Te,Ne,Ee,Oe=_,nt=D,Fe=z,Qe=bn(Q=K,function(gt,Ve){return Fe[Ve]!==gt});0<_n(Qe)&&(le=Tr(Qe,"type"),(de=!le||1<_n(Qe))&&(xe=Oe,Te=Q,Ne=Fe,Ee=1===nt.length,Gt(nt,function(gt){var Ve,rt,Pt,Ze=Ee?md.normal(xe,gt):md.ifTruthy(xe,gt),Et=Te;(Ve=Ze).setAttrib("class",Et.class),Ve.setStyle("height",ui(Et.height)),Vs(xe)&&((rt=Ze).setStyle("background-color",(Pt=Te).backgroundcolor),rt.setStyle("border-color",Pt.bordercolor),rt.setStyle("border-style",Pt.borderstyle)),Te.align!==Ne.align&&(qd(xe,gt),fh(xe,gt,Te.align))})),le&&Oe.execCommand("mceTableRowType",!1,{type:Q.type,no_events:!0}),yo(at.fromDom(nt[0])).each(function(gt){return Hl(Oe,gt.dom,{structure:le,style:de})})),_.focus()})}function as(_){var D,z,W,K,Q,le,de,xe=(D=Qf(_),z=Us.selected,K=(W=Sp(D)).bind(function(Te){return yo(Te)}).map(bl),hs(W,K,function(Te,Ne){return hn(Ne,function(Ee){return en(lg(Ee.dom.cells),function(Oe){return"1"===zi(Oe,z)||Rn(Oe,Te)})})}).getOr([]));0!==xe.length&&(Q=_g(tt(xe,function(Te){return Ne=_,Ee=Te.dom,Oe=Vs(_),Wn({height:(Fe=Ne.dom).getStyle(Ee,"height")||Fe.getAttrib(Ee,"height"),class:Fe.getAttrib(Ee,"class",""),type:yo(at.fromDom(nt=Ee)).map(function(Qe){var gt={selection:lg(nt.cells)};return Ri(Qe,gt)}).getOr(""),align:Rp(Ne,Ee)},Oe?hh(Fe,Ee):{});var Ne,Ee,Oe,nt,Fe})),le={type:"tabpanel",tabs:[{title:"General",name:"general",items:wg(_)},ec(_,"row")]},de={type:"panel",items:[{type:"grid",columns:2,items:wg(_)}]},_.windowManager.open({title:"Row Properties",size:"normal",body:Vs(_)?le:de,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Q,onSubmit:or(F1,_,tt(xe,function(Te){return Te.dom}),Q)}))}function ph(_,D,z,W){var K=_.dom,Q=W.getData(),le=bn(Q,function(de,xe){return z[xe]!==de});W.close(),""===Q.class&&delete Q.class,_.undoManager.transact(function(){var de,xe,Te,Ne,Ee;D||(de=parseInt(Q.cols,10)||1,xe=parseInt(Q.rows,10)||1,D=ld(_,de,xe,0,0)),0<_n(le)&&(function(Oe,nt,Fe){var Qe,gt=Oe.dom,Ve={},rt={};if(Ve.class=Fe.class,rt.height=ui(Fe.height),gt.getAttrib(nt,"width")&&!td(Oe)?Ve.width=(Qe=Fe.width)?Qe.replace(/px$/,""):"":rt.width=ui(Fe.width),td(Oe)?(rt["border-width"]=ui(Fe.border),rt["border-spacing"]=ui(Fe.cellspacing)):(Ve.border=Fe.border,Ve.cellpadding=Fe.cellpadding,Ve.cellspacing=Fe.cellspacing),td(Oe)&&nt.children)for(var Pt=0;Pt<nt.children.length;Pt++)Mh(gt,nt.children[Pt],{"border-width":ui(Fe.border),padding:ui(Fe.cellpadding)}),Uu(Oe)&&Mh(gt,nt.children[Pt],{"border-color":Fe.bordercolor});Uu(Oe)&&(rt["background-color"]=Fe.backgroundcolor,rt["border-color"]=Fe.bordercolor,rt["border-style"]=Fe.borderstyle),Ve.style=gt.serializeStyle(Wn(Wn({},op(Oe)),rt)),gt.setAttribs(nt,Wn(Wn({},Vm(Oe)),Ve))}(_,D,Q),((Te=K.select("caption",D)[0])&&!Q.caption||!Te&&Q.caption)&&_.execCommand("mceTableToggleCaption"),""===Q.align?qd(_,D):fh(_,D,Q.align)),_.focus(),_.addVisual(),0<_n(le)&&(Ee=!(Ne=Tr(le,"caption"))||1<_n(le),Hl(_,D,{structure:Ne,style:Ee}))})}function vp(_,D){var z,W,K,Q,le,de,xe,Te,Ne,Ee,Oe,nt,Fe,Qe,gt,Ve,rt,Pt,Ze,Et=_.dom,yt=(K=Uu(W=_),Te=op(W),Ne=Vm(W),Ee=K?(Q=W.dom,{borderstyle:Do(Te,"border-style").getOr(""),bordercolor:dd(Q)(Do(Te,"border-color").getOr("")),backgroundcolor:dd(Q)(Do(Te,"background-color").getOr(""))}):{},Wn(Wn(Wn(Wn(Wn(Wn({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),Te),Ne),Ee),(xe=Te["border-width"],td(W)&&xe?{border:xe}:Do(Ne,"border").fold(function(){return{}},function(wr){return{border:wr}}))),(le=Do(Te,"border-spacing").or(Do(Ne,"cellspacing")).fold(function(){return{}},function(wr){return{cellspacing:wr}}),de=Do(Te,"border-padding").or(Do(Ne,"cellpadding")).fold(function(){return{}},function(wr){return{cellpadding:wr}}),Wn(Wn({},le),de))));!1===D?(z=Et.getParent(_.selection.getStart(),"table",_.getBody()))?(nt=z,Fe=Uu(Oe=_),rt=Oe.dom,Pt=td(Oe)?rt.getStyle(nt,"border-spacing")||rt.getAttrib(nt,"cellspacing"):rt.getAttrib(nt,"cellspacing")||rt.getStyle(nt,"border-spacing"),Ze=td(Oe)?gp(rt,nt,"padding")||rt.getAttrib(nt,"cellpadding"):rt.getAttrib(nt,"cellpadding")||gp(rt,nt,"padding"),yt=Wn({width:rt.getStyle(nt,"width")||rt.getAttrib(nt,"width"),height:rt.getStyle(nt,"height")||rt.getAttrib(nt,"height"),cellspacing:Pt,cellpadding:Ze,border:(Qe=rt,Ve=Ps(at.fromDom(gt=nt),"border-width"),td(Oe)&&Ve.isSome()?Ve.getOr(""):Qe.getAttrib(gt,"border")||gp(Oe.dom,gt,"border-width")||gp(Oe.dom,gt,"border")),caption:!!rt.select("caption",nt)[0],class:rt.getAttrib(nt,"class",""),align:Rp(Oe,nt)},Fe?hh(rt,nt):{})):Uu(_)&&(yt.borderstyle="",yt.bordercolor="",yt.backgroundcolor=""):(yt.cols="1",yt.rows="1",Uu(_)&&(yt.borderstyle="",yt.bordercolor="",yt.backgroundcolor=""));var An=lf(ip(_));0<An.length&&yt.class&&(yt.class=yt.class.replace(/\s*mce\-item\-table\s*/g,""));var Wt,On,ur,Qn,hr={type:"grid",columns:2,items:(Wt=An,On=D?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ur=_.getParam("table_appearance_options",!0,"boolean")?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Qn=0<Wt.length?[{type:"listbox",name:"class",label:"Class",items:Wt}]:[],On.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(ur).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(Qn))},Er=Uu(_)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[hr]},ec(_,"table")]}:{type:"panel",items:[hr]};_.windowManager.open({title:"Table Properties",size:"normal",body:Er,onSubmit:or(ph,_,z,yt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:yt})}function yp(_){return Ca(Qf(_),wl(_))}function $d(_,D){return yo(_,D).bind(function(z){var W=da(z);return ue(W,function(K){return Rn(_,K)}).map(function(K){return{index:K,all:W}})})}function H1(_,D){var z=_.document.createRange();return z.selectNode(D.dom),z}function Na(_,D){var z=_.document.createRange();return Ys(z,D),z}function bp(_,D,z){var W,K=_.document.createRange(),Q=K;return D.fold(function(le){Q.setStartBefore(le.dom)},function(le,de){Q.setStart(le.dom,de)},function(le){Q.setStartAfter(le.dom)}),W=K,z.fold(function(le){W.setEndBefore(le.dom)},function(le,de){W.setEnd(le.dom,de)},function(le){W.setEndAfter(le.dom)}),K}function xp(_,D,z,W,K){var Q=_.document.createRange();return Q.setStart(D.dom,z),Q.setEnd(W.dom,K),Q}function ev(_){return{left:_.left,top:_.top,right:_.right,bottom:_.bottom,width:_.width,height:_.height}}function _p(_,D,z){return D(at.fromDom(z.startContainer),z.startOffset,at.fromDom(z.endContainer),z.endOffset)}function gh(_,D){var z,W,K,Q=(z=_,D.match({domRange:function(le){return{ltr:Pn(le),rtl:je.none}},relative:function(le,de){return{ltr:Qi(function(){return bp(z,le,de)}),rtl:Qi(function(){return je.some(bp(z,de,le))})}},exact:function(le,de,xe,Te){return{ltr:Qi(function(){return xp(z,le,de,xe,Te)}),rtl:Qi(function(){return je.some(xp(z,xe,Te,le,de))})}}}));return(K=(W=Q).ltr()).collapsed?W.rtl().filter(function(le){return!1===le.collapsed}).map(function(le){return cf.rtl(at.fromDom(le.endContainer),le.endOffset,at.fromDom(le.startContainer),le.startOffset)}).getOrThunk(function(){return _p(0,cf.ltr,K)}):_p(0,cf.ltr,K)}function Jd(_,D){return gh(_,D).match({ltr:function(z,W,K,Q){var le=_.document.createRange();return le.setStart(z.dom,W),le.setEnd(K.dom,Q),le},rtl:function(z,W,K,Q){var le=_.document.createRange();return le.setStart(K.dom,Q),le.setEnd(z.dom,W),le}})}function tv(_,D){return{parent:Pn(je.from(_.dom.documentElement).map(at.fromDom).getOr(_)),view:Pn(_),origin:Pn(rn(0,0)),isResizable:D}}function Sg(_){return Hn(_).exists(function(D){return iv.test(D)})}function nv(_){return Hn(_).exists(function(D){return Zy.test(D)})}function mh(_){return Hn(_).isNone()}function Cg(){return{transformRow:Tt,transformCell:La}}function Yl(_,D){function z(K){if(eo(K))return U1((le={element:K}).element)?_.colgroup(le):_.row(le);var Q,le,de=(Q=D(K),pv(Q.element)?_.col(Q):_.cell(Q));return W=je.some({item:K,replacement:de}),de}void 0===D&&(D=Um);var W=je.none();return{getOrInit:function(K,Q){return W.fold(function(){return z(K)},function(le){return Q(K,le.item)?le.replacement:z(K)})}}}function rv(_){return function(D){function z(K){var Q=D.replace(K,_,"td"===_?{scope:null}:{});return W.push({item:K,sub:Q}),Q}var W=[];return{replaceOrInit:function(K,Q){return eo(K)||pv(K)?K:(le=K,de=Q,Yr(W,function(xe){return de(xe.item,le)}).fold(function(){return z(K)},function(xe){return Q(K,xe.item)?xe.sub:z(K)}));var le,de}}}}function ov(_){return{unmerge:function(D){var z=gg(D);return z.each(function(W){return Bi(D,"scope",W)}),function(){var W=_.cell({element:D,colspan:1,rowspan:1});return el(W,"width"),el(D,"width"),z.each(function(K){return Bi(W,"scope",K)}),W}},merge:function(D){return el(D[0],"width"),function(){var z=Is(tt(D,gg));if(0===z.length)return je.none();var W=z[0],K=["row","col"];return en(z,function(Q){return Q!==W&&Qt(K,Q)})?je.none():je.from(W)}().fold(function(){return $o(D[0],"scope")},function(z){return Bi(D[0],"scope",z+"group")}),Pn(D[0])}}}var iv=/(\d+(\.\d+)?)%/,Zy=/(\d+(\.\d+)?)px|em/,Ky=$r("col"),Lx=Pn(iv),Xl=$r("col"),av=function(_){return Hn(_).fold(function(){return{width:z=Bd(D=_,_l),pixelWidth:z,getWidths:function(K,Q){return ia(K,D,Q)},getCellDelta:W=Pn(0),singleColumnWidth:Pn([0]),minCellWidth:W,setElementWidth:Fn,adjustTableWidth:Fn,isRelative:!0,label:"none"};var D,z,W},function(D){return z=_,W=D,(null!==Lx().exec(W)?zd:go)(z);var z,W})},wp=go,Qd=zd,sv=["img","br"],yu=function(_,D){var z=function(W){for(var K=vi(W),Q=K.length-1;0<=Q;Q--){var le=K[Q];if(D(le))return je.some(le);var de=z(le);if(de.isSome())return de}return je.none()};return z(_)},ql={scope:["row","col"]},Us={selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:"data-mce-first-selected",firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:"data-mce-last-selected",lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},Ca=B1("th,td,caption"),Sp=B1("th,td"),Dc=Om,Mg=fu([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ac=Wn({},Mg),ss=Nm(function(_){return _<0}),vh=Nm(er),yh=fu([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ic=Wn(Wn({},yh),{from:function(_){return ut(_,"%")?Em("%",yh.percent,_):ut(_,"px")?Em("px",yh.pixels,_):yh.invalid(_)}}),Oo=function(_){if(0===_.length)return _;var D,z,W=Pr(_,function(Q,le){var de=Ic.from(le).fold(function(){return{value:le,remainder:0}},function(xe){return Te=xe,{value:(Ne=Math.floor(Te))+"px",remainder:Te-Ne};var Te,Ne},function(xe){return{value:xe+"%",remainder:0}});return{output:[de.value].concat(Q.output),remainder:Q.remainder+de.remainder}},{output:[],remainder:0}),K=W.output;return K.slice(0,K.length-1).concat([(D=K[K.length-1],z=Math.round(W.remainder),Ic.from(D).fold(Pn(D),function(Q){return Q+z+"px"},function(Q){return Q+z+"%"}))])},lv=Ic.from,js=rh(["compare","extract","mutate","sink"]),$y=rh(["element","start","stop","destroy"]),Jy=rh(["forceDrop","drop","move","delayDrop"]),W1=function(_,D,z,W){_.dom.removeEventListener(D,z,W)},Ea=er,ef=Sl,xs=hg("ephox-dragster").resolve,Rx=js({compare:function(_,D){return rn(D.left-_.left,D.top-_.top)},extract:function(_){return je.some(rn(_.x,_.y))},sink:function(_,D){var z,W,K,Q=(z=D,W=Wn({layerClass:xs("blocker")},z),Bi(K=at.fromTag("div"),"role","presentation"),Gi(K,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Hd(K,xs("blocker")),Hd(K,W.layerClass),{element:Pn(K),destroy:function(){ra(K)}}),le=ys(Q.element(),"mousedown",_.forceDrop),de=ys(Q.element(),"mouseup",_.drop),xe=ys(Q.element(),"mousemove",_.move),Te=ys(Q.element(),"mouseout",_.delayDrop);return $y({element:Q.element,start:function(Ne){Dr(Ne,Q.element())},stop:function(){ra(Q.element())},destroy:function(){Q.destroy(),de.unbind(),xe.unbind(),Te.unbind(),le.unbind()}})},mutate:function(_,D){_.mutate(D.left,D.top)}}),G1=function(_){return _.dom.contentEditable},Hi=hg("ephox-snooker").resolve,sa=Hi("resizer-bar"),uv=Hi("resizer-rows"),Qy=Hi("resizer-cols"),Cp=Hi("resizer-bar-dragging"),cv={structure:!1,style:!0},ci={structure:!0,style:!1},Tg={structure:!0,style:!0},dv={"border-collapse":"collapse",width:"100%"},Mp=jt(5,function(_){var D=_+1+"px";return{title:D,value:D}}),fv=tt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(_){return{title:_,value:_.toLowerCase()}}),tf={border:"1"},fd="preservetable",nf=function(_){return"fixed"===Sa(_)||!1===zm(_)},tc=function(_){return"responsive"===Sa(_)},bu=function(_){var D=Pa(_);Qc(_,je.some(D),je.none()),Ro(_)},hv=function(_){var D=_l(_)+"px";Qc(_,je.some(D),je.none()),Ro(_)},bh=function(_){el(_,"width");var D=Qr(_);Gt(0<D.length?D:da(_),function(z){el(z,"width"),Ro(z)}),Ro(_)},kl="bar-",Tp=function(_,D,z){return _.property().isText(D)&&0===_.property().getText(D).trim().length||_.property().isComment(D)?z(D).bind(function(W){return Tp(_,W,z).orThunk(function(){return je.some(W)})}):je.none()},kg=function(_,D){var z=Tp(_,D,_.query().prevSibling).getOr(D);if(_.property().isText(z))return ns(z,Yu(_,z));var W=_.property().children(z);return 0<W.length?kg(_,W[W.length-1]):ns(z,Yu(_,z))},ro=kg,ni=Ou(),Dl=$r("th"),Ba=function(_){var D=hn(_,function(z){return Dl(z.element)});return 0===D.length?je.some("td"):D.length===_.length?je.some("th"):je.none()},rf=Fs,kp=ap,xu=qu,Pc=function(_){return{isValue:er,isError:Zr,getOr:Pn(_),getOrThunk:Pn(_),getOrDie:Pn(_),or:function(D){return Pc(_)},orThunk:function(D){return Pc(_)},fold:function(D,z){return z(_)},map:function(D){return Pc(D(_))},mapError:function(D){return Pc(_)},each:function(D){D(_)},bind:function(D){return D(_)},exists:function(D){return D(_)},forall:function(D){return D(_)},toOptional:function(){return je.some(_)}}},hd=function(_){return{isValue:Zr,isError:er,getOr:Tt,getOrThunk:function(D){return D()},getOrDie:function(){return D=String(_),function(){throw new Error(D)}();var D},or:Tt,orThunk:function(D){return D()},fold:function(D,z){return D(_)},map:function(D){return hd(_)},mapError:function(D){return hd(D(_))},each:Fn,bind:function(D){return hd(_)},exists:Zr,forall:er,toOptional:je.none}},Dp={value:Pc,error:hd,fromOption:function(_,D){return _.fold(function(){return hd(D)},Pc)}},pv=$r("col"),U1=$r("colgroup"),Al=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],za=Ou(),Ap=kc("thead",!0),of=kc("tbody",!1),gv=kc("tfoot",!1),Ip=rv("th"),ls=rv("td"),af=pa(function(_,D,z,W){var K=D[0].row;return is(Pr(dp(D),function(Q,le){return{grid:Ws(Q.grid,K,le.row+Q.delta,z,W.getOrInit),delta:Q.delta+1}},{grid:_,delta:0}).grid,K,D[0].column)},Ra,Fn,Fn,Yl),_u=pa(function(_,D,z,W){var K=dp(D),Q=K[K.length-1],le=Q.row+Q.rowspan;return is(Pr(K,function(de,xe){return Ws(de,le,xe.row,z,W.getOrInit)},_),le,D[0].column)},Ra,Fn,Fn,Yl),Lc=pa(function(_,D,z,W){var K=D.details,Q=Yd(K),le=Q[0].column;return is(Pr(Q,function(de,xe){return{grid:Ul(de.grid,le,xe.column+de.delta,z,W.getOrInit),delta:de.delta+1}},{grid:_,delta:0}).grid,K[0].row,le)},Qu(!0),mg,Fn,Yl),Zl=pa(function(_,D,z,W){var K=D.details,Q=K[K.length-1],le=Q.column+Q.colspan;return is(Pr(Yd(K),function(de,xe){return Ul(de,le,xe.column,z,W.getOrInit)},_),K[0].row,le)},Qu(!1),mg,Fn,Yl),xh=pa(function(_,D,z,W){var K,Q,le=Yd(D.details),de=(K=_,Q=tt(le,function(Te){return Te.column}),kr(K,function(Te){var Ee=Pr(Q,function(Oe,nt){return 0<=nt&&nt<Oe.length?Oe.slice(0,nt).concat(Oe.slice(nt+1)):Oe},Te.cells);return 0<Ee.length?[ca(Te.element,Ee,Te.section,Te.isNew)]:[]}));return is(de,le[0].row,Math.min(le[0].column,0<de.length?de[0].cells.length-1:0))},function(_,D){return Gl(_,D).map(function(z){return{details:z,pixelDelta:-bs(_,z)}})},mg,jy,Yl),e0=pa(function(_,D,z,W){var K,Q,le,de,xe=dp(D),Te=(K=xe[0].row,Q=xe[xe.length-1].row,de=(le=Vi(_)).rows,le.cols.concat(de.slice(0,K)).concat(de.slice(Q+1)));return is(Te,Math.min(D[0].row,0<Te.length?Te.length-1:0),D[0].column)},Ra,Fn,jy,Yl),sf=pa(function(_,D,z,W){return is(ga(_,tt(Yd(D),function(K){return K.column}),!0,z,W.replaceOrInit),D[0].row,D[0].column)},Gl,Fn,Fn,Ip),t0=pa(function(_,D,z,W){return is(ga(_,tt(Yd(D),function(K){return K.column}),!1,z,W.replaceOrInit),D[0].row,D[0].column)},Gl,Fn,Fn,ls),nc=pa(Ap,Gl,Fn,Fn,Ip),Va=pa(of,Gl,Fn,Fn,ls),Wi=pa(gv,Gl,Fn,Fn,ls),mv=pa(function(_,D,z,W){return is(lh(_,D,z,W.replaceOrInit),D[0].row,D[0].column)},Gl,Fn,Fn,Ip),vv=pa(function(_,D,z,W){return is(lh(_,D,z,W.replaceOrInit),D[0].row,D[0].column)},Gl,Fn,Fn,ls),_h=pa(function(_,D,z,W){var K=D.cells;return function cl(_){function D(Q){return"br"===$n(Q)}var W,K=0===(W=kr(_,function(Q){var le=vi(Q);return Un(le,function(de){return D(de)||Js(de)&&0===gi(de).trim().length})?[]:le.concat(function z(Q){return sg(Q).bind(function(le){var de=fs(le).map(function(xe){return!!Xr(xe)||(Te=xe,!!Qt(["br","img","hr","input"],za.property().name(Te))&&"img"!==$n(xe));var Te}).getOr(!1);return Zo(le).map(function(xe){return!0===de||"li"===$n(Te=xe)||it(Te,V1).isSome()||D(le)||Xr(xe)&&!Rn(Q,xe)?[]:[at.fromTag("br")];var Te})}).getOr([])}(Q))})).length?[at.fromTag("br")]:W;Qh(_[0]),Di(_[0],K)}(K),cp(function(Q,le,de){var xe=Vi(Q).rows;if(0===xe.length)return Q;for(var Te=le.startRow;Te<=le.finishRow;Te++)for(var Ne=le.startCol;Ne<=le.finishCol;Ne++){var Ee=xe[Te],Oe=Xa(Ee,Ne).isLocked;nl(Ee,Ne,Xo(de(),!1,Oe))}return Q}(_,D.bounds,W.merge(K)),je.from(K[0]))},Ku,fp,Fn,ov),Dg=pa(function(_,D,z,W){return cp(Pr(D,function(K,Q){return ad(K,Q,z,W.unmerge(Q))},_),je.from(D[0]))},$u,fp,Fn,ov),yv=pa(function(_,D,z,W){var Q,le=(Q=D.generators,Zu(_r.fromTable(D.clipboard),Q,!0));return function Uy(_,D,z,W,K){var Q,le,de,xe=ol(D),Te=(Q=_,le=xe,de=ki(D[0]),{row:Vi(D).cols.length+Q.row,column:Yr(jt(de-Q.column,function(Oe){return Oe+Q.column}),function(Oe){return Un(le,function(nt){return nt!==Oe})}).getOr(de-1)}),Ne=Vi(z).rows,Ee=Uo(Te,Ne,xe);return function(Oe,nt,Fe){if(Oe.row>=nt.length||Oe.column>ki(nt[0]))return Dp.error("invalid start address out of table bounds, row: "+Oe.row+", column: "+Oe.column);var Qe=nt.slice(Oe.row),gt=Qe[0].cells.slice(Oe.column),Ve=ki(Fe[0]);return Dp.value({rowDelta:Qe.length-Fe.length,colDelta:gt.length-Ve})}(Te,D,Ne).map(function(Oe){var nt=Wn(Wn({},Oe),{colDelta:Oe.colDelta-Ee.length}),Fe=lp(D,nt,W),Qe=ol(Fe),gt=Uo(Te,Ne,Qe);return function(Ve,rt,Pt,Ze,Et,yt){for(var An,Wt,On,ur,Qn,hr=Ve.row,Er=Ve.column,wr=hr+Pt.length,Br=Er+ki(Pt[0])+yt.length,Ur=Tn(yt,er),Co=hr;Co<wr;Co++)for(var pr,Io,Wr,jr=0,ri=Er;ri<Br;ri++)Ur[ri]?jr++:(ur=void 0,ur=or(Et,Xa((An=rt)[Wt=Co],On=ri).element),Qn=An[Wt],1<An.length&&1<ki(Qn)&&(0<On&&ur(Eo(Qn,On-1))||On<Qn.cells.length-1&&ur(Eo(Qn,On+1))||0<Wt&&ur(Eo(An[Wt-1],On))||Wt<An.length-1&&ur(Eo(An[Wt+1],On)))&&ad(rt,Eo(rt[Co],ri),Et,Ze.cell),Io=(pr=Xa(Pt[Co-hr],ri-Er-jr)).element,Wr=Ze.replace(Io),nl(rt[Co],ri,Xo(Wr,!0,pr.isLocked)));return rt}(Te,Fe,Ne,W,K,gt)})}({row:D.row,column:D.column},_,le,D.generators,z).fold(function(){return cp(_,je.some(D.element))},function(de){return is(de,D.row,D.column)})},function(_,D){return ps(D.element).bind(function(z){return Tc(_,z).map(function(W){return Wn(Wn({},W),{generators:D.generators,clipboard:D.clipboard})})})},fp,Fn,Yl),n0=pa(function(_,D,z,W){var K=Vi(_).rows;return is(Vr(D.cells[0].column,_,br(D.clipboard,D.generators,K[D.cells[0].row]),D.generators,z),D.cells[0].row,D.cells[0].column)},uh(!0),Fn,Fn,Yl),bv=pa(function(_,D,z,W){var K=Vi(_).rows;return is(Vr(D.cells[D.cells.length-1].column+D.cells[D.cells.length-1].colspan,_,br(D.clipboard,D.generators,K[D.cells[0].row]),D.generators,z),D.cells[0].row,D.cells[0].column)},uh(!1),Fn,Fn,Yl),_s=pa(function(_,D,z,W){var K=Vi(_).rows,Q=D.cells[0].row;return is(z1(Q,_,br(D.clipboard,D.generators,K[Q]),D.generators,z),D.cells[0].row,D.cells[0].column)},sp,Fn,Fn,Yl),ma=pa(function(_,D,z,W){var K=Vi(_).rows;return is(z1(D.cells[D.cells.length-1].row+D.cells[D.cells.length-1].rowspan,_,br(D.clipboard,D.generators,K[D.cells[0].row]),D.generators,z),D.cells[0].row,D.cells[0].column)},sp,Fn,Fn,Yl),Ri=function(_,D){var z=_r.fromTable(_);return Ra(z,D).bind(function(W){var K=W[W.length-1],Q=W[0].row,le=K.row+K.rowspan;return function(){var de=tt(z.all.slice(Q,le),function(Ee){return ah(Ee).type}),xe=Qt(de,"header"),Te=Qt(de,"footer");if(xe||Te){var Ne=Qt(de,"body");return!xe||Ne||Te?xe||Ne||!Te?je.none():je.some("footer"):je.some("header")}return je.some("body")}()}).getOr("")},pd={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},wh=tinymce.util.Tools.resolve("tinymce.util.Tools"),Pp=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],r0=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Sh=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Lp=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Ch=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,lf=function(_){return tt(_,function(D){var z=D.text||D.title;return Zm(D)?{text:z,items:lf(D.menu)}:{text:z,value:D.value}})},rc=function(_,D,z,W,K){return tt(z,function(Q){var le,de,xe,Te,Ne=Q.text||Q.title;return Zm(Q)?{type:"nestedmenuitem",text:Ne,getSubmenuItems:function(){return rc(_,D,Q.menu,W,K)}}:{text:Ne,type:"togglemenuitem",onAction:function(){return K(Q.value)},onSetup:(le=_,de=D,xe=W,Te=Q.value,function(Ee){function Oe(){function Qe(Ve){return le.formatter.match(xe,{value:Te},Ve.dom,Fe)}var gt=Dc(de);Fe?(Ee.setActive(!en(gt,Qe)),nt.set(le.formatter.formatChanged(xe,function(Ve){return Ee.setActive(!Ve)},!0))):(Ee.setActive(Un(gt,Qe)),nt.set(le.formatter.formatChanged(xe,Ee.setActive,!1,{value:Te})))}var nt=Kd(function(Qe){return Qe.unbind()}),Fe=!At(Te);return le.initialized?Oe():le.on("init",Oe),nt.clear})}})},gd=function(_){return kr(_,function(D){return Zm(D)?[Wn(Wn({},D),{menu:gd(D.menu)})]:At(D.value)?[D]:[]})},Ag=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Pp}],md={normal:_t(!1),ifTruthy:_t(!0)},Rp=or($m,["left","center","right"],"align"),Ox=or($m,["top","middle","bottom"],"valign"),o0=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Mh=function(_,D,z,W){if("TD"===D.tagName||"TH"===D.tagName)Mn(z)?_.setStyle(D,z,W):_.setStyle(D,z);else if(D.children)for(var K=0;K<D.children.length;K++)Mh(_,D.children[K],z,W)},i0={remove_similar:!0,inherit:!1},uf=Wn({selector:"td,th"},i0),xv={tablecellbackgroundcolor:Wn({styles:{backgroundColor:"%value"}},uf),tablecellverticalalign:Wn({styles:{"vertical-align":"%value"}},uf),tablecellbordercolor:Wn({styles:{borderColor:"%value"}},uf),tablecellclass:Wn({classes:["%value"]},uf),tableclass:Wn({selector:"table",classes:["%value"]},i0),tablecellborderstyle:Wn({styles:{borderStyle:"%value"}},uf),tablecellborderwidth:Wn({styles:{borderWidth:"%value"}},uf)},a0=fu([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),uo=Wn(Wn({},a0),{none:function(_){return a0.none(_=void 0===_?void 0:_)}}),wu=function(_,D,z,W,K){void 0===K&&(K=er);var Q=1===W;if(!Q&&z<=0)return uo.first(_[0]);if(Q&&z>=_.length-1)return uo.last(_[_.length-1]);var le=z+W,de=_[le];return K(de)?uo.middle(D,de):wu(_,D,le,W,K)},oc=function(_,D,z,W){return{start:_,soffset:D,finish:z,foffset:W}},Su=fu([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Oi={before:Su.before,on:Su.on,after:Su.after,cata:function(_,D,z,W){return _.fold(D,z,W)},getStart:function(_){return _.fold(Tt,Tt,Tt)}},vd=fu([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Rc={domRange:vd.domRange,relative:vd.relative,exact:vd.exact,exactFromRange:function(_){return vd.exact(_.start,_.soffset,_.finish,_.foffset)},getWin:function(_){var D=_.match({domRange:function(z){return at.fromDom(z.startContainer)},relative:function(z,W){return Oi.getStart(z)},exact:function(z,W,K,Q){return z}});return at.fromDom(Ho(D).dom.defaultView)},range:oc},Ys=function(_,D){return _.selectNodeContents(D.dom)},cf=fu([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);function Kl(_,D,z){return D>=_.left&&D<=_.right&&z>=_.top&&z<=_.bottom}function us(_,D){return D-_.left<_.right-D}function Mu(_,D,z){var W=_.dom.createRange();return W.selectNode(D.dom),W.collapse(z),W}function s0(_,D,z){var W=_.dom.createRange();W.selectNode(D.dom);var K=us(W.getBoundingClientRect(),z);return(!0===K?Fi:sg)(D).map(function(Q){return Mu(_,Q,K)})}function Ig(_,D,z){var W=us(D.dom.getBoundingClientRect(),z);return je.some(Mu(_,D,W))}function yd(_,D){var z=$n(_);return"input"===z?Oi.after(_):Qt(["br","img"],z)?0===D?Oi.before(_):Oi.after(_):Oi.on(_,D)}function df(_,D){var z=_.fold(Oi.before,yd,Oi.after),W=D.fold(Oi.before,yd,Oi.after);return Rc.relative(z,W)}function ff(_,D,z,W){var K=yd(_,D),Q=yd(z,W);return Rc.relative(K,Q)}function Op(_){return je.from(_.getSelection())}function Pg(_,D){Op(_).each(function(z){z.removeAllRanges(),z.addRange(D)})}function _v(_,D,z,W,K){Pg(_,xp(_,D,z,W,K))}function dl(_,D){return gh(_,D).match({ltr:function(z,W,K,Q){_v(_,z,W,K,Q)},rtl:function(z,W,K,Q){Op(_).each(function(le){if(le.setBaseAndExtent)le.setBaseAndExtent(z.dom,W,K.dom,Q);else if(le.extend)try{xe=K,Te=Q,(de=le).collapse(z.dom,W),de.extend(xe.dom,Te)}catch(Ne){_v(_,K,Q,z,W)}else _v(_,K,Q,z,W);var de,xe,Te})}})}function hf(_,D,z,W,K){dl(_,ff(D,z,W,K))}function wv(_,D,z){dl(_,df(D,z))}function Np(_){if(0<_.rangeCount){var D=_.getRangeAt(0),z=_.getRangeAt(_.rangeCount-1);return je.some(oc(at.fromDom(D.startContainer),D.startOffset,at.fromDom(z.endContainer),z.endOffset))}return je.none()}function Th(_){if(null===_.anchorNode||null===_.focusNode)return Np(_);var D,z,W,K,Q,le,de,xe,Te,Ne,Ee,Oe=at.fromDom(_.anchorNode),nt=at.fromDom(_.focusNode);return le=z=_.anchorOffset,de=W=nt,xe=K=_.focusOffset,(Te=pi(Q=D=Oe).dom.createRange()).setStart(Q.dom,le),Te.setEnd(de.dom,xe),Ne=Te,Ee=Rn(D,W)&&z===K,Ne.collapsed&&!Ee?je.some(oc(Oe,_.anchorOffset,nt,_.focusOffset)):Np(_)}function Lg(_,D,z){Pg(_,((z=void 0===z||z)?Na:H1)(_,D))}function Rg(_){return Op(_).filter(function(D){return 0<D.rangeCount}).bind(Th).map(function(D){return Rc.exact(D.start,D.soffset,D.finish,D.foffset)})}function pf(_,D,z){return ic(_,D,(K=Fl,$d(W=z,void 0).fold(function(){return uo.none(W)},function(Q){return wu(Q.all,W,Q.index,1,K)})));var W,K}function kh(_,D){var z=Jd(_,D);return oc(at.fromDom(z.startContainer),z.startOffset,at.fromDom(z.endContainer),z.endOffset)}function gf(_,D){return{item:_,mode:D}}function Og(_,D,z,W){return void 0===W&&(W=Jl),_.property().parent(D).map(function(K){return gf(K,W)})}function Dh(_){return function(D){return 0===_.property().children(D).length}}function Ah(_,D){return Tu(sc,_,Dh(sc),D)}function l0(_,D){return _d(sc,_,Dh(sc),D)}function Sv(_){return ea(_,"tr")}function Ng(_){return"br"===$n(_)}function Ep(_,D){return{left:_.left,top:_.top+D,right:_.right,bottom:_.bottom+D}}function mf(_,D){return{left:_.left,top:_.top-D,right:_.right,bottom:_.bottom-D}}function Bp(_,D,z){return{left:_.left+D,top:_.top+z,right:_.right+D,bottom:_.bottom+z}}function bd(_){return{left:_.left,top:_.top,right:_.right,bottom:_.bottom}}function vf(_,D){return je.some(_.getRect(D))}function Gn(_,D,z){return Ol(D)?vf(_,D).map(bd):Js(D)?(W=_,K=D,(0<=(Q=z)&&Q<hu(K)?W.getRangedRect(K,Q,K,Q+1):0<Q?W.getRangedRect(K,Q-1,K,Q):je.none()).map(bd)):je.none();var W,K,Q}function j1(_,D){return Ol(D)?vf(_,D).map(bd):Js(D)?_.getRangedRect(D,0,D,hu(D)).map(bd):je.none()}function Eg(_,D,z){return kt(function(W,K){return K(W)},it,D,Xr,void 0).fold(Zr,function(W){return j1(_,W).exists(function(K){return(Q=z).left<(le=K).left||Math.abs(le.right-Q.left)<1||Q.left>le.right;var Q,le})})}function Xs(_,D,z){var W,K=_.move(z,5),Q=Wg(D,_,z,K,100).getOr(K),le=Q,de=D;return((W=_).point(le)>de.getInnerHeight()?je.some(W.point(le)-de.getInnerHeight()):W.point(le)<0?je.some(-W.point(le)):je.none()).fold(function(){return D.situsFromPoint(Q.left,_.point(Q))},function(xe){return D.scrollBy(0,xe),D.situsFromPoint(Q.left,_.point(Q)-xe)})}function Bg(_,D,z,W,K){return ea(W,"td,th",D).bind(function(Q){return ea(Q,"table",D).bind(function(le){return Ne=le,it(K,function(Fe){return Zo(Fe).exists(function(Qe){return Rn(Qe,Ne)})},void 0).isSome()?(de=Ee=_,xe=Oe=D,Te=nt=z,de.getSelection().bind(function(Fe){return function Cv(_,D,z,W){var K,Q,le,de,xe,Te,Ne;return(Ng(D)?(K=_,(le=W).traverse(Q=D).orThunk(function(){return Ph(Q,le.gather,K)}).map(le.relative)):(de=_,xe=W,mc(Te=D,Ne=z).filter(Ng).orThunk(function(){return mc(Te,Ne-1).filter(Ng)}).bind(function(Ee){return xe.traverse(Ee).fold(function(){return Ph(Ee,xe.gather,de).map(xe.relative)},function(Oe){return Zo(nt=Oe).bind(function(Fe){var Qe=vi(Fe);return d0(Qe,nt).map(function(gt){return{parent:Fe,children:Qe,element:nt,index:gt}})}).map(function(Fe){return Oi.on(Fe.parent,Fe.index)});var nt})}))).map(function(Ee){return{start:Ee,finish:Ee}})}(xe,Fe.finish,Fe.foffset,Te).fold(function(){return je.some(ns(Fe.finish,Fe.foffset))},function(Qe){var gt=de.fromSitus(Qe),Ve=ku.verify(de,Fe.finish,Fe.foffset,gt.finish,gt.foffset,Te.failure,xe);return ku.cata(Ve,function(rt){return je.none()},function(){return je.none()},function(rt){return je.some(ns(rt,0))},function(rt){return je.some(ns(rt,hu(rt)))})})}).bind(function(Fe){return Fp(Ee,Oe,Fe.element,Fe.offset,nt,20).map(Ee.fromSitus)}).bind(function(Fe){return ea(Fe.finish,"td,th",D).map(function(Qe){return{start:Q,finish:Qe,range:Fe}})})):je.none();var de,xe,Te,Ne,Ee,Oe,nt})})}function Mv(_,D,z,W,K,Q){return Ut().browser.isIE()?je.none():Q(W,D).orThunk(function(){return Bg(_,D,z,W,K).map(function(le){var de=le.range;return xf(je.some(Hg(de.start,de.soffset,de.finish,de.foffset)),!0)})})}function Tv(_,D){return ea(_,"tr",D).bind(function(z){return ea(z,"table",D).bind(function(W){var K=_i(W,"tr");return Rn(z,K[0])?Tu(sc,W,function(Q){return sg(Q).isSome()},D).map(function(Q){var le=hu(Q);return xf(je.some(Hg(Q,le,Q,le)),!0)}):je.none()})})}function zg(_,D){return ea(_,"tr",D).bind(function(z){return ea(z,"table",D).bind(function(W){var K=_i(W,"tr");return Rn(z,K[K.length-1])?_d(sc,W,function(Q){return Fi(Q).isSome()},D).map(function(Q){return xf(je.some(Hg(Q,0,Q,0)),!0)}):je.none()})})}function kv(_,D,z,W,K,Q,le){return Bg(_,z,W,K,Q).bind(function(de){return _f(D,z,de.start,de.finish,le)})}function xd(_,D){return ea(_,"td,th",D)}function Oc(_){return function(D){return D===_}}function yf(_){return 37<=_&&_<=40}function zp(_){return{elementFromPoint:function(D,z){return at.fromPoint(at.fromDom(_.document),D,z)},getRect:function(D){return D.dom.getBoundingClientRect()},getRangedRect:function(D,z,W,K){var Q,le,de,xe=Rc.exact(D,z,W,K);return 0<(le=0<(de=(Q=Jd(_,xe)).getClientRects()).length?de[0]:Q.getBoundingClientRect()).width||0<le.height?je.some(le).map(ev):je.none()},getSelection:function(){return Rg(_).map(function(D){return kh(_,D)})},fromSitus:function(D){var z=Rc.relative(D.start,D.finish);return kh(_,z)},situsFromPoint:function(D,z){return W=D,K=z,Q=at.fromDom(_.document),Fg(Q,W,K).map(function(le){return oc(at.fromDom(le.startContainer),le.startOffset,at.fromDom(le.endContainer),le.endOffset)}).map(function(le){return Hr(le.start,le.soffset,le.finish,le.foffset)});var W,K,Q},clearSelection:function(){Op(_).each(function(D){return D.removeAllRanges()})},collapseSelection:function(D){void 0===D&&(D=!1),Rg(_).each(function(z){return z.fold(function(W){return W.collapse(D)},function(W,K){var Q=D?W:K;wv(_,Q,Q)},function(W,K,Q,le){var de=D?W:Q,xe=D?K:le;hf(_,de,xe,de,xe)})})},setSelection:function(D){hf(_,D.start,D.soffset,D.finish,D.foffset)},setRelativeSelection:function(D,z){wv(_,D,z)},selectNode:function(D){Lg(_,D,!1)},selectContents:function(D){Lg(_,D)},getInnerHeight:function(){return _.innerHeight},getScrollY:function(){var D=at.fromDom(_.document),z=void 0!==D?D.dom:document;return rn(z.body.scrollLeft||z.documentElement.scrollLeft,z.body.scrollTop||z.documentElement.scrollTop).top},scrollBy:function(D,z){var W,K=D,Q=z,le=at.fromDom(_.document);(W=(void 0!==le?le.dom:document).defaultView)&&W.scrollBy(K,Q)}}}function $l(_,D){return{rows:_,cols:D}}function Vp(_){return!1===fg(at.fromDom(_.target),"ephox-snooker-resizer-bar")}function Jl(_,D,z,W){return void 0===W&&(W=Ih),z.sibling(_,D).map(function(K){return gf(K,W)})}var Vg=function(_,D,z,W){return Js(D)?(Q=D,le=z,de=W,(xe=(K=_).dom.createRange()).selectNode(Q.dom),ge(xe.getClientRects(),function(Fe){return Kl(Fe,le,de)?je.some(Fe):je.none()}).map(function(Fe){return function Cu(_,D,z,W,K){function Q(xe){var Te=_.dom.createRange();return Te.setStart(D.dom,xe),Te.collapse(!0),Te}var le=gi(D).length,de=function(xe,Te,Ne,Ee){if(0===Ee)return 0;if(xe===Ne)return Ee-1;for(var Oe=Ne,nt=1;nt<Ee;nt++){var Fe=Q(nt).getBoundingClientRect(),Qe=Math.abs(xe-Fe.left);if(Te<=Fe.bottom){if(Te<Fe.top||Oe<Qe)return nt-1;Oe=Qe}}return 0}(z,W,K.right,le);return Q(de)}(K,Q,le,de,Fe)})):(Ne=D,Ee=z,Oe=W,nt=(Te=_).dom.createRange(),ge(vi(Ne),function(Fe){return nt.selectNode(Fe.dom),Kl(nt.getBoundingClientRect(),Ee,Oe)?Vg(Te,Fe,Ee,Oe):je.none()}));var K,Q,le,de,xe,Te,Ne,Ee,Oe,nt},Fg=document.caretPositionFromPoint?function(_,D,z){var W,K;return je.from(null===(K=(W=_.dom).caretPositionFromPoint)||void 0===K?void 0:K.call(W,D,z)).bind(function(Q){if(null===Q.offsetNode)return je.none();var le=_.dom.createRange();return le.setStart(Q.offsetNode,Q.offset),le.collapse(),je.some(le)})}:document.caretRangeFromPoint?function(_,D,z){var W,K;return je.from(null===(K=(W=_.dom).caretRangeFromPoint)||void 0===K?void 0:K.call(W,D,z))}:function(_,D,z){return at.fromPoint(_,D,z).bind(function(W){function K(){return Q=_,de=D,(0===vi(le=W).length?Ig:s0)(Q,le,de);var Q,le,de}return 0===vi(W).length?K():function(Q,le,de,xe){var Te=Q.dom.createRange();Te.selectNode(le.dom);var Ne=Te.getBoundingClientRect();return function(Ee,Oe,nt,Fe){var Qe=Ee.dom.createRange();Qe.selectNode(Oe.dom);var gt=Qe.getBoundingClientRect(),Ve=Math.max(gt.left,Math.min(gt.right,nt)),rt=Math.max(gt.top,Math.min(gt.bottom,Fe));return Vg(Ee,Oe,Ve,rt)}(Q,le,Math.max(Ne.left,Math.min(Ne.right,de)),Math.max(Ne.top,Math.min(Ne.bottom,xe)))}(_,W,D,z).orThunk(K)})},bf=tinymce.util.Tools.resolve("tinymce.util.VK"),ic=function(_,D,z){return z.fold(je.none,je.none,function(W,K){return Fi(K).map(function(Q){return Ne=Rc.exact(Q,0,Q,0),xe=Rc.getWin(de=Ne).dom,Te=de.match({domRange:function(Ee){var Oe=at.fromDom(Ee.startContainer),nt=at.fromDom(Ee.endContainer);return ff(Oe,Ee.startOffset,nt,Ee.endOffset)},relative:df,exact:ff}),gh(xe,Te).match({ltr:le,rtl:le});function le(Ee,Oe,nt,Fe){return xp(xe,Ee,Oe,nt,Fe)}var de,xe,Te,Ne})},function(W){return _.execCommand("mceTableInsertRowAfter"),pf(_,D,W)})},u0=["table","li","dl"],xf=function(_,D){return{selection:_,kill:D}},Hr=function(_,D,z,W){return{start:Oi.on(_,D),finish:Oi.on(z,W)}},Hg=Hr,_f=function(_,D,z,W,K){return Rn(z,W)?je.none():Ii(z,W,D).bind(function(Q){var le=Q.boxes.getOr([]);return 1<le.length?(K(_,le,Q.start,Q.finish),je.some(xf(je.some(Hg(z,0,z,hu(z))),!0))):je.none()})},Ih=function(_,D,z,W){void 0===W&&(W=Ih);var K=_.property().children(D);return z.first(K).map(function(Q){return gf(Q,W)})},c0=[{current:Og,next:Jl,fallback:je.none()},{current:Jl,next:Ih,fallback:je.some(Og)},{current:Ih,next:Ih,fallback:je.some(Jl)}],Nc=function(_,D,z,W,K){return Yr(K=void 0===K?c0:K,function(Q){return Q.current===z}).bind(function(Q){return Q.current(_,D,W,Q.next).orThunk(function(){return Q.fallback.bind(function(le){return Nc(_,D,le,W)})})})},ac=function(_,D,z,W,K,Q){return Nc(_,D,W,K).bind(function(le){return Q(le.item)?je.none():z(le.item)?je.some(le.item):ac(_,le.item,z,le.mode,K,Q)})},Tu=function(_,D,z,W){return ac(_,D,z,Jl,{sibling:function(K,Q){return K.query().prevSibling(Q)},first:function(K){return 0<K.length?je.some(K[K.length-1]):je.none()}},W)},_d=function(_,D,z,W){return ac(_,D,z,Jl,{sibling:function(K,Q){return K.query().nextSibling(Q)},first:function(K){return 0<K.length?je.some(K[0]):je.none()}},W)},sc=Ou(),wf=fu([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ku=Wn(Wn({},wf),{verify:function(_,D,z,W,K,Q,le){return ea(W,"td,th",le).bind(function(de){return ea(D,"td,th",le).map(function(xe){return Rn(de,xe)?Rn(W,de)&&hu(de)===K?Q(xe):wf.none("in same cell"):Nu(Sv,[de,xe]).fold(function(){return Ne=de,Ee=(Te=_).getRect(xe),(Oe=Te.getRect(Ne)).right>Ee.left&&Oe.left<Ee.right?wf.success():Q(xe);var Te,Ne,Ee,Oe},function(Te){return Q(xe)})})}).getOr(wf.none("default"))},cata:function(_,D,z,W,K){return _.fold(D,z,W,K)}}),d0=function(_,D){return ue(_,or(Rn,D))},Ph=function(_,D,z){return D(_,z).bind(function(W){return Js(W)&&0===gi(W).trim().length?Ph(W,D,z):je.some(W)})},lc=fu([{none:[]},{retry:["caret"]}]),ws={point:function(_){return _.bottom},adjuster:function(_,D,z,W,K){var Q=Ep(K,5);return Math.abs(z.bottom-W.bottom)<1||z.top>K.bottom?lc.retry(Q):z.top===K.bottom?lc.retry(Ep(K,1)):Eg(_,D,K)?lc.retry(Bp(Q,5,0)):lc.none()},move:Ep,gather:l0},Wg=function(_,D,z,W,K){return 0===K?je.some(W):(le=_,de=W.left,xe=D.point(W),le.elementFromPoint(de,xe).filter(function(Te){return"table"===$n(Te)}).isSome()?(Q=K-1,Wg(_,D,z,D.move(W,5),Q)):_.situsFromPoint(W.left,D.point(W)).bind(function(Te){return Te.start.fold(je.none,function(Ne){return j1(_,Ne).bind(function(Ee){return D.adjuster(_,Ne,Ee,z,W).fold(je.none,function(Oe){return Wg(_,D,z,Oe,K-1)})}).orThunk(function(){return je.some(W)})},je.none)}));var Q,le,de,xe},Lh={tryUp:or(Xs,{point:function(_){return _.top},adjuster:function(_,D,z,W,K){var Q=mf(K,5);return Math.abs(z.top-W.top)<1||z.bottom<K.top?lc.retry(Q):z.bottom===K.top?lc.retry(mf(K,1)):Eg(_,D,K)?lc.retry(Bp(Q,5,0)):lc.none()},move:mf,gather:Ah}),tryDown:or(Xs,ws),ieTryUp:function(_,D){return _.situsFromPoint(D.left,D.top-5)},ieTryDown:function(_,D){return _.situsFromPoint(D.left,D.bottom+5)},getJumpSize:Pn(5)},Fp=function(_,D,z,W,K,Q){return 0===Q?je.none():jg(_,D,z,W,K).bind(function(le){var de=_.fromSitus(le),xe=ku.verify(_,z,W,de.finish,de.foffset,K.failure,D);return ku.cata(xe,function(){return je.none()},function(){return je.some(le)},function(Te){return Rn(z,Te)&&0===W?Gg(_,z,W,mf,K):Fp(_,D,Te,0,K,Q-1)},function(Te){return Rn(z,Te)&&W===hu(Te)?Gg(_,z,W,Ep,K):Fp(_,D,Te,hu(Te),K,Q-1)})})},Gg=function(_,D,z,W,K){return Gn(_,D,z).bind(function(Q){return Ug(_,K,W(Q,Lh.getJumpSize()))})},Ug=function(_,D,z){var W=Ut().browser;return W.isChrome()||W.isSafari()||W.isFirefox()||W.isEdge()?D.otherRetry(_,z):W.isIE()?D.ieRetry(_,z):je.none()},jg=function(_,D,z,W,K){return Gn(_,z,W).bind(function(Q){return Ug(_,K,Q)})},Yg={traverse:fs,gather:l0,relative:Oi.before,otherRetry:Lh.tryDown,ieRetry:Lh.ieTryDown,failure:ku.failedDown},wd={traverse:ds,gather:Ah,relative:Oi.before,otherRetry:Lh.tryUp,ieRetry:Lh.ieTryUp,failure:ku.failedUp},Sf=Oc(38),Xg=Oc(40),Y1={isBackward:Oc(37),isForward:Oc(39)},Nx={isBackward:Oc(39),isForward:Oc(37)},qg=tinymce.util.Tools.resolve("tinymce.Env");he.add("table",function(_){var D,z,W,K,Q,le,de,xe,Te,Ne,Ee,Oe,nt=(D=function(){return sl(_)},z=function(){return Sp(Qf(_),wl(_))},W=Us.selectedSelector,{get:function(){return U(D(),W).fold(function(){return z().fold(q,ee)},function(Ze){return $(Ze)})}}),Fe=function Zg(_,D){function z(Ve){return nt.forall(function(rt){return!rt[Ve]})}function W(){return Ca(Qf(_),wl(_)).bind(function(Ve){return hs(yo(Ve),Ca(at.fromDom(_.selection.getEnd()),wl(_)).bind(yo),function(rt,Pt){return Rn(rt,Pt)?Fe(Ve)?je.some({element:Ze=Ve,mergable:je.none(),unmergable:je.none(),selection:[Ze]}):je.some(eh(D,rt,Ve)):je.none();var Ze}).bind(Tt)})}function K(Ve){return yo(Ve.element).map(function(rt){var Pt=_r.fromTable(rt),Ze=Kn(Ra(Pt,Ve).getOr([]),function(Et,yt){return yt.isLocked&&(Et.onAny=!0,0===yt.column?Et.onFirst=!0:yt.column+yt.colspan>=Pt.grid.columns&&(Et.onLast=!0)),Et},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Ku(Pt,Ve).isSome(),unmergeable:$u(Pt,Ve).isSome(),locked:Ze}})}function Q(){Ee.set(Qi(W)()),nt=Ee.get().bind(K),Gt(Oe.get(),function(Ve){return Ve()})}function le(Ve){return Ve(),Oe.set(Oe.get().concat([Ve])),function(){Oe.set(hn(Oe.get(),function(rt){return rt!==Ve}))}}function de(Ve,rt){return le(function(){return Ee.get().fold(function(){Ve.setDisabled(!0)},function(Pt){Ve.setDisabled(rt(Pt))})})}function xe(Ve,rt,Pt){return le(function(){return Ee.get().fold(function(){Ve.setDisabled(!0),Ve.setActive(!1)},function(Ze){Ve.setDisabled(rt(Ze)),Ve.setActive(Pt(Ze))})})}function Te(Ve){return nt.exists(function(rt){return rt.locked[Ve]})}function Ne(Ve,rt){return function(Pt){return xe(Pt,function(Ze){return Fe(Ze.element)},function(){return _.queryCommandValue(Ve)===rt})}}var Ee=Zd(je.none()),Oe=Zd([]),nt=je.none(),Fe=$r("caption"),Qe=Ne("mceTableRowType","header"),gt=Ne("mceTableColType","th");return _.on("NodeChange ExecCommand TableSelectorChange",Q),{onSetupTable:function(Ve){return de(Ve,function(rt){return!1})},onSetupCellOrRow:function(Ve){return de(Ve,function(rt){return Fe(rt.element)})},onSetupColumn:function(Ve){return function(rt){return de(rt,function(Pt){return Fe(Pt.element)||Te(Ve)})}},onSetupPasteable:function(Ve){return function(rt){return de(rt,function(Pt){return Fe(Pt.element)||Ve().isNone()})}},onSetupPasteableColumn:function(Ve,rt){return function(Pt){return de(Pt,function(Ze){return Fe(Ze.element)||Ve().isNone()||Te(rt)})}},onSetupMergeable:function(Ve){return de(Ve,function(rt){return z("mergeable")})},onSetupUnmergeable:function(Ve){return de(Ve,function(rt){return z("unmergeable")})},resetTargets:Q,onSetupTableWithCaption:function(Ve){return xe(Ve,Zr,function(rt){return yo(rt.element,wl(_)).exists(function(Pt){return jc(Pt,"caption").isSome()})})},onSetupTableRowHeaders:Qe,onSetupTableColumnHeaders:gt,targets:Ee.get}}(_,nt),Qe=function Sc(_){function D(Te){return"TABLE"===Te.nodeName}function z(Te){return pg(_,Te)}function W(){return(Wl(_)?ug:rp)()}var K,Q,le=je.none(),de=je.none(),xe=je.none();return _.on("init",function(){var Te,Ne,Ee,Oe,nt,Fe,Qe,gt,Ve,rt,Pt,Ze,Et,yt,An=(Ne=wc,(Te=_).inline?(Fe=sl(Te),Gi(gt=at.fromTag("div"),{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Dr(Jh(at.fromDom(document)),gt),Qe=Ne,{parent:Pn(gt),view:Pn(Fe),origin:Pn(rn(0,0)),isResizable:Qe}):tv(at.fromDom(Te.getDoc()),Ne));xe=je.some(An),nt=_.getParam("object_resizing",!0),(Mn(nt)?"table"===nt:nt)&&_.getParam("table_resize_bars",!0,"boolean")&&(Ee=W(),Ve=Ee,rt=z,Pt=gn,Ze=Sr,Et=function jd(_){function D(Ve,rt){return je.from(zi(Ve,rt))}var z,W,K,Q,le,de,xe=(Q=aa({drag:vs(["xDelta","yDelta","target"])}),le=je.none(),(de={mutate:function(Ve,rt){K.trigger.drag(Ve,rt)},events:(K=aa({drag:vs(["xDelta","yDelta"])})).registry}).events.drag.bind(function(Ve){le.each(function(rt){Q.trigger.drag(Ve.xDelta,Ve.yDelta,rt)})}),{assign:function(Ve){le=je.some(Ve)},get:function(){return le},mutate:de.mutate,events:Q.registry}),Te=(W=void 0!==(z={}).mode?z.mode:Rx,function(Ve,rt,Pt){function Ze(){Er.stop(),On.isOn()&&(On.off(),Wt.trigger.stop())}var Et,yt,An=!1,Wt=aa({start:vs([]),stop:vs([])}),On=function mi(){var _,D,z={onEvent:Fn,reset:Fn,events:aa({move:vs(["info"])}).registry},W=(_=je.none(),{onEvent:function(Q,le){le.extract(Q).each(function(de){var xe=le,Te=de,Ne=_.map(function(Ee){return xe.compare(Ee,Te)});_=je.some(Te),Ne.each(function(Ee){D.trigger.move(Ee)})})},reset:function(){_=je.none()},events:(D=aa({move:vs(["info"])})).registry}),K=z;return{on:function(){K.reset(),K=W},off:function(){K.reset(),K=z},isOn:function(){return K===W},onEvent:function(Q,le){K.onEvent(Q,le)},events:W.events}}(),ur=(Et=Ze,yt=null,{cancel:Qn,throttle:function(){for(var wr=[],Br=0;Br<arguments.length;Br++)wr[Br]=arguments[Br];Qn(),yt=setTimeout(function(){yt=null,Et.apply(null,wr)},200)}});function Qn(){Jt(yt)||(clearTimeout(yt),yt=null)}function hr(wr){return function(){for(var Br=[],Ur=0;Ur<arguments.length;Ur++)Br[Ur]=arguments[Ur];An&&wr.apply(null,Br)}}On.events.move.bind(function(wr){rt.mutate(Ve,wr.info)});var Er=rt.sink(Jy({forceDrop:Ze,drop:hr(Ze),move:hr(function(wr){ur.cancel(),On.onEvent(wr,rt)}),delayDrop:hr(ur.throttle)}),Pt);return{element:Er.element,go:function(wr){Er.start(wr),On.on(),Wt.trigger.start()},on:function(){An=!0},off:function(){An=!1},destroy:function(){Er.destroy()},events:Wt.registry}}(xe,W,z)),Ne=je.none();function Ee(Ve,rt){return yl(Ve,rt)-wa(Ve,"data-initial-"+rt,0)}function Oe(Ve,rt){gt.trigger.startAdjust(),xe.assign(Ve),Bi(Ve,"data-initial-"+rt,yl(Ve,rt)),Hd(Ve,Cp),Ko(Ve,"opacity","0.2"),Te.go(_.parent())}function nt(Ve){return Rn(Ve,_.view())}xe.events.drag.bind(function(Ve){D(Ve.target,"data-row").each(function(rt){var Pt=yl(Ve.target,"top");Ko(Ve.target,"top",Pt+Ve.yDelta+"px")}),D(Ve.target,"data-column").each(function(rt){var Pt=yl(Ve.target,"left");Ko(Ve.target,"left",Pt+Ve.xDelta+"px")})}),Te.events.stop.bind(function(){xe.get().each(function(Ve){Ne.each(function(rt){D(Ve,"data-row").each(function(Pt){var Ze=Ee(Ve,"top");$o(Ve,"data-initial-top"),gt.trigger.adjustHeight(rt,Ze,parseInt(Pt,10))}),D(Ve,"data-column").each(function(Pt){var Ze=Ee(Ve,"left");$o(Ve,"data-initial-left"),gt.trigger.adjustWidth(rt,Ze,parseInt(Pt,10))}),gu(_,rt)})})});var Fe=ys(_.parent(),"mousedown",function(Ve){fg(Ve.target,uv)&&Oe(Ve.target,"top"),fg(Ve.target,Qy)&&Oe(Ve.target,"left")}),Qe=ys(_.view(),"mouseover",function(Ve){ea(Ve.target,"table",nt).filter(Fl).fold(function(){sr(Ve.target)&&ha(_)},function(rt){Ne=je.some(rt),gu(_,rt)})}),gt=aa({adjustHeight:vs(["table","delta","row"]),adjustWidth:vs(["table","delta","column"]),startAdjust:vs([])});return{destroy:function(){Fe.unbind(),Qe.unbind(),Te.destroy(),ha(_)},refresh:function(Ve){gu(_,Ve)},on:Te.on,off:Te.off,hideBars:or(Ud,_),showBars:or(Ci,_),events:gt.registry}}(An),yt=aa({beforeResize:vs(["table","type"]),afterResize:vs(["table","type"]),startDrag:vs([])}),Et.events.adjustHeight.bind(function(Wt){var On=Wt.table;yt.trigger.beforeResize(On,"row");var ur,Qn,hr,Er,wr,Br,Ur,Co,pr,Io=Pt.delta(Wt.delta,On);Qn=Io,hr=Wt.row,Er=Pt,Co=tt(ag(Ur=_r.fromTable(ur=On),ur,Er,no,function(Wr){return Wr.getOrThunk(Dn)}),function(Wr,jr){return hr===jr?Math.max(Qn+Wr,Dn()):Wr}),wr=Co,pr=tt(_r.justCells(Ur),function(Wr){var jr=Gu(Wr.row,Wr.row+Wr.rowspan,wr);return{element:Wr.element,height:jr,rowspan:Wr.rowspan}}),Gt((Br=Co,tt(Ur.all,function(Wr,jr){return{element:Wr.element,height:Br[jr]}})),function(Wr){to(Wr.element,Wr.height)}),Gt(pr,function(Wr){to(Wr.element,Wr.height)}),to(ur,Pr(Co,function(Wr,jr){return Wr+jr},0)),yt.trigger.afterResize(On,"row")}),Et.events.startAdjust.bind(function(Wt){yt.trigger.startDrag()}),Et.events.adjustWidth.bind(function(Wt){var On=Wt.table;yt.trigger.beforeResize(On,"col");var ur=Ze.delta(Wt.delta,On),Qn=rt(On);ji(On,ur,Wt.column,Ve,Qn),yt.trigger.afterResize(On,"col")}),(Oe={on:Et.on,off:Et.off,hideBars:Et.hideBars,showBars:Et.showBars,destroy:Et.destroy,events:yt.registry}).on(),Oe.events.startDrag.bind(function(Wt){le=je.some(_.selection.getRng())}),Oe.events.beforeResize.bind(function(Wt){var On,ur=Wt.table.dom,Qn=_,hr=Vd(On=ur),Er=E1(ur);Qn.fire("ObjectResizeStart",{target:On,width:hr,height:Er,origin:kl+Wt.type})}),Oe.events.afterResize.bind(function(Wt){var On,ur,Qn,hr,wr=Wt.table,Br=wr.dom;ll(wr),le.each(function(Ur){_.selection.setRng(Ur),_.focus()}),On=_,Qn=Vd(ur=Br),hr=E1(Br),On.fire("ObjectResized",{target:ur,width:Qn,height:hr,origin:kl+Wt.type}),_.undoManager.add()}),de=je.some(Oe))}),_.on("ObjectResizeStart",function(Te){var Ne,Ee,Oe,nt,Fe=Te.target;D(Fe)&&(Ne=at.fromDom(Fe),Gt(_.dom.select(".mce-clonedresizable"),function(Qe){_.dom.addClass(Qe,"mce-"+nd(_)+"-columns")}),!nv(Ne)&&nf(_)?hv(Ne):!Sg(Ne)&&Cl(_)&&bu(Ne),mh(Ne)&&ot(Te.origin,kl)&&bu(Ne),K=Te.width,Q=tc(_)?"":(nt=(Ee=_).dom.getStyle(Oe=Fe,"width")||Ee.dom.getAttrib(Oe,"width"),je.from(nt).filter(At).getOr("")))}),_.on("ObjectResized",function(Te){var Ne,Ee,Oe,nt,Fe,Qe,gt,Ve,rt,Pt,Ze=Te.target;D(Ze)&&(Ne=at.fromDom(Ze),ot(Ee=Te.origin,"corner-")&&(Oe=Ne,nt=Te.width,Pt=ut(Ee,"e"),""===Q&&bu(Oe),nt!==K&&""!==Q?(Ko(Oe,"width",Q),Fe=W(),Qe=z(Oe),gt=Wl(_)||Pt?Bs(Oe).columns-1:0,ji(Oe,nt-K,gt,Fe,Qe)):/^(\d+(\.\d+)?)%$/.test(Q)&&Ko(Oe,"width",nt*parseFloat(Q.replace("%",""))/K+"%"),/^(\d+(\.\d+)?)px$/.test(Q)&&(rt=_r.fromTable(Ve=Oe),_r.hasColumns(rt)||Gt(da(Ve),function(Et){Ko(Et,"width",ta(Et,"width")),$o(Et,"width")}))),ll(Ne),Hl(_,Ne.dom,cv))}),_.on("SwitchMode",function(){de.each(function(Te){_.mode.isReadOnly()?Te.hideBars():Te.showBars()})}),{lazyResize:function(){return de},lazyWire:function(){return xe.getOr(tv(at.fromDom(_.getBody()),wc))},destroy:function(){de.each(function(Te){Te.destroy()}),xe.each(function(Te){_.inline&&ra(Te.parent())})}}}(_),gt=function f0(_,D,z){var W=function va(_,D,z){function W(de){$o(de,_.selected),$o(de,_.firstSelected),$o(de,_.lastSelected)}function K(de){Bi(de,_.selected,"1")}function Q(de){le(de),z()}function le(de){Gt(_i(de,_.selectedSelector+","+_.firstSelectedSelector+","+_.lastSelectedSelector),W)}return{clearBeforeUpdate:le,clear:Q,selectRange:function(de,xe,Te,Ne){Q(de),Gt(xe,K),Bi(Te,_.firstSelected,"1"),Bi(Ne,_.lastSelected,"1"),D(xe,Te,Ne)},selectedSelector:_.selectedSelector,firstSelectedSelector:_.firstSelectedSelector,lastSelectedSelector:_.lastSelectedSelector}}(Us,function(K,Q,le){z.targets().each(function(de){yo(Q).each(function(xe){var Te,Ne,Ee,Oe=rd(_),nt=ts(Fn,at.fromDom(_.getDoc()),Oe),Fe=(Te=de,Ne=nt,Ra(Ee=_r.fromTable(xe),Te).map(function(Qe){var gt,Ve,rt=Zu(Ee,Ne,!1);return{upOrLeftCells:kr(mu(rt.slice(0,(gt=Qe)[gt.length-1].row+1)),function(Pt){return tt(Pt.cells.slice(0,gt[gt.length-1].column+1),function(Ze){return Ze.element})}),downOrRightCells:kr(mu(rt.slice((Ve=Qe)[0].row+Ve[0].rowspan-1,rt.length)),function(Pt){return tt(Pt.cells.slice(Ve[0].column+Ve[0].colspan-1,Pt.cells.length),function(Ze){return Ze.element})})}}));_.fire("TableSelectionChange",{cells:K,start:Q,finish:le,otherCells:Fe})})})},function(){_.fire("TableSelectionClear")});return _.on("init",function(K){var Q,le,de,xe,Te,Ne,Ee,Oe,nt,Fe,Qe,gt,Ve,rt,Pt,Ze,Et=_.getWin(),yt=sl(_),An=wl(_),Wt=(Q=zp(Et),{clearstate:(Qe=Q,gt=yt,Ve=An,rt=W,Pt=bg(),(le={clearstate:Ze=Pt.clear,mousedown:function(pr){rt.clear(gt),xd(pr.target,Ve).each(Pt.set)},mouseover:function(pr){hr(pr)},mouseup:function(pr){hr(pr),Ze()}}).clearstate),mousedown:le.mousedown,mouseover:le.mouseover,mouseup:le.mouseup}),On=(Fe=zp(Et),{keydown:function(pr,Io,Wr,jr,ri,qs){var Fa=pr.raw,Xi=Fa.which,Du=!0===Fa.shiftKey;return lu(Ee,nt.selectedSelector).fold(function(){return yf(Xi)&&!Du&&nt.clearBeforeUpdate(Ee),Xg(Xi)&&Du?or(kv,Fe,Ee,Oe,Yg,jr,Io,nt.selectRange):Sf(Xi)&&Du?or(kv,Fe,Ee,Oe,wd,jr,Io,nt.selectRange):Xg(Xi)?or(Mv,Fe,Oe,Yg,jr,Io,zg):Sf(Xi)?or(Mv,Fe,Oe,wd,jr,Io,Tv):je.none},function(Cf){function Ec(Hp){return function(){return ge(Hp,function(Bc){return Kg=Ee,function Xf(_,D,z,W,K){return Q=K,Yr(_,function(le){return dn(le,Q)}).bind(function(le){return xe=D,Te=z,yo(de=le).bind(function(Ne){var Ee=na(Ne),Oe=xe,nt=Te;return _r.findItem(Ee,de,Rn).bind(function(Fe){return _r.getAt(Ee,(0<Oe?Fe.row+Fe.rowspan-1:Fe.row)+Oe,(0<nt?Fe.column+Fe.colspan-1:Fe.column)+nt).map(function(Ve){return Ve.element})})}).bind(function(Ne){return Oe=W,No(Ee=Ne,"table").bind(function(nt){return Qs(nt,Oe).bind(function(Fe){return Ii(Fe,Ee).bind(function(Qe){return Qe.boxes.map(function(gt){return{boxes:gt,start:Qe.start,finish:Qe.finish}})})})});var Ee,Oe});var de,xe,Te});var Q}(Cf,Bc.rows,Bc.cols,(Wp=nt).firstSelectedSelector,Wp.lastSelectedSelector).map(function(Mf){return Wp.clearBeforeUpdate(Kg),Wp.selectRange(Kg,Mf.boxes,Mf.start,Mf.finish),Mf.boxes});var Kg,Wp}).fold(function(){return xl(Ee,nt.firstSelectedSelector,nt.lastSelectedSelector).map(function(Bc){var Rh=Xg(Xi)||qs.isForward(Xi)?Oi.after:Oi.before;return Fe.setRelativeSelection(Oi.on(Bc.first,0),Rh(Bc.table)),nt.clear(Ee),xf(je.none(),!0)})},function(Bc){return je.some(xf(je.none(),!0))})}}return Xg(Xi)&&Du?Ec([$l(1,0)]):Sf(Xi)&&Du?Ec([$l(-1,0)]):qs.isBackward(Xi)&&Du?Ec([$l(0,-1),$l(-1,0)]):qs.isForward(Xi)&&Du?Ec([$l(0,1),$l(1,0)]):yf(Xi)&&!Du?Qn:je.none})()},keyup:function(pr,Io,Wr,jr,ri){return lu(Ee,nt.selectedSelector).fold(function(){var qs,Fa,Xi,Du,Cf,Ec=pr.raw;return!0===Ec.shiftKey&&yf(Ec.which)?(qs=Ee,Fa=Oe,Cf=nt.selectRange,Rn(Xi=Io,Du=jr)&&Wr===ri?je.none():ea(Xi,"td,th",Fa).bind(function(Bc){return ea(Du,"td,th",Fa).bind(function(Rh){return _f(qs,Fa,Bc,Rh,Cf)})})):je.none()},je.none)}}),ur=(de=Ee=yt,xe=Oe=An,Te=nt=W,Ne=zp(Et),function(pr,Io){Te.clearBeforeUpdate(de),Ii(pr,Io,xe).each(function(Wr){var jr=Wr.boxes.getOr([]);Te.selectRange(de,jr,Wr.start,Wr.finish),Ne.selectContents(Io),Ne.collapseSelection()})});function Qn(){return nt.clear(Ee),je.none()}function hr(pr){Pt.on(function(Io){rt.clearBeforeUpdate(gt),xd(pr.target,Ve).each(function(Wr){Ii(Io,Wr,Ve).each(function(jr){var ri,qs,Fa,Xi=jr.boxes.getOr([]);1===Xi.length?(qs="false"===G1(ri=Xi[0]),Fa=As(Wd(pr.target),ri,Rn),qs&&Fa&&(rt.selectRange(gt,Xi,ri,ri),Qe.selectContents(ri))):1<Xi.length&&(rt.selectRange(gt,Xi,jr.start,jr.finish),Qe.selectContents(Wr))})})})}function Er(pr,Io){!0===pr.raw.shiftKey&&(Io.kill&&pr.kill(),Io.selection.each(function(Wr){var jr=Rc.relative(Wr.start,Wr.finish),ri=Jd(Et,jr);_.selection.setRng(ri)}))}function wr(pr){return 0===pr.button}_.on("TableSelectorChange",function(pr){return ur(pr.start,pr.finish)});var Br,Ur,Co=(Br=Zd(at.fromDom(yt)),Ur=Zd(0),{touchEnd:function(pr){var Io,Wr,jr=at.fromDom(pr.target);"td"!==$n(jr)&&"th"!==$n(jr)||(Io=Br.get(),Wr=Ur.get(),Rn(Io,jr)&&pr.timeStamp-Wr<300&&(pr.preventDefault(),ur(jr,jr))),Br.set(jr),Ur.set(pr.timeStamp)}});_.on("dragstart",function(pr){Wt.clearstate()}),_.on("mousedown",function(pr){wr(pr)&&Vp(pr)&&Wt.mousedown(ef(pr))}),_.on("mouseover",function(pr){var Io;(void 0===(Io=pr).buttons||qg.browser.isEdge()&&0===Io.buttons||0!=(1&Io.buttons))&&Vp(pr)&&Wt.mouseover(ef(pr))}),_.on("mouseup",function(pr){wr(pr)&&Vp(pr)&&Wt.mouseup(ef(pr))}),_.on("touchend",Co.touchEnd),_.on("keyup",function(pr){var Io,Wr,jr,ri=ef(pr);ri.raw.shiftKey&&yf(ri.raw.which)&&(Io=_.selection.getRng(),Wr=at.fromDom(Io.startContainer),jr=at.fromDom(Io.endContainer),On.keyup(ri,Wr,Io.startOffset,jr,Io.endOffset).each(function(qs){Er(ri,qs)}))}),_.on("keydown",function(pr){var Io=ef(pr);D().each(function(Fa){return Fa.hideBars()});var Wr=_.selection.getRng(),jr=at.fromDom(Wr.startContainer),ri=at.fromDom(Wr.endContainer),qs=ep(Y1,Nx)(at.fromDom(_.selection.getStart()));On.keydown(Io,jr,Wr.startOffset,ri,Wr.endOffset,qs).each(function(Fa){Er(Io,Fa)}),D().each(function(Fa){return Fa.showBars()})}),_.on("NodeChange",function(){var pr=_.selection;Nu(yo,[at.fromDom(pr.getStart()),at.fromDom(pr.getEnd())]).fold(function(){return W.clear(yt)},Fn)})}),{clear:W.clear}}(_,Qe.lazyResize,Fe),Ve=function vu(_,D,z){function W(de){return"table"===$n(sl(de))}function K(de,xe,Te,Ne,Ee){return function(Oe,nt,Fe){void 0===Fe&&(Fe=!1),ll(Oe);var Qe=Ne(),gt=at.fromDom(_.getDoc()),Ve=ts(Te,gt,Q),rt={sizing:pg(_,Oe),resize:(Fm(_)?rp:ug)(),section:function(Pt){switch(xo(_)){case"section":return rf();case"sectionCells":return kp();case"cells":return xu();default:return function(Ze,Et){switch(ge(_r.fromTable(Ze).all,function(An){var Wt=ah(An);return"header"===Wt.type?je.from(Wt.subType):je.none()}).getOr("section")){case"section":return Fs();case"sectionCells":return ap();case"cells":return qu()}}(Pt)}}(Oe)};return xe(Oe)?de(Qe,Oe,nt,Ve,rt).bind(function(Pt){Gt(Pt.newRows,function(yt){_c(_,yt.dom)}),Gt(Pt.newCells,function(yt){Bm(_,yt.dom)});var Ze,Et=(Ze=Oe,Pt.cursor.fold(function(){return Yn(da(Ze)).filter(sr).map(function(yt){D.clear(Ze);var An=_.dom.createRng();return An.selectNode(yt.dom),_.selection.setRng(An),Bi(yt,"data-mce-selected","1"),An})},function(yt){var An=ro(ni,yt),Wt=_.dom.createRng();return Wt.setStart(An.element.dom,An.offset),Wt.setEnd(An.element.dom,An.offset),_.selection.setRng(Wt),D.clear(Ze),je.some(Wt)}));return sr(Oe)&&(ll(Oe),Fe||Hl(_,Oe.dom,Ee)),Et.map(function(yt){return{rng:yt,effect:Ee}})}):je.none()}}var Q=rd(_),le=Fm(_)?Fn:Xu;return{deleteRow:K(e0,function(de){return!1===W(_)||1<Bs(de).rows},Fn,z,ci),deleteColumn:K(xh,function(de){return!1===W(_)||1<Bs(de).columns},Fn,z,ci),insertRowsBefore:K(af,er,Fn,z,ci),insertRowsAfter:K(_u,er,Fn,z,ci),insertColumnsBefore:K(Lc,er,le,z,ci),insertColumnsAfter:K(Zl,er,le,z,ci),mergeCells:K(_h,er,Fn,z,ci),unmergeCells:K(Dg,er,Fn,z,ci),pasteColsBefore:K(n0,er,Fn,z,ci),pasteColsAfter:K(bv,er,Fn,z,ci),pasteRowsBefore:K(_s,er,Fn,z,ci),pasteRowsAfter:K(ma,er,Fn,z,ci),pasteCells:K(yv,er,Fn,z,Tg),makeCellsHeader:K(mv,er,Fn,z,ci),unmakeCellsHeader:K(vv,er,Fn,z,ci),makeColumnsHeader:K(sf,er,Fn,z,ci),unmakeColumnsHeader:K(t0,er,Fn,z,ci),makeRowsHeader:K(nc,er,Fn,z,ci),makeRowsBody:K(Va,er,Fn,z,ci),makeRowsFooter:K(Wi,er,Fn,z,ci),getTableRowType:Ri,getTableCellType:ch,getTableColType:Xd}}(_,gt,Qe.lazyWire),rt=(K=bg(),Q=bg(),{getRows:K.get,setRows:function(Ze){Ze.fold(K.clear,K.set),Q.clear()},clearRows:K.clear,getColumns:Q.get,setColumns:function(Ze){Ze.fold(Q.clear,Q.set),K.clear()},clearColumns:Q.clear});return function Qm(_,D,z,W,K){function Q(Fe){return yo(Fe,nt)}function le(Fe){return Sp(Qf(Qe=_),wl(Qe)).bind(function(gt){return Q(gt).map(function(Ve){return Fe(Ve,gt)})});var Qe}function de(Fe){_.focus()}function xe(Fe,Qe){return void 0===Qe&&(Qe=!1),le(function(gt,Ve){var rt=eh(W,gt,Ve);Fe(gt,rt,Qe).each(de)})}function Te(){return le(function(Fe,Qe){var gt,Ve,rt,Pt=eh(W,Fe,Qe),Ze=ts(Fn,at.fromDom(_.getDoc()),je.none());return gt=Pt,Ve=Ze,Ra(rt=_r.fromTable(Fe),gt).bind(function(Et){var yt=mu(kr(Vi(Zu(rt,Ve,!1)).rows.slice(Et[0].row,Et[Et.length-1].row+Et[Et.length-1].rowspan),function(An){var Wt=hn(An.cells,function(On){return!On.isLocked});return 0<Wt.length?[Wn(Wn({},An),{cells:Wt})]:[]}));return Ua(0<yt.length,yt)}).map(function(Et){return tt(Et,function(yt){var An=Bl(yt.element);return Gt(yt.cells,function(Wt){var On=Es(Wt.element);od(On,"colspan",Wt.colspan,1),od(On,"rowspan",Wt.rowspan,1),Dr(An,On)}),An})})})}function Ne(){return le(function(Fe,Qe){var gt,Ve;return gt=eh(W,Fe,Qe),Gl(Ve=_r.fromTable(Fe),gt).map(function(Pt){var Ze,Et,yt=Pt[Pt.length-1],An=Pt[0].column,Wt=yt.column+yt.colspan,On=function(Qn,hr,Er){if(_r.hasColumns(Qn)){var wr=tt(hn(_r.justColumns(Qn),function(Ur){return Ur.column>=hr&&Ur.column<Er}),function(Ur){var Co=Es(Ur.element);return ud(Co,"span",Er-hr),Co}),Br=at.fromTag("colgroup");return Di(Br,wr),[Br]}return[]}(Ve,An,Wt),ur=(Ze=An,Et=Wt,tt(Ve.all,function(Qn){var hr=tt(hn(Qn.cells,function(wr){return wr.column>=Ze&&wr.column<Et}),function(wr){var Br=Es(wr.element);return ud(Br,"colspan",Et-Ze),Br}),Er=at.fromTag("tr");return Di(Er,hr),Er}));return ko(ko([],On,!0),ur,!0)})})}function Ee(Fe,Qe){return Qe().each(function(gt){var Ve=tt(gt,Es);le(function(rt,Pt){var Ze,Et,yt=Rm(at.fromDom(_.getDoc())),An=(Ze=Ve,Et=yt,{selection:Om(W),clipboard:Ze,generators:Et});Fe(rt,An).each(de)})})}function Oe(Fe){return function(Qe,gt){return Do(gt,"type").each(function(Ve){xe(Fe(Ve),gt.no_events)})}}var nt=wl(_);So({mceTableSplitCells:function(){return xe(D.unmergeCells)},mceTableMergeCells:function(){return xe(D.mergeCells)},mceTableInsertRowBefore:function(){return xe(D.insertRowsBefore)},mceTableInsertRowAfter:function(){return xe(D.insertRowsAfter)},mceTableInsertColBefore:function(){return xe(D.insertColumnsBefore)},mceTableInsertColAfter:function(){return xe(D.insertColumnsAfter)},mceTableDeleteCol:function(){return xe(D.deleteColumn)},mceTableDeleteRow:function(){return xe(D.deleteRow)},mceTableCutCol:function(){return Ne().each(function(Fe){K.setColumns(Fe),xe(D.deleteColumn)})},mceTableCutRow:function(){return Te().each(function(Fe){K.setRows(Fe),xe(D.deleteRow)})},mceTableCopyCol:function(){return Ne().each(function(Fe){return K.setColumns(Fe)})},mceTableCopyRow:function(){return Te().each(function(Fe){return K.setRows(Fe)})},mceTablePasteColBefore:function(){return Ee(D.pasteColsBefore,K.getColumns)},mceTablePasteColAfter:function(){return Ee(D.pasteColsAfter,K.getColumns)},mceTablePasteRowBefore:function(){return Ee(D.pasteRowsBefore,K.getRows)},mceTablePasteRowAfter:function(){return Ee(D.pasteRowsAfter,K.getRows)},mceTableDelete:function(){return yp(_).each(function(Fe){yo(Fe,nt).filter(Ir(nt)).each(function(Qe){var gt,Ve=at.fromText("");fa(Qe,Ve),ra(Qe),_.dom.isEmpty(_.getBody())?(_.setContent(""),_.selection.setCursorLocation()):((gt=_.dom.createRng()).setStart(Ve.dom,0),gt.setEnd(Ve.dom,0),_.selection.setRng(gt),_.nodeChanged())})})},mceTableCellToggleClass:function(Fe,Qe){le(function(gt){var Ve=Dc(W),rt=Un(Ve,function(Pt){return _.formatter.match("tablecellclass",{value:Qe},Pt.dom)})?_.formatter.remove:_.formatter.apply;Gt(Ve,function(Pt){return rt("tablecellclass",{value:Qe},Pt.dom)}),Hl(_,gt.dom,cv)})},mceTableToggleClass:function(Fe,Qe){le(function(gt){_.formatter.toggle("tableclass",{value:Qe},gt.dom),Hl(_,gt.dom,cv)})},mceTableToggleCaption:function(){yp(_).each(function(Fe){yo(Fe,nt).each(function(Qe){jc(Qe,"caption").fold(function(){var gt,Ve,rt=at.fromTag("caption");Dr(rt,at.fromText("Caption")),Ve=rt,mc(gt=Qe,0).fold(function(){Dr(gt,Ve)},function(Pt){gs(Pt,Ve)}),_.selection.setCursorLocation(rt.dom,0)},function(gt){$r("caption")(Fe)&&Nr("td",Qe).each(function(Ve){return _.selection.setCursorLocation(Ve.dom,0)}),ra(gt)}),Hl(_,Qe.dom,ci)})})},mceTableSizingMode:function(Fe,Qe){return gt=Qe,yp(_).each(function(Ve){tc(_)||nf(_)||Cl(_)||yo(Ve,nt).each(function(rt){"relative"!==gt||Sg(rt)?"fixed"!==gt||nv(rt)?"responsive"!==gt||mh(rt)||bh(rt):hv(rt):bu(rt),ll(rt),Hl(_,rt.dom,ci)})});var gt},mceTableCellType:Oe(function(Fe){return"th"===Fe?D.makeCellsHeader:D.unmakeCellsHeader}),mceTableColType:Oe(function(Fe){return"th"===Fe?D.makeColumnsHeader:D.unmakeColumnsHeader}),mceTableRowType:Oe(function(Fe){switch(Fe){case"header":return D.makeRowsHeader;case"footer":return D.makeRowsFooter;default:return D.makeRowsBody}})},function(Fe,Qe){return _.addCommand(Qe,Fe)}),So({mceTableProps:or(vp,_,!1),mceTableRowProps:or(as,_),mceTableCellProps:or(Jm,_,W)},function(Fe,Qe){return _.addCommand(Qe,function(){return Fe()})}),_.addCommand("mceInsertTable",function(Fe,Qe){Vn(Qe)&&0<tr(Qe).length?Xm(_,Qe.rows,Qe.columns,Qe.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):vp(_,!0)}),_.addCommand("mceTableApplyCellStyle",function(Fe,Qe){function gt(Pt){return"tablecell"+Pt.toLowerCase().replace("-","")}var Ve,rt;!Vn(Qe)||0!==(Ve=Dc(W)).length&&(function(Pt){for(var Ze in Pt)if(ar.call(Pt,Ze))return;return 1}(rt=bn(Qe,function(Pt,Ze){return _.formatter.has(gt(Ze))&&Mn(Pt)}))||(So(rt,function(Pt,Ze){Gt(Ve,function(Et){md.normal(_,Et.dom).setFormat(gt(Ze),Pt)})}),Q(Ve[0]).each(function(Pt){return Hl(_,Pt.dom,cv)})))})}(_,Ve,0,nt,rt),Ne=Ve,Ee=nt,Oe=wl(Te=_),So({mceTableRowType:function(){return Pt(Ne.getTableRowType)},mceTableCellType:function(){return Pt(Ne.getTableCellType)},mceTableColType:function(){return Pt(Ne.getTableColType)}},function(Ze,Et){return Te.addQueryValueHandler(Et,Ze)}),function Fd(_,D,z){_.on("BeforeGetContent",function(W){!0===W.selection&&Ed(D.get(),Fn,function(K){W.preventDefault(),yo(K[0]).map(function(Q){var le=function Ix(_,D){function z(Et){return dn(Et.element,D)}var W,Q,le,de,xe,Te,Ne,Ee,Oe,nt,Fe,Qe=Es(_),gt=au(Qe),Ve=av(_),rt=_r.generate(gt),Pt=(W=z,Q=rt.grid.rows,le=rt.grid.columns,xe=de=0,Te=[],Ne=[],So(rt.access,function(Et){var yt,An,Wt,On;Te.push(Et),W(Et)&&(Ne.push(Et),An=(yt=Et.row)+Et.rowspan-1,On=(Wt=Et.column)+Et.colspan-1,yt<Q?Q=yt:de<An&&(de=An),Wt<le?le=Wt:xe<On&&(xe=On))}),{minRow:Q,minCol:le,maxRow:de,maxCol:xe,allCells:Te,selectedCells:Ne}),Ze="th:not("+D+"),td:not("+D+")";return Gt($c(Qe,"th,td",function(Et){return dn(Et,Ze)}),ra),function(Et,yt,An,Wt){for(var On,ur,Qn,hr=yt.grid.columns,Er=yt.grid.rows,wr=0;wr<Er;wr++)for(var Br=!1,Ur=0;Ur<hr;Ur++)wr<An.minRow||wr>An.maxRow||Ur<An.minCol||Ur>An.maxCol||(_r.getAt(yt,wr,Ur).filter(Wt).isNone()?(On=Br,ur=Et[wr].element,Qn=at.fromTag("td"),Dr(Qn,at.fromTag("br")),(On?Dr:ms)(ur,Qn)):Br=!0)}(gt,rt,Pt,z),Ee=Qe,Oe=Pt,nt=rt,Fe=function(Et,yt,An,Wt){if(0===Wt.minCol&&yt.grid.columns===Wt.maxCol+1)return 0;var On=ia(yt,Et,An),ur=Kn(On,function(hr,Er){return hr+Er},0),Qn=Kn(On.slice(Wt.minCol,Wt.maxCol+1),function(hr,Er){return hr+Er},0)/ur*An.pixelWidth()-An.pixelWidth();return An.getCellDelta(Qn)}(_,_r.fromTable(_),Ve,Pt),So(nt.columns,function(Et){(Et.column<Oe.minCol||Et.column>Oe.maxCol)&&ra(Et.element)}),Gt(hn(iu(Ee,"tr"),function(Et){return 0===Et.dom.childElementCount}),ra),Oe.minCol!==Oe.maxCol&&Oe.minRow!==Oe.maxRow||Gt(iu(Ee,"th,td"),function(Et){$o(Et,"rowspan"),$o(Et,"colspan")}),$o(Ee,Po),$o(Ee,"data-snooker-col-series"),av(Ee).adjustTableWidth(Fe),Qe}(Q,"[data-mce-selected]");return ll(le),[le]}).each(function(Q){var le;W.content="text"===W.format?tt(Q,function(de){return de.dom.innerText}).join(""):(le=_,tt(Q,function(de){return le.selection.serializer.serialize(de.dom,{})}).join(""))})},Fn)}),_.on("BeforeSetContent",function(W){!0===W.selection&&!0===W.paste&&Yn(Dc(D)).each(function(K){yo(K).each(function(Q){var le,de,xe,Ne=hn((le=W.content,(de=document.createElement("div")).innerHTML=le,vi(at.fromDom(de))),function(Oe){return"meta"!==$n(Oe)}),Ee=$r("table");1===Ne.length&&Ee(Ne[0])&&(W.preventDefault(),xe=Rm(at.fromDom(_.getDoc())),z.pasteCells(Q,{element:K,clipboard:Ne[0],generators:xe}).each(function(){_.focus()}))})})})}(_,nt,Ve),function(Ze,Et,yt,An){function Wt(Co){return function(){return Ze.execCommand(Co)}}function On(Co){Ze.execCommand("mceInsertTable",!1,{rows:Co.numRows,columns:Co.numColumns})}var ur={text:"Table properties",onSetup:yt.onSetupTable,onAction:Wt("mceTableProps")},Qn={text:"Delete table",icon:"table-delete-table",onSetup:yt.onSetupTable,onAction:Wt("mceTableDelete")};Ze.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:Wt("mceTableInsertRowBefore"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:Wt("mceTableInsertRowAfter"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:Wt("mceTableDeleteRow"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:Wt("mceTableRowProps"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:Wt("mceTableCutRow"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:Wt("mceTableCopyRow"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:Wt("mceTablePasteRowBefore"),onSetup:yt.onSetupPasteable(An.getRows)}),Ze.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:Wt("mceTablePasteRowAfter"),onSetup:yt.onSetupPasteable(An.getRows)});var hr={type:"nestedmenuitem",text:"Row",getSubmenuItems:Pn("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};Ze.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:Wt("mceTableInsertColBefore"),onSetup:yt.onSetupColumn("onFirst")}),Ze.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:Wt("mceTableInsertColAfter"),onSetup:yt.onSetupColumn("onLast")}),Ze.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:Wt("mceTableDeleteCol"),onSetup:yt.onSetupColumn("onAny")}),Ze.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:Wt("mceTableCutCol"),onSetup:yt.onSetupColumn("onAny")}),Ze.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:Wt("mceTableCopyCol"),onSetup:yt.onSetupColumn("onAny")}),Ze.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:Wt("mceTablePasteColBefore"),onSetup:yt.onSetupPasteableColumn(An.getColumns,"onFirst")}),Ze.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:Wt("mceTablePasteColAfter"),onSetup:yt.onSetupPasteableColumn(An.getColumns,"onLast")});var Er={type:"nestedmenuitem",text:"Column",getSubmenuItems:Pn("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};Ze.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:Wt("mceTableCellProps"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:Wt("mceTableMergeCells"),onSetup:yt.onSetupMergeable}),Ze.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:Wt("mceTableSplitCells"),onSetup:yt.onSetupUnmergeable});var wr={type:"nestedmenuitem",text:"Cell",getSubmenuItems:Pn("tablecellprops tablemergecells tablesplitcells")};!1===Ze.getParam("table_grid",!0,"boolean")?Ze.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:Wt("mceInsertTable")}):Ze.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:On}]}}),Ze.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:Wt("mceInsertTable")}),Ze.ui.registry.addMenuItem("tableprops",ur),Ze.ui.registry.addMenuItem("deletetable",Qn),Ze.ui.registry.addNestedMenuItem("row",hr),Ze.ui.registry.addNestedMenuItem("column",Er),Ze.ui.registry.addNestedMenuItem("cell",wr),Ze.ui.registry.addContextMenu("table",{update:function(){return yt.resetTargets(),yt.targets().fold(Pn(""),function(Co){return"caption"===$n(Co.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var Br=gd(ip(Ze));0!==Br.length&&Ze.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return rc(Ze,Et,Br,"tableclass",function(Co){return Ze.execCommand("mceTableToggleClass",!1,Co)})},onSetup:yt.onSetupTable});var Ur=gd(ju(Ze));0!==Ur.length&&Ze.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return rc(Ze,Et,Ur,"tablecellclass",function(Co){return Ze.execCommand("mceTableCellToggleClass",!1,Co)})},onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return rc(Ze,Et,Pp,"tablecellverticalalign",Oa(Ze,"vertical-align"))},onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return rc(Ze,Et,Vy(Ze),"tablecellborderwidth",Oa(Ze,"border-width"))},onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return rc(Ze,Et,ih(Ze),"tablecellborderstyle",Oa(Ze,"border-style"))},onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:Wt("mceTableToggleCaption"),onSetup:yt.onSetupTableWithCaption}),Ze.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return cd(Ze,Hm(Ze),"background-color")},onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return cd(Ze,Fy(Ze),"border-color")},onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:xg(Ze),onSetup:yt.onSetupTableRowHeaders}),Ze.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:Km(Ze),onSetup:yt.onSetupTableColumnHeaders})}(_,nt,Fe,rt),function(Ze,Et,yt,An){function Wt(Qn){return function(){return Ze.execCommand(Qn)}}Ze.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(Qn){return Qn("inserttable | cell row column | advtablesort | tableprops deletetable")}}),Ze.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:Wt("mceTableProps"),icon:"table",onSetup:yt.onSetupTable}),Ze.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:Wt("mceTableDelete"),icon:"table-delete-table",onSetup:yt.onSetupTable}),Ze.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:Wt("mceTableCellProps"),icon:"table-cell-properties",onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:Wt("mceTableMergeCells"),icon:"table-merge-cells",onSetup:yt.onSetupMergeable}),Ze.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:Wt("mceTableSplitCells"),icon:"table-split-cells",onSetup:yt.onSetupUnmergeable}),Ze.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:Wt("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:Wt("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:Wt("mceTableDeleteRow"),icon:"table-delete-row",onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:Wt("mceTableRowProps"),icon:"table-row-properties",onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:Wt("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:yt.onSetupColumn("onFirst")}),Ze.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:Wt("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:yt.onSetupColumn("onLast")}),Ze.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:Wt("mceTableDeleteCol"),icon:"table-delete-column",onSetup:yt.onSetupColumn("onAny")}),Ze.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:Wt("mceTableCutRow"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:Wt("mceTableCopyRow"),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:Wt("mceTablePasteRowBefore"),onSetup:yt.onSetupPasteable(An.getRows)}),Ze.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:Wt("mceTablePasteRowAfter"),onSetup:yt.onSetupPasteable(An.getRows)}),Ze.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:Wt("mceTableCutCol"),onSetup:yt.onSetupColumn("onAny")}),Ze.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:Wt("mceTableCopyCol"),onSetup:yt.onSetupColumn("onAny")}),Ze.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:Wt("mceTablePasteColBefore"),onSetup:yt.onSetupPasteableColumn(An.getColumns,"onFirst")}),Ze.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:Wt("mceTablePasteColAfter"),onSetup:yt.onSetupPasteableColumn(An.getColumns,"onLast")}),Ze.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:Wt("mceInsertTable"),icon:"table"});var On=gd(ip(Ze));0!==On.length&&Ze.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Tl(Ze,Et,On,"tableclass",function(Qn){return Ze.execCommand("mceTableToggleClass",!1,Qn)}),onSetup:yt.onSetupTable});var ur=gd(ju(Ze));0!==ur.length&&Ze.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Tl(Ze,Et,ur,"tablecellclass",function(Qn){return Ze.execCommand("mceTableCellToggleClass",!1,Qn)}),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Tl(Ze,Et,Pp,"tablecellverticalalign",Oa(Ze,"vertical-align")),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Tl(Ze,Et,Vy(Ze),"tablecellborderwidth",Oa(Ze,"border-width")),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Tl(Ze,Et,ih(Ze),"tablecellborderstyle",Oa(Ze,"border-style")),onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:Wt("mceTableToggleCaption"),icon:"table-caption",onSetup:yt.onSetupTableWithCaption}),Ze.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(Qn){return Qn(cd(Ze,Hm(Ze),"background-color"))},onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(Qn){return Qn(cd(Ze,Fy(Ze),"border-color"))},onSetup:yt.onSetupCellOrRow}),Ze.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:xg(Ze),onSetup:yt.onSetupTableRowHeaders}),Ze.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:Km(Ze),onSetup:yt.onSetupTableColumnHeaders})}(_,nt,Fe,rt),0<(xe=(de=_).getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")).length&&de.ui.registry.addContextToolbar("table",{predicate:function(Ze){return de.dom.is(Ze,"table")&&de.getBody().contains(Ze)},items:xe,scope:"node",position:"node"}),_.on("PreInit",function(){_.serializer.addTempAttr(Us.firstSelected),_.serializer.addTempAttr(Us.lastSelected),_.formatter.register(xv)}),_.getParam("table_tab_navigation",!0,"boolean")&&_.on("keydown",function(Ze){var Et,yt,An,Wt,On=_,ur=gt;(Et=Ze).keyCode===bf.TAB&&(yt=sl(On),An=function(Qn){var hr=$n(Qn);return Rn(Qn,yt)||Qt(u0,hr)},Wt=On.selection.getRng(),ps(at.fromDom(Et.shiftKey?Wt.startContainer:Wt.endContainer),An).each(function(Qn){Et.preventDefault(),yo(Qn,An).each(ur.clear),On.selection.collapse(Et.shiftKey),(Et.shiftKey?function(hr,Er,wr){return ic(hr,Er,(Ur=Fl,$d(Br=wr,void 0).fold(function(){return uo.none()},function(Co){return wu(Co.all,Br,Co.index,-1,Ur)})));var Br,Ur}:pf)(On,An,Qn).each(function(hr){On.selection.setRng(hr)})}))}),_.on("remove",function(){Qe.destroy()}),{insertTable:(le=_,function(Ze,Et,yt){var An=Xm(le,Et,Ze,yt=void 0===yt?{}:yt,"Invalid values for insertTable - rows and columns values are required to insert a table.");return le.undoManager.add(),An}),setClipboardRows:pp(rt.setRows),getClipboardRows:vg(rt.getRows),setClipboardCols:pp(rt.setColumns),getClipboardCols:vg(rt.getColumns),resizeHandler:Qe,selectionTargets:Fe};function Pt(Ze){return Sp(Qf(Te)).bind(function(Et){return yo(Et,Oe).map(function(yt){var An=eh(Ee,yt,Et);return Ze(yt,An)})}).getOr("")}})}(),function(wn,Gr){"object"==typeof exports&&"undefined"!=typeof module?Gr(exports):"function"==typeof define&&define.amd?define(["exports"],Gr):Gr((wn="undefined"!=typeof globalThis?globalThis:wn||self).echarts={})}(this,function(wn){"use strict";var Gr=function(n,t){return(Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)};function We(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}Gr(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var ai=function(){return(ai=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function Fn(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||t)}var Pn=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Tt=new function(){this.browser=new Pn,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(Tt.wxa=!0,Tt.canvasSupported=!0,Tt.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(Tt.worker=!0,Tt.canvasSupported=!0):"undefined"==typeof navigator?(Tt.node=!0,Tt.canvasSupported=!0,Tt.svgSupported=!0):function(n,t){var e=t.browser,r=n.match(/Firefox\/([\d.]+)/),o=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),i=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);r&&(e.firefox=!0,e.version=r[1]),o&&(e.ie=!0,e.version=o[1]),i&&(e.edge=!0,e.version=i[1],e.newEdge=+i[1].split(".")[0]>18),s&&(e.weChat=!0),t.canvasSupported=!!document.createElement("canvas").getContext,t.svgSupported="undefined"!=typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported="undefined"!=typeof document;var l=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in l||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,Tt);var rr={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},Mn={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},Vn=Object.prototype.toString,xr=Array.prototype,Jt=xr.forEach,ho=xr.filter,ua=xr.slice,wo=xr.map,fo=function(){}.constructor,or=fo?fo.prototype:null,Ir="__proto__",Mi={};function Zr(n,t){Mi[n]=t}var er=2311;function fi(){return er++}function Jr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];"undefined"!=typeof console&&console.error.apply(console,n)}function Qt(n){if(null==n||"object"!=typeof n)return n;var t=n,e=Vn.call(n);if("[object Array]"===e){if(!So(n)){t=[];for(var r=0,o=n.length;r<o;r++)t[r]=Qt(n[r])}}else if(Mn[e]){if(!So(n)){var i=n.constructor;if(i.from)t=i.from(n);else for(t=new i(n.length),r=0,o=n.length;r<o;r++)t[r]=Qt(n[r])}}else if(!rr[e]&&!So(n)&&!ko(n))for(var s in t={},n)n.hasOwnProperty(s)&&s!==Ir&&(t[s]=Qt(n[s]));return t}function en(n,t,e){if(!zn(t)||!zn(n))return e?Qt(t):n;for(var r in t)if(t.hasOwnProperty(r)&&r!==Ir){var o=n[r],i=t[r];!zn(i)||!zn(o)||dt(i)||dt(o)||ko(i)||ko(o)||Ms(i)||Ms(o)||So(i)||So(o)?!e&&r in n||(n[r]=Qt(t[r])):en(o,i,e)}return n}function jt(n,t){for(var e=n[0],r=1,o=n.length;r<o;r++)e=en(e,n[r],t);return e}function tt(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==Ir&&(n[e]=t[e]);return n}function Gt(n,t,e){for(var r=It(t),o=0;o<r.length;o++){var i=r[o];(e?null!=t[i]:null==n[i])&&(n[i]=t[i])}return n}var vo=function(){return Mi.createCanvas()};function hn(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,r=n.length;e<r;e++)if(n[e]===t)return e}return-1}function Pr(n,t){var e=n.prototype;function r(){}for(var o in r.prototype=t.prototype,n.prototype=new r,e)e.hasOwnProperty(o)&&(n.prototype[o]=e[o]);n.prototype.constructor=n,n.superClass=t}function Kn(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),o=0;o<r.length;o++){var i=r[o];"constructor"!==i&&(e?null!=t[i]:null==n[i])&&(n[i]=t[i])}else Gt(n,t,e)}function Yr(n){return!!n&&"string"!=typeof n&&"number"==typeof n.length}function ue(n,t,e){if(n&&t)if(n.forEach&&n.forEach===Jt)n.forEach(t,e);else if(n.length===+n.length)for(var r=0,o=n.length;r<o;r++)t.call(e,n[r],r,n);else for(var i in n)n.hasOwnProperty(i)&&t.call(e,n[i],i,n)}function Ht(n,t,e){if(!n)return[];if(!t)return fn(n);if(n.map&&n.map===wo)return n.map(t,e);for(var r=[],o=0,i=n.length;o<i;o++)r.push(t.call(e,n[o],o,n));return r}function kr(n,t,e,r){if(n&&t){for(var o=0,i=n.length;o<i;o++)e=t.call(r,e,n[o],o,n);return e}}function Un(n,t,e){if(!n)return[];if(!t)return fn(n);if(n.filter&&n.filter===ho)return n.filter(t,e);for(var r=[],o=0,i=n.length;o<i;o++)t.call(e,n[o],o,n)&&r.push(n[o]);return r}function Tn(n,t,e){if(n&&t)for(var r=0,o=n.length;r<o;r++)if(t.call(e,n[r],r,n))return n[r]}function It(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}Mi.createCanvas=function(){return document.createElement("canvas")};var xn=or&&ge(or.bind)?or.call.bind(or.bind):function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return function(){return n.apply(t,e.concat(ua.call(arguments)))}};function Yn(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(ua.call(arguments)))}}function dt(n){return Array.isArray?Array.isArray(n):"[object Array]"===Vn.call(n)}function ge(n){return"function"==typeof n}function ir(n){return"string"==typeof n}function je(n){return"[object String]"===Vn.call(n)}function jo(n){return"number"==typeof n}function zn(n){var t=typeof n;return"function"===t||!!n&&"object"===t}function Ms(n){return!!rr[Vn.call(n)]}function Wn(n){return!!Mn[Vn.call(n)]}function ko(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function Qi(n){return null!=n.colorStops}function Ma(n){return null!=n.image}function Wa(n){return"[object RegExp]"===Vn.call(n)}function Dt(n){return n!=n}function ut(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,r=n.length;e<r;e++)if(null!=n[e])return n[e]}function At(n,t){return null!=n?n:t}function Nt(n,t,e){return null!=n?n:null!=t?t:e}function fn(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return ua.apply(n,t)}function dn(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function yn(n,t){if(!n)throw new Error(t)}function Nr(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Rn="__ec_primitive__";function Kr(n){n[Rn]=!0}function So(n){return n[Rn]}var ei=function(){function n(t){this.data={};var e=dt(t);this.data={};var r=this;function o(i,s){e?r.set(i,s):r.set(s,i)}t instanceof n?t.each(o):t&&ue(t,o)}return n.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},n.prototype.set=function(t,e){return this.data[t]=e},n.prototype.each=function(t,e){for(var r in this.data)this.data.hasOwnProperty(r)&&t.call(e,this.data[r],r)},n.prototype.keys=function(){return It(this.data)},n.prototype.removeKey=function(t){delete this.data[t]},n}();function bn(n){return new ei(n)}function Ta(n,t){for(var e=new n.constructor(n.length+t.length),r=0;r<n.length;r++)e[r]=n[r];var o=n.length;for(r=0;r<t.length;r++)e[r+o]=t[r];return e}function Yo(n,t){var e;if(Object.create)e=Object.create(n);else{var r=function(){};r.prototype=n,e=new r}return t&&tt(e,t),e}function _n(n,t){return n.hasOwnProperty(t)}function Do(){}var Ga=Object.freeze({__proto__:null,$override:Zr,guid:fi,logError:Jr,clone:Qt,merge:en,mergeAll:jt,extend:tt,defaults:Gt,createCanvas:vo,indexOf:hn,inherits:Pr,mixin:Kn,isArrayLike:Yr,each:ue,map:Ht,reduce:kr,filter:Un,find:Tn,keys:It,bind:xn,curry:Yn,isArray:dt,isFunction:ge,isString:ir,isStringSafe:je,isNumber:jo,isObject:zn,isBuiltInObject:Ms,isTypedArray:Wn,isDom:ko,isGradientObject:Qi,isImagePatternObject:Ma,isRegExp:Wa,eqNaN:Dt,retrieve:ut,retrieve2:At,retrieve3:Nt,slice:fn,normalizeCssArray:dn,assert:yn,trim:Nr,setAsPrimitive:Kr,isPrimitive:So,HashMap:ei,createHashMap:bn,concatArray:Ta,createObject:Yo,hasOwn:_n,noop:Do});function De(n,t){return null==n&&(n=0),null==t&&(t=0),[n,t]}function hi(n,t){return n[0]=t[0],n[1]=t[1],n}function Xo(n){return[n[0],n[1]]}function ca(n,t,e){return n[0]=t,n[1]=e,n}function ka(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function si(n,t,e,r){return n[0]=t[0]+e[0]*r,n[1]=t[1]+e[1]*r,n}function Da(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function Ts(n){return Math.sqrt($s(n))}function $s(n){return n[0]*n[0]+n[1]*n[1]}function ot(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function Bt(n,t){var e=Ts(t);return 0===e?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function Me(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var Ue=Me;function ht(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var mt=ht;function st(n,t,e,r){return n[0]=t[0]+r*(e[0]-t[0]),n[1]=t[1]+r*(e[1]-t[1]),n}function ft(n,t,e){var r=t[0],o=t[1];return n[0]=e[0]*r+e[2]*o+e[4],n[1]=e[1]*r+e[3]*o+e[5],n}function tn(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function Xt(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var nn=Object.freeze({__proto__:null,create:De,copy:hi,clone:Xo,set:ca,add:ka,scaleAndAdd:si,sub:Da,len:Ts,length:Ts,lenSquare:$s,lengthSquare:$s,mul:function(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n},div:function(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:ot,normalize:Bt,distance:Me,dist:Ue,distanceSquare:ht,distSquare:mt,negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:st,applyTransform:ft,min:tn,max:Xt}),un=function(n,t){this.target=n,this.topTarget=t&&t.topTarget},Kt=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new un(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,o=t.offsetY,i=r-this._x,s=o-this._y;this._x=r,this._y=o,e.drift(i,s,t),this.handler.dispatchToElement(new un(e,t),"drag",t.event);var l=this.handler.findHover(r,o,e).target,u=this._dropTarget;this._dropTarget=l,e!==l&&(u&&l!==u&&this.handler.dispatchToElement(new un(u,t),"dragleave",t.event),l&&l!==u&&this.handler.dispatchToElement(new un(l,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new un(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new un(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}(),Vt=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,r,o){this._$handlers||(this._$handlers={});var i=this._$handlers;if("function"==typeof e&&(o=r,r=e,e=null),!r||!t)return this;var s=this._$eventProcessor;null!=e&&s&&s.normalizeQuery&&(e=s.normalizeQuery(e)),i[t]||(i[t]=[]);for(var l=0;l<i[t].length;l++)if(i[t][l].h===r)return this;var u={h:r,query:e,ctx:o||this,callAtLast:r.zrEventfulCallAtLast},d=i[t].length-1,f=i[t][d];return f&&f.callAtLast?i[t].splice(d,0,u):i[t].push(u),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var o=[],i=0,s=r[t].length;i<s;i++)r[t][i].h!==e&&o.push(r[t][i]);r[t]=o}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},n.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var o=this._$handlers[t],i=this._$eventProcessor;if(o)for(var s=e.length,l=o.length,u=0;u<l;u++){var d=o[u];if(!i||!i.filter||null==d.query||i.filter(t,d.query))switch(s){case 0:d.h.call(d.ctx);break;case 1:d.h.call(d.ctx,e[0]);break;case 2:d.h.call(d.ctx,e[0],e[1]);break;default:d.h.apply(d.ctx,e)}}return i&&i.afterTrigger&&i.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var o=this._$handlers[t],i=this._$eventProcessor;if(o)for(var s=e.length,l=e[s-1],u=o.length,d=0;d<u;d++){var f=o[d];if(!i||!i.filter||null==f.query||i.filter(t,f.query))switch(s){case 0:f.h.call(l);break;case 1:f.h.call(l,e[0]);break;case 2:f.h.call(l,e[0],e[1]);break;default:f.h.apply(l,e.slice(1,s-1))}}return i&&i.afterTrigger&&i.afterTrigger(t),this},n}(),Ut=Math.log(2);function at(n,t,e,r,o,i){var s=r+"-"+o,l=n.length;if(i.hasOwnProperty(s))return i[s];if(1===t){var u=Math.round(Math.log((1<<l)-1&~o)/Ut);return n[e][u]}for(var d=r|1<<e,f=e+1;r&1<<f;)f++;for(var p=0,v=0,y=0;v<l;v++){var x=1<<v;x&o||(p+=(y%2?-1:1)*n[e][v]*at(n,t-1,f,d,o|x,i),y++)}return i[s]=p,p}function vr(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],r={},o=at(e,8,0,0,0,r);if(0!==o){for(var i=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==i[l]&&(i[l]=0),i[l]+=((s+l)%2?-1:1)*at(e,7,0===s?1:0,1<<s,1<<l,r)/o*t[s];return function(u,d,f){var p=d*i[6]+f*i[7]+1;u[0]=(d*i[0]+f*i[1]+i[2])/p,u[1]=(d*i[3]+f*i[4]+i[5])/p}}}var tr=[];function ar(n,t,e,r,o){if(t.getBoundingClientRect&&Tt.domSupported&&!yr(t)){var i=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),s=function(l,u,d){for(var f=d?"invTrans":"trans",p=u[f],v=u.srcCoords,y=[],x=[],S=!0,C=0;C<4;C++){var k=l[C].getBoundingClientRect(),I=2*C,R=k.left,O=k.top;y.push(R,O),S=S&&v&&R===v[I]&&O===v[I+1],x.push(l[C].offsetLeft,l[C].offsetTop)}return S&&p?p:(u.srcCoords=y,u[f]=d?vr(x,y):vr(y,x))}(function(l,u){var d=u.markers;if(d)return d;d=u.markers=[];for(var f=["left","right"],p=["top","bottom"],v=0;v<4;v++){var y=document.createElement("div"),x=v%2,S=(v>>1)%2;y.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",f[x]+":0",p[S]+":0",f[1-x]+":auto",p[1-S]+":auto",""].join("!important;"),l.appendChild(y),d.push(y)}return d}(t,i),i,o);if(s)return s(n,e,r),!0}return!1}function yr(n){return"CANVAS"===n.nodeName.toUpperCase()}var Tr="undefined"!=typeof window&&!!window.addEventListener,Ao=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$n=[];function Ti(n,t,e,r){return e=e||{},r||!Tt.canvasSupported?In(n,t,e):Tt.browser.firefox&&Tt.browser.version<"39"&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):In(n,t,e),e}function In(n,t,e){if(Tt.domSupported&&n.getBoundingClientRect){var r=t.clientX,o=t.clientY;if(yr(n)){var i=n.getBoundingClientRect();return e.zrX=r-i.left,void(e.zrY=o-i.top)}if(ar($n,n,r,o))return e.zrX=$n[0],void(e.zrY=$n[1])}e.zrX=e.zrY=0}function cr(n){return n||window.event}function $r(n,t,e){if(null!=(t=cr(t)).zrX)return t;var r=t.type;if(r&&r.indexOf("touch")>=0){var o="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];o&&Ti(n,o,t,e)}else{Ti(n,t,t,e);var i=function(l){var u=l.wheelDelta;if(u)return u;var d=l.deltaX,f=l.deltaY;return null==d||null==f?u:3*Math.abs(0!==f?f:d)*(f>0?-1:f<0?1:d>0?-1:1)}(t);t.zrDelta=i?i/120:-(t.detail||0)/3}var s=t.button;return null==t.which&&void 0!==s&&Ao.test(t.type)&&(t.which=1&s?1:2&s?3:4&s?2:0),t}function pi(n,t,e,r){Tr?n.addEventListener(t,e,r):n.attachEvent("on"+t,e)}var Ho=Tr?function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0}:function(n){n.returnValue=!1,n.cancelBubble=!0};function Zo(n){return 2===n.which||3===n.which}var ks=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,r){var o=t.touches;if(o){for(var i={points:[],touches:[],target:e,event:t},s=0,l=o.length;s<l;s++){var u=o[s],d=Ti(r,u,{});i.points.push([d.zrX,d.zrY]),i.touches.push(u)}this._track.push(i)}},n.prototype._recognize=function(t){for(var e in fs)if(fs.hasOwnProperty(e)){var r=fs[e](this._track,t);if(r)return r}},n}();function ds(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}var fs={pinch:function(n,t){var e=n.length;if(e){var r,o=(n[e-1]||{}).points,i=(n[e-2]||{}).points||o;if(i&&i.length>1&&o&&o.length>1){var s=ds(o)/ds(i);!isFinite(s)&&(s=1),t.pinchScale=s;var l=[((r=o)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return t.pinchX=l[0],t.pinchY=l[1],{type:"pinch",target:n[0].target,event:t}}}}};function mc(){Ho(this.event)}var ng=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return We(t,n),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Vt),Ru=function(n,t){this.x=n,this.y=t},$h=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],_i=function(n){function t(e,r,o,i){var s=n.call(this)||this;return s._hovered=new Ru(0,0),s.storage=e,s.painter=r,s.painterRoot=i,o=o||new ng,s.proxy=null,s.setHandlerProxy(o),s._draggingMgr=new Kt(s),s}return We(t,n),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(ue($h,function(r){e.on&&e.on(r,this[r],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var r=e.zrX,o=e.zrY,i=Js(this,r,o),s=this._hovered,l=s.target;l&&!l.__zr&&(l=(s=this.findHover(s.x,s.y)).target);var u=this._hovered=i?new Ru(r,o):this.findHover(r,o),d=u.target,f=this.proxy;f.setCursor&&f.setCursor(d?d.cursor:"default"),l&&d!==l&&this.dispatchToElement(s,"mouseout",e),this.dispatchToElement(u,"mousemove",e),d&&d!==l&&this.dispatchToElement(u,"mouseover",e)},t.prototype.mouseout=function(e){var r=e.zrEventControl;"only_globalout"!==r&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==r&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Ru(0,0)},t.prototype.dispatch=function(e,r){var o=this[e];o&&o.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var r=this.proxy;r.setCursor&&r.setCursor(e)},t.prototype.dispatchToElement=function(e,r,o){var d,f,i=(e=e||{}).target;if(!i||!i.silent){for(var s="on"+r,l={type:r,event:f=o,target:(d=e).target,topTarget:d.topTarget,cancelBubble:!1,offsetX:f.zrX,offsetY:f.zrY,gestureEvent:f.gestureEvent,pinchX:f.pinchX,pinchY:f.pinchY,pinchScale:f.pinchScale,wheelDelta:f.zrDelta,zrByTouch:f.zrByTouch,which:f.which,stop:mc};i&&(i[s]&&(l.cancelBubble=!!i[s].call(i,l)),i.trigger(r,l),i=i.__hostTarget?i.__hostTarget:i.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(r,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){"function"==typeof u[s]&&u[s].call(u,l),u.trigger&&u.trigger(r,l)}))}},t.prototype.findHover=function(e,r,o){for(var i=this.storage.getDisplayList(),s=new Ru(e,r),l=i.length-1;l>=0;l--){var u=void 0;if(i[l]!==o&&!i[l].ignore&&(u=Ol(i[l],e,r))&&(!s.topTarget&&(s.topTarget=i[l]),"silent"!==u)){s.target=i[l];break}}return s},t.prototype.processGesture=function(e,r){this._gestureMgr||(this._gestureMgr=new ks);var o=this._gestureMgr;"start"===r&&o.clear();var i=o.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===r&&o.clear(),i){var s=i.type;e.gestureEvent=s;var l=new Ru;l.target=i.target,this.dispatchToElement(l,s,i.event)}},t}(Vt);function Ol(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var r=n,o=void 0,i=!1;r;){if(r.ignoreClip&&(i=!0),!i){var s=r.getClipPath();if(s&&!s.contain(t,e))return!1;r.silent&&(o=!0)}r=r.__hostTarget||r.parent}return!o||"silent"}return!1}function Js(n,t,e){var r=n.painter;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}function ti(n,t,e,r){var o=t+1;if(o===e)return 1;if(r(n[o++],n[t])<0){for(;o<e&&r(n[o],n[o-1])<0;)o++;!function(i,s,l){for(l--;s<l;){var u=i[s];i[s++]=i[l],i[l--]=u}}(n,t,o)}else for(;o<e&&r(n[o],n[o-1])>=0;)o++;return o-t}function Ds(n,t,e,r,o){for(r===t&&r++;r<e;r++){for(var i,s=n[r],l=t,u=r;l<u;)o(s,n[i=l+u>>>1])<0?u=i:l=i+1;var d=r-l;switch(d){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;d>0;)n[l+d]=n[l+d-1],d--}n[l]=s}}function li(n,t,e,r,o,i){var s=0,l=0,u=1;if(i(n,t[e+o])>0){for(l=r-o;u<l&&i(n,t[e+o+u])>0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),s+=o,u+=o}else{for(l=o+1;u<l&&i(n,t[e+o-u])<=0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var d=s;s=o-u,u=o-d}for(s++;s<u;){var f=s+(u-s>>>1);i(n,t[e+f])>0?s=f+1:u=f}return u}function Wf(n,t,e,r,o,i){var s=0,l=0,u=1;if(i(n,t[e+o])<0){for(l=o+1;u<l&&i(n,t[e+o-u])<0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var d=s;s=o-u,u=o-d}else{for(l=r-o;u<l&&i(n,t[e+o+u])>=0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),s+=o,u+=o}for(s++;s<u;){var f=s+(u-s>>>1);i(n,t[e+f])<0?u=f:s=f+1}return u}function rg(n,t,e,r){e||(e=0),r||(r=n.length);var o=r-e;if(!(o<2)){var i=0;if(o<32)Ds(n,e,r,e+(i=ti(n,e,r,t)),t);else{var s=function Dm(n,t){var e,r,o=7,i=0,s=[];function l(u){var d=e[u],f=r[u],p=e[u+1],v=r[u+1];r[u]=f+v,u===i-3&&(e[u+1]=e[u+2],r[u+1]=r[u+2]),i--;var y=Wf(n[p],n,d,f,0,t);d+=y,0!=(f-=y)&&0!==(v=li(n[d+f-1],n,p,v,v-1,t))&&(f<=v?function(x,S,C,k){var I=0;for(I=0;I<S;I++)s[I]=n[x+I];var R=0,O=C,V=x;if(n[V++]=n[O++],0!=--k)if(1!==S){for(var F,Y,Z,re=o;;){F=0,Y=0,Z=!1;do{if(t(n[O],s[R])<0){if(n[V++]=n[O++],Y++,F=0,0==--k){Z=!0;break}}else if(n[V++]=s[R++],F++,Y=0,1==--S){Z=!0;break}}while((F|Y)<re);if(Z)break;do{if(0!==(F=Wf(n[O],s,R,S,0,t))){for(I=0;I<F;I++)n[V+I]=s[R+I];if(V+=F,R+=F,(S-=F)<=1){Z=!0;break}}if(n[V++]=n[O++],0==--k){Z=!0;break}if(0!==(Y=li(s[R],n,O,k,0,t))){for(I=0;I<Y;I++)n[V+I]=n[O+I];if(V+=Y,O+=Y,0==(k-=Y)){Z=!0;break}}if(n[V++]=s[R++],1==--S){Z=!0;break}re--}while(F>=7||Y>=7);if(Z)break;re<0&&(re=0),re+=2}if((o=re)<1&&(o=1),1===S){for(I=0;I<k;I++)n[V+I]=n[O+I];n[V+k]=s[R]}else{if(0===S)throw new Error;for(I=0;I<S;I++)n[V+I]=s[R+I]}}else{for(I=0;I<k;I++)n[V+I]=n[O+I];n[V+k]=s[R]}else for(I=0;I<S;I++)n[V+I]=s[R+I]}(d,f,p,v):function(x,S,C,k){var I=0;for(I=0;I<k;I++)s[I]=n[C+I];var R=x+S-1,O=k-1,V=C+k-1,F=0,Y=0;if(n[V--]=n[R--],0!=--S)if(1!==k){for(var Z=o;;){var re=0,ie=0,ae=!1;do{if(t(s[O],n[R])<0){if(n[V--]=n[R--],re++,ie=0,0==--S){ae=!0;break}}else if(n[V--]=s[O--],ie++,re=0,1==--k){ae=!0;break}}while((re|ie)<Z);if(ae)break;do{if(0!=(re=S-Wf(s[O],n,x,S,S-1,t))){for(S-=re,Y=1+(V-=re),F=1+(R-=re),I=re-1;I>=0;I--)n[Y+I]=n[F+I];if(0===S){ae=!0;break}}if(n[V--]=s[O--],1==--k){ae=!0;break}if(0!=(ie=k-li(n[R],s,0,k,k-1,t))){for(k-=ie,Y=1+(V-=ie),F=1+(O-=ie),I=0;I<ie;I++)n[Y+I]=s[F+I];if(k<=1){ae=!0;break}}if(n[V--]=n[R--],0==--S){ae=!0;break}Z--}while(re>=7||ie>=7);if(ae)break;Z<0&&(Z=0),Z+=2}if((o=Z)<1&&(o=1),1===k){for(Y=1+(V-=S),F=1+(R-=S),I=S-1;I>=0;I--)n[Y+I]=n[F+I];n[V]=s[O]}else{if(0===k)throw new Error;for(F=V-(k-1),I=0;I<k;I++)n[F+I]=s[I]}}else{for(Y=1+(V-=S),F=1+(R-=S),I=S-1;I>=0;I--)n[Y+I]=n[F+I];n[V]=s[O]}else for(F=V-(k-1),I=0;I<k;I++)n[F+I]=s[I]}(d,f,p,v))}return e=[],r=[],{mergeRuns:function(){for(;i>1;){var u=i-2;if(u>=1&&r[u-1]<=r[u]+r[u+1]||u>=2&&r[u-2]<=r[u]+r[u-1])r[u-1]<r[u+1]&&u--;else if(r[u]>r[u+1])break;l(u)}},forceMergeRuns:function(){for(;i>1;){var u=i-2;u>0&&r[u-1]<r[u+1]&&u--,l(u)}},pushRun:function(u,d){e[i]=u,r[i]=d,i+=1}}}(n,t),l=function(d){for(var f=0;d>=32;)f|=1&d,d>>=1;return d+f}(o);do{if((i=ti(n,e,r,t))<l){var u=o;u>l&&(u=l),Ds(n,e,e+u,e+i,t),i=u}s.pushRun(e,i),s.mergeRuns(),o-=i,e+=i}while(0!==o);s.forceMergeRuns()}}}ue(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){_i.prototype[n]=function(t){var e,r,o=t.zrX,i=t.zrY,s=Js(this,o,i);if("mouseup"===n&&s||(r=(e=this.findHover(o,i)).target),"mousedown"===n)this._downEl=r,this._downPoint=[t.zrX,t.zrY],this._upEl=r;else if("mouseup"===n)this._upEl=r;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Ue(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,n,t)}});var sr=!1;function Jh(){sr||(sr=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Gf(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var kt=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Gf}return n.prototype.traverse=function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var r=this._displayList;return!t&&r.length||this.updateDisplayList(e),r},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,o=0,i=e.length;o<i;o++)this._updateAndAddDisplayable(e[o],null,t);r.length=this._displayListLen,Tt.canvasSupported&&rg(r,Gf)},n.prototype._updateAndAddDisplayable=function(t,e,r){if(!t.ignore||r){t.beforeUpdate(),t.update(),t.afterUpdate();var o=t.getClipPath();if(t.ignoreClip)e=null;else if(o){e=e?e.slice():[];for(var i=o,s=t;i;)i.parent=s,i.updateTransform(),e.push(i),s=i,i=i.getClipPath()}if(t.childrenRef){for(var l=t.childrenRef(),u=0;u<l.length;u++){var d=l[u];t.__dirty&&(d.__dirty|=1),this._updateAndAddDisplayable(d,e,r)}t.__dirty=0}else{var f=t;e&&e.length?f.__clipPaths=e:f.__clipPaths&&f.__clipPaths.length>0&&(f.__clipPaths=[]),isNaN(f.z)&&(Jh(),f.z=0),isNaN(f.z2)&&(Jh(),f.z2=0),isNaN(f.zlevel)&&(Jh(),f.zlevel=0),this._displayList[this._displayListLen++]=f}var p=t.getDecalElement&&t.getDecalElement();p&&this._updateAndAddDisplayable(p,e,r);var v=t.getTextGuideLine();v&&this._updateAndAddDisplayable(v,e,r);var y=t.getTextContent();y&&this._updateAndAddDisplayable(y,e,r)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,r=t.length;e<r;e++)this.delRoot(t[e]);else{var o=hn(this._roots,t);o>=0&&this._roots.splice(o,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),it="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},No={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-No.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*No.bounceIn(2*n):.5*No.bounceOut(2*n-1)+.5}},jc=function(){function n(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return n.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var r=(t-this._startTime-this._pausedTime)/this._life;r<0&&(r=0),r=Math.min(r,1);var o=this.easing,i="string"==typeof o?No[o]:o,s="function"==typeof i?i(r):r;if(this.onframe&&this.onframe(s),1===r){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},n.prototype._restart=function(t){this._startTime=t-(t-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n}(),Qs=function(n){this.value=n},ea=function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new Qs(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),ml=function(){function n(t){this._list=new ea,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var r=this._list,o=this._map,i=null;if(null==o[t]){var s=r.len(),l=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var u=r.head;r.remove(u),delete o[u.key],i=u.value,this._lastRemovedEntry=u}l?l.value=e:l=new Qs(e),l.key=t,r.insertEntry(l),o[t]=l}return i},n.prototype.get=function(t){var e=this._map[t],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),Bi={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function yi(n){return(n=Math.round(n))<0?0:n>255?255:n}function zi(n){return n<0?0:n>1?1:n}function so(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?yi(parseFloat(t)/100*255):yi(parseInt(t,10))}function vl(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?zi(parseFloat(t)/100):zi(parseFloat(t))}function As(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}function Is(n,t,e){return n+(t-n)*e}function hs(n,t,e,r,o){return n[0]=t,n[1]=e,n[2]=r,n[3]=o,n}function Ua(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var ja=new ml(20),Yc=null;function Ko(n,t){Yc&&Ua(Yc,t),Yc=ja.put(n,Yc||t.slice())}function Gi(n,t){if(n){t=t||[];var e=ja.get(n);if(e)return Ua(t,e);var r=(n+="").replace(/ /g,"").toLowerCase();if(r in Bi)return Ua(t,Bi[r]),Ko(n,t),t;var o,i=r.length;if("#"===r.charAt(0))return 4===i||5===i?(o=parseInt(r.slice(1,4),16))>=0&&o<=4095?(hs(t,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===i?parseInt(r.slice(4),16)/15:1),Ko(n,t),t):void hs(t,0,0,0,1):7===i||9===i?(o=parseInt(r.slice(1,7),16))>=0&&o<=16777215?(hs(t,(16711680&o)>>16,(65280&o)>>8,255&o,9===i?parseInt(r.slice(7),16)/255:1),Ko(n,t),t):void hs(t,0,0,0,1):void 0;var s=r.indexOf("("),l=r.indexOf(")");if(-1!==s&&l+1===i){var u=r.substr(0,s),d=r.substr(s+1,l-(s+1)).split(","),f=1;switch(u){case"rgba":if(4!==d.length)return 3===d.length?hs(t,+d[0],+d[1],+d[2],1):hs(t,0,0,0,1);f=vl(d.pop());case"rgb":return 3!==d.length?void hs(t,0,0,0,1):(hs(t,so(d[0]),so(d[1]),so(d[2]),f),Ko(n,t),t);case"hsla":return 4!==d.length?void hs(t,0,0,0,1):(d[3]=vl(d[3]),ta(d,t),Ko(n,t),t);case"hsl":return 3!==d.length?void hs(t,0,0,0,1):(ta(d,t),Ko(n,t),t);default:return}}hs(t,0,0,0,1)}}function ta(n,t){var e=(parseFloat(n[0])%360+360)%360/360,r=vl(n[1]),o=vl(n[2]),i=o<=.5?o*(r+1):o+r-o*r,s=2*o-i;return hs(t=t||[],yi(255*As(s,i,e+1/3)),yi(255*As(s,i,e)),yi(255*As(s,i,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function Ps(n,t){var e=Gi(n);if(e){for(var r=0;r<3;r++)e[r]=t<0?e[r]*(1-t)|0:(255-e[r])*t+e[r]|0,e[r]>255?e[r]=255:e[r]<0&&(e[r]=0);return ps(e,4===e.length?"rgba":"rgb")}}function el(n){var t=Gi(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function wa(n,t,e){if(t&&t.length&&n>=0&&n<=1){e=e||[];var r=n*(t.length-1),o=Math.floor(r),i=Math.ceil(r),s=t[o],l=t[i],u=r-o;return e[0]=yi(Is(s[0],l[0],u)),e[1]=yi(Is(s[1],l[1],u)),e[2]=yi(Is(s[2],l[2],u)),e[3]=zi(Is(s[3],l[3],u)),e}}function qc(n,t,e){if(t&&t.length&&n>=0&&n<=1){var r=n*(t.length-1),o=Math.floor(r),i=Math.ceil(r),s=Gi(t[o]),l=Gi(t[i]),u=r-o,d=ps([yi(Is(s[0],l[0],u)),yi(Is(s[1],l[1],u)),yi(Is(s[2],l[2],u)),zi(Is(s[3],l[3],u))],"rgba");return e?{color:d,leftIndex:o,rightIndex:i,value:r}:d}}function yl(n,t,e,r){var i,o=Gi(n);if(n)return o=function(i){if(i){var s,l,u=i[0]/255,d=i[1]/255,f=i[2]/255,p=Math.min(u,d,f),v=Math.max(u,d,f),y=v-p,x=(v+p)/2;if(0===y)s=0,l=0;else{l=x<.5?y/(v+p):y/(2-v-p);var S=((v-u)/6+y/2)/y,C=((v-d)/6+y/2)/y,k=((v-f)/6+y/2)/y;u===v?s=k-C:d===v?s=1/3+S-k:f===v&&(s=2/3+C-S),s<0&&(s+=1),s>1&&(s-=1)}var I=[360*s,l,x];return null!=i[3]&&I.push(i[3]),I}}(o),null!=t&&(o[0]=(i=t,(i=Math.round(i))<0?0:i>360?360:i)),null!=e&&(o[1]=vl(e)),null!=r&&(o[2]=vl(r)),ps(ta(o),"rgba")}function iu(n,t){var e=Gi(n);if(e&&null!=t)return e[3]=zi(t),ps(e,"rgba")}function ps(n,t){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(e+=","+n[3]),t+"("+e+")"}}function da(n,t){var e=Gi(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var Qr=Object.freeze({__proto__:null,parse:Gi,lift:Ps,toHex:el,fastLerp:wa,fastMapToColor:wa,lerp:qc,mapToColor:qc,modifyHSL:yl,modifyAlpha:iu,stringify:ps,lum:da,random:function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}}),yo=Array.prototype.slice;function bl(n,t,e){return(t-n)*e+n}function Ya(n,t,e,r){for(var o=t.length,i=0;i<o;i++)n[i]=bl(t[i],e[i],r)}function Nl(n,t,e,r){for(var o=t.length,i=0;i<o;i++)n[i]=t[i]+e[i]*r;return n}function au(n,t,e,r){for(var o=t.length,i=o&&t[0].length,s=0;s<o;s++){n[s]||(n[s]=[]);for(var l=0;l<i;l++)n[s][l]=t[s][l]+e[s][l]*r}return n}function tl(n,t,e){var r=n,o=t;if(r.push&&o.push){var i=r.length,s=o.length;if(i!==s)if(i>s)r.length=s;else for(var l=i;l<s;l++)r.push(1===e?o[l]:yo.call(o[l]));var u=r[0]&&r[0].length;for(l=0;l<r.length;l++)if(1===e)isNaN(r[l])&&(r[l]=o[l]);else for(var d=0;d<u;d++)isNaN(r[l][d])&&(r[l][d]=o[l][d])}}function Ls(n,t){var e=n.length;if(e!==t.length)return!1;for(var r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}function nl(n,t,e,r,o,i,s){var l=.5*(e-n),u=.5*(r-t);return(2*(t-e)+l+u)*s+(-3*(t-e)-2*l-u)*i+l*o+t}function Xa(n,t,e,r,o,i,s,l){for(var u=t.length,d=0;d<u;d++)n[d]=nl(t[d],e[d],r[d],o[d],i,s,l)}function Eo(n){if(Yr(n)){var t=n.length;if(Yr(n[0])){for(var e=[],r=0;r<t;r++)e.push(yo.call(n[r]));return e}return yo.call(n)}return n}function ki(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}var Vi,rl,Rs=[0,0,0,0],ol=function(){function n(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var d,r=this.keyframes,o=r.length;if(this.interpolable)if(Yr(e)){var i=Yr((d=e)&&d[0])?2:1;if(o>0&&this.arrDim!==i)return void(this.interpolable=!1);if(1===i&&"number"!=typeof e[0]||2===i&&"number"!=typeof e[0][0])return void(this.interpolable=!1);if(o>0){var s=r[o-1];this._isAllValueEqual&&(1===i&&Ls(e,s.value)||(this._isAllValueEqual=!1))}this.arrDim=i}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof e){var l=Gi(e);l?(e=l,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e||isNaN(e))return void(this.interpolable=!1);this._isAllValueEqual&&o>0&&(s=r[o-1],(this.isValueColor&&!Ls(s.value,e)||s.value!==e)&&(this._isAllValueEqual=!1))}var u={time:t,value:e,percent:0};return this.keyframes.push(u),u},n.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort(function(u,d){return u.time-d.time});for(var r=this.arrDim,o=e.length,i=e[o-1],s=0;s<o;s++)e[s].percent=e[s].time/this.maxTime,r>0&&s!==o-1&&tl(e[s].value,i.value,r);if(t&&this.needsAnimate()&&t.needsAnimate()&&r===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var l=e[0].value;for(s=0;s<o;s++)0===r?e[s].additiveValue=this.isValueColor?Nl([],e[s].value,l,-1):e[s].value-l:1===r?e[s].additiveValue=Nl([],e[s].value,l,-1):2===r&&(e[s].additiveValue=au([],e[s].value,l,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r,o=null!=this._additiveTrack,i=o?"additiveValue":"value",s=this.keyframes,l=this.keyframes.length,u=this.propName,d=this.arrDim,f=this.isValueColor;if(e<0)r=0;else if(e<this._lastFramePercent){for(r=Math.min(this._lastFrame+1,l-1);r>=0&&!(s[r].percent<=e);r--);r=Math.min(r,l-2)}else{for(r=this._lastFrame;r<l&&!(s[r].percent>e);r++);r=Math.min(r-1,l-2)}var p=s[r+1],v=s[r];if(v&&p){this._lastFrame=r,this._lastFramePercent=e;var y=p.percent-v.percent;if(0!==y){var x=(e-v.percent)/y,S=o?this._additiveValue:f?Rs:t[u];if((d>0||f)&&!S&&(S=this._additiveValue=[]),this.useSpline){var C=s[r][i],k=s[0===r?r:r-1][i],I=s[r>l-2?l-1:r+1][i],R=s[r>l-3?l-1:r+2][i];if(d>0)1===d?Xa(S,k,C,I,R,x,x*x,x*x*x):function(V,F,Y,Z,re,ie,ae,ce){for(var ve=F.length,be=F[0].length,_e=0;_e<ve;_e++){V[_e]||(V[1]=[]);for(var Ce=0;Ce<be;Ce++)V[_e][Ce]=nl(F[_e][Ce],Y[_e][Ce],Z[_e][Ce],re[_e][Ce],ie,ae,ce)}}(S,k,C,I,R,x,x*x,x*x*x);else if(f)Xa(S,k,C,I,R,x,x*x,x*x*x),o||(t[u]=ki(S));else{var O=void 0;O=this.interpolable?nl(k,C,I,R,x,x*x,x*x*x):I,o?this._additiveValue=O:t[u]=O}}else d>0?1===d?Ya(S,v[i],p[i],x):function(V,F,Y,Z){for(var re=F.length,ie=re&&F[0].length,ae=0;ae<re;ae++){V[ae]||(V[ae]=[]);for(var ce=0;ce<ie;ce++)V[ae][ce]=bl(F[ae][ce],Y[ae][ce],Z)}}(S,v[i],p[i],x):f?(Ya(S,v[i],p[i],x),o||(t[u]=ki(S))):(O=void 0,O=this.interpolable?bl(v[i],p[i],x):x>.5?p[i]:v[i],o?this._additiveValue=O:t[u]=O);o&&this._addToTarget(t)}}}},n.prototype._addToTarget=function(t){var e=this.arrDim,r=this.propName,o=this._additiveValue;0===e?this.isValueColor?(Gi(t[r],Rs),Nl(Rs,Rs,o,1),t[r]=ki(Rs)):t[r]=t[r]+o:1===e?Nl(t[r],t[r],o,1):2===e&&au(t[r],t[r],o,1)},n}(),vc=function(){function n(t,e,r){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?Jr("Can' use additive animation on looped animation."):this._additiveAnimators=r}return n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e){return this.whenWithKeys(t,e,It(e))},n.prototype.whenWithKeys=function(t,e,r){for(var o=this._tracks,i=0;i<r.length;i++){var s=r[i],l=o[s];if(!l){l=o[s]=new ol(s);var u=void 0,d=this._getAdditiveTrack(s);if(d){var f=d.keyframes[d.keyframes.length-1];u=f&&f.value,d.isValueColor&&u&&(u=ki(u))}else u=this._target[s];if(null==u)continue;0!==t&&l.addKeyframe(0,Eo(u)),this._trackKeys.push(s)}l.addKeyframe(t,Eo(e[s]))}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,r=0;r<e;r++)t[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var r=0;r<e.length;r++)e[r].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,r=0;r<e.length;r++)t[e[r]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,r=this._additiveAnimators;if(r)for(var o=0;o<r.length;o++){var i=r[o].getTrack(t);i&&(e=i)}return e},n.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var r=this,o=[],i=0;i<this._trackKeys.length;i++){var s=this._trackKeys[i],l=this._tracks[s],u=this._getAdditiveTrack(s),d=l.keyframes;if(l.prepare(u),l.needsAnimate())o.push(l);else if(!l.interpolable){var f=d[d.length-1];f&&(r._target[l.propName]=f.value)}}if(o.length||e){var p=new jc({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(v){r._started=2;var y=r._additiveAnimators;if(y){for(var x=!1,S=0;S<y.length;S++)if(y[S]._clip){x=!0;break}x||(r._additiveAnimators=null)}for(S=0;S<o.length;S++)o[S].step(r._target,v);var C=r._onframeCbs;if(C)for(S=0;S<C.length;S++)C[S](r._target,v)},ondestroy:function(){r._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),t&&"spline"!==t&&(p.easing=t)}else this._doneCallback();return this}},n.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var r=this._tracks,o=this._trackKeys,i=0;i<t.length;i++){var s=r[t[i]];s&&(e?s.step(this._target,1):1===this._started&&s.step(this._target,0),s.setFinished())}var l=!0;for(i=0;i<o.length;i++)if(!r[o[i]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},n.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var o=e[r],i=this._tracks[o];if(i&&!i.isFinished()){var s=i.keyframes,l=s[s.length-1];if(l){var u=Eo(l.value);i.isValueColor&&(u=ki(u)),t[o]=u}}}}},n.prototype.__changeFinalValue=function(t,e){e=e||It(t);for(var r=0;r<e.length;r++){var o=e[r],i=this._tracks[o];if(i){var s=i.keyframes;if(s.length>1){var l=s.pop();i.addKeyframe(l.time,t[o]),i.prepare(i.getAdditiveTrack())}}}},n}(),su=function(n){function t(e){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,r.stage=(e=e||{}).stage||{},r.onframe=e.onframe||function(){},r}return We(t,n),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._clipsHead?(this._clipsTail.next=e,e.prev=this._clipsTail,e.next=null,this._clipsTail=e):this._clipsHead=this._clipsTail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var r=e.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(e){if(e.animation){var r=e.prev,o=e.next;r?r.next=o:this._clipsHead=o,o?o.prev=r:this._clipsTail=r,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var r=e.getClip();r&&this.removeClip(r),e.animation=null},t.prototype.update=function(e){for(var r=(new Date).getTime()-this._pausedTime,o=r-this._time,i=this._clipsHead;i;){var s=i.next;i.step(r,o)&&(i.ondestroy&&i.ondestroy(),this.removeClip(i)),i=s}this._time=r,e||(this.onframe(o),this.trigger("frame",o),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,it(function r(){e._running&&(it(r),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._clipsHead;e;){var r=e.next;e.prev=e.next=e.animation=null,e=r}this._clipsHead=this._clipsTail=null},t.prototype.isFinished=function(){return null==this._clipsHead},t.prototype.animate=function(e,r){r=r||{},this.start();var o=new vc(e,r.loop);return this.addAnimator(o),o},t}(Vt),qa=Tt.domSupported,Os=(rl={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Vi=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:Ht(Vi,function(n){var t=n.replace("mouse","pointer");return rl.hasOwnProperty(t)?t:n})}),jf=["mousemove","mouseup"],og=["pointermove","pointerup"],Yf=!1;function gs(n){var t=n.pointerType;return"pen"===t||"touch"===t}function fa(n){n&&(n.zrByTouch=!0)}function ms(n,t){for(var e=t,r=!1;e&&9!==e.nodeType&&!(r=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return r}var By=function(n,t){this.stopPropagation=Do,this.stopImmediatePropagation=Do,this.preventDefault=Do,this.type=t.type,this.target=this.currentTarget=n.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},El={mousedown:function(n){n=$r(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=$r(this.dom,n);var t=this.__mayPointerCapture;!t||n.zrX===t[0]&&n.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=$r(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){ms(this,(n=$r(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){Yf=!0,n=$r(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){Yf||(n=$r(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){fa(n=$r(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),El.mousemove.call(this,n),El.mousedown.call(this,n)},touchmove:function(n){fa(n=$r(this.dom,n)),this.handler.processGesture(n,"change"),El.mousemove.call(this,n)},touchend:function(n){fa(n=$r(this.dom,n)),this.handler.processGesture(n,"end"),El.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&El.click.call(this,n)},pointerdown:function(n){El.mousedown.call(this,n)},pointermove:function(n){gs(n)||El.mousemove.call(this,n)},pointerup:function(n){El.mouseup.call(this,n)},pointerout:function(n){gs(n)||El.mouseout.call(this,n)}};ue(["click","dblclick","contextmenu"],function(n){El[n]=function(t){t=$r(this.dom,t),this.trigger(n,t)}});var Di={pointermove:function(n){gs(n)||Di.mousemove.call(this,n)},pointerup:function(n){Di.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function gi(n,t,e,r){n.mounted[t]=e,n.listenerOpts[t]=r,pi(n.domTarget,t,e,r)}function Ui(n){var t,e,r,i=n.mounted;for(var s in i)i.hasOwnProperty(s)&&(t=n.domTarget,e=s,r=i[s],Tr?t.removeEventListener(e,r,n.listenerOpts[s]):t.detachEvent("on"+e,r));n.mounted={}}var Ai=function(n,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=t},Zc=function(n){function t(e,r){var o=n.call(this)||this;return o.__pointerCapturing=!1,o.dom=e,o.painterRoot=r,o._localHandlerScope=new Ai(e,El),qa&&(o._globalHandlerScope=new Ai(document,Di)),function Qh(n,t){var e=t.domHandlers;Tt.pointerEventsSupported?ue(Os.pointer,function(r){gi(t,r,function(o){e[r].call(n,o)})}):(Tt.touchEventsSupported&&ue(Os.touch,function(r){gi(t,r,function(o){var i;e[r].call(n,o),(i=t).touching=!0,null!=i.touchTimer&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout(function(){i.touching=!1,i.touchTimer=null},700)})}),ue(Os.mouse,function(r){gi(t,r,function(o){o=cr(o),t.touching||e[r].call(n,o)})}))}(o,o._localHandlerScope),o}return We(t,n),t.prototype.dispose=function(){Ui(this._localHandlerScope),qa&&Ui(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,qa&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var r=this._globalHandlerScope;e?function ig(n,t){function e(r){gi(t,r,function(o){var i;o=cr(o),ms(n,o.target)||(o=$r((i=n).dom,new By(i,o),!0),t.domHandlers[r].call(n,o))},{capture:!0})}Tt.pointerEventsSupported?ue(og,e):Tt.touchEventsSupported||ue(jf,e)}(this,r):Ui(r)}},t}(Vt),Nd=1;"undefined"!=typeof window&&(Nd=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var il=Nd,$o="#333",lr="#ccc";function Dn(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function $c(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function al(n,t,e){var o=t[1]*e[0]+t[3]*e[1],i=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=t[0]*e[0]+t[2]*e[1],n[1]=o,n[2]=i,n[3]=s,n[4]=l,n[5]=u,n}function Ns(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function Po(n,t,e){var r=t[0],o=t[2],i=t[4],s=t[1],l=t[3],u=t[5],d=Math.sin(e),f=Math.cos(e);return n[0]=r*f+s*d,n[1]=-r*d+s*f,n[2]=o*f+l*d,n[3]=-o*d+f*l,n[4]=f*i+d*u,n[5]=f*u-d*i,n}function _r(n,t,e){var r=e[0],o=e[1];return n[0]=t[0]*r,n[1]=t[1]*o,n[2]=t[2]*r,n[3]=t[3]*o,n[4]=t[4]*r,n[5]=t[5]*o,n}function na(n,t){var e=t[0],r=t[2],o=t[4],i=t[1],s=t[3],l=t[5],u=e*s-i*r;return u?(n[0]=s*(u=1/u),n[1]=-i*u,n[2]=-r*u,n[3]=e*u,n[4]=(r*l-s*o)*u,n[5]=(i*o-e*l)*u,n):null}function Dr(n){var t=[1,0,0,1,0,0];return $c(t,n),t}var ra=Object.freeze({__proto__:null,create:function Kc(){return[1,0,0,1,0,0]},identity:Dn,copy:$c,mul:al,translate:Ns,rotate:Po,scale:_r,invert:na,clone:Dr}),Za=Dn;function Ou(n){return n>5e-5||n<-5e-5}var Nu,Eu,Ii=[],lu=[],xl=[1,0,0,1,0,0],Xf=Math.abs,Ka=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return Ou(this.rotation)||Ou(this.x)||Ou(this.y)||Ou(this.scaleX-1)||Ou(this.scaleY-1)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),r=this.transform;e||t?(r=r||[1,0,0,1,0,0],e?this.getLocalTransform(r):Za(r),t&&(e?al(r,t,r):$c(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&Za(r)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(Ii);var r=Ii[0]<0?-1:1,o=Ii[1]<0?-1:1,i=((Ii[0]-r)*e+r)/Ii[0]||0,s=((Ii[1]-o)*e+o)/Ii[1]||0;t[0]*=i,t[1]*=i,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||[1,0,0,1,0,0],na(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],o=Math.atan2(t[1],t[0]),i=Math.PI/2+o-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(i),e=Math.sqrt(e),this.skewX=i,this.skewY=0,this.rotation=-o,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(al(lu,t.invTransform,e),e=lu);var r=this.originX,o=this.originY;(r||o)&&(xl[4]=r,xl[5]=o,al(lu,e,xl),lu[4]-=r,lu[5]-=o,e=lu),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var r=[t,e],o=this.invTransform;return o&&ft(r,r,o),r},n.prototype.transformCoordToGlobal=function(t,e){var r=[t,e],o=this.transform;return o&&ft(r,r,o),r},n.prototype.getLineScale=function(){var t=this.transform;return t&&Xf(t[0]-1)>1e-10&&Xf(t[3]-1)>1e-10?Math.sqrt(Xf(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){for(var e=0;e<Ed.length;e++){var r=Ed[e];this[r]=t[r]}},n.getLocalTransform=function(t,e){e=e||[];var r=t.originX||0,o=t.originY||0,i=t.scaleX,s=t.scaleY,l=t.rotation||0,u=t.x,d=t.y,f=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;return r||o?(e[4]=-r*i-f*o*s,e[5]=-o*s-p*r*i):e[4]=e[5]=0,e[0]=i,e[3]=s,e[1]=p*i,e[2]=f*s,l&&Po(e,e,l),e[4]+=r+u,e[5]+=o+d,e},n.initDefaultProps=((t=n.prototype).x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.originX=0,t.originY=0,t.skewX=0,t.skewY=0,t.rotation=0,void(t.globalScaleRatio=1)),n;var t}(),Ed=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"],dr=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,r=this.y;return this.x=t[0]*e+t[2]*r+t[4],this.y=t[1]*e+t[3]*r+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,r){t.x=e,t.y=r},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,r){t.x=e.x+r.x,t.y=e.y+r.y},n.sub=function(t,e,r){t.x=e.x-r.x,t.y=e.y-r.y},n.scale=function(t,e,r){t.x=e.x*r,t.y=e.y*r},n.scaleAndAdd=function(t,e,r,o){t.x=e.x+r.x*o,t.y=e.y+r.y*o},n.lerp=function(t,e,r,o){var i=1-o;t.x=i*e.x+o*r.x,t.y=i*e.y+o*r.y},n}(),Bl=Math.min,Es=Math.max,uu=new dr,Bu=new dr,zu=new dr,$a=new dr,Vu=new dr,Fu=new dr,Lr=function(){function n(t,e,r,o){r<0&&(t+=r,r=-r),o<0&&(e+=o,o=-o),this.x=t,this.y=e,this.width=r,this.height=o}return n.prototype.union=function(t){var e=Bl(t.x,this.x),r=Bl(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Es(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?Es(t.y+t.height,this.y+this.height)-r:t.height,this.x=e,this.y=r},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,r=t.width/e.width,o=t.height/e.height,i=[1,0,0,1,0,0];return Ns(i,i,[-e.x,-e.y]),_r(i,i,[r,o]),Ns(i,i,[t.x,t.y]),i},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var r=this,o=r.x,i=r.x+r.width,s=r.y,l=r.y+r.height,u=t.x,d=t.x+t.width,f=t.y,p=t.y+t.height,v=!(i<u||d<o||l<f||p<s);if(e){var y=1/0,x=0,S=Math.abs(i-u),C=Math.abs(d-o),k=Math.abs(l-f),I=Math.abs(p-s),R=Math.min(S,C),O=Math.min(k,I);i<u||d<o?R>x&&(x=R,dr.set(Fu,S<C?-S:C,0)):R<y&&(y=R,dr.set(Vu,S<C?S:-C,0)),l<f||p<s?O>x&&(x=O,dr.set(Fu,0,k<I?-k:I)):R<y&&(y=R,dr.set(Vu,0,k<I?k:-I))}return e&&dr.copy(e,v?Vu:Fu),v},n.prototype.contain=function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var o=r[0],i=r[3],l=r[5];return t.x=e.x*o+r[4],t.y=e.y*i+l,t.width=e.width*o,t.height=e.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}uu.x=zu.x=e.x,uu.y=$a.y=e.y,Bu.x=$a.x=e.x+e.width,Bu.y=zu.y=e.y+e.height,uu.transform(r),$a.transform(r),Bu.transform(r),zu.transform(r),t.x=Bl(uu.x,Bu.x,zu.x,$a.x),t.y=Bl(uu.y,Bu.y,zu.y,$a.y);var u=Es(uu.x,Bu.x,zu.x,$a.x),d=Es(uu.y,Bu.y,zu.y,$a.y);t.width=u-t.x,t.height=d-t.y}else t!==e&&n.copy(t,e)},n}(),_l={},zl="12px sans-serif";function Ja(n,t){var e=_l[t=t||zl];e||(e=_l[t]=new ml(500));var r=e.get(n);return null==r&&(r=function(n,t){return Nu||(Nu=vo().getContext("2d")),Eu!==t&&(Eu=Nu.font=t||zl),Nu.measureText(n)}(n,t).width,e.put(n,r)),r}function ep(n,t,e,r){var o=Ja(n,t),i=Wo(t),s=yc(0,o,e),l=Qa(0,i,r);return new Lr(s,l,o,i)}function Hu(n,t,e,r){var o=((n||"")+"").split("\n");if(1===o.length)return ep(o[0],t,e,r);for(var i=new Lr(0,0,0,0),s=0;s<o.length;s++){var l=ep(o[s],t,e,r);0===s?i.copy(l):i.union(l)}return i}function yc(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function Qa(n,t,e){return"middle"===e?n-=t/2:"bottom"===e&&(n-=t),n}function Wo(n){return Ja("\u56fd",n)}function Bo(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function Jc(n,t,e){var r=t.position||"inside",o=null!=t.distance?t.distance:5,i=e.height,s=e.width,l=i/2,u=e.x,d=e.y,f="left",p="top";if(r instanceof Array)u+=Bo(r[0],e.width),d+=Bo(r[1],e.height),f=null,p=null;else switch(r){case"left":u-=o,d+=l,f="right",p="middle";break;case"right":u+=o+s,d+=l,p="middle";break;case"top":u+=s/2,d-=o,f="center",p="bottom";break;case"bottom":u+=s/2,d+=i+o,f="center";break;case"inside":u+=s/2,d+=l,f="center",p="middle";break;case"insideLeft":u+=o,d+=l,p="middle";break;case"insideRight":u+=s-o,d+=l,f="right",p="middle";break;case"insideTop":u+=s/2,d+=o,f="center";break;case"insideBottom":u+=s/2,d+=i-o,f="center",p="bottom";break;case"insideTopLeft":u+=o,d+=o;break;case"insideTopRight":u+=s-o,d+=o,f="right";break;case"insideBottomLeft":u+=o,d+=i-o,p="bottom";break;case"insideBottomRight":u+=s-o,d+=i-o,f="right",p="bottom"}return(n=n||{}).x=u,n.y=d,n.align=f,n.verticalAlign=p,n}var wi="__zr_normal__",cu=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],Aa={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},du={},Wu=new Lr(0,0,0,0),es=function(){function n(t){this.id=fi(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var o=this.transform;o||(o=this.transform=[1,0,0,1,0,0]),o[4]+=t,o[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,o=r.local,i=e.innerTransformable,s=void 0,l=void 0,u=!1;i.parent=o?this:null;var d=!1;if(i.copyTransform(e),null!=r.position){var f=Wu;f.copy(r.layoutRect?r.layoutRect:this.getBoundingRect()),o||f.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(du,r,f):Jc(du,r,f),i.x=du.x,i.y=du.y,s=du.align,l=du.verticalAlign;var p=r.origin;if(p&&null!=r.rotation){var v=void 0,y=void 0;"center"===p?(v=.5*f.width,y=.5*f.height):(v=Bo(p[0],f.width),y=Bo(p[1],f.height)),d=!0,i.originX=-i.x+v+(o?0:f.x),i.originY=-i.y+y+(o?0:f.y)}}null!=r.rotation&&(i.rotation=r.rotation);var x=r.offset;x&&(i.x+=x[0],i.y+=x[1],d||(i.originX=-x[0],i.originY=-x[1]));var S=null==r.inside?"string"==typeof r.position&&r.position.indexOf("inside")>=0:r.inside,C=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),k=void 0,I=void 0,R=void 0;S&&this.canBeInsideText()?(I=r.insideStroke,null!=(k=r.insideFill)&&"auto"!==k||(k=this.getInsideTextFill()),null!=I&&"auto"!==I||(I=this.getInsideTextStroke(k),R=!0)):(I=r.outsideStroke,null!=(k=r.outsideFill)&&"auto"!==k||(k=this.getOutsideFill()),null!=I&&"auto"!==I||(I=this.getOutsideStroke(k),R=!0)),(k=k||"#000")===C.fill&&I===C.stroke&&R===C.autoStroke&&s===C.align&&l===C.verticalAlign||(u=!0,C.fill=k,C.stroke=I,C.autoStroke=R,C.align=s,C.verticalAlign=l,e.setDefaultTextStyle(C)),e.__dirty|=1,u&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?lr:$o},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),r="string"==typeof e&&Gi(e);r||(r=[255,255,255,1]);for(var o=r[3],i=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*o+(i?0:255)*(1-o);return r[3]=1,ps(r,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},tt(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(zn(t))for(var r=It(t),o=0;o<r.length;o++){var i=r[o];this.attrKV(i,t[i])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,r=0;r<this.animators.length;r++){var o=this.animators[r],i=o.__fromStateTransition;if(!i||i===wi){var s=o.targetName;o.saveFinalToTarget(s?e[s]:e)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,cu)},n.prototype._savePrimaryToNormal=function(t,e,r){for(var o=0;o<r.length;o++){var i=r[o];null==t[i]||i in e||(e[i]=this[i])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(wi,!1,t)},n.prototype.useState=function(t,e,r,o){var i=t===wi;if(this.hasState()||!i){var s=this.currentStates,l=this.stateTransition;if(!(hn(s,t)>=0)||!e&&1!==s.length){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),u||i){i||this.saveCurrentToNormalState(u);var d=!!(u&&u.hoverLayer||o);d&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,e,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,p=this._textGuide;return f&&f.useState(t,e,r,d),p&&p.useState(t,e,r,d),i?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}Jr("State "+t+" not exists.")}}},n.prototype.useStates=function(t,e,r){if(t.length){var o=[],i=this.currentStates,s=t.length,l=s===i.length;if(l)for(var u=0;u<s;u++)if(t[u]!==i[u]){l=!1;break}if(l)return;for(u=0;u<s;u++){var d=t[u],f=void 0;this.stateProxy&&(f=this.stateProxy(d,t)),f||(f=this.states[d]),f&&o.push(f)}var p=o[s-1],v=!!(p&&p.hoverLayer||r);v&&this._toggleHoverLayerFlag(!0);var y=this._mergeStates(o),x=this.stateTransition;this.saveCurrentToNormalState(y),this._applyStateObj(t.join(","),y,this._normalState,!1,!e&&!this.__inHover&&x&&x.duration>0,x);var S=this._textContent,C=this._textGuide;S&&S.useStates(t,e,v),C&&C.useStates(t,e,v),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!v&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=hn(this.currentStates,t);if(e>=0){var r=this.currentStates.slice();r.splice(e,1),this.useStates(r)}},n.prototype.replaceState=function(t,e,r){var o=this.currentStates.slice(),i=hn(o,t),s=hn(o,e)>=0;i>=0?s?o.splice(i,1):o[i]=e:r&&!s&&o.push(e),this.useStates(o)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e,r={},o=0;o<t.length;o++){var i=t[o];tt(r,i),i.textConfig&&tt(e=e||{},i.textConfig)}return e&&(r.textConfig=e),r},n.prototype._applyStateObj=function(t,e,r,o,i,s){var l=!(e&&o);e&&e.textConfig?(this.textConfig=tt({},o?this.textConfig:r.textConfig),tt(this.textConfig,e.textConfig)):l&&r.textConfig&&(this.textConfig=r.textConfig);for(var u={},d=!1,f=0;f<cu.length;f++){var p=cu[f],v=i&&Aa[p];e&&null!=e[p]?v?(d=!0,u[p]=e[p]):this[p]=e[p]:l&&null!=r[p]&&(v?(d=!0,u[p]=r[p]):this[p]=r[p])}if(!i)for(f=0;f<this.animators.length;f++){var y=this.animators[f],x=y.targetName;y.__changeFinalValue(x?(e||r)[x]:e||r)}d&&this._transitionState(t,u,s)},n.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.innerTransformable=new Ka,this._attachComponent(t),this._textContent=t,this.markRedraw()}},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),tt(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,r=this._textGuide;e&&(e.__inHover=t),r&&(r.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e){var r=t?this[t]:this;if(r){var o=new vc(r,e);return this.addAnimator(o,t),o}Jr('Property "'+t+'" is not existed in element '+this.id)},n.prototype.addAnimator=function(t,e){var r=this.__zr,o=this;t.during(function(){o.updateDuringAnimation(e)}).done(function(){var i=o.animators,s=hn(i,t);s>=0&&i.splice(s,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var r=this.animators,o=r.length,i=[],s=0;s<o;s++){var l=r[s];t&&t!==l.scope?i.push(l):l.stop(e)}return this.animators=i,this},n.prototype.animateTo=function(t,e,r){bc(this,t,e,r)},n.prototype.animateFrom=function(t,e,r){bc(this,t,e,r,!0)},n.prototype._transitionState=function(t,e,r,o){for(var i=bc(this,e,r,o),s=0;s<i.length;s++)i[s].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;t.type="element",t.name="",t.ignore=!1,t.silent=!1,t.isGroup=!1,t.draggable=!1,t.dragging=!1,t.ignoreClip=!1,t.__inHover=!1,t.__dirty=1;var e={};function r(i,s,l){e[i+s+l]||(console.warn("DEPRECATED: '"+i+"' has been deprecated. use '"+s+"', '"+l+"' instead"),e[i+s+l]=!0)}function o(i,s,l,u){function d(f,p){Object.defineProperty(p,0,{get:function(){return f[l]},set:function(v){f[l]=v}}),Object.defineProperty(p,1,{get:function(){return f[u]},set:function(v){f[u]=v}})}Object.defineProperty(t,i,{get:function(){return r(i,l,u),this[s]||d(this,this[s]=[]),this[s]},set:function(f){r(i,l,u),this[l]=f[0],this[u]=f[1],this[s]=f,d(this,f)}})}Object.defineProperty&&(!Tt.browser.ie||Tt.browser.version>8)&&(o("position","_legacyPos","x","y"),o("scale","_legacyScale","scaleX","scaleY"),o("origin","_legacyOrigin","originX","originY"))}(),n}();function bc(n,t,e,r,o){var i=[];xc(n,"",n,t,e=e||{},r,i,o);var s=i.length,l=!1,u=e.done,d=e.aborted,f=function(){l=!0,--s<=0&&(l?u&&u():d&&d())},p=function(){--s<=0&&(l?u&&u():d&&d())};s||u&&u(),i.length>0&&e.during&&i[0].during(function(x,S){e.during(S)});for(var v=0;v<i.length;v++){var y=i[v];f&&y.done(f),p&&y.aborted(p),y.start(e.easing,e.force)}return i}function Ia(n,t,e){for(var r=0;r<e;r++)n[r]=t[r]}function fu(n,t,e){if(Yr(t[e]))if(Yr(n[e])||(n[e]=[]),Wn(t[e])){var r=t[e].length;n[e].length!==r&&(n[e]=new t[e].constructor(r),Ia(n[e],t[e],r))}else{var o=t[e],i=n[e],s=o.length;if(Yr(o[0]))for(var l=o[0].length,u=0;u<s;u++)i[u]?Ia(i[u],o[u],l):i[u]=Array.prototype.slice.call(o[u]);else Ia(i,o,s);i.length=o.length}else n[e]=t[e]}function xc(n,t,e,r,o,i,s,l){for(var u=[],d=[],f=It(r),p=o.duration,v=o.delay,y=o.additive,x=o.setToFinal,S=!zn(i),C=0;C<f.length;C++)if(null!=e[re=f[C]]&&null!=r[re]&&(S||i[re]))if(zn(r[re])&&!Yr(r[re])){if(t){l||(e[re]=r[re],n.updateDuringAnimation(t));continue}xc(n,re,e[re],r[re],o,i&&i[re],s,l)}else u.push(re),d.push(re);else l||(e[re]=r[re],n.updateDuringAnimation(t),d.push(re));var k=u.length;if(k>0||o.force&&!s.length){for(var I=n.animators,R=[],O=0;O<I.length;O++)I[O].targetName===t&&R.push(I[O]);if(!y&&R.length)for(O=0;O<R.length;O++)if(R[O].stopTracks(d)){var V=hn(I,R[O]);I.splice(V,1)}var F=void 0,Y=void 0,Z=void 0;if(l)for(Y={},x&&(F={}),O=0;O<k;O++)Y[re=u[O]]=e[re],x?F[re]=r[re]:e[re]=r[re];else if(x)for(Z={},O=0;O<k;O++){var re;Z[re=u[O]]=Eo(e[re]),fu(e,r,re)}var ie=new vc(e,!1,y?R:null);ie.targetName=t,o.scope&&(ie.scope=o.scope),x&&F&&ie.whenWithKeys(0,F,u),Z&&ie.whenWithKeys(0,Z,u),ie.whenWithKeys(null==p?500:p,l?Y:r,u).delay(v||0),n.addAnimator(ie,t),s.push(ie)}}Kn(es,Vt),Kn(es,Ka);var nr=function(n){function t(e){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(e),r}return We(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var r=this._children,o=0;o<r.length;o++)if(r[o].name===e)return r[o]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){if(e&&(e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),e.__hostTarget))throw"This elemenet has been used as an attachment";return this},t.prototype.addBefore=function(e,r){if(e&&e!==this&&e.parent!==this&&r&&r.parent===this){var o=this._children,i=o.indexOf(r);i>=0&&(o.splice(i,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,r){var o=hn(this._children,e);return o>=0&&this.replaceAt(r,o),this},t.prototype.replaceAt=function(e,r){var o=this._children,i=o[r];if(e&&e!==this&&e.parent!==this&&e!==i){o[r]=e,i.parent=null;var s=this.__zr;s&&i.removeSelfFromZr(s),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var r=this.__zr;r&&r!==e.__zr&&e.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(e){var r=this.__zr,o=this._children,i=hn(o,e);return i<0||(o.splice(i,1),e.parent=null,r&&e.removeSelfFromZr(r),r&&r.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,r=this.__zr,o=0;o<e.length;o++){var i=e[o];r&&i.removeSelfFromZr(r),i.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,r){for(var o=this._children,i=0;i<o.length;i++)e.call(r,o[i],i);return this},t.prototype.traverse=function(e,r){for(var o=0;o<this._children.length;o++){var i=this._children[o],s=e.call(r,i);i.isGroup&&!s&&i.traverse(e,r)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var r=new Lr(0,0,0,0),o=e||this._children,i=[],s=null,l=0;l<o.length;l++){var u=o[l];if(!u.ignore&&!u.invisible){var d=u.getBoundingRect(),f=u.getLocalTransform(i);f?(Lr.applyTransform(r,d,f),(s=s||r.clone()).union(r)):(s=s||d.clone()).union(d)}}return s||r},t}(es);nr.prototype.type="group";var g=!Tt.canvasSupported,w={},T={},P=function(){function n(t,e,r){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=e,this.id=t;var i=new kt,s=r.renderer||"canvas";if(g)throw new Error("IE8 support has been dropped since 5.0");if(w[s]||(s=It(w)[0]),!w[s])throw new Error("Renderer '"+s+"' is not imported. Please import it first.");r.useDirtyRect=null!=r.useDirtyRect&&r.useDirtyRect;var l=new w[s](e,i,r,t);this.storage=i,this.painter=l;var u=Tt.node||Tt.worker?null:new Zc(l.getViewportRoot(),l.root);this.handler=new _i(i,l,u,l.root),this.animation=new su({stage:{update:function(){return o._flush(!0)}}}),this.animation.start()}return n.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},n.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return da(e,1)<.4;if(e.colorStops){for(var r=e.colorStops,o=0,i=r.length,s=0;s<i;s++)o+=da(r[s].color,1);return(o/=i)<.4}return!1}(t)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(t){var e,r=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var o=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:o-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.addHover=function(t){},n.prototype.removeHover=function(t){},n.prototype.clearHover=function(){},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},n.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},n.prototype.on=function(t,e,r){return this.handler.on(t,e,r),this},n.prototype.off=function(t,e){this.handler.off(t,e)},n.prototype.trigger=function(t,e){this.handler.trigger(t,e)},n.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof nr&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete T[this.id]},n}();function E(n,t){var e=new P(fi(),n,t);return T[e.id]=e,e}function U(n,t){w[n]=t}var j=Object.freeze({__proto__:null,init:E,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in T)T.hasOwnProperty(n)&&T[n].dispose();T={}},getInstance:function(n){return T[n]},registerPainter:U,version:"5.2.1"});function $(n,t,e,r){var o=t[0],i=t[1],s=e[0],l=e[1],u=i-o,d=l-s;if(0===u)return 0===d?s:(s+l)/2;if(r)if(u>0){if(n<=o)return s;if(n>=i)return l}else{if(n>=o)return s;if(n<=i)return l}else{if(n===o)return s;if(n===i)return l}return(n-o)/u*d+s}function ee(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return"string"==typeof n?(e=n,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n;var e}function he(n,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),e?n:+n}function ye(n){return n.sort(function(t,e){return t-e}),n}function Se(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e;return Re(n)}function Re(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),r=e>0?+t.slice(e+1):0,o=e>0?e:t.length,i=t.indexOf(".");return Math.max(0,(i<0?0:o-1-i)-r)}function Be(n,t){var e=Math.log,r=Math.LN10,o=Math.floor(e(n[1]-n[0])/r),i=Math.round(e(Math.abs(t[1]-t[0]))/r),s=Math.min(Math.max(-o+i,0),20);return isFinite(s)?s:20}function Xe(n,t,e){if(!n[t])return 0;var r=kr(n,function(x,S){return x+(isNaN(S)?0:S)},0);if(0===r)return 0;for(var o=Math.pow(10,e),i=Ht(n,function(x){return(isNaN(x)?0:x)/r*o*100}),s=100*o,l=Ht(i,function(x){return Math.floor(x)}),u=kr(l,function(x,S){return x+S},0),d=Ht(i,function(x,S){return x-l[S]});u<s;){for(var f=Number.NEGATIVE_INFINITY,p=null,v=0,y=d.length;v<y;++v)d[v]>f&&(f=d[v],p=v);++l[p],d[p]=0,++u}return l[t]/o}function ct(n,t){var e=Math.max(Se(n),Se(t)),r=n+t;return e>20?r:he(r,e)}var $t=9007199254740991;function zt(n){var t=2*Math.PI;return(n%t+t)%t}function rn(n){return n>-1e-4&&n<1e-4}var kn=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function gn(n){if(n instanceof Date)return n;if("string"==typeof n){var t=kn.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function qn(n){return Math.pow(10,Sr(n))}function Sr(n){if(0===n)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function fr(n,t){var e=Sr(n),r=Math.pow(10,e),o=n/r;return n=(t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*r,e>=-20?+n.toFixed(e<0?-e:0):n}function Jn(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),o=+n[r-1],i=e-r;return i?o+i*(n[r]-o):o}function lo(n){n.sort(function(u,d){return l(u,d,0)?-1:1});for(var t=-1/0,e=1,r=0;r<n.length;){for(var o=n[r].interval,i=n[r].close,s=0;s<2;s++)o[s]<=t&&(o[s]=t,i[s]=s?1:1-e),t=o[s],e=i[s];o[0]===o[1]&&i[0]*i[1]!=1?n.splice(r,1):r++}return n;function l(u,d,f){return u.interval[f]<d.interval[f]||u.interval[f]===d.interval[f]&&(u.close[f]-d.close[f]==(f?-1:1)||!f&&l(u,d,1))}}function zr(n){var t=parseFloat(n);return t==n&&(0!==t||"string"!=typeof n||n.indexOf("x")<=0)?t:NaN}function po(n){return!isNaN(zr(n))}function qo(){return Math.round(9*Math.random())}function to(n,t){return 0===t?n:to(t,n%t)}function Go(n,t){return null==n?t:null==t?n:n*t/to(n,t)}function Hn(n){throw new Error(n)}var Pi="series\0";function no(n){return n instanceof Array?n:null==n?[]:[n]}function oa(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var r=0,o=e.length;r<o;r++){var i=e[r];!n.emphasis[t].hasOwnProperty(i)&&n[t].hasOwnProperty(i)&&(n.emphasis[t][i]=n[t][i])}}}var Pa=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function bi(n){return!zn(n)||dt(n)||n instanceof Date?n:n.value}function O1(n){return zn(n)&&!(n instanceof Array)}function Im(n,t,e){var r="normalMerge"===e,o="replaceMerge"===e,i="replaceAll"===e;n=n||[],t=(t||[]).slice();var s=bn();ue(t,function(f,p){zn(f)||(t[p]=null)});var l,u,f,p,v,y,d=function(f,p,v){var y=[];if("replaceAll"===v)return y;for(var x=0;x<f.length;x++){var S=f[x];S&&null!=S.id&&p.set(S.id,x),y.push({existing:"replaceMerge"===v||Bd(S)?null:S,newOption:null,keyInfo:null,brandNew:null})}return y}(n,s,e);return(r||o)&&(f=d,p=n,v=s,ue(y=t,function(x,S){if(x&&null!=x.id){var C=tp(x.id),k=v.get(C);if(null!=k){var I=f[k];yn(!I.newOption,'Duplicated option on id "'+C+'".'),I.newOption=x,I.existing=p[k],y[S]=null}}})),r&&function(f,p){ue(p,function(v,y){if(v&&null!=v.name)for(var x=0;x<f.length;x++){var S=f[x].existing;if(!f[x].newOption&&S&&(null==S.id||null==v.id)&&!Bd(v)&&!Bd(S)&&Pm("name",S,v))return f[x].newOption=v,void(p[y]=null)}})}(d,t),r||o?function(f,p,v){ue(p,function(y){if(y){for(var x,S=0;(x=f[S])&&(x.newOption||Bd(x.existing)||x.existing&&null!=y.id&&!Pm("id",y,x.existing));)S++;x?(x.newOption=y,x.brandNew=v):f.push({newOption:y,brandNew:v,existing:null,keyInfo:null}),S++}})}(d,t,o):i&&function(f,p){ue(p,function(v){f.push({newOption:v,brandNew:!0,existing:null,keyInfo:null})})}(d,t),l=d,u=bn(),ue(l,function(f){var p=f.existing;p&&u.set(p.id,f)}),ue(l,function(f){var p=f.newOption;yn(!p||null==p.id||!u.get(p.id)||u.get(p.id)===f,"id duplicates: "+(p&&p.id)),p&&null!=p.id&&u.set(p.id,f),!f.keyInfo&&(f.keyInfo={})}),ue(l,function(f,p){var v=f.existing,y=f.newOption,x=f.keyInfo;if(zn(y)){if(x.name=null!=y.name?tp(y.name):v?v.name:Pi+p,v)x.id=tp(v.id);else if(null!=y.id)x.id=tp(y.id);else{var S=0;do{x.id="\0"+x.name+"\0"+S++}while(u.get(x.id))}u.set(x.id,f)}}),d}function Pm(n,t,e){var r=ia(t[n],null),o=ia(e[n],null);return null!=r&&null!=o&&r===o}function tp(n){return ia(n,"")}function ia(n,t){if(null==n)return t;var e=typeof n;return"string"===e?n:"number"===e||je(n)?n+"":t}function ag(n){var t=n.name;return!(!t||!t.indexOf(Pi))}function Bd(n){return n&&null!=n.id&&0===tp(n.id).indexOf("\0_ec_\0")}function zd(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?dt(t.dataIndex)?Ht(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?dt(t.name)?Ht(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name):void 0}function go(){var n="__ec_inner_"+Ix++;return function(t){return t[n]||(t[n]={})}}var Ix=qo();function hu(n,t,e){var r=Lm(t,e),i=r.queryOptionMap,s=r.others,l=e?e.defaultMainType:null;return!r.mainTypeSpecified&&l&&i.set(l,{}),i.each(function(u,d){var f=Zf(n,d,u,{useDefault:l===d,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});s[d+"Models"]=f.models,s[d+"Model"]=f.models[0]}),s}function Lm(n,t){var e;if(ir(n)){var r={};r[n+"Index"]=0,e=r}else e=n;var o=bn(),i={},s=!1;return ue(e,function(l,u){if("dataIndex"!==u&&"dataIndexInside"!==u){var d=u.match(/^(\w+)(Index|Id|Name)$/)||[],f=d[1],p=(d[2]||"").toLowerCase();f&&p&&!(t&&t.includeMainTypes&&hn(t.includeMainTypes,f)<0)&&(s=s||!!f,(o.get(f)||o.set(f,{}))[p]=l)}else i[u]=l}),{mainTypeSpecified:s,queryOptionMap:o,others:i}}var Fi={useDefault:!0,enableAll:!1,enableNone:!1},sg={useDefault:!1,enableAll:!0,enableNone:!0};function Zf(n,t,e,r){r=r||Fi;var o=e.index,i=e.id,s=e.name,l={models:null,specified:null!=o||null!=i||null!=s};if(!l.specified){var u=void 0;return l.models=r.useDefault&&(u=n.getComponent(t))?[u]:[],l}return"none"===o||!1===o?(yn(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):("all"===o&&(yn(r.enableAll,'`"all"` is not a valid value on index option.'),o=i=s=null),l.models=n.queryComponents({mainType:t,index:o,id:i,name:s}),l)}function Kf(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function $f(n,t){var e=bn(),r=[];return ue(n,function(o){var i=t(o);(e.get(i)||(r.push(i),e.set(i,[]))).push(o)}),{keys:r,buckets:e}}function zy(n,t,e,r,o){var i=null==t||"auto"===t;if(null==r)return r;if("number"==typeof r)return he(x=bl(e||0,r,o),i?Math.max(Se(e||0),Se(r)):t);if("string"==typeof r)return o<1?e:r;for(var s=[],l=e,u=r,d=Math.max(l?l.length:0,u.length),f=0;f<d;++f){var p=n.getDimensionInfo(f);if(p&&"ordinal"===p.type)s[f]=(o<1&&l?l:u)[f];else{var v=l&&l[f]?l[f]:0,y=u[f],x=bl(v,y,o);s[f]=he(x,i?Math.max(Se(v),Se(y)):t)}}return s}var Jf="___EC__COMPONENT__CONTAINER___",N1="___EC__EXTENDED_CLASS___";function ts(n){var t={main:"",sub:""};if(n){var e=n.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function Rm(n,t){n.$constructor=n,n.extend=function(e){var r=this;function o(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(e.$constructor)e.$constructor.apply(this,arguments);else{if(lg(r)){var l=Yo(o.prototype,new(r.bind.apply(r,Fn([void 0],i))));return l}r.apply(this,arguments)}}return o[N1]=!0,tt(o.prototype,e),o.extend=this.extend,o.superCall=E1,o.superApply=wl,Pr(o,this),o.superClass=r,o}}function lg(n){return"function"==typeof n&&/^class\s/.test(Function.prototype.toString.call(n))}function sl(n,t){n.extend=t.extend}var Vd=Math.round(10*Math.random());function E1(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return this.superClass.prototype[t].apply(n,e)}function wl(n,t,e){return this.superClass.prototype[t].apply(n,e)}function ui(n){var t={};n.registerClass=function(e){var r,s,l,o=e.type||e.prototype.type;if(o){yn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r=o),'componentType "'+r+'" illegal'),e.prototype.type=o;var i=ts(o);i.sub?i.sub!==Jf&&((s=i,l=t[s.main],l&&l[Jf]||((l=t[s.main]={})[Jf]=!0),l)[i.sub]=e):t[i.main]=e}return e},n.getClass=function(e,r,o){var i=t[e];if(i&&i[Jf]&&(i=r?i[r]:null),o&&!i)throw new Error(r?"Component "+e+"."+(r||"")+" is used but not imported.":e+".type should be specified.");return i},n.getClassesByMainType=function(e){var r=ts(e),o=[],i=t[r.main];return i&&i[Jf]?ue(i,function(s,l){l!==Jf&&o.push(s)}):o.push(i),o},n.hasClass=function(e){var r=ts(e);return!!t[r.main]},n.getAllClassMainTypes=function(){var e=[];return ue(t,function(r,o){e.push(o)}),e},n.hasSubTypes=function(e){var r=ts(e),o=t[r.main];return o&&o[Jf]}}function ll(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(r,o,i){for(var s={},l=0;l<n.length;l++){var u=n[l][1];if(!(o&&hn(o,u)>=0||i&&hn(i,u)<0)){var d=r.getShallow(u,t);null!=d&&(s[n[l][0]]=d)}}return s}}var Qf=ll([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Om=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return Qf(this,t,e)},n}(),eh=new ml(50);function B1(n){if("string"==typeof n){var t=eh.get(n);return t&&t.image}return n}function Fd(n,t,e,r,o){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!e)return t;var i=eh.get(n),s={hostEl:e,cb:r,cbPayload:o};return i?!Vl(t=i.image)&&i.pending.push(s):((t=new Image).onload=t.onerror=Gu,eh.put(n,t.__cachedImgObj={image:t,pending:[s]}),t.src=t.__zrImageSrc=n),t}return n}return t}function Gu(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],r=e.cb;r&&r(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function Vl(n){return n&&n.width&&n.height}var ji=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Lo(n,t,e,r,o){if(!t)return"";var i=(n+"").split("\n");o=np(t,e,r,o);for(var s=0,l=i.length;s<l;s++)i[s]=Nm(i[s],o);return i.join("\n")}function np(n,t,e,r){var o=tt({},r=r||{});o.font=t,e=At(e,"..."),o.maxIterations=At(r.maxIterations,2);var i=o.minChar=At(r.minChar,0);o.cnCharWidth=Ja("\u56fd",t);var s=o.ascCharWidth=Ja("a",t);o.placeholder=At(r.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<i&&l>=s;u++)l-=s;var d=Ja(e,t);return d>l&&(e="",d=0),l=n-d,o.ellipsis=e,o.ellipsisWidth=d,o.contentWidth=l,o.containerWidth=n,o}function Nm(n,t){var e=t.containerWidth,r=t.font,o=t.contentWidth;if(!e)return"";var i=Ja(n,r);if(i<=e)return n;for(var s=0;;s++){if(i<=o||s>=t.maxIterations){n+=t.ellipsis;break}var l=0===s?rp(n,o,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(n.length*o/i):0;i=Ja(n=n.substr(0,l),r)}return""===n&&(n=t.placeholder),n}function rp(n,t,e,r){for(var o=0,i=0,s=n.length;i<s&&o<t;i++){var l=n.charCodeAt(i);o+=0<=l&&l<=127?e:r}return i}var ug=function(){},Em=function(n){this.tokens=[],n&&(this.tokens=n)},cg=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function pu(n,t,e,r,o){var i,s,l=""===t,u=o&&e.rich[o]||{},d=n.lines,f=u.font||e.font,p=!1;if(r){var v=u.padding,y=v?v[1]+v[3]:0;if(null!=u.width&&"auto"!==u.width){var x=Bo(u.width,r.width)+y;d.length>0&&x+r.accumWidth>r.width&&(i=t.split("\n"),p=!0),r.accumWidth=x}else{var S=Bs(t,f,r.width,r.breakAll,r.accumWidth);r.accumWidth=S.accumWidth+y,s=S.linesWidths,i=S.lines}}else i=t.split("\n");for(var C=0;C<i.length;C++){var k=i[C],I=new ug;if(I.styleName=o,I.text=k,I.isLineHolder=!k&&!l,I.width="number"==typeof u.width?u.width:s?s[C]:Ja(k,f),C||p)d.push(new Em([I]));else{var R=(d[d.length-1]||(d[0]=new Em)).tokens,O=R.length;1===O&&R[0].isLineHolder?R[0]=I:(k||!O||l)&&R.push(I)}}}var th=kr(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function Qc(n){return!((e=n.charCodeAt(0))>=33&&e<=255&&!th[n]);var e}function Bs(n,t,e,r,o){for(var i=[],s=[],l="",u="",d=0,f=0,p=0;p<n.length;p++){var v=n.charAt(p);if("\n"!==v){var y=Ja(v,t),x=!r&&!Qc(v);(i.length?f+y>e:o+f+y>e)?f?(l||u)&&(x?(l||(l=u,u="",f=d=0),i.push(l),s.push(f-d),u+=v,l="",f=d+=y):(u&&(l+=u,f+=d,u="",d=0),i.push(l),s.push(f),l=v,f=y)):x?(i.push(u),s.push(d),u=v,d=y):(i.push(v),s.push(y)):(f+=y,x?(u+=v,d+=y):(u&&(l+=u,u="",d=0),l+=v))}else u&&(l+=u,f+=d),i.push(l),s.push(f),l="",u="",d=0,f=0}return i.length||l||(l=n,u="",d=0),u&&(l+=u),l&&(i.push(l),s.push(f)),1===i.length&&(f+=o),{accumWidth:f,lines:i,linesWidths:s}}var vs="__zr_style_"+Math.round(10*Math.random()),aa={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},ul={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};aa[vs]=!0;var nh=["z","z2","invisible"],rh=["invisible"],mi=function(n){function t(r){return n.call(this,r)||this}var e;return We(t,n),t.prototype._init=function(r){for(var o=It(r),i=0;i<o.length;i++){var s=o[i];"style"===s?this.useStyle(r[s]):n.prototype.attrKV.call(this,s,r[s])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,o,i,s){var f,p,v,l=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(p=r,v=o,Sl.copy((f=this).getBoundingRect()),f.transform&&Sl.applyTransform(f.transform),ys.width=p,ys.height=v,!Sl.intersect(ys))||l&&!l[0]&&!l[3])return!1;if(i&&this.__clipPaths)for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1;if(s&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},t.prototype.contain=function(r,o){return this.rectContain(r,o)},t.prototype.traverse=function(r,o){r.call(o,this)},t.prototype.rectContain=function(r,o){var i=this.transformCoordToLocal(r,o);return this.getBoundingRect().contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,i=this.getBoundingRect(),s=this.style,l=s.shadowBlur||0,u=s.shadowOffsetX||0,d=s.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Lr(0,0,0,0)),o?Lr.applyTransform(r,i,o):r.copy(i),(l||u||d)&&(r.width+=2*l+Math.abs(u),r.height+=2*l+Math.abs(d),r.x=Math.min(r.x,r.x+u-l),r.y=Math.min(r.y,r.y+d-l));var f=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-f),r.y=Math.floor(r.y-f),r.width=Math.ceil(r.width+1+2*f),r.height=Math.ceil(r.height+1+2*f))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Lr(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){"style"===r?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,o){"style"!==r?n.prototype.attrKV.call(this,r,o):this.style?this.setStyle(o):this.useStyle(o)},t.prototype.setStyle=function(r,o){return"string"==typeof r?this.style[r]=o:tt(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(r){return Yo(aa,r)},t.prototype.useStyle=function(r){r[vs]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[vs]},t.prototype._innerSaveToNormal=function(r){n.prototype._innerSaveToNormal.call(this,r);var o=this._normalState;r.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,o,nh)},t.prototype._applyStateObj=function(r,o,i,s,l,u){n.prototype._applyStateObj.call(this,r,o,i,s,l,u);var d,f=!(o&&s);if(o&&o.style?l?s?d=o.style:(d=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(d,o.style)):(d=this._mergeStyle(this.createStyle(),s?this.style:i.style),this._mergeStyle(d,o.style)):f&&(d=i.style),d)if(l){var p=this.style;if(this.style=this.createStyle(f?{}:p),f)for(var v=It(p),y=0;y<v.length;y++)(S=v[y])in d&&(d[S]=d[S],this.style[S]=p[S]);var x=It(d);for(y=0;y<x.length;y++){var S=x[y];this.style[S]=this.style[S]}this._transitionState(r,{style:d},u,this.getAnimationStyleProps())}else this.useStyle(d);var C=this.__inHover?rh:nh;for(y=0;y<C.length;y++)S=C[y],o&&null!=o[S]?this[S]=o[S]:f&&null!=i[S]&&(this[S]=i[S])},t.prototype._mergeStates=function(r){for(var o,i=n.prototype._mergeStates.call(this,r),s=0;s<r.length;s++){var l=r[s];l.style&&this._mergeStyle(o=o||{},l.style)}return o&&(i.style=o),i},t.prototype._mergeStyle=function(r,o){return tt(r,o),r},t.prototype.getAnimationStyleProps=function(){return ul},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),t}(es),Sl=new Lr(0,0,0,0),ys=new Lr(0,0,0,0),dg=Math.pow,ed=Math.sqrt,hg=ed(3),Wd=1/3,Fl=De(),ha=De(),oh=De();function Gd(n){return n>-1e-8&&n<1e-8}function gu(n){return n>1e-8||n<-1e-8}function Si(n,t,e,r,o){var i=1-o;return i*i*(i*n+3*o*t)+o*o*(o*r+3*i*e)}function Ud(n,t,e,r,o){var i=1-o;return 3*(((t-n)*i+2*(e-t)*o)*i+(r-e)*o*o)}function Ci(n,t,e,r,o,i){var s=r+3*(t-e)-n,l=3*(e-2*t+n),u=3*(t-n),d=n-o,f=l*l-3*s*u,p=l*u-9*s*d,v=u*u-3*l*d,y=0;if(Gd(f)&&Gd(p))Gd(l)?i[0]=0:(Z=-u/l)>=0&&Z<=1&&(i[y++]=Z);else{var x=p*p-4*f*v;if(Gd(x)){var S=p/f,C=-S/2;(Z=-l/s+S)>=0&&Z<=1&&(i[y++]=Z),C>=0&&C<=1&&(i[y++]=C)}else if(x>0){var k=ed(x),I=f*l+1.5*s*(-p+k),R=f*l+1.5*s*(-p-k);(Z=(-l-((I=I<0?-dg(-I,Wd):dg(I,Wd))+(R=R<0?-dg(-R,Wd):dg(R,Wd))))/(3*s))>=0&&Z<=1&&(i[y++]=Z)}else{var O=(2*f*l-3*s*p)/(2*ed(f*f*f)),V=Math.acos(O)/3,F=ed(f),Y=Math.cos(V),Z=(-l-2*F*Y)/(3*s),re=(C=(-l+F*(Y+hg*Math.sin(V)))/(3*s),(-l+F*(Y-hg*Math.sin(V)))/(3*s));Z>=0&&Z<=1&&(i[y++]=Z),C>=0&&C<=1&&(i[y++]=C),re>=0&&re<=1&&(i[y++]=re)}}return y}function jd(n,t,e,r,o){var i=6*e-12*t+6*n,s=9*t+3*r-3*n-9*e,l=3*t-3*n,u=0;if(Gd(s))gu(i)&&(f=-l/i)>=0&&f<=1&&(o[u++]=f);else{var d=i*i-4*s*l;if(Gd(d))o[0]=-i/(2*s);else if(d>0){var f,p=ed(d),v=(-i-p)/(2*s);(f=(-i+p)/(2*s))>=0&&f<=1&&(o[u++]=f),v>=0&&v<=1&&(o[u++]=v)}}return u}function _c(n,t,e,r,o,i){var s=(t-n)*o+n,l=(e-t)*o+t,u=(r-e)*o+e,d=(l-s)*o+s,f=(u-l)*o+l,p=(f-d)*o+d;i[0]=n,i[1]=s,i[2]=d,i[3]=p,i[4]=p,i[5]=f,i[6]=u,i[7]=r}function Bm(n,t,e,r,o,i,s,l,u,d,f){var p,v,y,x,S,C=.005,k=1/0;Fl[0]=u,Fl[1]=d;for(var I=0;I<1;I+=.05)ha[0]=Si(n,e,o,s,I),ha[1]=Si(t,r,i,l,I),(x=mt(Fl,ha))<k&&(p=I,k=x);k=1/0;for(var R=0;R<32&&!(C<1e-4);R++)y=p+C,ha[0]=Si(n,e,o,s,v=p-C),ha[1]=Si(t,r,i,l,v),x=mt(ha,Fl),v>=0&&x<k?(p=v,k=x):(oh[0]=Si(n,e,o,s,y),oh[1]=Si(t,r,i,l,y),S=mt(oh,Fl),y<=1&&S<k?(p=y,k=S):C*=.5);return f&&(f[0]=Si(n,e,o,s,p),f[1]=Si(t,r,i,l,p)),ed(k)}function Hl(n,t,e,r,o,i,s,l,u){for(var d=n,f=t,p=0,v=1/u,y=1;y<=u;y++){var x=y*v,S=Si(n,e,o,s,x),C=Si(t,r,i,l,x),k=S-d,I=C-f;p+=Math.sqrt(k*k+I*I),d=S,f=C}return p}function Sa(n,t,e,r){var o=1-r;return o*(o*n+2*r*t)+r*r*e}function zm(n,t,e,r){return 2*((1-r)*(t-n)+r*(e-t))}function Vy(n,t,e){var r=n+e-2*t;return 0===r?.5:(n-t)/r}function ih(n,t,e,r,o){var i=(t-n)*r+n,s=(e-t)*r+t,l=(s-i)*r+i;o[0]=n,o[1]=i,o[2]=l,o[3]=l,o[4]=s,o[5]=e}function Vm(n,t,e,r,o,i,s,l,u){var d,f=.005,p=1/0;Fl[0]=s,Fl[1]=l;for(var v=0;v<1;v+=.05)ha[0]=Sa(n,e,o,v),ha[1]=Sa(t,r,i,v),(C=mt(Fl,ha))<p&&(d=v,p=C);p=1/0;for(var y=0;y<32&&!(f<1e-4);y++){var x=d-f,S=d+f;ha[0]=Sa(n,e,o,x),ha[1]=Sa(t,r,i,x);var C=mt(ha,Fl);if(x>=0&&C<p)d=x,p=C;else{oh[0]=Sa(n,e,o,S),oh[1]=Sa(t,r,i,S);var k=mt(oh,Fl);S<=1&&k<p?(d=S,p=k):f*=.5}}return u&&(u[0]=Sa(n,e,o,d),u[1]=Sa(t,r,i,d)),ed(p)}function op(n,t,e,r,o,i,s){for(var l=n,u=t,d=0,f=1/s,p=1;p<=s;p++){var v=p*f,y=Sa(n,e,o,v),x=Sa(t,r,i,v),S=y-l,C=x-u;d+=Math.sqrt(S*S+C*C),l=y,u=x}return d}var zs=Math.min,Vs=Math.max,Uu=Math.sin,td=Math.cos,ju=2*Math.PI,ip=De(),Cl=De(),xo=De();function nd(n,t,e){if(0!==n.length){for(var r=n[0],o=r[0],i=r[0],s=r[1],l=r[1],u=1;u<n.length;u++)o=zs(o,(r=n[u])[0]),i=Vs(i,r[0]),s=zs(s,r[1]),l=Vs(l,r[1]);t[0]=o,t[1]=s,e[0]=i,e[1]=l}}function Wl(n,t,e,r,o,i){o[0]=zs(n,e),o[1]=zs(t,r),i[0]=Vs(n,e),i[1]=Vs(t,r)}var Fm=[],rd=[];function Hm(n,t,e,r,o,i,s,l,u,d){var f=jd,p=Si,v=f(n,e,o,s,Fm);u[0]=1/0,u[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var y=0;y<v;y++){var x=p(n,e,o,s,Fm[y]);u[0]=zs(x,u[0]),d[0]=Vs(x,d[0])}for(v=f(t,r,i,l,rd),y=0;y<v;y++){var S=p(t,r,i,l,rd[y]);u[1]=zs(S,u[1]),d[1]=Vs(S,d[1])}u[0]=zs(n,u[0]),d[0]=Vs(n,d[0]),u[0]=zs(s,u[0]),d[0]=Vs(s,d[0]),u[1]=zs(t,u[1]),d[1]=Vs(t,d[1]),u[1]=zs(l,u[1]),d[1]=Vs(l,d[1])}function Fy(n,t,e,r,o,i,s,l){var u=Vy,d=Sa,f=Vs(zs(u(n,e,o),1),0),p=Vs(zs(u(t,r,i),1),0),v=d(n,e,o,f),y=d(t,r,i,p);s[0]=zs(n,o,v),s[1]=zs(t,i,y),l[0]=Vs(n,o,v),l[1]=Vs(t,i,y)}function pg(n,t,e,r,o,i,s,l,u){var d=tn,f=Xt,p=Math.abs(o-i);if(p%ju<1e-4&&p>1e-4)return l[0]=n-e,l[1]=t-r,u[0]=n+e,void(u[1]=t+r);if(ip[0]=td(o)*e+n,ip[1]=Uu(o)*r+t,Cl[0]=td(i)*e+n,Cl[1]=Uu(i)*r+t,d(l,ip,Cl),f(u,ip,Cl),(o%=ju)<0&&(o+=ju),(i%=ju)<0&&(i+=ju),o>i&&!s?i+=ju:o<i&&s&&(o+=ju),s){var v=i;i=o,o=v}for(var y=0;y<i;y+=Math.PI/2)y>o&&(xo[0]=td(y)*e+n,xo[1]=Uu(y)*r+t,d(l,xo,l),f(u,xo,u))}var Ro={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},wc=[],Sc=[],ns=[],Yu=[],Xu=[],Ml=[],ah=Math.min,La=Math.max,Cc=Math.cos,Fs=Math.sin,ap=Math.sqrt,qu=Math.abs,od=Math.PI,id=2*od,Hy="undefined"!=typeof Float32Array,Mc=[];function Wy(n){return Math.round(n/od*1e8)/1e8%2*od}function Zu(n,t){var e=Wy(n[0]);e<0&&(e+=id);var o=n[1];o+=e-n[0],!t&&o-e>=id?o=e+id:t&&e-o>=id?o=e-id:!t&&e>o?o=e+(id-Wy(e-o)):t&&e<o&&(o=e-(id-Wy(o-e))),n[0]=e,n[1]=o}var mu=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,r){(r=r||0)>0&&(this._ux=qu(r/il/t)||0,this._uy=qu(r/il/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Ro.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var r=qu(t-this._xi),o=qu(e-this._yi),i=r>this._ux||o>this._uy;if(this.addData(Ro.L,t,e),this._ctx&&i&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var s=r*r+o*o;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(t,e,r,o,i,s){return this._drawPendingPt(),this.addData(Ro.C,t,e,r,o,i,s),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,r,o,i,s):this._ctx.bezierCurveTo(t,e,r,o,i,s)),this._xi=i,this._yi=s,this},n.prototype.quadraticCurveTo=function(t,e,r,o){return this._drawPendingPt(),this.addData(Ro.Q,t,e,r,o),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,r,o):this._ctx.quadraticCurveTo(t,e,r,o)),this._xi=r,this._yi=o,this},n.prototype.arc=function(t,e,r,o,i,s){this._drawPendingPt(),Mc[0]=o,Mc[1]=i,Zu(Mc,s);var l=(i=Mc[1])-(o=Mc[0]);return this.addData(Ro.A,t,e,r,r,o,l,0,s?0:1),this._ctx&&this._ctx.arc(t,e,r,o,i,s),this._xi=Cc(i)*r+t,this._yi=Fs(i)*r+e,this},n.prototype.arcTo=function(t,e,r,o,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,r,o,i),this},n.prototype.rect=function(t,e,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,r,o),this.addData(Ro.R,t,e,r,o),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ro.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,r),t.closePath()),this._xi=e,this._yi=r,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,r=0;r<t.length;r++)e+=t[r];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},n.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Hy||(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,o=this._len,i=0;i<e;i++)r+=t[i].len();for(Hy&&this.data instanceof Float32Array&&(this.data=new Float32Array(o+r)),i=0;i<e;i++)for(var s=t[i].data,l=0;l<s.length;l++)this.data[o++]=s[l];this._len=o},n.prototype.addData=function(t,e,r,o,i,s,l,u,d){if(this._saveData){var f=this.data;this._len+arguments.length>f.length&&(this._expandData(),f=this.data);for(var p=0;p<arguments.length;p++)f[this._len++]=arguments[p]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype._dashedLineTo=function(t,e){var r,o,i=this._dashSum,s=this._lineDash,l=this._ctx,u=this._dashOffset,d=this._xi,f=this._yi,p=t-d,v=e-f,y=ap(p*p+v*v),x=d,S=f,C=s.length;for(u<0&&(u=i+u),x-=(u%=i)*(p/=y),S-=u*(v/=y);p>0&&x<=t||p<0&&x>=t||0===p&&(v>0&&S<=e||v<0&&S>=e);)x+=p*(r=s[o=this._dashIdx]),S+=v*r,this._dashIdx=(o+1)%C,p>0&&x<d||p<0&&x>d||v>0&&S<f||v<0&&S>f||l[o%2?"moveTo":"lineTo"](p>=0?ah(x,t):La(x,t),v>=0?ah(S,e):La(S,e));this._dashOffset=-ap((p=x-t)*p+(v=S-e)*v)},n.prototype._dashedBezierTo=function(t,e,r,o,i,s){var l,u,d,f,p,v=this._ctx,y=this._dashSum,x=this._dashOffset,S=this._lineDash,C=this._xi,k=this._yi,I=0,R=this._dashIdx,O=S.length,V=0;for(x<0&&(x=y+x),x%=y,l=0;l<1;l+=.1)u=Si(C,t,r,i,l+.1)-Si(C,t,r,i,l),d=Si(k,e,o,s,l+.1)-Si(k,e,o,s,l),I+=ap(u*u+d*d);for(;R<O&&!((V+=S[R])>x);R++);for(l=(V-x)/I;l<=1;)f=Si(C,t,r,i,l),p=Si(k,e,o,s,l),R%2?v.moveTo(f,p):v.lineTo(f,p),l+=S[R]/I,R=(R+1)%O;R%2!=0&&v.lineTo(i,s),this._dashOffset=-ap((u=i-f)*u+(d=s-p)*d)},n.prototype._dashedQuadraticTo=function(t,e,r,o){var i=r,s=o;r=(r+2*t)/3,o=(o+2*e)/3,this._dashedBezierTo(t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,r,o,i,s)},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Hy&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){ns[0]=ns[1]=Xu[0]=Xu[1]=Number.MAX_VALUE,Yu[0]=Yu[1]=Ml[0]=Ml[1]=-Number.MAX_VALUE;var t,e=this.data,r=0,o=0,i=0,s=0;for(t=0;t<this._len;){var l=e[t++],u=1===t;switch(u&&(i=r=e[t],s=o=e[t+1]),l){case Ro.M:r=i=e[t++],o=s=e[t++],Xu[0]=i,Xu[1]=s,Ml[0]=i,Ml[1]=s;break;case Ro.L:Wl(r,o,e[t],e[t+1],Xu,Ml),r=e[t++],o=e[t++];break;case Ro.C:Hm(r,o,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],Xu,Ml),r=e[t++],o=e[t++];break;case Ro.Q:Fy(r,o,e[t++],e[t++],e[t],e[t+1],Xu,Ml),r=e[t++],o=e[t++];break;case Ro.A:var d=e[t++],f=e[t++],p=e[t++],v=e[t++],y=e[t++],x=e[t++]+y;t+=1;var S=!e[t++];u&&(i=Cc(y)*p+d,s=Fs(y)*v+f),pg(d,f,p,v,y,x,S,Xu,Ml),r=Cc(x)*p+d,o=Fs(x)*v+f;break;case Ro.R:Wl(i=r=e[t++],s=o=e[t++],i+e[t++],s+e[t++],Xu,Ml);break;case Ro.Z:r=i,o=s}tn(ns,ns,Xu),Xt(Yu,Yu,Ml)}return 0===t&&(ns[0]=ns[1]=Yu[0]=Yu[1]=0),new Lr(ns[0],ns[1],Yu[0]-ns[0],Yu[1]-ns[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,r=this._ux,o=this._uy,i=0,s=0,l=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var d=this._pathSegLen,f=0,p=0,v=0;v<e;){var y=t[v++],x=1===v;x&&(l=i=t[v],u=s=t[v+1]);var S=-1;switch(y){case Ro.M:i=l=t[v++],s=u=t[v++];break;case Ro.L:var C=t[v++],k=(O=t[v++])-s;(qu(be=C-i)>r||qu(k)>o||v===e-1)&&(S=Math.sqrt(be*be+k*k),i=C,s=O);break;case Ro.C:var I=t[v++],R=t[v++],O=(C=t[v++],t[v++]),V=t[v++],F=t[v++];S=Hl(i,s,I,R,C,O,V,F,10),i=V,s=F;break;case Ro.Q:S=op(i,s,I=t[v++],R=t[v++],C=t[v++],O=t[v++],10),i=C,s=O;break;case Ro.A:var Y=t[v++],Z=t[v++],re=t[v++],ie=t[v++],ae=t[v++],ce=t[v++],ve=ce+ae;v+=1,v++,x&&(l=Cc(ae)*re+Y,u=Fs(ae)*ie+Z),S=La(re,ie)*ah(id,Math.abs(ce)),i=Cc(ve)*re+Y,s=Fs(ve)*ie+Z;break;case Ro.R:l=i=t[v++],u=s=t[v++],S=2*t[v++]+2*t[v++];break;case Ro.Z:var be=l-i;k=u-s,S=Math.sqrt(be*be+k*k),i=l,s=u}S>=0&&(d[p++]=S,f+=S)}return this._pathLen=f,f},n.prototype.rebuildPath=function(t,e){var r,o,i,s,l,u,d,f,p,v,y=this.data,x=this._ux,S=this._uy,C=this._len,k=e<1,I=0,R=0,O=0;if(!k||(this._pathSegLen||this._calculateLength(),d=this._pathSegLen,f=e*this._pathLen))e:for(var V=0;V<C;){var F=y[V++],Y=1===V;switch(Y&&(r=i=y[V],o=s=y[V+1]),F!==Ro.L&&O>0&&(t.lineTo(p,v),O=0),F){case Ro.M:r=i=y[V++],o=s=y[V++],t.moveTo(i,s);break;case Ro.L:l=y[V++],u=y[V++];var Z=qu(l-i),re=qu(u-s);if(Z>x||re>S){if(k){if(I+(Ar=d[R++])>f){var ie=(f-I)/Ar;t.lineTo(i*(1-ie)+l*ie,s*(1-ie)+u*ie);break e}I+=Ar}t.lineTo(l,u),i=l,s=u,O=0}else{var ae=Z*Z+re*re;ae>O&&(p=l,v=u,O=ae)}break;case Ro.C:var ce=y[V++],ve=y[V++],be=y[V++],_e=y[V++],Ce=y[V++],Pe=y[V++];if(k){if(I+(Ar=d[R++])>f){_c(i,ce,be,Ce,ie=(f-I)/Ar,wc),_c(s,ve,_e,Pe,ie,Sc),t.bezierCurveTo(wc[1],Sc[1],wc[2],Sc[2],wc[3],Sc[3]);break e}I+=Ar}t.bezierCurveTo(ce,ve,be,_e,Ce,Pe),i=Ce,s=Pe;break;case Ro.Q:if(ce=y[V++],ve=y[V++],be=y[V++],_e=y[V++],k){if(I+(Ar=d[R++])>f){ih(i,ce,be,ie=(f-I)/Ar,wc),ih(s,ve,_e,ie,Sc),t.quadraticCurveTo(wc[1],Sc[1],wc[2],Sc[2]);break e}I+=Ar}t.quadraticCurveTo(ce,ve,be,_e),i=be,s=_e;break;case Ro.A:var Le=y[V++],He=y[V++],Je=y[V++],vt=y[V++],Ct=y[V++],on=y[V++],xt=y[V++],Ft=!y[V++],vn=Je>vt?Je:vt,sn=qu(Je-vt)>.001,cn=Ct+on,En=!1;if(k&&(I+(Ar=d[R++])>f&&(cn=Ct+on*(f-I)/Ar,En=!0),I+=Ar),sn&&t.ellipse?t.ellipse(Le,He,Je,vt,xt,Ct,cn,Ft):t.arc(Le,He,vn,Ct,cn,Ft),En)break e;Y&&(r=Cc(Ct)*Je+Le,o=Fs(Ct)*vt+He),i=Cc(cn)*Je+Le,s=Fs(cn)*vt+He;break;case Ro.R:r=i=y[V],o=s=y[V+1],l=y[V++],u=y[V++];var Bn=y[V++],mr=y[V++];if(k){if(I+(Ar=d[R++])>f){var Mr=f-I;t.moveTo(l,u),t.lineTo(l+ah(Mr,Bn),u),(Mr-=Bn)>0&&t.lineTo(l+Bn,u+ah(Mr,mr)),(Mr-=mr)>0&&t.lineTo(l+La(Bn-Mr,0),u+mr),(Mr-=Bn)>0&&t.lineTo(l,u+La(mr-Mr,0));break e}I+=Ar}t.rect(l,u,Bn,mr);break;case Ro.Z:if(k){var Ar;if(I+(Ar=d[R++])>f){t.lineTo(i*(1-(ie=(f-I)/Ar))+r*ie,s*(1-ie)+o*ie);break e}I+=Ar}t.closePath(),i=r,s=o}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=Ro,n.initDefaultProps=((t=n.prototype)._saveData=!0,t._needsDash=!1,t._dashOffset=0,t._dashIdx=0,t._dashSum=0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0)),n;var t}();function Tc(n,t,e,r,o,i,s){if(0===o)return!1;var u,l=o;if(s>t+l&&s>r+l||s<t-l&&s<r-l||i>n+l&&i>e+l||i<n-l&&i<e-l)return!1;if(n===e)return Math.abs(i-n)<=l/2;var d=(u=(t-r)/(n-e))*i-s+(n*r-e*t)/(n-e);return d*d/(u*u+1)<=l/2*l/2}function Gy(n,t,e,r,o,i,s,l,u,d,f){if(0===u)return!1;var p=u;return!(f>t+p&&f>r+p&&f>i+p&&f>l+p||f<t-p&&f<r-p&&f<i-p&&f<l-p||d>n+p&&d>e+p&&d>o+p&&d>s+p||d<n-p&&d<e-p&&d<o-p&&d<s-p)&&Bm(n,t,e,r,o,i,s,l,d,f,null)<=p/2}function pa(n,t,e,r,o,i,s,l,u){if(0===s)return!1;var d=s;return!(u>t+d&&u>r+d&&u>i+d||u<t-d&&u<r-d&&u<i-d||l>n+d&&l>e+d&&l>o+d||l<n-d&&l<e-d&&l<o-d)&&Vm(n,t,e,r,o,i,l,u,null)<=d/2}var sp=2*Math.PI;function Ra(n){return(n%=sp)<0&&(n+=sp),n}var Gl=2*Math.PI;function Wm(n,t,e,r,o,i,s,l,u){if(0===s)return!1;var d=s;l-=n,u-=t;var f=Math.sqrt(l*l+u*u);if(f-d>e||f+d<e)return!1;if(Math.abs(r-o)%Gl<1e-4)return!0;if(i){var p=r;r=Ra(o),o=Ra(p)}else r=Ra(r),o=Ra(o);r>o&&(o+=Gl);var v=Math.atan2(u,l);return v<0&&(v+=Gl),v>=r&&v<=o||v+Gl>=r&&v+Gl<=o}function Ku(n,t,e,r,o,i){if(i>t&&i>r||i<t&&i<r||r===t)return 0;var s=(i-t)/(r-t),l=r<t?1:-1;1!==s&&0!==s||(l=r<t?.5:-.5);var u=s*(e-n)+n;return u===o?1/0:u>o?l:0}var $u=mu.CMD,ad=2*Math.PI,Hs=[-1,-1,-1],rs=[-1,-1];function Cr(n,t,e,r,o,i,s,l,u,d){if(d>t&&d>r&&d>i&&d>l||d<t&&d<r&&d<i&&d<l)return 0;var f,p=Ci(t,r,i,l,d,Hs);if(0===p)return 0;for(var v=0,y=-1,x=void 0,S=void 0,C=0;C<p;C++){var k=Hs[C],I=0===k||1===k?.5:1;Si(n,e,o,s,k)<u||(y<0&&(y=jd(t,r,i,l,rs),rs[1]<rs[0]&&y>1&&(f=rs[0],rs[0]=rs[1],rs[1]=f),x=Si(t,r,i,l,rs[0]),y>1&&(S=Si(t,r,i,l,rs[1]))),v+=2===y?k<rs[0]?x<t?I:-I:k<rs[1]?S<x?I:-I:l<S?I:-I:k<rs[0]?x<t?I:-I:l<x?I:-I)}return v}function sh(n,t,e,r,o,i,s,l){if(l>t&&l>r&&l>i||l<t&&l<r&&l<i)return 0;var u=function(x,S,C,k,I){var R=x-2*S+C,O=2*(S-x),V=x-k,F=0;if(Gd(R))gu(O)&&(Z=-V/O)>=0&&Z<=1&&(I[F++]=Z);else{var Y=O*O-4*R*V;if(Gd(Y))(Z=-O/(2*R))>=0&&Z<=1&&(I[F++]=Z);else if(Y>0){var Z,re=ed(Y),ie=(-O-re)/(2*R);(Z=(-O+re)/(2*R))>=0&&Z<=1&&(I[F++]=Z),ie>=0&&ie<=1&&(I[F++]=ie)}}return F}(t,r,i,l,Hs);if(0===u)return 0;var d=Vy(t,r,i);if(d>=0&&d<=1){for(var f=0,p=Sa(t,r,i,d),v=0;v<u;v++){var y=0===Hs[v]||1===Hs[v]?.5:1;Sa(n,e,o,Hs[v])<s||(f+=Hs[v]<d?p<t?y:-y:i<p?y:-y)}return f}return y=0===Hs[0]||1===Hs[0]?.5:1,Sa(n,e,o,Hs[0])<s?0:i<t?y:-y}function Px(n,t,e,r,o,i,s,l){if((l-=t)>e||l<-e)return 0;var u=Math.sqrt(e*e-l*l);Hs[0]=-u,Hs[1]=u;var d=Math.abs(r-o);if(d<1e-4)return 0;if(d>=ad-1e-4){r=0,o=ad;var f=i?1:-1;return s>=Hs[0]+n&&s<=Hs[1]+n?f:0}if(r>o){var p=r;r=o,o=p}r<0&&(r+=ad,o+=ad);for(var v=0,y=0;y<2;y++){var x=Hs[y];if(x+n>s){var S=Math.atan2(l,x);f=i?1:-1,S<0&&(S=ad+S),(S>=r&&S<=o||S+ad>=r&&S+ad<=o)&&(S>Math.PI/2&&S<1.5*Math.PI&&(f=-f),v+=f)}}return v}function Gm(n,t,e,r,o){for(var i,s,d=n.data,f=n.len(),p=0,v=0,y=0,x=0,S=0,C=0;C<f;){var k=d[C++],I=1===C;switch(k===$u.M&&C>1&&(e||(p+=Ku(v,y,x,S,r,o))),I&&(x=v=d[C],S=y=d[C+1]),k){case $u.M:v=x=d[C++],y=S=d[C++];break;case $u.L:if(e){if(Tc(v,y,d[C],d[C+1],t,r,o))return!0}else p+=Ku(v,y,d[C],d[C+1],r,o)||0;v=d[C++],y=d[C++];break;case $u.C:if(e){if(Gy(v,y,d[C++],d[C++],d[C++],d[C++],d[C],d[C+1],t,r,o))return!0}else p+=Cr(v,y,d[C++],d[C++],d[C++],d[C++],d[C],d[C+1],r,o)||0;v=d[C++],y=d[C++];break;case $u.Q:if(e){if(pa(v,y,d[C++],d[C++],d[C],d[C+1],t,r,o))return!0}else p+=sh(v,y,d[C++],d[C++],d[C],d[C+1],r,o)||0;v=d[C++],y=d[C++];break;case $u.A:var R=d[C++],O=d[C++],V=d[C++],F=d[C++],Y=d[C++],Z=d[C++];C+=1;var re=!!(1-d[C++]);i=Math.cos(Y)*V+R,s=Math.sin(Y)*F+O,I?(x=i,S=s):p+=Ku(v,y,i,s,r,o);var ie=(r-R)*F/V+R;if(e){if(Wm(R,O,F,Y,Y+Z,re,t,ie,o))return!0}else p+=Px(R,O,F,Y,Y+Z,re,ie,o);v=Math.cos(Y+Z)*V+R,y=Math.sin(Y+Z)*F+O;break;case $u.R:if(x=v=d[C++],S=y=d[C++],i=x+d[C++],s=S+d[C++],e){if(Tc(x,S,i,S,t,r,o)||Tc(i,S,i,s,t,r,o)||Tc(i,s,x,s,t,r,o)||Tc(x,s,x,S,t,r,o))return!0}else p+=Ku(i,S,i,s,r,o),p+=Ku(x,s,x,S,r,o);break;case $u.Z:if(e){if(Tc(v,y,x,S,t,r,o))return!0}else p+=Ku(v,y,x,S,r,o);v=x,y=S}}return e||Math.abs(y-S)<1e-4||(p+=Ku(v,y,x,S,r,o)||0),0!==p}var lp=Gt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},aa),Uo={style:Gt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},ul.style)},Uy=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],Vr=function(n){function t(r){return n.call(this,r)||this}var e;return We(t,n),t.prototype.update=function(){var r=this;n.prototype.update.call(this);var o=this.style;if(o.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(d){r.buildPath(d,r.shape)}),i.silent=!0;var s=i.style;for(var l in o)s[l]!==o[l]&&(s[l]=o[l]);s.fill=o.fill?o.decal:null,s.decal=null,s.shadowColor=null,o.strokeFirst&&(s.stroke=null);for(var u=0;u<Uy.length;++u)i[Uy[u]]=this[Uy[u]];i.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var o=It(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var s=0;s<o.length;s++){var l=o[s],u=r[l];"style"===l?this.style?tt(this.style,u):this.useStyle(u):"shape"===l?tt(this.shape,u):n.prototype.attrKV.call(this,l,u)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if("none"!==r){if(ir(r)){var o=da(r,0);return o>.5?$o:o>.2?"#eee":lr}if(r)return lr}return $o},t.prototype.getInsideTextStroke=function(r){var o=this.style.fill;if(ir(o)){var i=this.__zr;if(!(!i||!i.isDarkMode())==da(r,0)<.4)return o}},t.prototype.buildPath=function(r,o,i){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new mu(!1)},t.prototype.hasStroke=function(){var r=this.style,o=r.stroke;return!(null==o||"none"===o||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},t.prototype.getBoundingRect=function(){var r=this._rect,o=this.style,i=!r;if(i){var s=!1;this.path||(s=!0,this.createPathProxy());var l=this.path;(s||4&this.__dirty)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),r=l.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectWithStroke||(this._rectWithStroke=r.clone());if(this.__dirty||i){u.copy(r);var d=o.strokeNoScale?this.getLineScale():1,f=o.lineWidth;if(!this.hasFill()){var p=this.strokeContainThreshold;f=Math.max(f,null==p?4:p)}d>1e-10&&(u.width+=f/d,u.height+=f/d,u.x-=f/d/2,u.y-=f/d/2)}return u}return r},t.prototype.contain=function(r,o){var i=this.transformCoordToLocal(r,o),s=this.getBoundingRect(),l=this.style;if(s.contain(r=i[0],o=i[1])){var u=this.path;if(this.hasStroke()){var d=l.lineWidth,f=l.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),Gm(u,d/f,!0,r,o)))return!0}if(this.hasFill())return Gm(u,0,!1,r,o)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){"style"===r?this.dirtyStyle():"shape"===r?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,o){"shape"===r?this.setShape(o):n.prototype.attrKV.call(this,r,o)},t.prototype.setShape=function(r,o){var i=this.shape;return i||(i=this.shape={}),"string"==typeof r?i[r]=o:tt(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(r){return Yo(lp,r)},t.prototype._innerSaveToNormal=function(r){n.prototype._innerSaveToNormal.call(this,r);var o=this._normalState;r.shape&&!o.shape&&(o.shape=tt({},this.shape))},t.prototype._applyStateObj=function(r,o,i,s,l,u){n.prototype._applyStateObj.call(this,r,o,i,s,l,u);var d,f=!(o&&s);if(o&&o.shape?l?s?d=o.shape:(d=tt({},i.shape),tt(d,o.shape)):(d=tt({},s?this.shape:i.shape),tt(d,o.shape)):f&&(d=i.shape),d)if(l){this.shape=tt({},this.shape);for(var p={},v=It(d),y=0;y<v.length;y++){var x=v[y];"object"==typeof d[x]?this.shape[x]=d[x]:p[x]=d[x]}this._transitionState(r,{shape:p},u)}else this.shape=d,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var o,i=n.prototype._mergeStates.call(this,r),s=0;s<r.length;s++){var l=r[s];l.shape&&this._mergeStyle(o=o||{},l.shape)}return o&&(i.shape=o),i},t.prototype.getAnimationStyleProps=function(){return Uo},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var o=function(s){function l(u){var d=s.call(this,u)||this;return r.init&&r.init.call(d,u),d}return We(l,s),l.prototype.getDefaultStyle=function(){return Qt(r.style)},l.prototype.getDefaultShape=function(){return Qt(r.shape)},l}(t);for(var i in r)"function"==typeof r[i]&&(o.prototype[i]=r[i]);return o},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),t}(mi),z1=Gt({strokeFirst:!0,font:zl,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},lp),Ws=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.hasStroke=function(){var e=this.style,r=e.stroke;return null!=r&&"none"!==r&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return Yo(z1,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var r=e.text;null!=r?r+="":r="";var o=Hu(r,e.font,e.textAlign,e.textBaseline);if(o.x+=e.x||0,o.y+=e.y||0,this.hasStroke()){var i=e.lineWidth;o.x-=i/2,o.y-=i/2,o.width+=i,o.height+=i}this._rect=o}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(mi);Ws.prototype.type="tspan";var Ul=Gt({x:0,y:0},aa),os={style:Gt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},ul.style)},Yi=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.createStyle=function(e){return Yo(Ul,e)},t.prototype._getSize=function(e){var r=this.style,o=r[e];if(null!=o)return o;var i,s=(i=r.image)&&"string"!=typeof i&&i.width&&i.height?r.image:this.__image;if(!s)return 0;var l="width"===e?"height":"width",u=r[l];return null==u?s[e]:s[e]/s[l]*u},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return os},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Lr(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(mi);Yi.prototype.type="image";var Ju=Math.round;function up(n,t,e){if(t){var r=t.x1,o=t.x2,i=t.y1,s=t.y2;n.x1=r,n.x2=o,n.y1=i,n.y2=s;var l=e&&e.lineWidth;return l&&(Ju(2*r)===Ju(2*o)&&(n.x1=n.x2=ga(r,l,!0)),Ju(2*i)===Ju(2*s)&&(n.y1=n.y2=ga(i,l,!0))),n}}function jl(n,t,e){if(t){var r=t.x,o=t.y,i=t.width,s=t.height;n.x=r,n.y=o,n.width=i,n.height=s;var l=e&&e.lineWidth;return l&&(n.x=ga(r,l,!0),n.y=ga(o,l,!0),n.width=Math.max(ga(r+i,l,!1)-n.x,0===i?0:1),n.height=Math.max(ga(o+s,l,!1)-n.y,0===s?0:1)),n}}function ga(n,t,e){if(!t)return n;var r=Ju(2*n);return(r+Ju(t))%2==0?r/2:(r+(e?1:-1))/2}var lh=function(){this.x=0,this.y=0,this.width=0,this.height=0},Yd={},eo=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultShape=function(){return new lh},t.prototype.buildPath=function(e,r){var o,i,s,l,d,f,p,v,y,x,S,C,k,I,R,O;if(this.subPixelOptimize){var u=jl(Yd,r,this.style);o=u.x,i=u.y,s=u.width,l=u.height,u.r=r.r,r=u}else o=r.x,i=r.y,s=r.width,l=r.height;r.r?(d=e,C=(f=r).x,k=f.y,(I=f.width)<0&&(C+=I,I=-I),(R=f.height)<0&&(k+=R,R=-R),"number"==typeof(O=f.r)?p=v=y=x=O:O instanceof Array?1===O.length?p=v=y=x=O[0]:2===O.length?(p=y=O[0],v=x=O[1]):3===O.length?(p=O[0],v=x=O[1],y=O[2]):(p=O[0],v=O[1],y=O[2],x=O[3]):p=v=y=x=0,p+v>I&&(p*=I/(S=p+v),v*=I/S),y+x>I&&(y*=I/(S=y+x),x*=I/S),v+y>R&&(v*=R/(S=v+y),y*=R/S),p+x>R&&(p*=R/(S=p+x),x*=R/S),d.moveTo(C+p,k),d.lineTo(C+I-v,k),0!==v&&d.arc(C+I-v,k+v,v,-Math.PI/2,0),d.lineTo(C+I,k+R-y),0!==y&&d.arc(C+I-y,k+R-y,y,0,Math.PI/2),d.lineTo(C+x,k+R),0!==x&&d.arc(C+x,k+R-x,x,Math.PI/2,Math.PI),d.lineTo(C,k+p),0!==p&&d.arc(C+p,k+p,p,Math.PI,1.5*Math.PI)):e.rect(o,i,s,l)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Vr);eo.prototype.type="rect";var Um={fill:"#000"},gg={style:Gt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},ul.style)},Xr=function(n){function t(e){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Um,r.attr(e),r}return We(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,jm(e=this.style),ue(e.rich,jm),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Lr(0,0,0,0),r=this._children,o=[],i=null,s=0;s<r.length;s++){var l=r[s],u=l.getBoundingRect(),d=l.getLocalTransform(o);d?(e.copy(u),e.applyTransform(d),(i=i||e.clone()).union(e)):(i=i||u.clone()).union(u)}this._rect=i||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Um},t.prototype.setTextContent=function(e){throw new Error("Can't attach text on another text")},t.prototype._mergeStyle=function(e,r){if(!r)return e;var o=r.rich,i=e.rich||o&&{};return tt(e,r),o&&i?(this._mergeRich(i,o),e.rich=i):i&&(e.rich=i),e},t.prototype._mergeRich=function(e,r){for(var o=It(r),i=0;i<o.length;i++){var s=o[i];e[s]=e[s]||{},tt(e[s],r[s])}},t.prototype.getAnimationStyleProps=function(){return gg},t.prototype._getOrCreateChild=function(e){var r=this._children[this._childCursor];return r&&r instanceof e||(r=new e),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var e=this.style,r=e.font||zl,o=e.padding,i=function(_e,Ce){null!=_e&&(_e+="");var Pe,Le=Ce.overflow,He=Ce.padding,Je=Ce.font,vt="truncate"===Le,Ct=Wo(Je),on=At(Ce.lineHeight,Ct),xt="truncate"===Ce.lineOverflow,Ft=Ce.width,vn=(Pe=null!=Ft&&"break"===Le||"breakAll"===Le?_e?Bs(_e,Ce.font,Ft,"breakAll"===Le,0).lines:[]:_e?_e.split("\n"):[]).length*on,sn=At(Ce.height,vn);if(vn>sn&&xt){var cn=Math.floor(sn/on);Pe=Pe.slice(0,cn)}var En=sn,Bn=Ft;if(He&&(En+=He[0]+He[2],null!=Bn&&(Bn+=He[1]+He[3])),_e&&vt&&null!=Bn)for(var mr=np(Ft,Je,Ce.ellipsis,{minChar:Ce.truncateMinChar,placeholder:Ce.placeholder}),Mr=0;Mr<Pe.length;Mr++)Pe[Mr]=Nm(Pe[Mr],mr);if(null==Ft){var Ar=0;for(Mr=0;Mr<Pe.length;Mr++)Ar=Math.max(Ja(Pe[Mr],Je),Ar);Ft=Ar}return{lines:Pe,height:sn,outerHeight:En,lineHeight:on,calculatedLineHeight:Ct,contentHeight:vn,width:Ft}}(dp(e),e),s=kc(e),l=!!e.backgroundColor,u=i.outerHeight,d=i.lines,f=i.lineHeight,p=this._defaultStyle,v=e.x||0,y=e.y||0,x=e.align||p.align||"left",S=e.verticalAlign||p.verticalAlign||"top",C=v,k=Qa(y,i.contentHeight,S);if(s||o){var I=i.width;o&&(I+=o[1]+o[3]);var R=yc(v,I,x),O=Qa(y,u,S);s&&this._renderBackground(e,e,R,O,I,u)}k+=f/2,o&&(C=is(v,x,o),"top"===S?k+=o[0]:"bottom"===S&&(k-=o[2]));for(var V=0,F=!1,Y=(cp("fill"in e?e.fill:(F=!0,p.fill))),Z=(jy("stroke"in e?e.stroke:l||p.autoStroke&&!F?null:(V=2,p.stroke))),re=e.textShadowBlur>0,ie=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),ae=i.calculatedLineHeight,ce=0;ce<d.length;ce++){var ve=this._getOrCreateChild(Ws),be=ve.createStyle();ve.useStyle(be),be.text=d[ce],be.x=C,be.y=k,x&&(be.textAlign=x),be.textBaseline="middle",be.opacity=e.opacity,be.strokeFirst=!0,re&&(be.shadowBlur=e.textShadowBlur||0,be.shadowColor=e.textShadowColor||"transparent",be.shadowOffsetX=e.textShadowOffsetX||0,be.shadowOffsetY=e.textShadowOffsetY||0),Z&&(be.stroke=Z,be.lineWidth=e.lineWidth||V,be.lineDash=e.lineDash,be.lineDashOffset=e.lineDashOffset||0),Y&&(be.fill=Y),be.font=r,k+=f,ie&&ve.setBoundingRect(new Lr(yc(be.x,e.width,be.textAlign),Qa(be.y,ae,be.textBaseline),e.width,ae))}},t.prototype._updateRichTexts=function(){var e=this.style,r=function(be,_e){var Ce=new cg;if(null!=be&&(be+=""),!be)return Ce;for(var Pe,Le=_e.width,He=_e.height,Je=_e.overflow,vt="break"!==Je&&"breakAll"!==Je||null==Le?null:{width:Le,accumWidth:0,breakAll:"breakAll"===Je},Ct=ji.lastIndex=0;null!=(Pe=ji.exec(be));){var on=Pe.index;on>Ct&&pu(Ce,be.substring(Ct,on),_e,vt),pu(Ce,Pe[2],_e,vt,Pe[1]),Ct=ji.lastIndex}Ct<be.length&&pu(Ce,be.substring(Ct,be.length),_e,vt);var xt=[],Ft=0,vn=0,sn=_e.padding,cn="truncate"===Je,En="truncate"===_e.lineOverflow;function Bn(Cs,Ei,Lu){Cs.width=Ei,Cs.lineHeight=Lu,Ft+=Lu,vn=Math.max(vn,Ei)}e:for(var mr=0;mr<Ce.lines.length;mr++){for(var Mr=Ce.lines[mr],Ar=0,la=0,Ji=0;Ji<Mr.tokens.length;Ji++){var To=(Or=Mr.tokens[Ji]).styleName&&_e.rich[Or.styleName]||{},_o=Or.textPadding=To.padding,_a=_o?_o[1]+_o[3]:0,Ni=Or.font=To.font||_e.font;Or.contentHeight=Wo(Ni);var Pu=At(To.height,Or.contentHeight);if(Or.innerHeight=Pu,_o&&(Pu+=_o[0]+_o[2]),Or.height=Pu,Or.lineHeight=Nt(To.lineHeight,_e.lineHeight,Pu),Or.align=To&&To.align||_e.align,Or.verticalAlign=To&&To.verticalAlign||"middle",En&&null!=He&&Ft+Or.lineHeight>He){Ji>0?(Mr.tokens=Mr.tokens.slice(0,Ji),Bn(Mr,la,Ar),Ce.lines=Ce.lines.slice(0,mr+1)):Ce.lines=Ce.lines.slice(0,mr);break e}var gc=To.width,di=null==gc||"auto"===gc;if("string"==typeof gc&&"%"===gc.charAt(gc.length-1))Or.percentWidth=gc,xt.push(Or),Or.contentWidth=Ja(Or.text,Ni);else{if(di){var ao=To.backgroundColor,ii=ao&&ao.image;ii&&Vl(ii=B1(ii))&&(Or.width=Math.max(Or.width,ii.width*Pu/ii.height))}var Fo=cn&&null!=Le?Le-la:null;null!=Fo&&Fo<Or.width?!di||Fo<_a?(Or.text="",Or.width=Or.contentWidth=0):(Or.text=Lo(Or.text,Fo-_a,Ni,_e.ellipsis,{minChar:_e.truncateMinChar}),Or.width=Or.contentWidth=Ja(Or.text,Ni)):Or.contentWidth=Ja(Or.text,Ni)}Or.width+=_a,la+=Or.width,To&&(Ar=Math.max(Ar,Or.lineHeight))}Bn(Mr,la,Ar)}for(Ce.outerWidth=Ce.width=At(Le,vn),Ce.outerHeight=Ce.height=At(He,Ft),Ce.contentHeight=Ft,Ce.contentWidth=vn,sn&&(Ce.outerWidth+=sn[1]+sn[3],Ce.outerHeight+=sn[0]+sn[2]),mr=0;mr<xt.length;mr++){var Or,Ks=(Or=xt[mr]).percentWidth;Or.width=parseInt(Ks,10)/100*Ce.width}return Ce}(dp(e),e),o=r.width,i=r.outerWidth,s=r.outerHeight,l=e.padding,d=e.y||0,f=this._defaultStyle,v=e.verticalAlign||f.verticalAlign,y=yc(e.x||0,i,e.align||f.align),x=Qa(d,s,v),S=y,C=x;l&&(S+=l[3],C+=l[0]);var k=S+o;kc(e)&&this._renderBackground(e,e,y,x,i,s);for(var I=!!e.backgroundColor,R=0;R<r.lines.length;R++){for(var O=r.lines[R],V=O.tokens,F=V.length,Y=O.lineHeight,Z=O.width,re=0,ie=S,ae=k,ce=F-1,ve=void 0;re<F&&(!(ve=V[re]).align||"left"===ve.align);)this._placeToken(ve,e,Y,C,ie,"left",I),Z-=ve.width,ie+=ve.width,re++;for(;ce>=0&&"right"===(ve=V[ce]).align;)this._placeToken(ve,e,Y,C,ae,"right",I),Z-=ve.width,ae-=ve.width,ce--;for(ie+=(o-(ie-S)-(k-ae)-Z)/2;re<=ce;)this._placeToken(ve=V[re],e,Y,C,ie+ve.width/2,"center",I),ie+=ve.width,re++;C+=Y}},t.prototype._placeToken=function(e,r,o,i,s,l,u){var d=r.rich[e.styleName]||{};d.text=e.text;var f=e.verticalAlign,p=i+o/2;"top"===f?p=i+e.height/2:"bottom"===f&&(p=i+o-e.height/2),!e.isLineHolder&&kc(d)&&this._renderBackground(d,r,"right"===l?s-e.width:"center"===l?s-e.width/2:s,p-e.height/2,e.width,e.height);var v=!!d.backgroundColor,y=e.textPadding;y&&(s=is(s,l,y),p-=e.height/2-y[0]-e.innerHeight/2);var x=this._getOrCreateChild(Ws),S=x.createStyle();x.useStyle(S);var C=this._defaultStyle,k=!1,I=0,R=cp("fill"in d?d.fill:"fill"in r?r.fill:(k=!0,C.fill)),O=jy("stroke"in d?d.stroke:"stroke"in r?r.stroke:v||u||C.autoStroke&&!k?null:(I=2,C.stroke)),V=d.textShadowBlur>0||r.textShadowBlur>0;S.text=e.text,S.x=s,S.y=p,V&&(S.shadowBlur=d.textShadowBlur||r.textShadowBlur||0,S.shadowColor=d.textShadowColor||r.textShadowColor||"transparent",S.shadowOffsetX=d.textShadowOffsetX||r.textShadowOffsetX||0,S.shadowOffsetY=d.textShadowOffsetY||r.textShadowOffsetY||0),S.textAlign=l,S.textBaseline="middle",S.font=e.font||zl,S.opacity=Nt(d.opacity,r.opacity,1),O&&(S.lineWidth=Nt(d.lineWidth,r.lineWidth,I),S.lineDash=At(d.lineDash,r.lineDash),S.lineDashOffset=r.lineDashOffset||0,S.stroke=O),R&&(S.fill=R);var F=e.contentWidth,Y=e.contentHeight;x.setBoundingRect(new Lr(yc(S.x,F,S.textAlign),Qa(S.y,Y,S.textBaseline),F,Y))},t.prototype._renderBackground=function(e,r,o,i,s,l){var u,d,f,p=e.backgroundColor,v=e.borderWidth,y=e.borderColor,x=p&&p.image,S=p&&!x,C=e.borderRadius,k=this;if(S||e.lineHeight||v&&y){(u=this._getOrCreateChild(eo)).useStyle(u.createStyle()),u.style.fill=null;var I=u.shape;I.x=o,I.y=i,I.width=s,I.height=l,I.r=C,u.dirtyShape()}if(S)(f=u.style).fill=p||null,f.fillOpacity=At(e.fillOpacity,1);else if(x){(d=this._getOrCreateChild(Yi)).onload=function(){k.dirtyStyle()};var R=d.style;R.image=p.image,R.x=o,R.y=i,R.width=s,R.height=l}v&&y&&((f=u.style).lineWidth=v,f.stroke=y,f.strokeOpacity=At(e.strokeOpacity,1),f.lineDash=e.borderDash,f.lineDashOffset=e.borderDashOffset||0,u.strokeContainThreshold=0,u.hasFill()&&u.hasStroke()&&(f.strokeFirst=!0,f.lineWidth*=2));var O=(u||d).style;O.shadowBlur=e.shadowBlur||0,O.shadowColor=e.shadowColor||"transparent",O.shadowOffsetX=e.shadowOffsetX||0,O.shadowOffsetY=e.shadowOffsetY||0,O.opacity=Nt(e.opacity,r.opacity,1)},t.makeFont=function(e){var r="";if(e.fontSize||e.fontFamily||e.fontWeight){var o="";o="string"!=typeof e.fontSize||-1===e.fontSize.indexOf("px")&&-1===e.fontSize.indexOf("rem")&&-1===e.fontSize.indexOf("em")?isNaN(+e.fontSize)?"12px":e.fontSize+"px":e.fontSize,r=[e.fontStyle,e.fontWeight,o,e.fontFamily||"sans-serif"].join(" ")}return r&&Nr(r)||e.textFont||e.font},t}(mi),V1={left:!0,right:1,center:1},cl={top:1,bottom:1,middle:1};function jm(n){if(n){n.font=Xr.makeFont(n);var t=n.align;"middle"===t&&(t="center"),n.align=null==t||V1[t]?t:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||cl[e]?e:"top",n.padding&&(n.padding=dn(n.padding))}}function jy(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function cp(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function is(n,t,e){return"right"===t?n-e[1]:"center"===t?n+e[3]/2-e[1]/2:n+e[3]}function dp(n){var t=n.text;return null!=t&&(t+=""),t}function kc(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var br=go(),fp=function(n,t,e,r){if(r){var o=br(r);o.dataIndex=e,o.dataType=t,o.seriesIndex=n,"group"===r.type&&r.traverse(function(i){var s=br(i);s.seriesIndex=n,s.dataIndex=e,s.dataType=t})}},mg=1,sd={},Ym=go(),bs=["emphasis","blur","select"],Qu=["normal","emphasis","blur","select"],Xd="highlight",ch="downplay",vu="select",hp="unselect",dh="toggleSelect";function ld(n){return null!=n&&"none"!==n}var Xm=new ml(100);function vg(n){if("string"!=typeof n)return n;var t=Xm.get(n);return t||(t=Ps(n,-.1),Xm.put(n,t)),t}function pp(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function ud(n){pp(n,"emphasis",2)}function gp(n){2===n.hoverState&&pp(n,"normal",0)}function fh(n){pp(n,"blur",1)}function qd(n){1===n.hoverState&&pp(n,"normal",0)}function qm(n){n.selected=!0}function Yy(n){n.selected=!1}function Xy(n,t,e){t(n,e)}function Gs(n,t,e){Xy(n,t,e),n.isGroup&&n.traverse(function(r){Xy(r,t,e)})}function yg(n,t){switch(t){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function Zd(n,t){var o,i,s,l,u,d,e=this.states[n];if(this.style){if("emphasis"===n)return function(r,o,i,s){var l=i&&hn(i,"select")>=0,u=!1;if(r instanceof Vr){var d=Ym(r),f=l&&d.selectFill||d.normalFill,p=l&&d.selectStroke||d.normalStroke;if(ld(f)||ld(p)){var v=(s=s||{}).style||{};"inherit"===v.fill?(u=!0,s=tt({},s),(v=tt({},v)).fill=f):!ld(v.fill)&&ld(f)?(u=!0,s=tt({},s),(v=tt({},v)).fill=vg(f)):!ld(v.stroke)&&ld(p)&&(u||(s=tt({},s),v=tt({},v)),v.stroke=vg(p)),s.style=v}}if(s&&null==s.z2){u||(s=tt({},s));var y=r.z2EmphasisLift;s.z2=r.z2+(null!=y?y:10)}return s}(this,0,t,e);if("blur"===n)return i=e,s=hn(this.currentStates,o=n)>=0,l=this.style.opacity,u=s?null:function(f,p,v,y){for(var x=f.style,S={},C=0;C<p.length;C++){var k=p[C],I=x[k];S[k]=null==I?y&&y[k]:I}for(C=0;C<f.animators.length;C++){var R=f.animators[C];R.__fromStateTransition&&R.__fromStateTransition.indexOf(v)<0&&"style"===R.targetName&&R.saveFinalToTarget(S,p)}return S}(this,["opacity"],o,{opacity:1}),null==(d=(i=i||{}).style||{}).opacity&&(i=tt({},i),d=tt({opacity:s?l:.1*u.opacity},d),i.style=d),i;if("select"===n)return function(r,o,i){if(i&&null==i.z2){i=tt({},i);var s=r.z2SelectLift;i.z2=r.z2+(null!=s?s:9)}return i}(this,0,e)}return e}function Kd(n){n.stateProxy=Zd;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=Zd),e&&(e.stateProxy=Zd)}function bg(n,t){!ec(n,t)&&!n.__highByOuter&&Gs(n,ud)}function Zm(n,t){!ec(n,t)&&!n.__highByOuter&&Gs(n,gp)}function Oa(n,t){n.__highByOuter|=1<<(t||0),Gs(n,ud)}function Tl(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&Gs(n,gp)}function cd(n){Gs(n,fh)}function xg(n){Gs(n,qd)}function Km(n){Gs(n,qm)}function mp(n){Gs(n,Yy)}function ec(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function _t(n){n.getModel().eachComponent(function(t,e){("series"===t?n.getViewOfSeriesModel(e):n.getViewOfComponentModel(e)).group.traverse(function(r){qd(r)})})}function dd(n,t,e,r){var o=r.getModel();function i(d,f){for(var p=0;p<f.length;p++){var v=d.getItemGraphicEl(f[p]);v&&xg(v)}}if(e=e||"coordinateSystem",null!=n&&t&&"none"!==t){var s=o.getSeriesByIndex(n),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];o.eachSeries(function(d){var f=s===d,p=d.coordinateSystem;if(p&&p.master&&(p=p.master),!("series"===e&&!f||"coordinateSystem"===e&&!(p&&l?p===l:f)||"series"===t&&f)){if(r.getViewOfSeriesModel(d).group.traverse(function(x){fh(x)}),Yr(t))i(d.getData(),t);else if(zn(t))for(var v=It(t),y=0;y<v.length;y++)i(d.getData(v[y]),t[v[y]]);u.push(d)}}),o.eachComponent(function(d,f){if("series"!==d){var p=r.getViewOfComponentModel(f);p&&p.blurSeries&&p.blurSeries(u,o)}})}}function hh(n,t,e){if(null!=n&&null!=t){var r=e.getModel().getComponent(n,t);if(r){var o=e.getViewOfComponentModel(r);o&&o.focusBlurEnabled&&o.group.traverse(function(i){fh(i)})}}}function _g(n,t,e,r){var o={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==t||null==e)return o;var i=r.getModel().getComponent(n,t);if(!i)return o;var s=r.getViewOfComponentModel(i);if(!s||!s.findHighDownDispatchers)return o;for(var l,u=s.findHighDownDispatchers(e),d=0;d<u.length;d++)if("self"===br(u[d]).focus){l=!0;break}return{focusSelf:l,dispatchers:u}}function $m(n){ue(n.getAllData(),function(t){var r=t.type;t.data.eachItemGraphicEl(function(o,i){n.isSelected(i,r)?Km(o):mp(o)})})}function qy(n){var t=[];return n.eachSeries(function(e){ue(e.getAllData(),function(r){var o=r.type,i=e.getSelectedDataIndices();if(i.length>0){var s={dataIndex:i,seriesIndex:e.seriesIndex};null!=o&&(s.dataType=o),t.push(s)}})}),t}function Jo(n,t,e){ph(n,!0),Gs(n,Kd),Jm(n,t,e)}function Jm(n,t,e){var r=br(n);null!=t?(r.focus=t,r.blurScope=e):r.focus&&(r.focus=null)}var wg=["emphasis","blur","select"],F1={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function as(n,t,e,r){e=e||"itemStyle";for(var o=0;o<wg.length;o++){var i=wg[o],s=t.getModel([i,e]);n.ensureState(i).style=r?r(s):s[F1[e]]()}}function ph(n,t){var e=!1===t,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),e&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!e)}function vp(n){return!(!n||!n.__highDownDispatcher)}function yp(n){var t=n.type;return t===vu||t===hp||t===dh}function Qm(n){var t=n.type;return t===Xd||t===ch}var $d=mu.CMD,H1=[[],[],[]],Na=Math.sqrt,bp=Math.atan2;function xp(n,t){if(t){var e,r,o,i,s,l,u=n.data,d=n.len(),f=$d.M,p=$d.C,v=$d.L,y=$d.R,x=$d.A,S=$d.Q;for(o=0,i=0;o<d;){switch(e=u[o++],i=o,r=0,e){case f:case v:r=1;break;case p:r=3;break;case S:r=2;break;case x:var C=t[4],k=t[5],I=Na(t[0]*t[0]+t[1]*t[1]),R=Na(t[2]*t[2]+t[3]*t[3]),O=bp(-t[1]/R,t[0]/I);u[o]*=I,u[o++]+=C,u[o]*=R,u[o++]+=k,u[o++]*=I,u[o++]*=R,u[o++]+=O,u[o++]+=O,i=o+=2;break;case y:l[0]=u[o++],l[1]=u[o++],ft(l,l,t),u[i++]=l[0],u[i++]=l[1],l[0]+=u[o++],l[1]+=u[o++],ft(l,l,t),u[i++]=l[0],u[i++]=l[1]}for(s=0;s<r;s++){var V=H1[s];V[0]=u[o++],V[1]=u[o++],ft(V,V,t),u[i++]=V[0],u[i++]=V[1]}}n.increaseVersion()}}var ev=Math.sqrt,_p=Math.sin,gh=Math.cos,Jd=Math.PI;function tv(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Sg(n,t){return(n[0]*t[0]+n[1]*t[1])/(tv(n)*tv(t))}function nv(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(Sg(n,t))}function mh(n,t,e,r,o,i,s,l,u,d,f){var p=u*(Jd/180),v=gh(p)*(n-e)/2+_p(p)*(t-r)/2,y=-1*_p(p)*(n-e)/2+gh(p)*(t-r)/2,x=v*v/(s*s)+y*y/(l*l);x>1&&(s*=ev(x),l*=ev(x));var S=(o===i?-1:1)*ev((s*s*(l*l)-s*s*(y*y)-l*l*(v*v))/(s*s*(y*y)+l*l*(v*v)))||0,C=S*s*y/l,k=S*-l*v/s,I=(n+e)/2+gh(p)*C-_p(p)*k,R=(t+r)/2+_p(p)*C+gh(p)*k,O=nv([1,0],[(v-C)/s,(y-k)/l]),V=[(v-C)/s,(y-k)/l],F=[(-1*v-C)/s,(-1*y-k)/l],Y=nv(V,F);if(Sg(V,F)<=-1&&(Y=Jd),Sg(V,F)>=1&&(Y=0),Y<0){var Z=Math.round(Y/Jd*1e6)/1e6;Y=2*Jd+Z%2*Jd}f.addData(d,I,R,s,l,O,Y,p,i)}var Cg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Yl=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,rv=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.applyTransform=function(e){},t}(Vr);function ov(n){return null!=n.setData}function iv(n,t){var e=function(o){var i=new mu;if(!o)return i;var s,l=0,u=0,d=l,f=u,p=mu.CMD,v=o.match(Cg);if(!v)return i;for(var y=0;y<v.length;y++){for(var x=v[y],S=x.charAt(0),C=void 0,k=x.match(Yl)||[],I=k.length,R=0;R<I;R++)k[R]=parseFloat(k[R]);for(var O=0;O<I;){var V=void 0,F=void 0,Y=void 0,Z=void 0,re=void 0,ie=void 0,ae=void 0,ce=l,ve=u,be=void 0,_e=void 0;switch(S){case"l":l+=k[O++],u+=k[O++],i.addData(C=p.L,l,u);break;case"L":l=k[O++],u=k[O++],i.addData(C=p.L,l,u);break;case"m":l+=k[O++],u+=k[O++],i.addData(C=p.M,l,u),d=l,f=u,S="l";break;case"M":l=k[O++],u=k[O++],i.addData(C=p.M,l,u),d=l,f=u,S="L";break;case"h":l+=k[O++],i.addData(C=p.L,l,u);break;case"H":l=k[O++],i.addData(C=p.L,l,u);break;case"v":u+=k[O++],i.addData(C=p.L,l,u);break;case"V":u=k[O++],i.addData(C=p.L,l,u);break;case"C":i.addData(C=p.C,k[O++],k[O++],k[O++],k[O++],k[O++],k[O++]),l=k[O-2],u=k[O-1];break;case"c":i.addData(C=p.C,k[O++]+l,k[O++]+u,k[O++]+l,k[O++]+u,k[O++]+l,k[O++]+u),l+=k[O-2],u+=k[O-1];break;case"S":V=l,F=u,be=i.len(),_e=i.data,s===p.C&&(V+=l-_e[be-4],F+=u-_e[be-3]),ce=k[O++],ve=k[O++],l=k[O++],u=k[O++],i.addData(C=p.C,V,F,ce,ve,l,u);break;case"s":V=l,F=u,be=i.len(),_e=i.data,s===p.C&&(V+=l-_e[be-4],F+=u-_e[be-3]),ce=l+k[O++],ve=u+k[O++],l+=k[O++],u+=k[O++],i.addData(C=p.C,V,F,ce,ve,l,u);break;case"Q":ce=k[O++],ve=k[O++],l=k[O++],u=k[O++],i.addData(C=p.Q,ce,ve,l,u);break;case"q":ce=k[O++]+l,ve=k[O++]+u,l+=k[O++],u+=k[O++],i.addData(C=p.Q,ce,ve,l,u);break;case"T":V=l,F=u,be=i.len(),_e=i.data,s===p.Q&&(V+=l-_e[be-4],F+=u-_e[be-3]),l=k[O++],u=k[O++],i.addData(C=p.Q,V,F,l,u);break;case"t":V=l,F=u,be=i.len(),_e=i.data,s===p.Q&&(V+=l-_e[be-4],F+=u-_e[be-3]),l+=k[O++],u+=k[O++],i.addData(C=p.Q,V,F,l,u);break;case"A":Y=k[O++],Z=k[O++],re=k[O++],ie=k[O++],ae=k[O++],mh(ce=l,ve=u,l=k[O++],u=k[O++],ie,ae,Y,Z,re,C=p.A,i);break;case"a":Y=k[O++],Z=k[O++],re=k[O++],ie=k[O++],ae=k[O++],mh(ce=l,ve=u,l+=k[O++],u+=k[O++],ie,ae,Y,Z,re,C=p.A,i)}}"z"!==S&&"Z"!==S||(i.addData(C=p.Z),l=d,u=f),s=C}return i.toStatic(),i}(n),r=tt({},t);return r.buildPath=function(o){if(ov(o))o.setData(e.data),(i=o.getContext())&&o.rebuildPath(i,1);else{var i=o;e.rebuildPath(i,1)}},r.applyTransform=function(o){xp(e,o),this.dirtyShape()},r}function Zy(n,t){return new rv(iv(n,t))}function Ky(n,t){t=t||{};var e=new Vr;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?xp(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var Lx=function(){this.cx=0,this.cy=0,this.r=0},Xl=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultShape=function(){return new Lx},t.prototype.buildPath=function(e,r,o){o&&e.moveTo(r.cx+r.r,r.cy),e.arc(r.cx,r.cy,r.r,0,2*Math.PI)},t}(Vr);Xl.prototype.type="circle";var av=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},wp=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultShape=function(){return new av},t.prototype.buildPath=function(e,r){var o=.5522848,i=r.cx,s=r.cy,l=r.rx,u=r.ry,d=l*o,f=u*o;e.moveTo(i-l,s),e.bezierCurveTo(i-l,s-f,i-d,s-u,i,s-u),e.bezierCurveTo(i+d,s-u,i+l,s-f,i+l,s),e.bezierCurveTo(i+l,s+f,i+d,s+u,i,s+u),e.bezierCurveTo(i-d,s+u,i-l,s+f,i-l,s),e.closePath()},t}(Vr);wp.prototype.type="ellipse";var Qd=Math.PI,sv=2*Qd,yu=Math.sin,ql=Math.cos,Us=Math.acos,Ca=Math.atan2,Sp=Math.abs,Dc=Math.sqrt,Mg=Math.max,Ac=Math.min,ss=1e-4;function vh(n,t,e,r,o,i,s){var l=n-e,u=t-r,d=(s?i:-i)/Dc(l*l+u*u),f=d*u,p=-d*l,v=n+f,y=t+p,x=e+f,S=r+p,C=(v+x)/2,k=(y+S)/2,I=x-v,R=S-y,O=I*I+R*R,V=o-i,F=v*S-x*y,Y=(R<0?-1:1)*Dc(Mg(0,V*V*O-F*F)),Z=(F*R-I*Y)/O,re=(-F*I-R*Y)/O,ie=(F*R+I*Y)/O,ae=(-F*I+R*Y)/O,ce=Z-C,ve=re-k,be=ie-C,_e=ae-k;return ce*ce+ve*ve>be*be+_e*_e&&(Z=ie,re=ae),{cx:Z,cy:re,x01:-f,y01:-p,x11:Z*(o/V-1),y11:re*(o/V-1)}}var Ic=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},Oo=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultShape=function(){return new Ic},t.prototype.buildPath=function(e,r){!function yh(n,t){var e=Mg(t.r,0),r=Mg(t.r0||0,0),o=e>0;if(o||r>0){if(o||(e=r,r=0),r>e){var i=e;e=r,r=i}var s,l=!!t.clockwise,u=t.startAngle,d=t.endAngle;if(u===d)s=0;else{var f=[u,d];Zu(f,!l),s=Sp(f[0]-f[1])}var p=t.cx,v=t.cy,y=t.cornerRadius||0,x=t.innerCornerRadius||0;if(e>ss)if(s>sv-ss)n.moveTo(p+e*ql(u),v+e*yu(u)),n.arc(p,v,e,u,d,!l),r>ss&&(n.moveTo(p+r*ql(d),v+r*yu(d)),n.arc(p,v,r,d,u,l));else{var S=Sp(e-r)/2,C=Ac(S,y),k=Ac(S,x),I=k,R=C,O=e*ql(u),V=e*yu(u),F=r*ql(d),Y=r*yu(d),Z=void 0,re=void 0,ie=void 0,ae=void 0;if((C>ss||k>ss)&&(Z=e*ql(d),re=e*yu(d),ie=r*ql(u),ae=r*yu(u),s<Qd)){var ce=function(vt,Ct,on,xt,Ft,vn,sn,cn){var En=on-vt,Bn=xt-Ct,mr=sn-Ft,Mr=cn-vn,Ar=Mr*En-mr*Bn;if(!(Ar*Ar<ss))return[vt+(Ar=(mr*(Ct-vn)-Mr*(vt-Ft))/Ar)*En,Ct+Ar*Bn]}(O,V,ie,ae,Z,re,F,Y);if(ce){var ve=O-ce[0],be=V-ce[1],_e=Z-ce[0],Ce=re-ce[1],Pe=1/yu(Us((ve*_e+be*Ce)/(Dc(ve*ve+be*be)*Dc(_e*_e+Ce*Ce)))/2),Le=Dc(ce[0]*ce[0]+ce[1]*ce[1]);I=Ac(k,(r-Le)/(Pe-1)),R=Ac(C,(e-Le)/(Pe+1))}}if(s>ss)if(R>ss){var He=vh(ie,ae,O,V,e,R,l),Je=vh(Z,re,F,Y,e,R,l);n.moveTo(p+He.cx+He.x01,v+He.cy+He.y01),R<C?n.arc(p+He.cx,v+He.cy,R,Ca(He.y01,He.x01),Ca(Je.y01,Je.x01),!l):(n.arc(p+He.cx,v+He.cy,R,Ca(He.y01,He.x01),Ca(He.y11,He.x11),!l),n.arc(p,v,e,Ca(He.cy+He.y11,He.cx+He.x11),Ca(Je.cy+Je.y11,Je.cx+Je.x11),!l),n.arc(p+Je.cx,v+Je.cy,R,Ca(Je.y11,Je.x11),Ca(Je.y01,Je.x01),!l))}else n.moveTo(p+O,v+V),n.arc(p,v,e,u,d,!l);else n.moveTo(p+O,v+V);r>ss&&s>ss?I>ss?(He=vh(F,Y,Z,re,r,-I,l),Je=vh(O,V,ie,ae,r,-I,l),n.lineTo(p+He.cx+He.x01,v+He.cy+He.y01),I<k?n.arc(p+He.cx,v+He.cy,I,Ca(He.y01,He.x01),Ca(Je.y01,Je.x01),!l):(n.arc(p+He.cx,v+He.cy,I,Ca(He.y01,He.x01),Ca(He.y11,He.x11),!l),n.arc(p,v,r,Ca(He.cy+He.y11,He.cx+He.x11),Ca(Je.cy+Je.y11,Je.cx+Je.x11),l),n.arc(p+Je.cx,v+Je.cy,I,Ca(Je.y11,Je.x11),Ca(Je.y01,Je.x01),!l))):(n.lineTo(p+F,v+Y),n.arc(p,v,r,d,u,l)):n.lineTo(p+F,v+Y)}else n.moveTo(p,v);n.closePath()}}(e,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Vr);Oo.prototype.type="sector";var lv=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},js=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultShape=function(){return new lv},t.prototype.buildPath=function(e,r){var o=r.cx,i=r.cy,s=2*Math.PI;e.moveTo(o+r.r,i),e.arc(o,i,r.r,0,s,!1),e.moveTo(o+r.r0,i),e.arc(o,i,r.r0,0,s,!0)},t}(Vr);function $y(n,t,e,r,o,i,s){var l=.5*(e-n),u=.5*(r-t);return(2*(t-e)+l+u)*s+(-3*(t-e)-2*l-u)*i+l*o+t}function Jy(n,t,e){var r=t.smooth,o=t.points;if(o&&o.length>=2){if(r&&"spline"!==r){var i=function(v,y,x,S){var C,k,I,R,O=[],V=[],F=[],Y=[];if(S){I=[1/0,1/0],R=[-1/0,-1/0];for(var Z=0,re=v.length;Z<re;Z++)tn(I,I,v[Z]),Xt(R,R,v[Z]);tn(I,I,S[0]),Xt(R,R,S[1])}for(Z=0,re=v.length;Z<re;Z++){var ie=v[Z];if(x)C=v[Z?Z-1:re-1],k=v[(Z+1)%re];else{if(0===Z||Z===re-1){O.push(Xo(v[Z]));continue}C=v[Z-1],k=v[Z+1]}Da(V,k,C),ot(V,V,y);var ae=Me(ie,C),ce=Me(ie,k),ve=ae+ce;0!==ve&&(ae/=ve,ce/=ve),ot(F,V,-ae),ot(Y,V,ce);var be=ka([],ie,F),_e=ka([],ie,Y);S&&(Xt(be,be,I),tn(be,be,R),Xt(_e,_e,I),tn(_e,_e,R)),O.push(be),O.push(_e)}return x&&O.push(O.shift()),O}(o,r,e,t.smoothConstraint);n.moveTo(o[0][0],o[0][1]);for(var s=o.length,l=0;l<(e?s:s-1);l++){var u=i[2*l],d=i[2*l+1],f=o[(l+1)%s];n.bezierCurveTo(u[0],u[1],d[0],d[1],f[0],f[1])}}else{"spline"===r&&(o=function(v,y){for(var x=v.length,S=[],C=0,k=1;k<x;k++)C+=Me(v[k-1],v[k]);var I=C/2;for(I=I<x?x:I,k=0;k<I;k++){var R=k/(I-1)*(y?x:x-1),O=Math.floor(R),V=R-O,F=void 0,Y=v[O%x],Z=void 0,re=void 0;y?(F=v[(O-1+x)%x],Z=v[(O+1)%x],re=v[(O+2)%x]):(F=v[0===O?O:O-1],Z=v[O>x-2?x-1:O+1],re=v[O>x-3?x-1:O+2]);var ie=V*V,ae=V*ie;S.push([$y(F[0],Y[0],Z[0],re[0],V,ie,ae),$y(F[1],Y[1],Z[1],re[1],V,ie,ae)])}return S}(o,e)),n.moveTo(o[0][0],o[0][1]),l=1;for(var p=o.length;l<p;l++)n.lineTo(o[l][0],o[l][1])}e&&n.closePath()}}js.prototype.type="ring";var W1=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Ea=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultShape=function(){return new W1},t.prototype.buildPath=function(e,r){Jy(e,r,!0)},t}(Vr);Ea.prototype.type="polygon";var ef=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},xs=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ef},t.prototype.buildPath=function(e,r){Jy(e,r,!1)},t}(Vr);xs.prototype.type="polyline";var Rx={},G1=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Hi=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new G1},t.prototype.buildPath=function(e,r){var o,i,s,l;if(this.subPixelOptimize){var u=up(Rx,r,this.style);o=u.x1,i=u.y1,s=u.x2,l=u.y2}else o=r.x1,i=r.y1,s=r.x2,l=r.y2;var d=r.percent;0!==d&&(e.moveTo(o,i),d<1&&(s=o*(1-d)+s*d,l=i*(1-d)+l*d),e.lineTo(s,l))},t.prototype.pointAt=function(e){var r=this.shape;return[r.x1*(1-e)+r.x2*e,r.y1*(1-e)+r.y2*e]},t}(Vr);Hi.prototype.type="line";var sa=[],uv=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function Qy(n,t,e){return null===n.cpx2||null===n.cpy2?[(e?Ud:Si)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?Ud:Si)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?zm:Sa)(n.x1,n.cpx1,n.x2,t),(e?zm:Sa)(n.y1,n.cpy1,n.y2,t)]}var Cp=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new uv},t.prototype.buildPath=function(e,r){var o=r.x1,i=r.y1,s=r.x2,l=r.y2,u=r.cpx1,d=r.cpy1,f=r.cpx2,p=r.cpy2,v=r.percent;0!==v&&(e.moveTo(o,i),null==f||null==p?(v<1&&(ih(o,u,s,v,sa),u=sa[1],s=sa[2],ih(i,d,l,v,sa),d=sa[1],l=sa[2]),e.quadraticCurveTo(u,d,s,l)):(v<1&&(_c(o,u,f,s,v,sa),u=sa[1],f=sa[2],s=sa[3],_c(i,d,p,l,v,sa),d=sa[1],p=sa[2],l=sa[3]),e.bezierCurveTo(u,d,f,p,s,l)))},t.prototype.pointAt=function(e){return Qy(this.shape,e,!1)},t.prototype.tangentAt=function(e){var r=Qy(this.shape,e,!0);return Bt(r,r)},t}(Vr);Cp.prototype.type="bezier-curve";var cv=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},ci=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new cv},t.prototype.buildPath=function(e,r){var o=r.cx,i=r.cy,s=Math.max(r.r,0),l=r.startAngle,u=r.endAngle,d=r.clockwise,f=Math.cos(l),p=Math.sin(l);e.moveTo(f*s+o,p*s+i),e.arc(o,i,s,l,u,!d)},t}(Vr);ci.prototype.type="arc";var Tg=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return We(t,n),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,r=this.shapeChanged(),o=0;o<e.length;o++)r=r||e[o].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],r=this.getGlobalScale(),o=0;o<e.length;o++)e[o].path||e[o].createPathProxy(),e[o].path.setScale(r[0],r[1],e[o].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,r){for(var o=r.paths||[],i=0;i<o.length;i++)o[i].buildPath(e,o[i].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],r=0;r<e.length;r++)e[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Vr.prototype.getBoundingRect.call(this)},t}(Vr),dv=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}(),Mp=function(n){function t(e,r,o,i,s,l){var u=n.call(this,s)||this;return u.x=null==e?0:e,u.y=null==r?0:r,u.x2=null==o?1:o,u.y2=null==i?0:i,u.type="linear",u.global=l||!1,u}return We(t,n),t}(dv),fv=function(n){function t(e,r,o,i,s){var l=n.call(this,i)||this;return l.x=null==e?.5:e,l.y=null==r?.5:r,l.r=null==o?.5:o,l.type="radial",l.global=s||!1,l}return We(t,n),t}(dv),tf=[0,0],fd=[0,0],nf=new dr,tc=new dr,bu=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new dr;for(r=0;r<2;r++)this._axes[r]=new dr;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var r=this._corners,o=this._axes,i=t.x,s=t.y,l=i+t.width,u=s+t.height;if(r[0].set(i,s),r[1].set(l,s),r[2].set(l,u),r[3].set(i,u),e)for(var d=0;d<4;d++)r[d].transform(e);for(dr.sub(o[0],r[1],r[0]),dr.sub(o[1],r[3],r[0]),o[0].normalize(),o[1].normalize(),d=0;d<2;d++)this._origin[d]=o[d].dot(r[0])},n.prototype.intersect=function(t,e){var r=!0,o=!e;return nf.set(1/0,1/0),tc.set(0,0),!this._intersectCheckOneSide(this,t,nf,tc,o,1)&&(r=!1,o)||!this._intersectCheckOneSide(t,this,nf,tc,o,-1)&&(r=!1,o)||o||dr.copy(e,r?nf:tc),r},n.prototype._intersectCheckOneSide=function(t,e,r,o,i,s){for(var l=!0,u=0;u<2;u++){var d=this._axes[u];if(this._getProjMinMaxOnAxis(u,t._corners,tf),this._getProjMinMaxOnAxis(u,e._corners,fd),tf[1]<fd[0]||tf[0]>fd[1]){if(l=!1,i)return l;var f=Math.abs(fd[0]-tf[1]),p=Math.abs(tf[0]-fd[1]);Math.min(f,p)>o.len()&&dr.scale(o,d,f<p?-f*s:p*s)}else r&&(f=Math.abs(fd[0]-tf[1]),p=Math.abs(tf[0]-fd[1]),Math.min(f,p)<r.len()&&dr.scale(r,d,f<p?f*s:-p*s))}return l},n.prototype._getProjMinMaxOnAxis=function(t,e,r){for(var o=this._axes[t],i=this._origin,s=e[0].dot(o)+i[t],l=s,u=s,d=1;d<e.length;d++){var f=e[d].dot(o)+i[t];l=Math.min(f,l),u=Math.max(f,u)}r[0]=l,r[1]=u},n}(),hv=[],bh=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return We(t,n),t.prototype.traverse=function(e,r){e.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,r){r?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,r){r=r||!1;for(var o=0;o<e.length;o++)this.addDisplayable(e[o],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var r=this._cursor;r<this._displayables.length;r++)e&&e(this._displayables[r]);for(r=0;r<this._temporaryDisplayables.length;r++)e&&e(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(r=this._displayables[e]).parent=this,r.update(),r.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var r;(r=this._temporaryDisplayables[e]).parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Lr(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var o=this._displayables[r],i=o.getBoundingRect().clone();o.needLocalTransform()&&i.applyTransform(o.getLocalTransform(hv)),e.union(i)}this._rect=e}return this._rect},t.prototype.contain=function(e,r){var o=this.transformCoordToLocal(e,r);if(this.getBoundingRect().contain(o[0],o[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,r))return!0;return!1},t}(mi),kl=go();function Tp(n,t,e,r,o){var i;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();i=s&&s.animation}var l="update"===n;if(t&&t.isAnimationEnabled()){var u=void 0,d=void 0,f=void 0;return r?(u=At(r.duration,200),d=At(r.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),d=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(null!=i.duration&&(u=i.duration),null!=i.easing&&(d=i.easing),null!=i.delay&&(f=i.delay)),"function"==typeof f&&(f=f(e,o)),"function"==typeof u&&(u=u(e)),{duration:u||0,delay:f,easing:d}}return null}function kg(n,t,e,r,o,i,s){var l,u=!1;"function"==typeof o?(s=i,i=o,o=null):zn(o)&&(i=o.cb,s=o.during,u=o.isFrom,l=o.removeOpt,o=o.dataIndex);var d="remove"===n;d||t.stopAnimation("remove");var f=Tp(n,r,o,d?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,o):null);if(f&&f.duration>0){var p={duration:f.duration,delay:f.delay||0,easing:f.easing,done:i,force:!!i||!!s,setToFinal:!d,scope:n,during:s};u?t.animateFrom(e,p):t.animateTo(e,p)}else t.stopAnimation(),!u&&t.attr(e),s&&s(1),i&&i()}function ro(n,t,e,r,o,i){kg("update",n,t,e,r,o,i)}function ni(n,t,e,r,o,i){kg("init",n,t,e,r,o,i)}function Dl(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++)if("remove"===n.animators[t].scope)return!0;return!1}function Ba(n,t,e,r,o,i){Dl(n)||kg("remove",n,t,e,r,o,i)}function rf(n,t,e,r){n.removeTextContent(),n.removeTextGuideLine(),Ba(n,{style:{opacity:0}},t,e,r)}function kp(n,t,e){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(o){o.isGroup||rf(o,t,e,r)}):rf(n,t,e,r)}function xu(n){kl(n).oldStyle=n.style}var Pc=Math.max,hd=Math.min,Dp={};function pv(n){return Vr.extend(n)}function Al(n,t){return function(n,t){var e=iv(n,t);return function(r){function o(i){var s=r.call(this,i)||this;return s.applyTransform=e.applyTransform,s.buildPath=e.buildPath,s}return We(o,r),o}(rv)}(n,t)}function za(n,t){Dp[n]=t}function Ap(n){if(Dp.hasOwnProperty(n))return Dp[n]}function of(n,t,e,r){var o=Zy(n,t);return e&&("center"===r&&(e=Ip(e,o.getBoundingRect())),af(o,e)),o}function gv(n,t,e){var r=new Yi({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(o){"center"===e&&r.setStyle(Ip(t,{width:o.width,height:o.height}))}});return r}function Ip(n,t){var e,r=t.width/t.height,o=n.height*r;return e=o<=n.width?n.height:(o=n.width)/r,{x:n.x+n.width/2-o/2,y:n.y+n.height/2-e/2,width:o,height:e}}var ls=function(n,t){for(var e=[],r=n.length,o=0;o<r;o++)e.push(n[o].getUpdatedPathProxy(!0));var s=new Vr(t);return s.createPathProxy(),s.buildPath=function(l){if(ov(l)){l.appendPath(e);var u=l.getContext();u&&l.rebuildPath(u,1)}},s};function af(n,t){if(n.applyTransform){var e=n.getBoundingRect().calculateTransform(t);n.applyTransform(e)}}var _u=ga;function Lc(n,t){for(var e=Dn([]);n&&n!==t;)al(e,n.getLocalTransform(),e),n=n.parent;return e}function Zl(n,t,e){return t&&!Yr(t)&&(t=Ka.getLocalTransform(t)),e&&(t=na([],t)),ft([],n,t)}function xh(n,t,e){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),o=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),i=["left"===n?-r:"right"===n?r:0,"top"===n?-o:"bottom"===n?o:0];return i=Zl(i,t,e),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function e0(n){return!n.isGroup}function sf(n,t,e){if(n&&t){var r,o=(r={},n.traverse(function(s){e0(s)&&s.anid&&(r[s.anid]=s)}),r);t.traverse(function(s){if(e0(s)&&s.anid){var l=o[s.anid];if(l){var u=i(s);s.attr(i(l)),ro(s,u,e,br(s).dataIndex)}}})}function i(s){var l={x:s.x,y:s.y,rotation:s.rotation};return null!=s.shape&&(l.shape=tt({},s.shape)),l}}function t0(n,t){return Ht(n,function(e){var r=e[0];r=Pc(r,t.x),r=hd(r,t.x+t.width);var o=e[1];return o=Pc(o,t.y),[r,o=hd(o,t.y+t.height)]})}function nc(n,t){var e=Pc(n.x,t.x),r=hd(n.x+n.width,t.x+t.width),o=Pc(n.y,t.y),i=hd(n.y+n.height,t.y+t.height);if(r>=e&&i>=o)return{x:e,y:o,width:r-e,height:i-o}}function Va(n,t,e){var r=tt({rectHover:!0},t),o=r.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(o.image=n.slice(8),Gt(o,e),new Yi(r)):of(n.replace("path://",""),r,e,"center")}function Wi(n,t,e,r,o){for(var i=0,s=o[o.length-1];i<o.length;i++){var l=o[i];if(mv(n,t,e,r,l[0],l[1],s[0],s[1]))return!0;s=l}}function mv(n,t,e,r,o,i,s,l){var u,d=e-n,f=r-t,p=s-o,v=l-i,y=vv(p,v,d,f);if((u=y)<=1e-6&&u>=-1e-6)return!1;var x=n-o,S=t-i,C=vv(x,S,d,f)/y;if(C<0||C>1)return!1;var k=vv(x,S,p,v)/y;return!(k<0||k>1)}function vv(n,t,e,r){return n*r-e*t}function _h(n){var t=n.itemTooltipOption,e=n.componentModel,r=n.itemName,o=ir(t)?{formatter:t}:t,i=e.mainType,s=e.componentIndex,l={componentType:i,name:r,$vars:["name"]};l[i+"Index"]=s;var u=n.formatterParamsExtra;u&&ue(It(u),function(f){_n(l,f)||(l[f]=u[f],l.$vars.push(f))});var d=br(n.el);d.componentMainType=i,d.componentIndex=s,d.tooltipConfig={name:r,option:Gt({content:r,formatterParams:l},o)}}za("circle",Xl),za("ellipse",wp),za("sector",Oo),za("ring",js),za("polygon",Ea),za("polyline",xs),za("rect",eo),za("line",Hi),za("bezierCurve",Cp),za("arc",ci);var Dg=Object.freeze({__proto__:null,updateProps:ro,initProps:ni,removeElement:Ba,removeElementWithFadeOut:kp,isElementRemoved:Dl,extendShape:pv,extendPath:Al,registerShape:za,getShapeClass:Ap,makePath:of,makeImage:gv,mergePath:ls,resizePath:af,subPixelOptimizeLine:function(n){return up(n.shape,n.shape,n.style),n},subPixelOptimizeRect:function(n){return jl(n.shape,n.shape,n.style),n},subPixelOptimize:_u,getTransform:Lc,applyTransform:Zl,transformDirection:xh,groupTransition:sf,clipPointsByRect:t0,clipRectByRect:nc,createIcon:Va,linePolygonIntersect:Wi,lineLineIntersect:mv,setTooltipConfig:_h,Group:nr,Image:Yi,Text:Xr,Circle:Xl,Ellipse:wp,Sector:Oo,Ring:js,Polygon:Ea,Polyline:xs,Rect:eo,Line:Hi,BezierCurve:Cp,Arc:ci,IncrementalDisplayable:bh,CompoundPath:Tg,LinearGradient:Mp,RadialGradient:fv,BoundingRect:Lr,OrientedBoundingRect:bu,Point:dr,Path:Vr}),yv={};function n0(n,t){for(var e=0;e<bs.length;e++){var r=bs[e],o=t[r],i=n.ensureState(r);i.style=i.style||{},i.style.text=o}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(s,!0)}function bv(n,t,e){var r,o=n.labelFetcher,i=n.labelDataIndex,s=n.labelDimIndex,l=t.normal;o&&(r=o.getFormattedLabel(i,"normal",null,s,l&&l.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==r&&(r=ge(n.defaultText)?n.defaultText(i,n,e):n.defaultText);for(var u={normal:r},d=0;d<bs.length;d++){var f=bs[d],p=t[f];u[f]=At(o?o.getFormattedLabel(i,f,null,s,p&&p.get("formatter")):null,r)}return u}function _s(n,t,e,r){e=e||yv;for(var o=n instanceof Xr,i=!1,s=0;s<Qu.length;s++)if((v=t[Qu[s]])&&v.getShallow("show")){i=!0;break}var l=o?n:n.getTextContent();if(i){o||(l||(l=new Xr,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=bv(e,t),d=t.normal,f=!!d.getShallow("show"),p=Ri(d,r&&r.normal,e,!1,!o);for(p.text=u.normal,o||n.setTextConfig(pd(d,e,!1)),s=0;s<bs.length;s++){var v,y=bs[s];if(v=t[y]){var x=l.ensureState(y),S=!!At(v.getShallow("show"),f);S!==f&&(x.ignore=!S),x.style=Ri(v,r&&r[y],e,!0,!o),x.style.text=u[y],!o&&(n.ensureState(y).textConfig=pd(v,e,!0))}}l.silent=!!d.getShallow("silent"),null!=l.style.x&&(p.x=l.style.x),null!=l.style.y&&(p.y=l.style.y),l.ignore=!f,l.useStyle(p),l.dirty(),e.enableTextSetter&&(Ch(l).setLabelText=function(C){var k=bv(e,t,C);n0(l,k)})}else l&&(l.ignore=!0);n.dirty()}function ma(n,t){for(var e={normal:n.getModel(t=t||"label")},r=0;r<bs.length;r++){var o=bs[r];e[o]=n.getModel([o,t])}return e}function Ri(n,t,e,r,o){var i={};return function(s,l,u,d,f){u=u||yv;var p,v=l.ecModel,y=v&&v.option.textStyle,x=function(R){for(var O;R&&R!==R.ecModel;){var V=(R.option||yv).rich;if(V){O=O||{};for(var F=It(V),Y=0;Y<F.length;Y++)O[F[Y]]=1}R=R.parentModel}return O}(l);if(x)for(var S in p={},x)if(x.hasOwnProperty(S)){var C=l.getModel(["rich",S]);Sh(p[S]={},C,y,u,d,f,!1,!0)}p&&(s.rich=p);var k=l.get("overflow");k&&(s.overflow=k);var I=l.get("minMargin");null!=I&&(s.margin=I),Sh(s,l,y,u,d,f,!0,!1)}(i,n,e,r,o),t&&tt(i,t),i}function pd(n,t,e){t=t||{};var r,o={},i=n.getShallow("rotate"),s=At(n.getShallow("distance"),e?null:5),l=n.getShallow("offset");return"outside"===(r=n.getShallow("position")||(e?null:"inside"))&&(r=t.defaultOutsidePosition||"top"),null!=r&&(o.position=r),null!=l&&(o.offset=l),null!=i&&(i*=Math.PI/180,o.rotation=i),null!=s&&(o.distance=s),o.outsideFill="inherit"===n.get("color")?t.inheritColor||null:"auto",o}var wh=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Pp=["align","lineHeight","width","height","tag","verticalAlign"],r0=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Sh(n,t,e,r,o,i,s,l){e=!o&&e||yv;var u=r&&r.inheritColor,d=t.getShallow("color"),f=t.getShallow("textBorderColor"),p=At(t.getShallow("opacity"),e.opacity);"inherit"!==d&&"auto"!==d||(d=u||null),"inherit"!==f&&"auto"!==f||(f=u||null),i||(d=d||e.color,f=f||e.textBorderColor),null!=d&&(n.fill=d),null!=f&&(n.stroke=f);var v=At(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=v&&(n.lineWidth=v);var y=At(t.getShallow("textBorderType"),e.textBorderType);null!=y&&(n.lineDash=y);var x=At(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=x&&(n.lineDashOffset=x),o||null!=p||l||(p=r&&r.defaultOpacity),null!=p&&(n.opacity=p),o||i||null==n.fill&&r.inheritColor&&(n.fill=r.inheritColor);for(var S=0;S<wh.length;S++){var C=wh[S];null!=(I=At(t.getShallow(C),e[C]))&&(n[C]=I)}for(S=0;S<Pp.length;S++)null!=(I=t.getShallow(C=Pp[S]))&&(n[C]=I);if(null==n.verticalAlign){var k=t.getShallow("baseline");null!=k&&(n.verticalAlign=k)}if(!s||!r.disableBox){for(S=0;S<r0.length;S++){var I;null!=(I=t.getShallow(C=r0[S]))&&(n[C]=I)}var R=t.getShallow("borderType");null!=R&&(n.borderDash=R),"auto"!==n.backgroundColor&&"inherit"!==n.backgroundColor||!u||(n.backgroundColor=u),"auto"!==n.borderColor&&"inherit"!==n.borderColor||!u||(n.borderColor=u)}}function Lp(n,t){var e=t&&t.getModel("textStyle");return Nr([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ch=go();function lf(n,t,e,r){if(n){var o=Ch(n);o.prevValue=o.value,o.value=e;var i=t.normal;o.valueAnimation=i.get("valueAnimation"),o.valueAnimation&&(o.precision=i.get("precision"),o.defaultInterpolatedText=r,o.statesModels=t)}}function rc(n,t,e,r,o){var i=Ch(n);if(i.valueAnimation){var s=i.defaultInterpolatedText,l=At(i.interpolatedValue,i.prevValue),u=i.value;(null==i.prevValue?ni:ro)(n,{},r,t,null,function(d){var f=zy(e,i.precision,l,u,d);i.interpolatedValue=1===d?null:f;var p=bv({labelDataIndex:t,labelFetcher:o,defaultText:s?s(f):f+""},i.statesModels,f);n0(n,p)})}}var gd,Ag,md=["textStyle","color"],Rp=new Xr,Ox=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(md):null)},n.prototype.getFont=function(){return Lp({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){return Rp.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),Rp.update(),Rp.getBoundingRect()},n}(),o0=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Mh=ll(o0),i0=function(){function n(){}return n.prototype.getLineStyle=function(t){return Mh(this,t)},n}(),uf=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],xv=ll(uf),a0=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return xv(this,t,e)},n}(),uo=function(){function n(t,e,r){this.parentModel=e,this.ecModel=r,this.option=t}return n.prototype.init=function(t,e,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i]},n.prototype.mergeOption=function(t,e){en(this.option,t,!0)},n.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var r=this.option,o=null==r?r:r[t];if(null==o&&!e){var i=this.parentModel;i&&(o=i.getShallow(t))}return o},n.prototype.getModel=function(t,e){var r=null!=t,o=r?this.parsePath(t):null;return new n(r?this._doGet(o):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(Qt(this.option))},n.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!Tt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var r=this.option;if(!t)return r;for(var o=0;o<t.length&&(!t[o]||null!=(r=r&&"object"==typeof r?r[t[o]]:null));o++);return null==r&&e&&(r=e._doGet(this.resolveParentPath(t),e.parentModel)),r},n}();Rm(uo),gd=uo,Ag=["__\0is_clz",Vd++].join("_"),gd.prototype[Ag]=!0,gd.isInstance=function(n){return!(!n||!n[Ag])},Kn(uo,i0),Kn(uo,a0),Kn(uo,Om),Kn(uo,Ox);var wu=Math.round(10*Math.random());function oc(n){return[n||"",wu++].join("_")}function Su(n,t){return en(en({},n,!0),t,!0)}var Ys={},cf={},Kl=Tt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function Cu(n,t){n=n.toUpperCase(),cf[n]=new uo(t),Ys[n]=t}Cu("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Cu("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Ig=864e5,yd=31536e6,df={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Op={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+df.hour,minute:"{yyyy}-{MM}-{dd} "+df.minute,second:"{yyyy}-{MM}-{dd} "+df.second,millisecond:df.none},Pg=["year","month","day","hour","minute","second","millisecond"],_v=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function dl(n,t){return"0000".substr(0,t-(n+="").length)+n}function hf(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function wv(n){return n===hf(n)}function Np(n,t,e,r){var O,o=gn(n),i=o[Rg(e)](),s=o[pf(e)]()+1,l=Math.floor((s-1)/4)+1,u=o[kh(e)](),d=o["get"+(e?"UTC":"")+"Day"](),f=o[gf(e)](),p=(f-1)%12+1,v=o[Og(e)](),y=o[Dh(e)](),x=o[Ah(e)](),S=(r instanceof uo?r:(O=r||Kl,cf[O]||cf.EN)).getModel("time"),C=S.get("month"),k=S.get("monthAbbr"),I=S.get("dayOfWeek"),R=S.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,i%100+"").replace(/{Q}/g,l+"").replace(/{MMMM}/g,C[s-1]).replace(/{MMM}/g,k[s-1]).replace(/{MM}/g,dl(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,dl(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,I[d]).replace(/{ee}/g,R[d]).replace(/{e}/g,d+"").replace(/{HH}/g,dl(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,dl(p+"",2)).replace(/{h}/g,p+"").replace(/{mm}/g,dl(v,2)).replace(/{m}/g,v+"").replace(/{ss}/g,dl(y,2)).replace(/{s}/g,y+"").replace(/{SSS}/g,dl(x,3)).replace(/{S}/g,x+"")}function Th(n,t){var e=gn(n),r=e[pf(t)]()+1,o=e[kh(t)](),i=e[gf(t)](),s=e[Og(t)](),l=e[Dh(t)](),u=0===e[Ah(t)](),d=u&&0===l,f=d&&0===s,p=f&&0===i,v=p&&1===o;return v&&1===r?"year":v?"month":p?"day":f?"hour":d?"minute":u?"second":"millisecond"}function Lg(n,t,e){var r="number"==typeof n?gn(n):n;switch(t=t||Th(n,e)){case"year":return r[Rg(e)]();case"half-year":return r[pf(e)]()>=6?1:0;case"quarter":return Math.floor((r[pf(e)]()+1)/4);case"month":return r[pf(e)]();case"day":return r[kh(e)]();case"half-day":return r[gf(e)]()/24;case"hour":return r[gf(e)]();case"minute":return r[Og(e)]();case"second":return r[Dh(e)]();case"millisecond":return r[Ah(e)]()}}function Rg(n){return n?"getUTCFullYear":"getFullYear"}function pf(n){return n?"getUTCMonth":"getMonth"}function kh(n){return n?"getUTCDate":"getDate"}function gf(n){return n?"getUTCHours":"getHours"}function Og(n){return n?"getUTCMinutes":"getMinutes"}function Dh(n){return n?"getUTCSeconds":"getSeconds"}function Ah(n){return n?"getUTCMilliseconds":"getMilliseconds"}function l0(n){return n?"setUTCFullYear":"setFullYear"}function Sv(n){return n?"setUTCMonth":"setMonth"}function Ng(n){return n?"setUTCDate":"setDate"}function Cv(n){return n?"setUTCHours":"setHours"}function Ep(n){return n?"setUTCMinutes":"setMinutes"}function mf(n){return n?"setUTCSeconds":"setSeconds"}function Bp(n){return n?"setUTCMilliseconds":"setMilliseconds"}function bd(n){if(!po(n))return ir(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function vf(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,r){return r.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Gn=dn,j1=/([&<>"'])/g,Eg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Xs(n){return null==n?"":(n+"").replace(j1,function(t,e){return Eg[e]})}function Bg(n,t,e){function r(d){return d&&Nr(d)?d:"-"}function o(d){return!(null==d||isNaN(d)||!isFinite(d))}var i="time"===t,s=n instanceof Date;if(i||s){var l=i?gn(n):n;if(!isNaN(+l))return Np(l,"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}",e);if(s)return"-"}if("ordinal"===t)return je(n)?r(n):jo(n)&&o(n)?n+"":"-";var u=zr(n);return o(u)?bd(u):je(n)?r(n):"-"}var Mv=["a","b","c","d","e","f","g"],Tv=function(n,t){return"{"+n+(null==t?"":t)+"}"};function zg(n,t,e){dt(t)||(t=[t]);var r=t.length;if(!r)return"";for(var o=t[0].$vars||[],i=0;i<o.length;i++){var s=Mv[i];n=n.replace(Tv(s),Tv(s,0))}for(var l=0;l<r;l++)for(var u=0;u<o.length;u++){var d=t[l][o[u]];n=n.replace(Tv(Mv[u],l),e?Xs(d):d)}return n}function kv(n,t){var e=ir(n)?{color:n,extraCssText:t}:n||{},r=e.color,o=e.type;t=e.extraCssText;var i=e.renderMode||"html";return r?"html"===i?"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Xs(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Xs(r)+";"+(t||"")+'"></span>':{renderMode:i,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}function xd(n,t){return t=t||"transparent",ir(n)?n:zn(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function Oc(n,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var yf=ue,zp=["left","right","top","bottom","width","height"],$l=[["width","left","right"],["height","top","bottom"]];function Vp(n,t,e,r,o){var i=0,s=0;null==r&&(r=1/0),null==o&&(o=1/0);var l=0;t.eachChild(function(u,d){var f,p,v=u.getBoundingRect(),y=t.childAt(d+1),x=y&&y.getBoundingRect();if("horizontal"===n){var S=v.width+(x?-x.x+v.x:0);(f=i+S)>r||u.newline?(i=0,f=S,s+=l+e,l=v.height):l=Math.max(l,v.height)}else{var C=v.height+(x?-x.y+v.y:0);(p=s+C)>o||u.newline?(i+=l+e,s=0,p=C,l=v.width):l=Math.max(l,v.width)}u.newline||(u.x=i,u.y=s,u.markRedraw(),"horizontal"===n?i=f+e:s=p+e)})}var Jl=Vp;function va(n,t,e){e=Gn(e||0);var r=t.width,o=t.height,i=ee(n.left,r),s=ee(n.top,o),l=ee(n.right,r),u=ee(n.bottom,o),d=ee(n.width,r),f=ee(n.height,o),p=e[2]+e[0],v=e[1]+e[3],y=n.aspect;switch(isNaN(d)&&(d=r-l-v-i),isNaN(f)&&(f=o-u-p-s),null!=y&&(isNaN(d)&&isNaN(f)&&(y>r/o?d=.8*r:f=.8*o),isNaN(d)&&(d=y*f),isNaN(f)&&(f=d/y)),isNaN(i)&&(i=r-l-d-v),isNaN(s)&&(s=o-u-f-p),n.left||n.right){case"center":i=r/2-d/2-e[3];break;case"right":i=r-d-v}switch(n.top||n.bottom){case"middle":case"center":s=o/2-f/2-e[0];break;case"bottom":s=o-f-p}i=i||0,s=s||0,isNaN(d)&&(d=r-v-i-(l||0)),isNaN(f)&&(f=o-p-s-(u||0));var x=new Lr(i+e[3],s+e[0],d,f);return x.margin=e,x}function Vg(n,t,e,r,o){var i=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(i||s){var u;if("raw"===l)u="group"===n.type?new Lr(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var d=n.getLocalTransform();(u=u.clone()).applyTransform(d)}var f=va(Gt({width:u.width,height:u.height},t),e,r),p=i?f.x-u.x:0,v=s?f.y-u.y:0;"raw"===l?(n.x=p,n.y=v):(n.x+=p,n.y+=v),n.markRedraw()}}function Fg(n){var t=n.layoutMode||n.constructor.layoutMode;return zn(t)?t:t?{type:t}:null}function bf(n,t,e){var r=e&&e.ignoreSize;!dt(r)&&(r=[r,r]);var o=s($l[0],0),i=s($l[1],1);function s(f,p){var v={},y=0,x={},S=0;if(yf(f,function(I){x[I]=n[I]}),yf(f,function(I){l(t,I)&&(v[I]=x[I]=t[I]),u(v,I)&&y++,u(x,I)&&S++}),r[p])return u(t,f[1])?x[f[2]]=null:u(t,f[2])&&(x[f[1]]=null),x;if(2!==S&&y){if(y>=2)return v;for(var C=0;C<f.length;C++){var k=f[C];if(!l(v,k)&&l(n,k)){v[k]=n[k];break}}return v}return x}function l(f,p){return f.hasOwnProperty(p)}function u(f,p){return null!=f[p]&&"auto"!==f[p]}function d(f,p,v){yf(f,function(y){p[y]=v[y]})}d($l[0],n,o),d($l[1],n,i)}function ic(n){return u0({},n)}function u0(n,t){return t&&n&&yf(zp,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}Yn(Vp,"vertical"),Yn(Vp,"horizontal");var n,t,xf=go(),Hr=function(n){function t(e,r,o){var i=n.call(this,e,r,o)||this;return i.uid=oc("ec_cpt_model"),i}return We(t,n),t.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o)},t.prototype.mergeDefaultAndTheme=function(e,r){var o=Fg(this),i=o?ic(e):{};en(e,r.getTheme().get(this.mainType)),en(e,this.getDefaultOption()),o&&bf(e,i,o)},t.prototype.mergeOption=function(e,r){en(this.option,e,!0);var o=Fg(this);o&&bf(this.option,e,o)},t.prototype.optionUpdated=function(e,r){},t.prototype.getDefaultOption=function(){var d,e=this.constructor;if(!(d=e)||!d[N1])return e.defaultOption;var r=xf(this);if(!r.defaultOption){for(var o=[],i=e;i;){var s=i.prototype.defaultOption;s&&o.push(s),i=i.superClass}for(var l={},u=o.length-1;u>=0;u--)l=en(l,o[u],!0);r.defaultOption=l}return r.defaultOption},t.prototype.getReferringComponents=function(e,r){var i=e+"Id";return Zf(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(i,!0)},r)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(uo);sl(Hr,uo),ui(Hr),t={},(n=Hr).registerSubTypeDefaulter=function(e,r){var o=ts(e);t[o.main]=r},n.determineSubType=function(e,r){var o=r.type;if(!o){var i=ts(e).main;n.hasSubTypes(e)&&t[i]&&(o=t[i](r))}return o},function(n,t){function e(r,o){return r[o]||(r[o]={predecessor:[],successor:[]}),r[o]}n.topologicalTravel=function(r,o,i,s){if(r.length){var l=(k={},I=[],ue(C=o,function(R){var F,Y,Z,O=e(k,R),V=(F=O.originalDeps=function(n){var t=[];return ue(Hr.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=Ht(t,function(e){return ts(e).main}),"dataset"!==n&&hn(t,"dataset")<=0&&t.unshift("dataset"),t}(R),Y=C,Z=[],ue(F,function(re){hn(Y,re)>=0&&Z.push(re)}),Z);O.entryCount=V.length,0===O.entryCount&&I.push(R),ue(V,function(F){hn(O.predecessor,F)<0&&O.predecessor.push(F);var Y=e(k,F);hn(Y.successor,F)<0&&Y.successor.push(R)})}),{graph:k,noEntryList:I}),u=l.graph,d=l.noEntryList,f={};for(ue(r,function(C){f[C]=!0});d.length;){var p=d.pop(),v=u[p],y=!!f[p];y&&(i.call(s,p,v.originalDeps.slice()),delete f[p]),ue(v.successor,y?S:x)}ue(f,function(){throw new Error("")})}var C,k,I;function x(C){u[C].entryCount--,0===u[C].entryCount&&d.push(C)}function S(C){f[C]=!0,x(C)}}}(Hr);var Hg="";"undefined"!=typeof navigator&&(Hg=navigator.platform||"");var _f="rgba(0, 0, 0, 0.2)",Ih={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:_f,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:_f,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:_f,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:_f,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:_f,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:_f,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Hg.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},c0=bn(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Nc="original",ac="arrayRows",Tu="objectRows",_d="keyedColumns",sc="typedArray",wf="unknown",ku="column",Wg=go();function Lh(n,t,e){var r={},o=Gg(t);if(!o||!n)return r;var i,s,l=[],u=[],f=Wg(t.ecModel).datasetMap,p=o.uid+"_"+e.seriesLayoutBy;ue(n=n.slice(),function(S,C){var k=zn(S)?S:n[C]={name:S};"ordinal"===k.type&&null==i&&(i=C,s=x(k)),r[k.name]=[]});var v=f.get(p)||f.set(p,{categoryWayDim:s,valueWayDim:0});function y(S,C,k){for(var I=0;I<k;I++)S.push(C+I)}function x(S){var C=S.dimsDef;return C?C.length:1}return ue(n,function(S,C){var k=S.name,I=x(S);if(null==i){var R=v.valueWayDim;y(r[k],R,I),y(u,R,I),v.valueWayDim+=I}else i===C?(y(r[k],0,I),y(l,0,I)):(y(r[k],R=v.categoryWayDim,I),y(u,R,I),v.categoryWayDim+=I)}),l.length&&(r.itemName=l),u.length&&(r.seriesName=u),r}function Fp(n,t,e){var r={};if(!Gg(n))return r;var o,i=t.sourceFormat,s=t.dimensionsDefine;i!==Tu&&i!==_d||ue(s,function(d,f){"name"===(zn(d)?d.name:d)&&(o=f)});var l=function(){for(var d={},f={},p=[],v=0,y=Math.min(5,e);v<y;v++){var x=jg(t.data,i,t.seriesLayoutBy,s,t.startIndex,v);p.push(x);var S=3===x;if(S&&null==d.v&&v!==o&&(d.v=v),(null==d.n||d.n===d.v||!S&&3===p[d.n])&&(d.n=v),C(d)&&3!==p[d.n])return d;S||(2===x&&null==f.v&&v!==o&&(f.v=v),null!=f.n&&f.n!==f.v||(f.n=v))}function C(k){return null!=k.v&&null!=k.n}return C(d)?d:C(f)?f:null}();if(l){r.value=[l.v];var u=null!=o?o:l.n;r.itemName=[u],r.seriesName=[u]}return r}function Gg(n){if(!n.get("data",!0))return Zf(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Fi).models[0]}function Ug(n,t){return jg(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function jg(n,t,e,r,o,i){var s,l,u;if(Wn(n))return 3;if(r){var d=r[i];zn(d)?(l=d.name,u=d.type):ir(d)&&(l=d)}if(null!=u)return"ordinal"===u?1:3;if(t===ac){var f=n;if("row"===e){for(var p=f[i],v=0;v<(p||[]).length&&v<5;v++)if(null!=(s=I(p[o+v])))return s}else for(v=0;v<f.length&&v<5;v++){var y=f[o+v];if(y&&null!=(s=I(y[i])))return s}}else if(t===Tu){var x=n;if(!l)return 3;for(v=0;v<x.length&&v<5;v++)if((C=x[v])&&null!=(s=I(C[l])))return s}else if(t===_d){if(!l||!(p=n[l])||Wn(p))return 3;for(v=0;v<p.length&&v<5;v++)if(null!=(s=I(p[v])))return s}else if(t===Nc){var S=n;for(v=0;v<S.length&&v<5;v++){var C,k=bi(C=S[v]);if(!dt(k))return 3;if(null!=(s=I(k[i])))return s}}function I(R){var O=ir(R);return null!=R&&isFinite(R)&&""!==R?O?2:3:O&&"-"!==R?1:void 0}return 3}var wd,Sf,Xg,Yg=bn(),Y1=go(),Nx=go(),qg=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,r){var o=no(this.get("color",!0)),i=this.get("colorLayer",!0);return Zg(this,Y1,o,i,t,e,r)},n.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,Y1)},n}();function f0(n,t,e,r){var o=no(n.get(["aria","decal","decals"]));return Zg(n,Nx,o,null,t,e,r)}function Zg(n,t,e,r,o,i,s){var l=t(i=i||n),u=l.paletteIdx||0,d=l.paletteNameMap=l.paletteNameMap||{};if(d.hasOwnProperty(o))return d[o];var f=null!=s&&r?function(v,y){for(var x=v.length,S=0;S<x;S++)if(v[S].length>y)return v[S];return v[x-1]}(r,s):e;if((f=f||e)&&f.length){var p=f[u];return o&&(d[o]=p),l.paletteIdx=(u+1)%f.length,p}}var _=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.init=function(e,r,o,i,s,l){i=i||{},this.option=null,this._theme=new uo(i),this._locale=new uo(s),this._optionManager=l},t.prototype.setOption=function(e,r,o){var i=W(r);this._optionManager.setOption(e,o,i),this._resetOption(null,i)},t.prototype.resetOption=function(e,r){return this._resetOption(e,W(r))},t.prototype._resetOption=function(e,r){var o=!1,i=this._optionManager;if(!e||"recreate"===e){var s=i.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(s,r)):Xg(this,s),o=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var l=i.getTimelineOption(this);l&&(o=!0,this._mergeOption(l,r))}if(!e||"recreate"===e||"media"===e){var u=i.getMediaOption(this);u.length&&ue(u,function(d){o=!0,this._mergeOption(d,r)},this)}return o},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,r){var o=this.option,i=this._componentsMap,s=this._componentsCount,l=[],u=bn(),d=r&&r.replaceMergeMainTypeMap;Wg(this).datasetMap=bn(),ue(e,function(f,p){null!=f&&(Hr.hasClass(p)?p&&(l.push(p),u.set(p,!0)):o[p]=null==o[p]?Qt(f):en(o[p],f,!0))}),d&&d.each(function(f,p){Hr.hasClass(p)&&!u.get(p)&&(l.push(p),u.set(p,!0))}),Hr.topologicalTravel(l,Hr.getAllClassMainTypes(),function(f){var R,O,p=function(I,R,O){var V=Yg.get(R);if(!V)return O;var F=V(I);return F?O.concat(F):O}(this,f,no(e[f])),v=i.get(f),x=Im(v,p,v?d&&d.get(f)?"replaceMerge":"normalMerge":"replaceAll");R=f,O=Hr,ue(x,function(V){var Z,re,F=V.newOption;zn(F)&&(V.keyInfo.mainType=R,V.keyInfo.subType=(re=V.existing,(Z=F).type?Z.type:re?re.subType:O.determineSubType(R,Z)))}),o[f]=null,i.set(f,null),s.set(f,0);var S=[],C=[],k=0;ue(x,function(I,R){var O=I.existing,V=I.newOption;if(V){var Y=Hr.getClass(f,I.keyInfo.subType,!("series"===f));if(!Y)return;if(O&&O.constructor===Y)O.name=I.keyInfo.name,O.mergeOption(V,this),O.optionUpdated(V,!1);else{var Z=tt({componentIndex:R},I.keyInfo);tt(O=new Y(V,this,this,Z),Z),I.brandNew&&(O.__requireNewView=!0),O.init(V,this,this),O.optionUpdated(null,!0)}}else O&&(O.mergeOption({},this),O.optionUpdated({},!1));O?(S.push(O.option),C.push(O),k++):(S.push(void 0),C.push(void 0))},this),o[f]=S,i.set(f,C),s.set(f,k),"series"===f&&wd(this)},this),this._seriesIndices||wd(this)},t.prototype.getOption=function(){var e=Qt(this.option);return ue(e,function(r,o){if(Hr.hasClass(o)){for(var i=no(r),s=i.length,l=!1,u=s-1;u>=0;u--)i[u]&&!Bd(i[u])?l=!0:(i[u]=null,!l&&s--);i.length=s,e[o]=i}}),delete e["\0_ec_inner"],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,r){var o=this._componentsMap.get(e);if(o){var i=o[r||0];if(i)return i;if(null==r)for(var s=0;s<o.length;s++)if(o[s])return o[s]}},t.prototype.queryComponents=function(e){var r=e.mainType;if(!r)return[];var o,i=e.index,s=e.id,l=e.name,u=this._componentsMap.get(r);return u&&u.length?(null!=i?(o=[],ue(no(i),function(d){u[d]&&o.push(u[d])})):o=null!=s?D("id",s,u):null!=l?D("name",l,u):Un(u,function(d){return!!d}),z(o,e)):[]},t.prototype.findComponents=function(e){var r,o,i,s,l,d=e.mainType,f=(o=d+"Index",i=d+"Id",s=d+"Name",!(r=e.query)||null==r[o]&&null==r[i]&&null==r[s]?null:{mainType:d,index:r[o],id:r[i],name:r[s]});return l=z(f?this.queryComponents(f):Un(this._componentsMap.get(d),function(v){return!!v}),e),e.filter?Un(l,e.filter):l},t.prototype.eachComponent=function(e,r,o){var i=this._componentsMap;if(ge(e)){var s=r,l=e;i.each(function(p,v){for(var y=0;p&&y<p.length;y++){var x=p[y];x&&l.call(s,v,x,x.componentIndex)}})}else for(var u=ir(e)?i.get(e):zn(e)?this.findComponents(e):null,d=0;u&&d<u.length;d++){var f=u[d];f&&r.call(o,f,f.componentIndex)}},t.prototype.getSeriesByName=function(e){var r=ia(e,null);return Un(this._componentsMap.get("series"),function(o){return!!o&&null!=r&&o.name===r})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Un(this._componentsMap.get("series"),function(r){return!!r&&r.subType===e})},t.prototype.getSeries=function(){return Un(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,r){Sf(this),ue(this._seriesIndices,function(o){var i=this._componentsMap.get("series")[o];e.call(r,i,o)},this)},t.prototype.eachRawSeries=function(e,r){ue(this._componentsMap.get("series"),function(o){o&&e.call(r,o,o.componentIndex)})},t.prototype.eachSeriesByType=function(e,r,o){Sf(this),ue(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];s.subType===e&&r.call(o,s,i)},this)},t.prototype.eachRawSeriesByType=function(e,r,o){return ue(this.getSeriesByType(e),r,o)},t.prototype.isSeriesFiltered=function(e){return Sf(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,r){Sf(this);var o=[];ue(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];e.call(r,s,i)&&o.push(i)},this),this._seriesIndices=o,this._seriesIndicesMap=bn(o)},t.prototype.restoreData=function(e){wd(this);var r=this._componentsMap,o=[];r.each(function(i,s){Hr.hasClass(s)&&o.push(s)}),Hr.topologicalTravel(o,Hr.getAllClassMainTypes(),function(i){ue(r.get(i),function(s){!s||"series"===i&&function(l,u){if(u){var d=u.seriesIndex,f=u.seriesId,p=u.seriesName;return null!=d&&l.componentIndex!==d||null!=f&&l.id!==f||null!=p&&l.name!==p}}(s,e)||s.restoreData()})})},t.internalField=(wd=function(e){var r=e._seriesIndices=[];ue(e._componentsMap.get("series"),function(o){o&&r.push(o.componentIndex)}),e._seriesIndicesMap=bn(r)},Sf=function(e){},void(Xg=function(e,r){e.option={},e.option["\0_ec_inner"]=1,e._componentsMap=bn({series:[]}),e._componentsCount=bn();var i,l,o=r.aria;zn(o)&&null==o.enabled&&(o.enabled=!0),l=(i=r).color&&!i.colorLayer,ue(e._theme.option,function(u,d){"colorLayer"===d&&l||Hr.hasClass(d)||("object"==typeof u?i[d]=i[d]?en(i[d],u,!1):Qt(u):null==i[d]&&(i[d]=u))}),en(r,Ih,!1),e._mergeOption(r,null)})),t}(uo);function D(n,t,e){if(dt(t)){var r=bn();return ue(t,function(i){null!=i&&null!=ia(i,null)&&r.set(i,!0)}),Un(e,function(i){return i&&r.get(i[n])})}var o=ia(t,null);return Un(e,function(i){return i&&null!=o&&i[n]===o})}function z(n,t){return t.hasOwnProperty("subType")?Un(n,function(e){return e&&e.subType===t.subType}):n}function W(n){var t=bn();return n&&ue(no(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Kn(_,qg);var K=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Q=function(n){ue(K,function(t){this[t]=xn(n[t],n)},this)},le={},de=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var r=[];ue(le,function(o,i){var s=o.create(t,e);r=r.concat(s||[])}),this._coordinateSystems=r},n.prototype.update=function(t,e){ue(this._coordinateSystems,function(r){r.update&&r.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){le[t]=e},n.get=function(t){return le[t]},n}(),xe=/^(min|max)?(.+)$/,Te=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,r){t&&(ue(no(t.series),function(s){s&&s.data&&Wn(s.data)&&Kr(s.data)}),ue(no(t.dataset),function(s){s&&s.source&&Wn(s.source)&&Kr(s.source)})),t=Qt(t);var o=this._optionBackup,i=function(s,l,u){var d,f,p=[],v=s.baseOption,y=s.timeline,x=s.options,S=s.media,C=!!s.media,k=!!(x||y||v&&v.timeline);function I(R){ue(l,function(O){O(R,u)})}return v?(f=v).timeline||(f.timeline=y):((k||C)&&(s.options=s.media=null),f=s),C&&dt(S)&&ue(S,function(R){R&&R.option&&(R.query?p.push(R):d||(d=R))}),I(f),ue(x,function(R){return I(R)}),ue(p,function(R){return I(R.option)}),{baseOption:f,timelineOptions:x||[],mediaDefault:d,mediaList:p}}(t,e,!o);this._newBaseOption=i.baseOption,o?(i.timelineOptions.length&&(o.timelineOptions=i.timelineOptions),i.mediaList.length&&(o.mediaList=i.mediaList),i.mediaDefault&&(o.mediaDefault=i.mediaDefault)):this._optionBackup=i},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Qt(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,r=this._timelineOptions;if(r.length){var o=t.getComponent("timeline");o&&(e=Qt(r[o.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var r,o=this._api.getWidth(),i=this._api.getHeight(),s=this._mediaList,l=this._mediaDefault,u=[],d=[];if(!s.length&&!l)return d;for(var f=0,p=s.length;f<p;f++)Ne(s[f].query,o,i)&&u.push(f);return!u.length&&l&&(u=[-1]),u.length&&(r=this._currentMediaIndices,u.join(",")!==r.join(","))&&(d=Ht(u,function(v){return Qt(-1===v?l.option:s[v].option)})),this._currentMediaIndices=u,d},n}();function Ne(n,t,e){var r={width:t,height:e,aspectratio:t/e},o=!0;return ue(n,function(i,s){var f,p,v,l=s.match(xe);if(l&&l[1]&&l[2]){var u=l[1],d=l[2].toLowerCase();f=r[d],p=i,("min"===(v=u)?f>=p:"max"===v?f<=p:f===p)||(o=!1)}}),o}var Ee=ue,Oe=zn,nt=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Fe(n){var t=n&&n.itemStyle;if(t)for(var e=0,r=nt.length;e<r;e++){var o=nt[e],i=t.normal,s=t.emphasis;i&&i[o]&&(n[o]=n[o]||{},n[o].normal?en(n[o].normal,i[o]):n[o].normal=i[o],i[o]=null),s&&s[o]&&(n[o]=n[o]||{},n[o].emphasis?en(n[o].emphasis,s[o]):n[o].emphasis=s[o],s[o]=null)}}function Qe(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var r=n[t].normal,o=n[t].emphasis;r&&(e?(n[t].normal=n[t].emphasis=null,Gt(n[t],r)):n[t]=r),o&&(n.emphasis=n.emphasis||{},n.emphasis[t]=o,o.focus&&(n.emphasis.focus=o.focus),o.blurScope&&(n.emphasis.blurScope=o.blurScope))}}function gt(n){Qe(n,"itemStyle"),Qe(n,"lineStyle"),Qe(n,"areaStyle"),Qe(n,"label"),Qe(n,"labelLine"),Qe(n,"upperLabel"),Qe(n,"edgeLabel")}function Ve(n,t){var e=Oe(n)&&n[t],r=Oe(e)&&e.textStyle;if(r)for(var o=0,i=Pa.length;o<i;o++){var s=Pa[o];r.hasOwnProperty(s)&&(e[s]=r[s])}}function rt(n){n&&(gt(n),Ve(n,"label"),n.emphasis&&Ve(n.emphasis,"label"))}function Pt(n){return dt(n)?n:n?[n]:[]}function Ze(n){return(dt(n)?n[0]:n)||{}}function yt(n){n&&ue(An,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var An=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Wt=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],On=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ur(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<On.length;e++){var r=On[e][1];null!=t[r]&&(t[On[e][0]]=t[r])}}function Qn(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function hr(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function Er(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&Er(n[e].children,t)}function wr(n,t){(function Et(n,t){Ee(Pt(n.series),function(r){Oe(r)&&function(o){if(Oe(o)){Fe(o),gt(o),Ve(o,"label"),Ve(o,"upperLabel"),Ve(o,"edgeLabel"),o.emphasis&&(Ve(o.emphasis,"label"),Ve(o.emphasis,"upperLabel"),Ve(o.emphasis,"edgeLabel"));var i=o.markPoint;i&&(Fe(i),rt(i));var s=o.markLine;s&&(Fe(s),rt(s));var l=o.markArea;l&&rt(l);var u=o.data;if("graph"===o.type){u=u||o.nodes;var d=o.links||o.edges;if(d&&!Wn(d))for(var f=0;f<d.length;f++)rt(d[f]);ue(o.categories,function(y){gt(y)})}if(u&&!Wn(u))for(f=0;f<u.length;f++)rt(u[f]);if((i=o.markPoint)&&i.data){var p=i.data;for(f=0;f<p.length;f++)rt(p[f])}if((s=o.markLine)&&s.data){var v=s.data;for(f=0;f<v.length;f++)dt(v[f])?(rt(v[f][0]),rt(v[f][1])):rt(v[f])}"gauge"===o.type?(Ve(o,"axisLabel"),Ve(o,"title"),Ve(o,"detail")):"treemap"===o.type?(Qe(o.breadcrumb,"itemStyle"),ue(o.levels,function(y){gt(y)})):"tree"===o.type&&gt(o.leaves)}}(r)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ee(e,function(r){Ee(Pt(n[r]),function(o){o&&(Ve(o,"axisLabel"),Ve(o.axisPointer,"label"))})}),Ee(Pt(n.parallel),function(r){var o=r&&r.parallelAxisDefault;Ve(o,"axisLabel"),Ve(o&&o.axisPointer,"label")}),Ee(Pt(n.calendar),function(r){Qe(r,"itemStyle"),Ve(r,"dayLabel"),Ve(r,"monthLabel"),Ve(r,"yearLabel")}),Ee(Pt(n.radar),function(r){Ve(r,"name"),r.name&&null==r.axisName&&(r.axisName=r.name,delete r.name),null!=r.nameGap&&null==r.axisNameGap&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Ee(Pt(n.geo),function(r){Oe(r)&&(rt(r),Ee(Pt(r.regions),function(o){rt(o)}))}),Ee(Pt(n.timeline),function(r){rt(r),Qe(r,"label"),Qe(r,"itemStyle"),Qe(r,"controlStyle",!0);var o=r.data;dt(o)&&ue(o,function(i){zn(i)&&(Qe(i,"label"),Qe(i,"itemStyle"))})}),Ee(Pt(n.toolbox),function(r){Qe(r,"iconStyle"),Ee(r.feature,function(o){Qe(o,"iconStyle")})}),Ve(Ze(n.axisPointer),"label"),Ve(Ze(n.tooltip).axisPointer,"label")})(n,t),n.series=no(n.series),ue(n.series,function(e){if(zn(e)){var r=e.type;if("line"===r)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===r||"gauge"===r){if(null!=e.clockWise&&(e.clockwise=e.clockWise),Qn(e.label),(s=e.data)&&!Wn(s))for(var o=0;o<s.length;o++)Qn(s[o]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===r){var i=function(u,d){for(var f="pointer.color".split(","),p=u,v=0;v<f.length&&null!=(p=p&&p[f[v]]);v++);return p}(e);null!=i&&function(u,d,f,p){for(var v,y="itemStyle.color".split(","),x=u,S=0;S<y.length-1;S++)null==x[v=y[S]]&&(x[v]={}),x=x[v];null==x[y[S]]&&(x[y[S]]=f)}(e,0,i)}else if("bar"===r){var s;if(ur(e),ur(e.backgroundStyle),ur(e.emphasis),(s=e.data)&&!Wn(s))for(o=0;o<s.length;o++)"object"==typeof s[o]&&(ur(s[o]),ur(s[o]&&s[o].emphasis))}else if("sunburst"===r){var l=e.highlightPolicy;l&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=l)),hr(e),Er(e.data,hr)}else"graph"===r||"sankey"===r?(u=e)&&null!=u.focusNodeAdjacency&&(u.emphasis=u.emphasis||{},null==u.emphasis.focus&&(u.emphasis.focus="adjacency")):"map"===r&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Gt(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),yt(e)}var u}),n.dataRange&&(n.visualMap=n.dataRange),ue(Wt,function(e){var r=n[e];r&&(dt(r)||(r=[r]),ue(r,function(o){yt(o)}))})}function Br(n){ue(n,function(t,e){var r=[],o=[NaN,NaN],s=t.data,l=t.isStackedByIndex;s.modify([t.stackResultDimension,t.stackedOverDimension],function(u,d,f){var p,v,y=s.get(t.stackedDimension,f);if(isNaN(y))return o;l?v=s.getRawIndex(f):p=s.get(t.stackedByDimension,f);for(var x=NaN,S=e-1;S>=0;S--){var C=n[S];if(l||(v=C.data.rawIndexOf(C.stackedByDimension,p)),v>=0){var k=C.data.getByRawIndex(C.stackResultDimension,v);if(y>=0&&k>0||y<=0&&k<0){y=ct(y,k),x=k;break}}}return r[0]=y,r[1]=x,r})})}var Ur,Co,pr,Io,Wr,jr=function(n){this.data=n.data||(n.sourceFormat===_d?{}:[]),this.sourceFormat=n.sourceFormat||wf,this.seriesLayoutBy=n.seriesLayoutBy||ku,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var t=this.dimensionsDefine=n.dimensionsDefine;if(t)for(var e=0;e<t.length;e++){var r=t[e];null==r.type&&1===Ug(this,e)&&(r.type="ordinal")}};function ri(n){return n instanceof jr}function qs(n,t,e){e=e||Xi(n);var r=t.seriesLayoutBy,o=function(i,s,l,u,d){var f,p;if(!i)return{dimensionsDefine:Du(d),startIndex:p,dimensionsDetectedCount:f};if(s===ac){var v=i;"auto"===u||null==u?Cf(function(x){null!=x&&"-"!==x&&(ir(x)?null==p&&(p=1):p=0)},l,v,10):p=jo(u)?u:u?1:0,d||1!==p||(d=[],Cf(function(x,S){d[S]=null!=x?x+"":""},l,v,1/0)),f=d?d.length:"row"===l?v.length:v[0]?v[0].length:null}else if(s===Tu)d||(d=function(x){for(var S,C=0;C<x.length&&!(S=x[C++]););if(S){var k=[];return ue(S,function(I,R){k.push(R)}),k}}(i));else if(s===_d)d||(d=[],ue(i,function(x,S){d.push(S)}));else if(s===Nc){var y=bi(i[0]);f=dt(y)&&y.length||1}return{startIndex:p,dimensionsDefine:Du(d),dimensionsDetectedCount:f}}(n,e,r,t.sourceHeader,t.dimensions);return new jr({data:n,sourceFormat:e,seriesLayoutBy:r,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:Qt(t)})}function Fa(n){return new jr({data:n,sourceFormat:Wn(n)?sc:Nc})}function Xi(n){var t=wf;if(Wn(n))t=sc;else if(dt(n)){0===n.length&&(t=ac);for(var e=0,r=n.length;e<r;e++){var o=n[e];if(null!=o){if(dt(o)){t=ac;break}if(zn(o)){t=Tu;break}}}}else if(zn(n))for(var i in n)if(_n(n,i)&&Yr(n[i])){t=_d;break}return t}function Du(n){if(n){var t=bn();return Ht(n,function(e,r){var o={name:(e=zn(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==o.name)return o;o.name+="",null==o.displayName&&(o.displayName=o.name);var i=t.get(o.name);return i?o.name+="-"+i.count++:t.set(o.name,{count:1}),o})}}function Cf(n,t,e,r){if("row"===t)for(var o=0;o<e.length&&o<r;o++)n(e[o]?e[o][0]:null,o);else{var i=e[0]||[];for(o=0;o<i.length&&o<r;o++)n(i[o],o)}}function Ec(n){var t=n.sourceFormat;return t===Tu||t===_d}var Hp=function(){function n(t,e){var r=ri(t)?t:Fa(t);this._source=r;var o=this._data=r.data;r.sourceFormat===sc&&(this._offset=0,this._dimSize=e,this._data=o),Wr(this,o,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;Wr=function(s,l,u){var d=u.sourceFormat,f=u.seriesLayoutBy,p=u.startIndex,v=u.dimensionsDefine;if(tt(s,Io[Bx(d,f)]),d===sc)s.getItem=e,s.count=o,s.fillStorage=r;else{var x=Dv(d,f);s.getItem=xn(x,null,l,p,v);var S=Mf(d,f);s.count=xn(S,null,l,p,v)}};var e=function(s,l){l=l||[];for(var u=this._data,d=this._dimSize,f=d*(s-=this._offset),p=0;p<d;p++)l[p]=u[f+p];return l},r=function(s,l,u,d){for(var f=this._data,p=this._dimSize,v=0;v<p;v++){for(var y=d[v],x=null==y[0]?1/0:y[0],S=null==y[1]?-1/0:y[1],C=l-s,k=u[v],I=0;I<C;I++){var R=f[I*p+v];k[s+I]=R,R<x&&(x=R),R>S&&(S=R)}y[0]=x,y[1]=S}},o=function(){return this._data?this._data.length/this._dimSize:0};function i(s){for(var l=0;l<s.length;l++)this._data.push(s[l])}(t={}).arrayRows_column={pure:!0,appendData:i},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t.objectRows={pure:!0,appendData:i},t.keyedColumns={pure:!0,appendData:function(s){var l=this._data;ue(s,function(u,d){for(var f=l[d]||(l[d]=[]),p=0;p<(u||[]).length;p++)f.push(u[p])})}},t.original={appendData:i},t.typedArray={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},Io=t}(),n}(),Bc=function(n,t,e,r){return n[r]},Rh=((Ur={}).arrayRows_column=function(n,t,e,r){return n[r+t]},Ur.arrayRows_row=function(n,t,e,r,o){r+=t;for(var i=o||[],s=n,l=0;l<s.length;l++){var u=s[l];i[l]=u?u[r]:null}return i},Ur.objectRows=Bc,Ur.keyedColumns=function(n,t,e,r,o){for(var i=o||[],s=0;s<e.length;s++){var u=n[e[s].name];i[s]=u?u[r]:null}return i},Ur.original=Bc,Ur);function Dv(n,t){return Rh[Bx(n,t)]}var Kg=function(n,t,e){return n.length},Wp=((Co={}).arrayRows_column=function(n,t,e){return Math.max(0,n.length-t)},Co.arrayRows_row=function(n,t,e){var r=n[0];return r?Math.max(0,r.length-t):0},Co.objectRows=Kg,Co.keyedColumns=function(n,t,e){var o=n[e[0].name];return o?o.length:0},Co.original=Kg,Co);function Mf(n,t){return Wp[Bx(n,t)]}var Av=function(n,t,e){return n[t]},cS=((pr={}).arrayRows=Av,pr.objectRows=function(n,t,e){return n[e]},pr.keyedColumns=Av,pr.original=function(n,t,e){var r=bi(n);return r instanceof Array?r[t]:r},pr.typedArray=Av,pr);function Ex(n){return cS[n]}function Bx(n,t){return n===ac?n+"_"+t:n}function $g(n,t,e){if(n){var r=n.getRawDataItem(t);if(null!=r){var o=n.getStore(),i=o.getSource().sourceFormat;if(null!=e){var s=n.getDimensionIndex(e),l=o.getDimensionProperty(s);return Ex(i)(r,s,l)}var u=r;return i===Nc&&(u=bi(r)),u}}}var dS=/\{@(.+?)\}/g,X1=function(){function n(){}return n.prototype.getDataParams=function(t,e){var r=this.getData(e),o=this.getRawValue(t,e),i=r.getRawIndex(t),s=r.getName(t),l=r.getRawDataItem(t),u=r.getItemVisual(t,"style"),d=u&&u[r.getItemVisual(t,"drawType")||"fill"],f=u&&u.stroke,p=this.mainType,v="series"===p,y=r.userOutput&&r.userOutput.get();return{componentType:p,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:v?this.subType:null,seriesIndex:this.seriesIndex,seriesId:v?this.id:null,seriesName:v?this.name:null,name:s,dataIndex:i,data:l,dataType:e,value:o,color:d,borderColor:f,dimensionNames:y?y.fullDimensions:null,encode:y?y.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,r,o,i,s){e=e||"normal";var l=this.getData(r),u=this.getDataParams(t,r);return s&&(u.value=s.interpolatedValue),null!=o&&dt(u.value)&&(u.value=u.value[o]),i||(i=l.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),"function"==typeof i?(u.status=e,u.dimensionIndex=o,i(u)):"string"==typeof i?zg(i,u).replace(dS,function(d,f){var p=f.length,v=f;"["===v.charAt(0)&&"]"===v.charAt(p-1)&&(v=+v.slice(1,p-1));var y=$g(l,t,v);if(s&&dt(s.interpolatedValue)){var x=l.getDimensionIndex(v);x>=0&&(y=s.interpolatedValue[x])}return null!=y?y+"":""}):void 0},n.prototype.getRawValue=function(t,e){return $g(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,r){},n}();function h0(n){var t,e;return zn(n)?n.type&&(e=n):t=n,{markupText:t,markupFragment:e}}function Jg(n){return new zx(n)}var zx=function(){function n(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e,r=this._upstream,o=t&&t.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!o&&(e=this._plan(this.context));var s,l=p(this._modBy),u=this._modDataCount||0,d=p(t&&t.modBy),f=t&&t.modDataCount||0;function p(I){return!(I>=1)&&(I=1),I}l===d&&u===f||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,s=this._doReset(o)),this._modBy=d,this._modDataCount=f;var v=t&&t.step;if(this._dueEnd=r?r._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var y=this._dueIndex,x=Math.min(null!=v?this._dueIndex+v:1/0,this._dueEnd);if(!o&&(s||y<x)){var S=this._progress;if(dt(S))for(var C=0;C<S.length;C++)this._doProgress(S[C],y,x,d,f);else this._doProgress(S,y,x,d,f)}this._dueIndex=x,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:x}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,r,o,i){fS.reset(e,r,o,i),this._callingProgress=t,this._callingProgress({start:e,end:r,count:r-e,next:fS.next},this.context)},n.prototype._doReset=function(t){var e,r;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(r=e.forceFirstProgress,e=e.progress),dt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var o=this._downstream;return o&&o.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),fS=function(){var n,t,e,r,o,i={reset:function(u,d,f,p){t=u,n=d,e=f,r=p,o=Math.ceil(r/e),i.next=e>1&&r>0?l:s}};return i;function s(){return t<n?t++:null}function l(){var u=t%o*e+Math.ceil(t/o),d=t>=n?null:u<r?u:t;return t++,d}}();function Oh(n,t){var e=t&&t.type;return"ordinal"===e?n:("time"===e&&"number"!=typeof n&&null!=n&&"-"!==n&&(n=+gn(n)),null==n||""===n?NaN:+n)}var hS=bn({number:function(n){return parseFloat(n)},time:function(n){return+gn(n)},trim:function(n){return"string"==typeof n?Nr(n):n}});function pS(n){return hS.get(n)}var gS={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},mS=function(){function n(t,e){"number"!=typeof e&&Hn(""),this._opFn=gS[t],this._rvalFloat=zr(e)}return n.prototype.evaluate=function(t){return this._opFn("number"==typeof t?t:zr(t),this._rvalFloat)},n}(),vS=function(){function n(t,e){var r="desc"===t;this._resultLT=r?1:-1,null==e&&(e=r?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(t,e){var r=typeof t,o=typeof e,i="number"===r?t:zr(t),s="number"===o?e:zr(e),l=isNaN(i),u=isNaN(s);if(l&&(i=this._incomparable),u&&(s=this._incomparable),l&&u){var d="string"===r,f="string"===o;d&&(i=f?t:0),f&&(s=d?e:0)}return i<s?this._resultLT:i>s?-this._resultLT:0},n}(),uT=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=zr(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var r=typeof t;r===this._rvalTypeof||"number"!==r&&"number"!==this._rvalTypeof||(e=zr(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function Qg(n,t){return"eq"===n||"ne"===n?new uT("eq"===n,t):_n(gS,n)?new mS(n,t):null}var Vx=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return Oh(t,e)},n}();function Fx(n){return K1(n.sourceFormat)||Hn(""),n.data}function q1(n){var t=n.sourceFormat,e=n.data;if(K1(t)||Hn(""),t===ac){for(var o=[],i=0,s=e.length;i<s;i++)o.push(e[i].slice());return o}if(t===Tu){for(o=[],i=0,s=e.length;i<s;i++)o.push(tt({},e[i]));return o}}function yS(n,t,e){if(null!=e)return"number"==typeof e||!isNaN(e)&&!_n(t,e)?n[e]:_n(t,e)?t[e]:void 0}function bS(n){return Qt(n)}var Z1=bn();function xS(n,t,e,r){t.length||Hn(""),zn(n)||Hn("");var s=Z1.get(n.type);s||Hn("");var l=Ht(t,function(d){return function(f,p){var v=new Vx,y=f.data,x=v.sourceFormat=f.sourceFormat,S=f.startIndex;f.seriesLayoutBy!==ku&&Hn("");var k=[],I={},R=f.dimensionsDefine;if(R)ue(R,function(re,ie){var ae=re.name,ce={index:ie,name:ae,displayName:re.displayName};k.push(ce),null!=ae&&(_n(I,ae)&&Hn(""),I[ae]=ce)});else for(var O=0;O<f.dimensionsDetectedCount;O++)k.push({index:O});var V=Dv(x,ku);p.__isBuiltIn&&(v.getRawDataItem=function(re){return V(y,S,k,re)},v.getRawData=xn(Fx,null,f)),v.cloneRawData=xn(q1,null,f);var F=Mf(x,ku);v.count=xn(F,null,y,S,k);var Y=Ex(x);v.retrieveValue=function(re,ie){var ae=V(y,S,k,re);return Z(ae,ie)};var Z=v.retrieveValueFromItem=function(re,ie){if(null!=re){var ae=k[ie];return ae?Y(re,ie,ae.name):void 0}};return v.getDimensionInfo=xn(yS,null,k,I),v.cloneAllDimensionInfo=xn(bS,null,k),v}(d,s)});return Ht(no(s.transform({upstream:l[0],upstreamList:l,config:Qt(n.config)})),function(d,f){var p;zn(d)||Hn(""),d.data||Hn(""),K1(Xi(d.data))||Hn("");var y=t[0];if(y&&0===f&&!d.dimensions){var x=y.startIndex;x&&(d.data=y.data.slice(0,x).concat(d.data)),p={seriesLayoutBy:ku,sourceHeader:x,dimensions:y.metaRawOption.dimensions}}else p={seriesLayoutBy:ku,sourceHeader:0,dimensions:d.dimensions};return qs(d.data,p,null)})}function K1(n){return n===ac||n===Tu}var p0,g0="undefined",cT=typeof Uint32Array===g0?Array:Uint32Array,_S=typeof Uint16Array===g0?Array:Uint16Array,$1=typeof Int32Array===g0?Array:Int32Array,Hx=typeof Float64Array===g0?Array:Float64Array,Wx={float:Hx,int:$1,ordinal:Array,number:Array,time:Hx};function m0(n){return n>65535?cT:_S}function wS(n,t,e,r,o){var i=Wx[e||"float"];if(o){var s=n[t],l=s&&s.length;if(l!==r){for(var u=new i(r),d=0;d<l;d++)u[d]=s[d];n[t]=u}}else n[t]=new i(r)}var J1=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=bn()}return n.prototype.initData=function(t,e,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=t.getSource(),i=this.defaultDimValueGetter=p0[o.sourceFormat];this._dimValueGetter=r||i,this._rawExtent=[],Ec(o),this._dimensions=Ht(e,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var r=this._calcDimNameToIdx,o=this._dimensions,i=r.get(t);if(null!=i){if(o[i].type===e)return i}else i=o.length;return o[i]={type:e},r.set(t,i),this._chunks[i]=new Wx[e||"float"](this._rawCount),this._rawExtent[i]=[1/0,-1/0],i},n.prototype.collectOrdinalMeta=function(t,e){var r=this._chunks[t],o=this._dimensions[t],i=this._rawExtent,s=o.ordinalOffset||0,l=r.length;0===s&&(i[t]=[1/0,-1/0]);for(var u=i[t],d=s;d<l;d++){var f=r[d]=e.parseAndCollect(r[d]);u[0]=Math.min(f,u[0]),u[1]=Math.max(f,u[1])}o.ordinalMeta=e,o.ordinalOffset=l,o.type="ordinal"},n.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,r=this.count();e.appendData(t);var o=e.count();return e.persistent||(o+=r),r<o&&this._initDataFromProvider(r,o,!0),[r,o]},n.prototype.appendValues=function(t,e){for(var r=this._chunks,o=this._dimensions,i=o.length,s=this._rawExtent,l=this.count(),u=l+Math.max(t.length,e||0),d=0;d<i;d++)wS(r,d,(x=o[d]).type,u,!0);for(var f=[],p=l;p<u;p++)for(var v=p-l,y=0;y<i;y++){var x=o[y],S=p0.arrayRows.call(this,t[v]||f,x.property,v,y);r[y][p]=S;var C=s[y];S<C[0]&&(C[0]=S),S>C[1]&&(C[1]=S)}return this._rawCount=this._count=u,{start:l,end:u}},n.prototype._initDataFromProvider=function(t,e,r){for(var o=this._provider,i=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,d=Ht(s,function(I){return I.property}),f=0;f<l;f++){var p=s[f];u[f]||(u[f]=[1/0,-1/0]),wS(i,f,p.type,e,r)}if(o.fillStorage)o.fillStorage(t,e,i,u);else for(var v=[],y=t;y<e;y++){v=o.getItem(y,v);for(var x=0;x<l;x++){var S=i[x],C=this._dimValueGetter(v,d[x],y,x);S[y]=C;var k=u[x];C<k[0]&&(k[0]=C),C>k[1]&&(k[1]=C)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var r=[],o=[];if(null==e){e=t,t=[];for(var i=0;i<this._dimensions.length;i++)o.push(i)}else o=t;i=0;for(var s=o.length;i<s;i++)r.push(this.get(o[i],e));return r},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var r=this._chunks[t];return r?r[e]:NaN},n.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var r=0,o=this.count();r<o;r++){var i=this.get(t,r);isNaN(i)||(e+=i)}return e},n.prototype.getMedian=function(t){var e=[];this.each([t],function(i){isNaN(i)||e.push(i)});var r=e.sort(function(i,s){return i-s}),o=this.count();return 0===o?0:o%2==1?r[(o-1)/2]:(r[o/2]+r[o/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,r=e[t];if(null!=r&&r<this._count&&r===t)return t;for(var o=0,i=this._count-1;o<=i;){var s=(o+i)/2|0;if(e[s]<t)o=s+1;else{if(!(e[s]>t))return s;i=s-1}}return-1},n.prototype.indicesOfNearest=function(t,e,r){var o=this._chunks[t],i=[];if(!o)return i;null==r&&(r=1/0);for(var s=1/0,l=-1,u=0,d=0,f=this.count();d<f;d++){var p=e-o[this.getRawIndex(d)],v=Math.abs(p);v<=r&&((v<s||v===s&&p>=0&&l<0)&&(s=v,l=p,u=0),p===l&&(i[u++]=d))}return i.length=u,i},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var r=e.constructor,o=this._count;if(r===Array){t=new r(o);for(var i=0;i<o;i++)t[i]=e[i]}else t=new r(e.buffer,0,o)}else for(t=new(r=m0(this._rawCount))(this.count()),i=0;i<t.length;i++)t[i]=i;return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var r=this.clone(),o=r.count(),i=new(m0(r._rawCount))(o),s=[],l=t.length,u=0,d=t[0],f=r._chunks,p=0;p<o;p++){var v=void 0,y=r.getRawIndex(p);if(0===l)v=e(p);else if(1===l)v=e(f[d][y],p);else{for(var x=0;x<l;x++)s[x]=f[t[x]][y];s[x]=p,v=e.apply(null,s)}v&&(i[u++]=y)}return u<o&&(r._indices=i),r._count=u,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(t){var e=this.clone(),r=e._count;if(!r)return this;var o=It(t),i=o.length;if(!i)return this;var s=e.count(),l=new(m0(e._rawCount))(s),u=0,d=o[0],f=t[d][0],p=t[d][1],v=e._chunks,y=!1;if(!e._indices){var x=0;if(1===i){for(var S=v[o[0]],C=0;C<r;C++)((O=S[C])>=f&&O<=p||isNaN(O))&&(l[u++]=x),x++;y=!0}else if(2===i){S=v[o[0]];var k=v[o[1]],I=t[o[1]][0],R=t[o[1]][1];for(C=0;C<r;C++){var O=S[C],V=k[C];(O>=f&&O<=p||isNaN(O))&&(V>=I&&V<=R||isNaN(V))&&(l[u++]=x),x++}y=!0}}if(!y)if(1===i)for(C=0;C<s;C++){var F=e.getRawIndex(C);((O=v[o[0]][F])>=f&&O<=p||isNaN(O))&&(l[u++]=F)}else for(C=0;C<s;C++){for(var Y=!0,Z=(F=e.getRawIndex(C),0);Z<i;Z++){var re=o[Z];((O=v[re][F])<t[re][0]||O>t[re][1])&&(Y=!1)}Y&&(l[u++]=e.getRawIndex(C))}return u<s&&(e._indices=l),e._count=u,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var r=this.clone(t);return this._updateDims(r,t,e),r},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,r){for(var o=t._chunks,i=[],s=e.length,l=t.count(),u=[],d=t._rawExtent,f=0;f<e.length;f++)d[e[f]]=[1/0,-1/0];for(var p=0;p<l;p++){for(var v=t.getRawIndex(p),y=0;y<s;y++)u[y]=o[e[y]][v];u[s]=p;var x=r&&r.apply(null,u);if(null!=x)for("object"!=typeof x&&(i[0]=x,x=i),f=0;f<x.length;f++){var S=e[f],C=x[f],k=d[S],I=o[S];I&&(I[v]=C),C<k[0]&&(k[0]=C),C>k[1]&&(k[1]=C)}}},n.prototype.lttbDownSample=function(t,e){var r,o,i,s=this.clone([t],!0),l=s._chunks[t],u=this.count(),d=0,f=Math.floor(1/e),p=this.getRawIndex(0),v=new(m0(this._rawCount))(Math.ceil(u/f)+2);v[d++]=p;for(var y=1;y<u-1;y+=f){for(var x=Math.min(y+f,u-1),S=Math.min(y+2*f,u),C=(S+x)/2,k=0,I=x;I<S;I++){var R=l[Z=this.getRawIndex(I)];isNaN(R)||(k+=R)}k/=S-x;var O=y,V=Math.min(y+f,u),F=y-1,Y=l[p];for(r=-1,i=O,I=O;I<V;I++){var Z;R=l[Z=this.getRawIndex(I)],isNaN(R)||(o=Math.abs((F-C)*(R-Y)-(F-I)*(k-Y)))>r&&(r=o,i=Z)}v[d++]=i,p=i}return v[d++]=this.getRawIndex(u-1),s._count=d,s._indices=v,s.getRawIndex=this._getRawIdx,s},n.prototype.downSample=function(t,e,r,o){for(var i=this.clone([t],!0),s=i._chunks,l=[],u=Math.floor(1/e),d=s[t],f=this.count(),p=i._rawExtent[t]=[1/0,-1/0],v=new(m0(this._rawCount))(Math.ceil(f/u)),y=0,x=0;x<f;x+=u){u>f-x&&(l.length=u=f-x);for(var S=0;S<u;S++){var C=this.getRawIndex(x+S);l[S]=d[C]}var k=r(l),I=this.getRawIndex(Math.min(x+o(l,k)||0,f-1));d[I]=k,k<p[0]&&(p[0]=k),k>p[1]&&(p[1]=k),v[y++]=I}return i._count=y,i._indices=v,i._updateGetRawIdx(),i},n.prototype.each=function(t,e){if(this._count)for(var r=t.length,o=this._chunks,i=0,s=this.count();i<s;i++){var l=this.getRawIndex(i);switch(r){case 0:e(i);break;case 1:e(o[t[0]][l],i);break;case 2:e(o[t[0]][l],o[t[1]][l],i);break;default:for(var u=0,d=[];u<r;u++)d[u]=o[t[u]][l];d[u]=i,e.apply(null,d)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],r=[1/0,-1/0];if(!e)return r;var o,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(o=this._extent[t])return o.slice();for(var s=(o=r)[0],l=o[1],u=0;u<i;u++){var d=e[this.getRawIndex(u)];d<s&&(s=d),d>l&&(l=d)}return this._extent[t]=o=[s,l],o},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var r=[],o=this._chunks,i=0;i<o.length;i++)r.push(o[i][e]);return r},n.prototype.clone=function(t,e){var r,o,i=new n,s=this._chunks,l=t&&kr(t,function(d,f){return d[f]=!0,d},{});if(l)for(var u=0;u<s.length;u++)i._chunks[u]=l[u]?(o=void 0,(o=(r=s[u]).constructor)===Array?r.slice():new o(r)):s[u];else i._chunks=s;return this._copyCommonProps(i),e||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Qt(this._extent),t._rawExtent=Qt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var r=this._indices.length;e=new t(r);for(var o=0;o<r;o++)e[o]=this._indices[o]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,r,o,i){return Oh(e[i],this._dimensions[i])}p0={arrayRows:t,objectRows:function(e,r,o,i){return Oh(e[r],this._dimensions[i])},keyedColumns:t,original:function(e,r,o,i){var s=e&&(null==e.value?e:e.value);return Oh(s instanceof Array?s[i]:s,this._dimensions[i])},typedArray:function(e,r,o,i){return e[i]}}}(),n}(),Gx=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,r=this._sourceHost,o=this._getUpstreamSourceManagers(),i=!!o.length;if(em(r)){var s=r,l=void 0,u=void 0,d=void 0;if(i){var f=o[0];f.prepareSource(),l=(d=f.getSource()).data,u=d.sourceFormat,e=[f._getVersionSign()]}else u=Wn(l=s.get("data",!0))?sc:Nc,e=[];var p=this._getSourceMetaRawOption()||{},v=d&&d.metaRawOption||{},y=At(p.seriesLayoutBy,v.seriesLayoutBy)||null,x=At(p.sourceHeader,v.sourceHeader)||null,S=At(p.dimensions,v.dimensions);t=y!==v.seriesLayoutBy||!!x!=!!v.sourceHeader||S?[qs(l,{seriesLayoutBy:y,sourceHeader:x,dimensions:S},u)]:[]}else{var C=r;if(i){var k=this._applyTransform(o);t=k.sourceList,e=k.upstreamSignList}else t=[qs(C.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}this._setLocalSource(t,e)},n.prototype._applyTransform=function(t){var e,r=this._sourceHost,o=r.get("transform",!0),i=r.get("fromTransformResult",!0);null!=i&&1!==t.length&&Q1("");var l,u=[],d=[];return ue(t,function(f){f.prepareSource();var p=f.getSource(i||0);null==i||p||Q1(""),u.push(p),d.push(f._getVersionSign())}),o?e=function(f,p,v){var y=no(f),x=y.length;x||Hn("");for(var C=0,k=x;C<k;C++)p=xS(y[C],p),C!==k-1&&(p.length=Math.max(p.length,1));return p}(o,u):null!=i&&(e=[(l=u[0],new jr({data:l.data,sourceFormat:l.sourceFormat,seriesLayoutBy:l.seriesLayoutBy,dimensionsDefine:Qt(l.dimensionsDefine),startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:d}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var r=t[e];if(r._isDirty()||this._upstreamSignList[e]!==r._getVersionSign())return!0}},n.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,r){var o=this._storeList,i=o[0];i||(i=o[0]={});var s=i[r];if(!s){var l=this._getUpstreamSourceManagers()[0];em(this._sourceHost)&&l?s=l._innerGetDataStore(t,e,r):(s=new J1).initData(new Hp(e,t.length),t),i[r]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var r,t=this._sourceHost;if(em(t)){var e=Gg(t);return e?[e.getSourceManager()]:[]}return Ht((r=t).get("transform",!0)||r.get("fromTransformResult",!0)?Zf(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Fi).models:[],function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,e,r,o=this._sourceHost;if(em(o))t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),r=o.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=o;t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),r=i.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:r}},n}();function SS(n){n.option.transform&&Kr(n.option.transform)}function em(n){return"series"===n.mainType}function Q1(n){throw new Error(n)}function CS(n,t){var e=n.color||"#6e7079",r=n.fontSize||12,o=n.fontWeight||"400",i=n.color||"#464646",s=n.fontSize||14,l=n.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+Xs(r+"")+"px;color:"+Xs(e)+";font-weight:"+Xs(o+""),valueStyle:"font-size:"+Xs(s+"")+"px;color:"+Xs(i)+";font-weight:"+Xs(l+"")}:{nameStyle:{fontSize:r,fill:e,fontWeight:o},valueStyle:{fontSize:s,fill:i,fontWeight:l}}}var dT=[0,10,20,30],Ux=["","\n","\n\n","\n\n\n"];function cs(n,t){return t.type=n,t}function jx(n){return _n(MS,n.type)&&MS[n.type]}var MS={section:{planLayout:function(n){var t=n.blocks.length,e=t>1||t>0&&!n.noHeader,r=0;ue(n.blocks,function(o){jx(o).planLayout(o);var i=o.__gapLevelBetweenSubBlocks;i>=r&&(r=i+(!e||i&&("section"!==o.type||o.noHeader)?0:1))}),n.__gapLevelBetweenSubBlocks=r},build:function(n,t,e,r){var o=t.noHeader,i=tb(t),s=function(d,f,p,v){var y=[],x=f.blocks||[];yn(!x||dt(x)),x=x||[];var S=d.orderMode;if(f.sortBlocks&&S){x=x.slice();var C={valueAsc:"asc",valueDesc:"desc"};if(_n(C,S)){var k=new vS(C[S],null);x.sort(function(R,O){return k.evaluate(R.sortParam,O.sortParam)})}else"seriesDesc"===S&&x.reverse()}var I=tb(f);if(ue(x,function(R,O){var V=jx(R).build(d,R,O>0?I.html:0,v);null!=V&&y.push(V)}),y.length)return"richText"===d.renderMode?y.join(I.richText):Yx(y.join(""),p)}(n,t,o?e:i.html,r);if(o)return s;var l=Bg(t.header,"ordinal",n.useUTC),u=CS(r,n.renderMode).nameStyle;return"richText"===n.renderMode?Xx(n,l,u)+i.richText+s:Yx('<div style="'+u+';line-height:1;">'+Xs(l)+"</div>"+s,e)}},nameValue:{planLayout:function(n){n.__gapLevelBetweenSubBlocks=0},build:function(n,t,e,r){var O,V,re,o=n.renderMode,i=t.noName,s=t.noValue,l=!t.markerType,u=t.name,d=t.value,f=n.useUTC;if(!i||!s){var p=l?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",o),v=i?"":Bg(u,"ordinal",f),y=t.valueType,x=s?[]:dt(d)?Ht(d,function(O,V){return Bg(O,dt(y)?y[V]:y,f)}):[Bg(d,dt(y)?y[0]:y,f)],S=!l||!i,C=!l&&i,k=CS(r,o),I=k.nameStyle,R=k.valueStyle;return"richText"===o?(l?"":p)+(i?"":Xx(n,v,I))+(s?"":(O=n,V=x,re=[R],S&&re.push({padding:[0,0,0,C?10:20],align:"right"}),O.markupStyleCreator.wrapRichTextStyle(V.join("  "),re))):Yx((l?"":p)+(i?"":function(O,V,F){return'<span style="'+F+";"+(V?"margin-left:2px":"")+'">'+Xs(O)+"</span>"}(v,!l,I))+(s?"":function(O,V,F,Y){return'<span style="'+(V?"float:right;margin-left:"+(F?"10px":"20px"):"")+";"+Y+'">'+Ht(O,function(re){return Xs(re)}).join("&nbsp;&nbsp;")+"</span>"}(x,S,C,R)),e)}}}};function eb(n,t,e,r,o,i){if(n){var s=jx(n);return s.planLayout(n),s.build({useUTC:o,renderMode:e,orderMode:r,markupStyleCreator:t},n,0,i)}}function tb(n){var t=n.__gapLevelBetweenSubBlocks;return{html:dT[t],richText:Ux[t]}}function Yx(n,t){return'<div style="margin: '+t+'px 0 0;line-height:1;">'+n+'<div style="clear:both"></div></div>'}function Xx(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function nb(n,t){return xd(n.getData().getItemVisual(t,"style")[n.visualDrawType])}function qx(n,t){var e=n.get("padding");return null!=e?e:"richText"===t?[8,10]:10}var v0=function(){function n(){this.richTextStyles={},this._nextStyleNameId=qo()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,r){var o="richText"===r?this._generateStyleName():null,i=kv({color:e,type:t,renderMode:r,markerId:o});return ir(i)?i:(this.richTextStyles[o]=i.style,i.content)},n.prototype.wrapRichTextStyle=function(t,e){var r={};dt(e)?ue(e,function(i){return tt(r,i)}):tt(r,e);var o=this._generateStyleName();return this.richTextStyles[o]=r,"{"+o+"|"+t+"}"},n}();function Zx(n){var t,e,r,o,i=n.series,s=n.dataIndex,l=n.multipleSeries,u=i.getData(),d=u.mapDimensionsAll("defaultedTooltip"),f=d.length,p=i.getRawValue(s),v=dt(p),y=nb(i,s);if(f>1||v&&!f){var x=function(O,V,F,Y,Z){var re=V.getData(),ie=kr(O,function(_e,Ce,Pe){var Le=re.getDimensionInfo(Pe);return _e||Le&&!1!==Le.tooltip&&null!=Le.displayName},!1),ae=[],ce=[],ve=[];function be(_e,Ce){var Pe=re.getDimensionInfo(Ce);Pe&&!1!==Pe.otherDims.tooltip&&(ie?ve.push(cs("nameValue",{markerType:"subItem",markerColor:Z,name:Pe.displayName,value:_e,valueType:Pe.type})):(ae.push(_e),ce.push(Pe.type)))}return Y.length?ue(Y,function(_e){be($g(re,F,_e),_e)}):ue(O,be),{inlineValues:ae,inlineValueTypes:ce,blocks:ve}}(p,i,s,d,y);t=x.inlineValues,e=x.inlineValueTypes,r=x.blocks,o=x.inlineValues[0]}else if(f){var S=u.getDimensionInfo(d[0]);o=t=$g(u,s,d[0]),e=S.type}else o=t=v?p[0]:p;var C=ag(i),k=C&&i.name||"",I=u.getName(s),R=l?k:I;return cs("section",{header:k,noHeader:l||!C,sortParam:o,blocks:[cs("nameValue",{markerType:"item",markerColor:y,name:R,noName:!Nr(R),value:t,valueType:e})].concat(r||[])})}var Nh=go();function Iv(n,t){return n.getName(t)||n.getId(t)}var Qo=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return We(t,n),t.prototype.init=function(e,r,o){this.seriesIndex=this.componentIndex,this.dataTask=Jg({count:$x,reset:Jx}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,o),(Nh(this).sourceManager=new Gx(this)).prepareSource();var i=this.getInitialData(e,o);e_(i,this),this.dataTask.context.data=i,Nh(this).dataBeforeProcessed=i,Kx(this),this._initSelectedMapFromData(i)},t.prototype.mergeDefaultAndTheme=function(e,r){var o=Fg(this),i=o?ic(e):{},s=this.subType;Hr.hasClass(s)&&(s+="Series"),en(e,r.getTheme().get(this.subType)),en(e,this.getDefaultOption()),oa(e,"label",["show"]),this.fillDataTextStyle(e.data),o&&bf(e,i,o)},t.prototype.mergeOption=function(e,r){e=en(this.option,e,!0),this.fillDataTextStyle(e.data);var o=Fg(this);o&&bf(this.option,e,o);var i=Nh(this).sourceManager;i.dirty(),i.prepareSource();var s=this.getInitialData(e,r);e_(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Nh(this).dataBeforeProcessed=s,Kx(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(e){if(e&&!Wn(e))for(var r=["show"],o=0;o<e.length;o++)e[o]&&e[o].label&&oa(e[o],"label",r)},t.prototype.getInitialData=function(e,r){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var r=t_(this);if(r){var o=r.context.data;return null==e?o:o.getLinkedData(e)}return Nh(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var r=t_(this);if(r){var o=r.context;o.outputData=e,r!==this.dataTask&&(o.data=e)}Nh(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return bn(e)},t.prototype.getSourceManager=function(){return Nh(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Nh(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,r,o){return Zx({series:this,dataIndex:e,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){if(Tt.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,r,o){var i=this.ecModel,s=qg.prototype.getColorFromPalette.call(this,e,r,o);return s||(s=i.getColorFromPalette(e,r,o)),s},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,r){this._innerSelect(this.getData(r),e)},t.prototype.unselect=function(e,r){var o=this.option.selectedMap;if(o)for(var i=this.getData(r),s=0;s<e.length;s++){var l=Iv(i,e[s]);o[l]=!1,this._selectedDataIndicesMap[l]=-1}},t.prototype.toggleSelect=function(e,r){for(var o=[],i=0;i<e.length;i++)o[0]=e[i],this.isSelected(e[i],r)?this.unselect(o,r):this.select(o,r)},t.prototype.getSelectedDataIndices=function(){for(var e=this._selectedDataIndicesMap,r=It(e),o=[],i=0;i<r.length;i++){var s=e[r[i]];s>=0&&o.push(s)}return o},t.prototype.isSelected=function(e,r){var o=this.option.selectedMap;return o&&o[Iv(this.getData(r),e)]||!1},t.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,r){var o,i,s=this.option.selectedMode,l=r.length;if(s&&l)if("multiple"===s)for(var u=this.option.selectedMap||(this.option.selectedMap={}),d=0;d<l;d++){var f=r[d];u[v=Iv(e,f)]=!0,this._selectedDataIndicesMap[v]=e.getRawIndex(f)}else if("single"===s||!0===s){var p=r[l-1],v=Iv(e,p);this.option.selectedMap=((o={})[v]=!0,o),this._selectedDataIndicesMap=((i={})[v]=e.getRawIndex(p),i)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var r=[];e.hasItemOption&&e.each(function(o){var i=e.getRawDataItem(o);i&&i.selected&&r.push(o)}),r.length>0&&this._innerSelect(e,r)}},t.registerClass=function(e){return Hr.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(Hr);function Kx(n){var r,o,i,t=n.name;ag(n)||(n.name=(o=(r=n.getRawData()).mapDimensionsAll("seriesName"),i=[],ue(o,function(s){var l=r.getDimensionInfo(s);l.displayName&&i.push(l.displayName)}),i.join(" ")||t))}function $x(n){return n.model.getRawData().count()}function Jx(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),Qx}function Qx(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function e_(n,t){ue(Ta(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,Yn(TS,t))})}function TS(n,t){var e=t_(n);return e&&e.setOutputEnd((t||this).count()),t}function t_(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var r=e.currentTask;if(r){var o=r.agentStubMap;o&&(r=o.get(n.uid))}return r}}Kn(Qo,X1),Kn(Qo,qg),sl(Qo,Hr);var xi=function(){function n(){this.group=new nr,this.uid=oc("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,r,o){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,r,o){},n.prototype.updateLayout=function(t,e,r,o){},n.prototype.updateVisual=function(t,e,r,o){},n.prototype.blurSeries=function(t,e){},n}();function Pv(){var n=go();return function(t){var e=n(t),r=t.pipelineContext,o=!!e.large,i=!!e.progressiveRender,s=e.large=!(!r||!r.large),l=e.progressiveRender=!(!r||!r.progressiveRender);return!(o===s&&i===l)&&"reset"}}Rm(xi),ui(xi);var n_=go(),kS=Pv(),zo=function(){function n(){this.group=new nr,this.uid=oc("viewChart"),this.renderTask=Jg({plan:fT,reset:Lv}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,r,o){},n.prototype.highlight=function(t,e,r,o){DS(t.getData(),o,"emphasis")},n.prototype.downplay=function(t,e,r,o){DS(t.getData(),o,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,r,o){this.render(t,e,r,o)},n.prototype.updateLayout=function(t,e,r,o){this.render(t,e,r,o)},n.prototype.updateVisual=function(t,e,r,o){this.render(t,e,r,o)},n.markUpdateMethod=function(t,e){n_(t).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function rb(n,t,e){n&&("emphasis"===t?Oa:Tl)(n,e)}function DS(n,t,e){var i,s,r=zd(n,t),o=t&&null!=t.highlightKey?(null==(s=sd[i=t.highlightKey])&&mg<=32&&(s=sd[i]=mg++),s):null;null!=r?ue(no(r),function(i){rb(n.getItemGraphicEl(i),e,o)}):n.eachItemGraphicEl(function(i){rb(i,e,o)})}function fT(n){return kS(n.model)}function Lv(n){var t=n.model,e=n.ecModel,r=n.api,o=n.payload,i=t.pipelineContext.progressiveRender,s=n.view,l=o&&n_(o).updateMethod,u=i?"incrementalPrepareRender":l&&s[l]?l:"render";return"render"!==u&&s[u](t,e,r,o),Rv[u]}Rm(zo),ui(zo);var Rv={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},y0="\0__throttleOriginMethod",r_="\0__throttleRate",Eh="\0__throttleType";function zc(n,t,e){var r,o,i,s,l,u=0,d=0,f=null;function p(){d=(new Date).getTime(),f=null,n.apply(i,s||[])}t=t||0;var v=function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];r=(new Date).getTime(),i=this,s=y;var S=l||t,C=l||e;l=null,o=r-(C?u:d)-S,clearTimeout(f),C?f=setTimeout(p,S):o>=0?p():f=setTimeout(p,-o),u=r};return v.clear=function(){f&&(clearTimeout(f),f=null)},v.debounceNextCall=function(y){l=y},v}function tm(n,t,e,r){var o=n[t];if(o){var i=o[y0]||o;if(o[r_]!==e||o[Eh]!==r){if(null==e||!r)return n[t]=i;(o=n[t]=zc(i,e,"debounce"===r))[y0]=i,o[Eh]=r,o[r_]=e}return o}}var o_=go(),AS={itemStyle:ll(uf,!0),lineStyle:ll(o0,!0)},hT={lineStyle:"stroke",itemStyle:"fill"};function IS(n,t){return n.visualStyleMapper||AS[t]||(console.warn("Unkown style type '"+t+"'."),AS.itemStyle)}function PS(n,t){return n.visualDrawType||hT[t]||(console.warn("Unkown style type '"+t+"'."),"fill")}var b0={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",o=n.getModel(r),i=IS(n,r)(o),s=o.getShallow("decal");s&&(e.setVisual("decal",s),s.dirty=!0);var l=PS(n,r),u=i[l],d=ge(u)?u:null;if(!i[l]||d||"auto"===i.fill||"auto"===i.stroke){var p=n.getColorFromPalette(n.name,null,t.getSeriesCount());i[l]||(i[l]=p,e.setVisual("colorFromPalette",!0)),i.fill="auto"===i.fill||"function"==typeof i.fill?p:i.fill,i.stroke="auto"===i.stroke||"function"==typeof i.stroke?p:i.stroke}if(e.setVisual("style",i),e.setVisual("drawType",l),!t.isSeriesFiltered(n)&&d)return e.setVisual("colorFromPalette",!1),{dataEach:function(v,y){var x=n.getDataParams(y),S=tt({},i);S[l]=d(x),v.setItemVisual(y,"style",S)}}}},Ov=new uo,i_={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.ignoreStyleOnData&&!t.isSeriesFiltered(n)){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",o=IS(n,r),i=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(s,l){var u=s.getRawDataItem(l);if(u&&u[r]){Ov.option=u[r];var d=o(Ov);tt(s.ensureUniqueItemVisual(l,"style"),d),Ov.option.decal&&(s.setItemVisual(l,"decal",Ov.option.decal),Ov.option.decal.dirty=!0),i in d&&s.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},a_={performRawSeries:!0,overallReset:function(n){var t=bn();n.eachSeries(function(e){var r=e.getColorBy();if(!e.isColorBySeries()){var o=e.type+"-"+r,i=t.get(o);i||t.set(o,i={}),o_(e).scope=i}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var r=e.getRawData(),o={},i=e.getData(),s=o_(e).scope,u=PS(e,e.visualStyleAccessPath||"itemStyle");i.each(function(d){var f=i.getRawIndex(d);o[f]=d}),r.each(function(d){var f=o[d];if(i.getItemVisual(f,"colorFromPalette")){var p=i.ensureUniqueItemVisual(f,"style"),v=r.getName(d)||d+"",y=r.count();p[u]=e.getColorFromPalette(v,s,y)}})}})}},nm=Math.PI,ob=function(){function n(t,e,r,o){this._stageTaskMap=bn(),this.ecInstance=t,this.api=e,r=this._dataProcessorHandlers=r.slice(),o=this._visualHandlers=o.slice(),this._allHandlers=r.concat(o)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(r){var o=r.overallTask;o&&o.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),o=r.context,i=!e&&r.progressiveEnabled&&(!o||o.progressiveRender)&&t.__idxInPipeline>r.blockIndex?r.step:null,s=o&&o.modDataCount;return{step:i,modBy:null!=s?Math.ceil(s/i):null,modDataCount:s}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var r=this._pipelineMap.get(t.uid),o=t.getData().count(),i=r.progressiveEnabled&&e.incrementalPrepareRender&&o>=r.threshold,s=t.get("large")&&o>=t.get("largeThreshold"),l="mod"===t.get("progressiveChunkMode")?o:null;t.pipelineContext=r.context={progressiveRender:i,modDataCount:l,large:s}},n.prototype.restorePipelines=function(t){var e=this,r=e._pipelineMap=bn();t.eachSeries(function(o){var i=o.getProgressive(),s=o.uid;r.set(s,{id:s,head:null,tail:null,threshold:o.getProgressiveThreshold(),progressiveEnabled:i&&!(o.preventIncremental&&o.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),e._pipe(o,o.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),r=this.api;ue(this._allHandlers,function(o){var i=t.get(o.uid)||t.set(o.uid,{});yn(!(o.reset&&o.overallReset),""),o.reset&&this._createSeriesStageTask(o,i,e,r),o.overallReset&&this._createOverallStageTask(o,i,e,r)},this)},n.prototype.prepareView=function(t,e,r,o){var i=t.renderTask,s=i.context;s.model=e,s.ecModel=r,s.api=o,i.__block=!t.incrementalPrepareRender,this._pipe(e,i)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,r){this._performStageTasks(this._visualHandlers,t,e,r)},n.prototype._performStageTasks=function(t,e,r,o){o=o||{};var i=!1,s=this;function l(u,d){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(d.__pipeline.id))}ue(t,function(u,d){if(!o.visualType||o.visualType===u.visualType){var f=s._stageTaskMap.get(u.uid),p=f.seriesTaskMap,v=f.overallTask;if(v){var y,x=v.agentStubMap;x.each(function(C){l(o,C)&&(C.dirty(),y=!0)}),y&&v.dirty(),s.updatePayload(v,r);var S=s.getPerformArgs(v,o.block);x.each(function(C){C.perform(S)}),v.perform(S)&&(i=!0)}else p&&p.each(function(C,k){l(o,C)&&C.dirty();var I=s.getPerformArgs(C,o.block);I.skip=!u.performRawSeries&&e.isSeriesFiltered(C.context.model),s.updatePayload(C,r),C.perform(I)&&(i=!0)})}}),this.unfinished=i||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(r){e=r.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,r,o){var i=this,s=e.seriesTaskMap,l=e.seriesTaskMap=bn(),u=t.seriesType,d=t.getTargetSeries;function f(p){var v=p.uid,y=l.set(v,s&&s.get(v)||Jg({plan:LS,reset:ib,count:c_}));y.context={model:p,ecModel:r,api:o,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(p,y)}t.createOnAllSeries?r.eachRawSeries(f):u?r.eachRawSeriesByType(u,f):d&&d(r,o).each(f)},n.prototype._createOverallStageTask=function(t,e,r,o){var i=this,s=e.overallTask=e.overallTask||Jg({reset:s_});s.context={ecModel:r,api:o,overallReset:t.overallReset,scheduler:i};var l=s.agentStubMap,u=s.agentStubMap=bn(),d=t.seriesType,f=t.getTargetSeries,p=!0,v=!1;function x(S){var C=S.uid,k=u.set(C,l&&l.get(C)||(v=!0,Jg({reset:l_,onDirty:Nv})));k.context={model:S,overallProgress:p},k.agent=s,k.__block=p,i._pipe(S,k)}yn(!t.createOnAllSeries,""),d?r.eachRawSeriesByType(d,x):f?f(r,o).each(x):(p=!1,ue(r.getSeries(),x)),v&&s.dirty()},n.prototype._pipe=function(t,e){var o=this._pipelineMap.get(t.uid);!o.head&&(o.head=e),o.tail&&o.tail.pipe(e),o.tail=e,e.__idxInPipeline=o.count++,e.__pipeline=o},n.wrapStageHandler=function(t,e){return ge(t)&&(t={overallReset:t,seriesType:OS(t)}),t.uid=oc("stageHandler"),e&&(t.visualType=e),t},n}();function s_(n){n.overallReset(n.ecModel,n.api,n.payload)}function l_(n){return n.overallProgress&&Tf}function Tf(){this.agent.dirty(),this.getDownstream().dirty()}function Nv(){this.agent&&this.agent.dirty()}function LS(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function ib(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=no(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?Ht(t,function(e,r){return u_(r)}):RS}var RS=u_(0);function u_(n){return function(t,e){var r=e.data,o=e.resetDefines[n];if(o&&o.dataEach)for(var i=t.start;i<t.end;i++)o.dataEach(r,i);else o&&o.progress&&o.progress(t,r)}}function c_(n){return n.data.count()}function OS(n){x0=null;try{n(Ev,d_)}catch(t){}return x0}var x0,Ev={},d_={};function f_(n,t){for(var e in t.prototype)n[e]=Do}f_(Ev,_),f_(d_,Q),Ev.eachSeriesByType=Ev.eachRawSeriesByType=function(n){x0=n},Ev.eachComponent=function(n){"series"===n.mainType&&n.subType&&(x0=n.subType)};var h_=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],NS={color:h_,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],h_]},Il="#B9B8CE",ab="#100C2A",_0=function(){return{axisLine:{lineStyle:{color:Il}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},w0=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],p_={darkMode:!0,color:w0,backgroundColor:ab,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Il}},textStyle:{color:Il},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Il}},dataZoom:{borderColor:"#71708A",textStyle:{color:Il},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Il}},timeline:{lineStyle:{color:Il},label:{color:Il},controlStyle:{color:Il,borderColor:Il}},calendar:{itemStyle:{color:ab},dayLabel:{color:Il},monthLabel:{color:Il},yearLabel:{color:Il}},timeAxis:_0(),logAxis:_0(),valueAxis:_0(),categoryAxis:_0(),line:{symbol:"circle"},graph:{color:w0},gauge:{title:{color:Il},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Il},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};p_.categoryAxis.splitLine.show=!1;var Bv=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},r={},o={};if(ir(t)){var i=ts(t);e.mainType=i.main||null,e.subType=i.sub||null}else{var s=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};ue(t,function(u,d){for(var f=!1,p=0;p<s.length;p++){var v=s[p],y=d.lastIndexOf(v);if(y>0&&y===d.length-v.length){var x=d.slice(0,y);"data"!==x&&(e.mainType=x,e[v.toLowerCase()]=u,f=!0)}}l.hasOwnProperty(d)&&(r[d]=u,f=!0),f||(o[d]=u)})}return{cptQuery:e,dataQuery:r,otherQuery:o}},n.prototype.filter=function(t,e){var r=this.eventInfo;if(!r)return!0;var o=r.targetEl,i=r.packedEvent,s=r.model,l=r.view;if(!s||!l)return!0;var u=e.cptQuery,d=e.dataQuery;return f(u,s,"mainType")&&f(u,s,"subType")&&f(u,s,"index","componentIndex")&&f(u,s,"name")&&f(u,s,"id")&&f(d,i,"name")&&f(d,i,"dataIndex")&&f(d,i,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(t,e.otherQuery,o,i));function f(p,v,y,x){return null==p[y]||v[x||y]===p[y]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),ES={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){var r=n.get("symbol"),o=n.get("symbolSize"),i=n.get("symbolKeepAspect"),s=n.get("symbolRotate"),l=n.get("symbolOffset"),u=ge(r),d=ge(o),f=ge(s),p=ge(l),v=u||d||f||p,y=!u&&r?r:n.defaultSymbol;if(e.setVisual({legendIcon:n.legendIcon||y,symbol:y,symbolSize:d?null:o,symbolKeepAspect:i,symbolRotate:f?null:s,symbolOffset:p?null:l}),!t.isSeriesFiltered(n))return{dataEach:v?function(k,I){var R=n.getRawValue(I),O=n.getDataParams(I);u&&k.setItemVisual(I,"symbol",r(R,O)),d&&k.setItemVisual(I,"symbolSize",o(R,O)),f&&k.setItemVisual(I,"symbolRotate",s(R,O)),p&&k.setItemVisual(I,"symbolOffset",l(R,O))}:null}}}};function g_(n,t,e){switch(e){case"color":return n.getItemVisual(t,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e)}}function zv(n,t){switch(t){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function m_(n,t,e,r){switch(e){case"color":n.ensureUniqueItemVisual(t,"style")[n.getVisual("drawType")]=r,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,r)}}function v_(n,t){function e(r,o){var i=[];return r.eachComponent({mainType:"series",subType:n,query:o},function(s){i.push(s.seriesIndex)}),i}ue([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){t(r[0],function(o,i,s){o=tt({},o),s.dispatchAction(tt(o,{type:r[1],seriesIndex:e(i,o)}))})})}function Vv(n,t,e,r,o){var i=n+t;e.isSilent(i)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var l=s.seriesIndex,u=o.selected,d=0;d<u.length;d++)if(u[d].seriesIndex===l){var f=s.getData(),p=zd(f,o.fromActionPayload);e.trigger(i,{type:i,seriesId:s.id,name:dt(p)?f.getName(p[0]):f.getName(p),selected:tt({},s.option.selectedMap)})}})}function Gp(n,t,e){for(var r;n&&(!t(n)||(r=n,!e));)n=n.__hostTarget||n.parent;return r}var y_=Math.round(9*Math.random()),BS="function"==typeof Object.defineProperty,b_=function(){function n(){this._id="__ec_inner_"+y_++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var r=this._guard(t);return BS?Object.defineProperty(r,this._id,{value:e,enumerable:!1,configurable:!0}):r[this._id]=e,this},n.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}(),zS=Vr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,r=t.cy,o=t.width/2,i=t.height/2;n.moveTo(e,r-i),n.lineTo(e+o,r+i),n.lineTo(e-o,r+i),n.closePath()}}),VS=Vr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,r=t.cy,o=t.width/2,i=t.height/2;n.moveTo(e,r-i),n.lineTo(e+o,r),n.lineTo(e,r+i),n.lineTo(e-o,r),n.closePath()}}),FS=Vr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,r=t.y,o=t.width/5*3,i=Math.max(o,t.height),s=o/2,l=s*s/(i-s),u=r-i+s+l,d=Math.asin(l/s),f=Math.cos(d)*s,p=Math.sin(d),v=Math.cos(d),y=.6*s,x=.7*s;n.moveTo(e-f,u+l),n.arc(e,u,s,Math.PI-d,2*Math.PI+d),n.bezierCurveTo(e+f-p*y,u+l+v*y,e,r-x,e,r),n.bezierCurveTo(e,r-x,e-f+p*y,u+l+v*y,e-f,u+l),n.closePath()}}),pT=Vr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,o=t.x,i=t.y,s=t.width/3*2;n.moveTo(o,i),n.lineTo(o+s,i+e),n.lineTo(o,i+e/4*3),n.lineTo(o-s,i+e),n.lineTo(o,i),n.closePath()}}),gT={line:function(n,t,e,r,o){o.x1=n,o.y1=t+r/2,o.x2=n+e,o.y2=t+r/2},rect:function(n,t,e,r,o){o.x=n,o.y=t,o.width=e,o.height=r},roundRect:function(n,t,e,r,o){o.x=n,o.y=t,o.width=e,o.height=r,o.r=Math.min(e,r)/4},square:function(n,t,e,r,o){var i=Math.min(e,r);o.x=n,o.y=t,o.width=i,o.height=i},circle:function(n,t,e,r,o){o.cx=n+e/2,o.cy=t+r/2,o.r=Math.min(e,r)/2},diamond:function(n,t,e,r,o){o.cx=n+e/2,o.cy=t+r/2,o.width=e,o.height=r},pin:function(n,t,e,r,o){o.x=n+e/2,o.y=t+r/2,o.width=e,o.height=r},arrow:function(n,t,e,r,o){o.x=n+e/2,o.y=t+r/2,o.width=e,o.height=r},triangle:function(n,t,e,r,o){o.cx=n+e/2,o.cy=t+r/2,o.width=e,o.height=r}},S0={};ue({line:Hi,rect:eo,roundRect:eo,square:eo,circle:Xl,diamond:VS,pin:FS,arrow:pT,triangle:zS},function(n,t){S0[t]=new n});var mT=Vr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var r=Jc(n,t,e),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===t.position&&(r.y=e.y+.4*e.height),r},buildPath:function(n,t,e){var r=t.symbolType;if("none"!==r){var o=S0[r];o||(o=S0[r="rect"]),gT[r](t.x,t.y,t.width,t.height,o.shape),o.buildPath(n,o.shape,e)}}});function vT(n,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function qi(n,t,e,r,o,i,s){var l,u=0===n.indexOf("empty");return u&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=0===n.indexOf("image://")?gv(n.slice(8),new Lr(t,e,r,o),s?"center":"cover"):0===n.indexOf("path://")?of(n.slice(7),{},new Lr(t,e,r,o),s?"center":"cover"):new mT({shape:{symbolType:n,x:t,y:e,width:r,height:o}})).__isEmptyBrush=u,l.setColor=vT,i&&l.setColor(i),l}function Fv(n){return dt(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function rm(n,t){if(null!=n)return dt(n)||(n=[n,n]),[ee(n[0],t[0])||0,ee(At(n[1],n[0]),t[1])||0]}function x_(n,t,e){for(var r="radial"===t.type?(s=n,l=t,void 0,void 0,void 0,v=void 0,y=void 0,x=void 0,d=(u=e).width,f=u.height,p=Math.min(d,f),v=null==l.x?.5:l.x,y=null==l.y?.5:l.y,x=null==l.r?.5:l.r,l.global||(v=v*d+u.x,y=y*f+u.y,x*=p),s.createRadialGradient(v,y,0,v,y,x)):function(s,l,u){var d=null==l.x?0:l.x,f=null==l.x2?1:l.x2,p=null==l.y?0:l.y,v=null==l.y2?0:l.y2;return l.global||(d=d*u.width+u.x,f=f*u.width+u.x,p=p*u.height+u.y,v=v*u.height+u.y),d=isNaN(d)?0:d,f=isNaN(f)?1:f,p=isNaN(p)?0:p,v=isNaN(v)?0:v,s.createLinearGradient(d,p,f,v)}(n,t,e),o=t.colorStops,i=0;i<o.length;i++)r.addColorStop(o[i].offset,o[i].color);var s,l,u,d,f,p,v,y,x;return r}function sb(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!0;return!1}function C0(n,t){return n&&"solid"!==n&&t>0?(t=t||1,"dashed"===n?[4*t,2*t]:"dotted"===n?[t]:jo(n)?[n]:dt(n)?n:null):null}var __=new mu(!0);function M0(n){var t=n.stroke;return!(null==t||"none"===t||!(n.lineWidth>0))}function T0(n){return"string"==typeof n&&"none"!==n}function Hv(n){var t=n.fill;return null!=t&&"none"!==t}function k0(n,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function w_(n,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function lb(n,t,e){var r=Fd(t.image,t.__image,e);if(Vl(r)){var o=n.createPattern(r,t.repeat||"repeat");if("function"==typeof DOMMatrix&&o.setTransform){var i=new DOMMatrix;i.rotateSelf(0,0,(t.rotation||0)/Math.PI*180),i.scaleSelf(t.scaleX||1,t.scaleY||1),i.translateSelf(t.x||0,t.y||0),o.setTransform(i)}return o}}var kf=["shadowBlur","shadowOffsetX","shadowOffsetY"],HS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function ub(n,t,e,r,o){var i=!1;if(!r&&t===(e=e||{}))return!1;if(r||t.opacity!==e.opacity){i||(Ql(n,o),i=!0);var s=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(s)?aa.opacity:s}(r||t.blend!==e.blend)&&(i||(Ql(n,o),i=!0),n.globalCompositeOperation=t.blend||aa.blend);for(var l=0;l<kf.length;l++){var u=kf[l];(r||t[u]!==e[u])&&(i||(Ql(n,o),i=!0),n[u]=n.dpr*(t[u]||0))}return(r||t.shadowColor!==e.shadowColor)&&(i||(Ql(n,o),i=!0),n.shadowColor=t.shadowColor||aa.shadowColor),i}function ya(n,t,e,r,o){var i=D0(t,o.inHover),s=r?null:e&&D0(e,o.inHover)||{};if(i===s)return!1;var l=ub(n,i,s,r,o);if((r||i.fill!==s.fill)&&(l||(Ql(n,o),l=!0),T0(i.fill)&&(n.fillStyle=i.fill)),(r||i.stroke!==s.stroke)&&(l||(Ql(n,o),l=!0),T0(i.stroke)&&(n.strokeStyle=i.stroke)),(r||i.opacity!==s.opacity)&&(l||(Ql(n,o),l=!0),n.globalAlpha=null==i.opacity?1:i.opacity),t.hasStroke()){var u=i.lineWidth/(i.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1);n.lineWidth!==u&&(l||(Ql(n,o),l=!0),n.lineWidth=u)}for(var d=0;d<HS.length;d++){var f=HS[d],p=f[0];(r||i[p]!==s[p])&&(l||(Ql(n,o),l=!0),n[p]=i[p]||f[1])}return l}function S_(n,t){var e=t.transform,r=n.dpr||1;e?n.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):n.setTransform(r,0,0,r,0,0)}function Ql(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function D0(n,t){return t&&n.__hoverStyle||n.style}function cb(n,t){Df(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Df(n,t,e,r){var o=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var x,S,C,i=t.__clipPaths,s=e.prevElClipPaths,l=!1,u=!1;if(s&&!sb(i,s)||(s&&s.length&&(Ql(n,e),n.restore(),u=l=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),i&&i.length&&(Ql(n,e),n.save(),function(x,S,C){for(var k=!1,I=0;I<x.length;I++){var R=x[I];k=k||R.isZeroArea(),S_(S,R),S.beginPath(),R.buildPath(S,R.shape),S.clip()}C.allClipped=k}(i,n,e),l=!0),e.prevElClipPaths=i),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var d=e.prevEl;d||(u=l=!0);var f,p,v=t instanceof Vr&&t.autoBatch&&(S=Hv(x=t.style),C=M0(x),!(x.lineDash||!(+S^+C)||S&&"string"!=typeof x.fill||C&&"string"!=typeof x.stroke||x.strokePercent<1||x.strokeOpacity<1||x.fillOpacity<1));l||(p=d.transform,(f=o)&&p?f[0]!==p[0]||f[1]!==p[1]||f[2]!==p[2]||f[3]!==p[3]||f[4]!==p[4]||f[5]!==p[5]:f||p)?(Ql(n,e),S_(n,t)):v||Ql(n,e);var y=D0(t,e.inHover);t instanceof Vr?(1!==e.lastDrawType&&(u=!0,e.lastDrawType=1),ya(n,t,d,u,e),v&&(e.batchFill||e.batchStroke)||n.beginPath(),function(x,S,C,k){var I=M0(C),R=Hv(C),O=C.strokePercent,V=O<1,F=!S.path;S.silent&&!V||!F||S.createPathProxy();var Y=S.path||__;if(!k){var Z=C.fill,re=C.stroke,ie=R&&!!Z.colorStops,ae=I&&!!re.colorStops,ce=R&&!!Z.image,ve=I&&!!re.image,be=void 0,_e=void 0,Ce=void 0,Pe=void 0,Le=void 0;(ie||ae)&&(Le=S.getBoundingRect()),ie&&(be=S.__dirty?x_(x,Z,Le):S.__canvasFillGradient,S.__canvasFillGradient=be),ae&&(_e=S.__dirty?x_(x,re,Le):S.__canvasStrokeGradient,S.__canvasStrokeGradient=_e),ce&&(Ce=S.__dirty||!S.__canvasFillPattern?lb(x,Z,S):S.__canvasFillPattern,S.__canvasFillPattern=Ce),ve&&(Pe=S.__dirty||!S.__canvasStrokePattern?lb(x,re,S):S.__canvasStrokePattern,S.__canvasStrokePattern=Ce),ie?x.fillStyle=be:ce&&(Ce?x.fillStyle=Ce:R=!1),ae?x.strokeStyle=_e:ve&&(Pe?x.strokeStyle=Pe:I=!1)}var He=C.lineDash&&C.lineWidth>0&&C0(C.lineDash,C.lineWidth),Je=C.lineDashOffset,vt=!!x.setLineDash,Ct=S.getGlobalScale();if(Y.setScale(Ct[0],Ct[1],S.segmentIgnoreThreshold),He){var on=C.strokeNoScale&&S.getLineScale?S.getLineScale():1;on&&1!==on&&(He=Ht(He,function(Ft){return Ft/on}),Je/=on)}var xt=!0;(F||4&S.__dirty||He&&!vt&&I)&&(Y.setDPR(x.dpr),V?Y.setContext(null):(Y.setContext(x),xt=!1),Y.reset(),He&&!vt&&(Y.setLineDash(He),Y.setLineDashOffset(Je)),S.buildPath(Y,S.shape,k),Y.toStatic(),S.pathUpdated()),xt&&Y.rebuildPath(x,V?O:1),He&&vt&&(x.setLineDash(He),x.lineDashOffset=Je),k||(C.strokeFirst?(I&&w_(x,C),R&&k0(x,C)):(R&&k0(x,C),I&&w_(x,C))),He&&vt&&x.setLineDash([])}(n,t,y,v),v&&(e.batchFill=y.fill||"",e.batchStroke=y.stroke||"")):t instanceof Ws?(3!==e.lastDrawType&&(u=!0,e.lastDrawType=3),ya(n,t,d,u,e),function(x,S,C){var k=C.text;if(null!=k&&(k+=""),k){x.font=C.font||zl,x.textAlign=C.textAlign,x.textBaseline=C.textBaseline;var I=void 0;if(x.setLineDash){var R=C.lineDash&&C.lineWidth>0&&C0(C.lineDash,C.lineWidth),O=C.lineDashOffset;if(R){var V=C.strokeNoScale&&S.getLineScale?S.getLineScale():1;V&&1!==V&&(R=Ht(R,function(F){return F/V}),O/=V),x.setLineDash(R),x.lineDashOffset=O,I=!0}}C.strokeFirst?(M0(C)&&x.strokeText(k,C.x,C.y),Hv(C)&&x.fillText(k,C.x,C.y)):(Hv(C)&&x.fillText(k,C.x,C.y),M0(C)&&x.strokeText(k,C.x,C.y)),I&&x.setLineDash([])}}(n,t,y)):t instanceof Yi?(2!==e.lastDrawType&&(u=!0,e.lastDrawType=2),function(x,S,C,k,I){ub(x,D0(S,I.inHover),C&&D0(C,I.inHover),k,I)}(n,t,d,u,e),function(x,S,C){var k=S.__image=Fd(C.image,S.__image,S,S.onload);if(k&&Vl(k)){var I=C.x||0,R=C.y||0,O=S.getWidth(),V=S.getHeight(),F=k.width/k.height;if(null==O&&null!=V?O=V*F:null==V&&null!=O?V=O/F:null==O&&null==V&&(O=k.width,V=k.height),C.sWidth&&C.sHeight){var Y=C.sx||0,Z=C.sy||0;x.drawImage(k,Y,Z,C.sWidth,C.sHeight,I,R,O,V)}else if(C.sx&&C.sy){var re=O-(Y=C.sx),ie=V-(Z=C.sy);x.drawImage(k,Y,Z,re,ie,I,R,O,V)}else x.drawImage(k,I,R,O,V)}}(n,t,y)):t instanceof bh&&(4!==e.lastDrawType&&(u=!0,e.lastDrawType=4),function(x,S,C){var k=S.getDisplayables(),I=S.getTemporalDisplayables();x.save();var R,O,V={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:C.viewWidth,viewHeight:C.viewHeight,inHover:C.inHover};for(R=S.getCursor(),O=k.length;R<O;R++)(Z=k[R]).beforeBrush&&Z.beforeBrush(),Z.innerBeforeBrush(),Df(x,Z,V,R===O-1),Z.innerAfterBrush(),Z.afterBrush&&Z.afterBrush(),V.prevEl=Z;for(var F=0,Y=I.length;F<Y;F++){var Z;(Z=I[F]).beforeBrush&&Z.beforeBrush(),Z.innerBeforeBrush(),Df(x,Z,V,F===Y-1),Z.innerAfterBrush(),Z.afterBrush&&Z.afterBrush(),V.prevEl=Z}S.clearTemporalDisplayables(),S.notClear=!0,x.restore()}(n,t,e)),v&&r&&Ql(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var A0,om=new b_,WS=new ml(100),db=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Af(n,t){if("none"===n)return null;var e=t.getDevicePixelRatio(),r=t.getZr(),o="svg"===r.painter.type;n.dirty&&om.delete(n);var i=om.get(n);if(i)return i;var s=Gt(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===s.backgroundColor&&(s.backgroundColor=null);var l={repeat:"repeat"};return function(u){for(var d,f=[e],p=!0,v=0;v<db.length;++v){var y=s[db[v]],x=typeof y;if(null!=y&&!dt(y)&&"string"!==x&&"number"!==x&&"boolean"!==x){p=!1;break}f.push(y)}if(p){d=f.join(",")+(o?"-svg":"");var S=WS.get(d);S&&(o?u.svgElement=S:u.image=S)}var C,k=I0(s.dashArrayX),I=function(ie){if(!ie||"object"==typeof ie&&0===ie.length)return[0,0];if("number"==typeof ie){var ae=Math.ceil(ie);return[ae,ae]}var ce=Ht(ie,function(ve){return Math.ceil(ve)});return ie.length%2?ce.concat(ce):ce}(s.dashArrayY),R=C_(s.symbol),O=Ht(k,function(ie){return fb(ie)}),V=fb(I),F=!o&&vo(),Y=o&&r.painter.createSVGElement("g"),Z=function(){for(var ie=1,ae=0,ce=O.length;ae<ce;++ae)ie=Go(ie,O[ae]);var ve=1;for(ae=0,ce=R.length;ae<ce;++ae)ve=Go(ve,R[ae].length);ie*=ve;var be=V*O.length*R.length;return{width:Math.max(1,Math.min(ie,s.maxTileWidth)),height:Math.max(1,Math.min(be,s.maxTileHeight))}}();F&&(F.width=Z.width*e,F.height=Z.height*e,C=F.getContext("2d")),function(){C&&(C.clearRect(0,0,F.width,F.height),s.backgroundColor&&(C.fillStyle=s.backgroundColor,C.fillRect(0,0,F.width,F.height)));for(var ie=0,ae=0;ae<I.length;++ae)ie+=I[ae];var Ar,la;if(!(ie<=0))for(var ce=-V,ve=0,be=0,_e=0;ce<Z.height;){if(ve%2==0){for(var Ce=be/2%R.length,Pe=0,Le=0,He=0;Pe<2*Z.width;){var Je=0;for(ae=0;ae<k[_e].length;++ae)Je+=k[_e][ae];if(Je<=0)break;if(Le%2==0){var vt=.5*(1-s.symbolSize);void 0,void 0,la=qi(R[Ce][He/2%R[Ce].length],(Pe+k[_e][Le]*vt)*(Ar=o?1:e),(ce+I[ve]*vt)*Ar,k[_e][Le]*s.symbolSize*Ar,I[ve]*s.symbolSize*Ar,s.color,s.symbolKeepAspect),o?Y.appendChild(r.painter.paintOne(la)):cb(C,la)}Pe+=k[_e][Le],++He,++Le===k[_e].length&&(Le=0)}++_e===k.length&&(_e=0)}ce+=I[ve],++be,++ve===I.length&&(ve=0)}}(),p&&WS.put(d,F||Y),u.image=F,u.svgElement=Y,u.svgWidth=Z.width,u.svgHeight=Z.height}(l),l.rotation=s.rotation,l.scaleX=l.scaleY=o?1:1/e,om.set(n,l),n.dirty=!1,l}function C_(n){if(!n||0===n.length)return[["rect"]];if("string"==typeof n)return[[n]];for(var t=!0,e=0;e<n.length;++e)if("string"!=typeof n[e]){t=!1;break}if(t)return C_([n]);var r=[];for(e=0;e<n.length;++e)r.push("string"==typeof n[e]?[n[e]]:n[e]);return r}function I0(n){if(!n||0===n.length)return[[0,0]];if("number"==typeof n)return[[o=Math.ceil(n),o]];for(var t=!0,e=0;e<n.length;++e)if("number"!=typeof n[e]){t=!1;break}if(t)return I0([n]);var r=[];for(e=0;e<n.length;++e)if("number"==typeof n[e]){var o=Math.ceil(n[e]);r.push([o,o])}else(o=Ht(n[e],function(i){return Math.ceil(i)})).length%2==1?r.push(o.concat(o)):r.push(o);return r}function fb(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?2*t:t}function M_(n){ir(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var P0={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},GS=It(P0),L0={"alignment-baseline":"textBaseline","stop-color":"stopColor"},T_=It(L0),US=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var r=M_(t);if(!r)throw new Error("Illegal svg");this._defsUsePending=[];var o=new nr;this._root=o;var i=[],s=r.getAttribute("viewBox")||"",l=parseFloat(r.getAttribute("width")||e.width),u=parseFloat(r.getAttribute("height")||e.height);isNaN(l)&&(l=null),isNaN(u)&&(u=null),cc(r,o,null,!0,!1);for(var d,f,p=r.firstChild;p;)this._parseNode(p,o,i,null,!1,!1),p=p.nextSibling;if(function(x,S){for(var C=0;C<S.length;C++){var k=S[C];k[0].style[k[1]]=x[k[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],s){var v=Gv(s);v.length>=4&&(d={x:parseFloat(v[0]||0),y:parseFloat(v[1]||0),width:parseFloat(v[2]),height:parseFloat(v[3])})}if(d&&null!=l&&null!=u&&(f=R0(d,{x:0,y:0,width:l,height:u}),!e.ignoreViewBox)){var y=o;(o=new nr).add(y),y.scaleX=y.scaleY=f.scale,y.x=f.x,y.y=f.y}return e.ignoreRootClip||null==l||null==u||o.setClipPath(new eo({shape:{x:0,y:0,width:l,height:u}})),{root:o,width:l,height:u,viewBoxRect:d,viewBoxTransform:f,named:i}},n.prototype._parseNode=function(t,e,r,o,i,s){var l,u=t.nodeName.toLowerCase(),d=o;if("defs"===u&&(i=!0),"text"===u&&(s=!0),"defs"===u||"switch"===u)l=e;else{if(!i){var f=A0[u];if(f&&_n(A0,u)){l=f.call(this,t,e);var p=t.getAttribute("name");if(p){var v={name:p,namedFrom:null,svgNodeTagLower:u,el:l};r.push(v),"g"===u&&(d=v)}else o&&r.push({name:o.name,namedFrom:o,svgNodeTagLower:u,el:l});e.add(l)}}var y=jS[u];if(y&&_n(jS,u)){var x=y.call(this,t),S=t.getAttribute("id");S&&(this._defs[S]=x)}}if(l&&l.isGroup)for(var C=t.firstChild;C;)1===C.nodeType?this._parseNode(C,l,r,d,i,s):3===C.nodeType&&s&&this._parseText(C,l),C=C.nextSibling},n.prototype._parseText=function(t,e){var r=new Ws({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});uc(e,r),cc(t,r,this._defsUsePending,!1,!1),function(u,d){var f=d.__selfStyle;if(f){var p=f.textBaseline,v=p;p&&"auto"!==p?"baseline"===p?v="alphabetic":"before-edge"===p||"text-before-edge"===p?v="top":"after-edge"===p||"text-after-edge"===p?v="bottom":"central"!==p&&"mathematical"!==p||(v="middle"):v="alphabetic",u.style.textBaseline=v}var y=d.__inheritedStyle;if(y){var x=y.textAlign,S=x;x&&("middle"===x&&(S="center"),u.style.textAlign=S)}}(r,e);var o=r.style,i=o.fontSize;i&&i<9&&(o.fontSize=9,r.scaleX*=i/9,r.scaleY*=i/9);var s=(o.fontSize||o.fontFamily)&&[o.fontStyle,o.fontWeight,(o.fontSize||12)+"px",o.fontFamily||"sans-serif"].join(" ");o.font=s;var l=r.getBoundingRect();return this._textX+=l.width,e.add(r),r},n.internalField=void(A0={g:function(t,e){var r=new nr;return uc(e,r),cc(t,r,this._defsUsePending,!1,!1),r},rect:function(t,e){var r=new eo;return uc(e,r),cc(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,e){var r=new Xl;return uc(e,r),cc(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,e){var r=new Hi;return uc(e,r),cc(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,e){var r=new wp;return uc(e,r),cc(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,e){var r,o=t.getAttribute("points");o&&(r=pb(o));var i=new Ea({shape:{points:r||[]},silent:!0});return uc(e,i),cc(t,i,this._defsUsePending,!1,!1),i},polyline:function(t,e){var r,o=t.getAttribute("points");o&&(r=pb(o));var i=new xs({shape:{points:r||[]},silent:!0});return uc(e,i),cc(t,i,this._defsUsePending,!1,!1),i},image:function(t,e){var r=new Yi;return uc(e,r),cc(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,e){var r=t.getAttribute("x")||"0",o=t.getAttribute("y")||"0",i=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(o)+parseFloat(s);var l=new nr;return uc(e,l),cc(t,l,this._defsUsePending,!1,!0),l},tspan:function(t,e){var r=t.getAttribute("x"),o=t.getAttribute("y");null!=r&&(this._textX=parseFloat(r)),null!=o&&(this._textY=parseFloat(o));var i=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0",l=new nr;return uc(e,l),cc(t,l,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(s),l},path:function(t,e){var r=Zy(t.getAttribute("d")||"");return uc(e,r),cc(t,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),n}(),jS={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),o=parseInt(n.getAttribute("y2")||"0",10),i=new Mp(t,e,r,o);return hb(n,i),k_(n,i),i},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),o=new fv(t,e,r);return hb(n,o),k_(n,o),o}};function hb(n,t){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(t.global=!0)}function k_(n,t){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var o,r=e.getAttribute("offset");o=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var i={};gb(e,i,i);var s=i.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:o,color:s})}e=e.nextSibling}}function uc(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Gt(t.__inheritedStyle,n.__inheritedStyle))}function pb(n){for(var t=Gv(n),e=[],r=0;r<t.length;r+=2){var o=parseFloat(t[r]),i=parseFloat(t[r+1]);e.push([o,i])}return e}function cc(n,t,e,r,o){var i=t,s=i.__inheritedStyle=i.__inheritedStyle||{},l={};1===n.nodeType&&(function(u,d){var f=u.getAttribute("transform");if(f){f=f.replace(/,/g," ");var p=[],v=null;f.replace(bT,function(k,I,R){return p.push(I,R),""});for(var y=p.length-1;y>0;y-=2){var S=p[y-1],C=Gv(p[y]);switch(v=v||[1,0,0,1,0,0],S){case"translate":Ns(v,v,[parseFloat(C[0]),parseFloat(C[1]||"0")]);break;case"scale":_r(v,v,[parseFloat(C[0]),parseFloat(C[1]||C[0])]);break;case"rotate":Po(v,v,-parseFloat(C[0])*D_);break;case"skewX":al(v,[1,0,Math.tan(parseFloat(C[0])*D_),1,0,0],v);break;case"skewY":al(v,[1,Math.tan(parseFloat(C[0])*D_),0,1,0,0],v);break;case"matrix":v[0]=parseFloat(C[0]),v[1]=parseFloat(C[1]),v[2]=parseFloat(C[2]),v[3]=parseFloat(C[3]),v[4]=parseFloat(C[4]),v[5]=parseFloat(C[5])}}d.setLocalTransform(v)}}(n,t),gb(n,s,l),r||function(u,d,f){for(var p=0;p<GS.length;p++){var v=GS[p];null!=(y=u.getAttribute(v))&&(d[P0[v]]=y)}for(p=0;p<T_.length;p++){var y;null!=(y=u.getAttribute(v=T_[p]))&&(f[L0[v]]=y)}}(n,s,l)),i.style=i.style||{},null!=s.fill&&(i.style.fill=Wv(i,"fill",s.fill,e)),null!=s.stroke&&(i.style.stroke=Wv(i,"stroke",s.stroke,e)),ue(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){null!=s[u]&&(i.style[u]=parseFloat(s[u]))}),ue(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){null!=s[u]&&(i.style[u]=s[u])}),o&&(i.__selfStyle=l),s.lineDash&&(i.style.lineDash=Ht(Gv(s.lineDash),function(u){return parseFloat(u)})),"hidden"!==s.visibility&&"collapse"!==s.visibility||(i.invisible=!0),"none"===s.display&&(i.ignore=!0)}var YS=/^url\(\s*#(.*?)\)/;function Wv(n,t,e,r){var o=e&&e.match(YS);if(!o)return"none"===e&&(e=null),e;var i=Nr(o[1]);r.push([n,t,i])}var yT=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Gv(n){return n.match(yT)||[]}var bT=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,D_=Math.PI/180,A_=/([^\s:;]+)\s*:\s*([^:;]+)/g;function gb(n,t,e){var r,o=n.getAttribute("style");if(o)for(A_.lastIndex=0;null!=(r=A_.exec(o));){var i=r[1],s=_n(P0,i)?P0[i]:null;s&&(t[s]=r[2]);var l=_n(L0,i)?L0[i]:null;l&&(e[l]=r[2])}}function R0(n,t){var o=Math.min(t.width/n.width,t.height/n.height);return{scale:o,x:-(n.x+n.width/2)*o+(t.x+t.width/2),y:-(n.y+n.height/2)*o+(t.y+t.height/2)}}function XS(n,t){return Math.abs(n-t)<1e-8}function Sd(n,t,e){var r=0,o=n[0];if(!o)return!1;for(var i=1;i<n.length;i++){var s=n[i];r+=Ku(o[0],o[1],s[0],s[1],t,e),o=s}var l=n[0];return XS(o[0],l[0])&&XS(o[1],l[1])||(r+=Ku(o[0],o[1],l[0],l[1],t,e)),0!==r}var mb=[],I_=function(){function n(t){this.name=t}return n.prototype.getCenter=function(){},n}(),qS=function(n){function t(e,r,o){var i=n.call(this,e)||this;if(i.type="geoJSON",i.geometries=r,o)o=[o[0],o[1]];else{var s=i.getBoundingRect();o=[s.x+s.width/2,s.y+s.height/2]}return i._center=o,i}return We(t,n),t.prototype.getBoundingRect=function(){var e=this._rect;if(e)return e;for(var r=Number.MAX_VALUE,o=[r,r],i=[-r,-r],s=[],l=[],u=this.geometries,d=0;d<u.length;d++)"polygon"===u[d].type&&(nd(u[d].exterior,s,l),tn(o,o,s),Xt(i,i,l));return 0===d&&(o[0]=o[1]=i[0]=i[1]=0),this._rect=new Lr(o[0],o[1],i[0]-o[0],i[1]-o[1])},t.prototype.contain=function(e){var r=this.getBoundingRect(),o=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var i=0,s=o.length;i<s;i++)if("polygon"===o[i].type){var u=o[i].interiors;if(Sd(o[i].exterior,e[0],e[1])){for(var d=0;d<(u?u.length:0);d++)if(Sd(u[d],e[0],e[1]))continue e;return!0}}return!1},t.prototype.transformTo=function(e,r,o,i){var s=this.getBoundingRect(),l=s.width/s.height;o?i||(i=o/l):o=l*i;for(var u=new Lr(e,r,o,i),d=s.calculateTransform(u),f=this.geometries,p=0;p<f.length;p++)if("polygon"===f[p].type){for(var v=f[p].exterior,y=f[p].interiors,x=0;x<v.length;x++)ft(v[x],v[x],d);for(var S=0;S<(y?y.length:0);S++)for(x=0;x<y[S].length;x++)ft(y[S][x],y[S][x],d)}(s=this._rect).copy(u),this._center=[s.x+s.width/2,s.y+s.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var r=new t(e,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t.prototype.getCenter=function(){return this._center},t.prototype.setCenter=function(e){this._center=e},t}(I_),xT=function(n){function t(e,r){var o=n.call(this,e)||this;return o.type="geoSVG",o._elOnlyForCalculate=r,o}return We(t,n),t.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this._calculateCenter()),e},t.prototype._calculateCenter=function(){for(var e=this._elOnlyForCalculate,r=e.getBoundingRect(),o=[r.x+r.width/2,r.y+r.height/2],i=Dn(mb),s=e;s&&!s.isGeoSVGGraphicRoot;)al(i,s.getLocalTransform(),i),s=s.parent;return na(i,i),ft(o,o,i),o},t}(I_),im=bn(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),ZS=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=bn(),this._freedGraphics=[],this._mapName=t,this._parsedXML=M_(e)}return n.prototype.load=function(){var i,s,l,t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=(i=t.named,s=[],l=bn(),ue(i,function(u){if(null==u.namedFrom){var d=new xT(u.name,u.el);s.push(d),l.set(u.name,d)}}),{regions:s,regionsMap:l}),o=e.regionsMap;this._regions=e.regions,this._regionsMap=o}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,r,o,i;try{yn(null!=(r=(e=t&&(o=t,i={ignoreViewBox:!0,ignoreRootClip:!0},(new US).parse(o,i))||{}).root))}catch(I){throw new Error("Invalid svg format\n"+I.message)}var s=new nr;s.add(r),s.isGeoSVGGraphicRoot=!0;var l=e.width,u=e.height,d=e.viewBoxRect,f=this._boundingRect;if(!f){var p=void 0,v=void 0,y=void 0,x=void 0;if(null!=l?(p=0,y=l):d&&(p=d.x,y=d.width),null!=u?(v=0,x=u):d&&(v=d.y,x=d.height),null==p||null==v){var S=r.getBoundingRect();null==p&&(p=S.x,y=S.width),null==v&&(v=S.y,x=S.height)}f=this._boundingRect=new Lr(p,v,y,x)}if(d){var C=R0(d,f);r.scaleX=r.scaleY=C.scale,r.x=C.x,r.y=C.y}s.setClipPath(new eo({shape:f.plain()}));var k=[];return ue(e.named,function(I){var R;null!=im.get(I.svgNodeTagLower)&&(k.push(I),(R=I.el).silent=!1,R.isGroup&&R.traverse(function(O){O.silent=!1}))}),{root:s,boundingRect:f,named:k}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,r),r)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);r&&(e.removeKey(t),this._freedGraphics.push(r))},n}();function P_(n,t,e){for(var r=[],o=t[0],i=t[1],s=0;s<n.length;s+=2){var l=n.charCodeAt(s)-64,u=n.charCodeAt(s+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),o=l+=o,i=u+=i,r.push([l/e,u/e])}return r}function vb(n,t){return Ht(Un((n=function(e){if(!e.UTF8Encoding)return e;var r=e,o=r.UTF8Scale;null==o&&(o=1024);for(var i=r.features,s=0;s<i.length;s++){var l=i[s].geometry;if("Polygon"===l.type)for(var u=l.coordinates,d=0;d<u.length;d++)u[d]=P_(u[d],l.encodeOffsets[d],o);else if("MultiPolygon"===l.type)for(u=l.coordinates,d=0;d<u.length;d++)for(var f=u[d],p=0;p<f.length;p++)f[p]=P_(f[p],l.encodeOffsets[d][p],o)}return r.UTF8Encoding=!1,r}(n)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,o=e.geometry,i=[];if("Polygon"===o.type){var s=o.coordinates;i.push({type:"polygon",exterior:s[0],interiors:s.slice(1)})}"MultiPolygon"===o.type&&ue(s=o.coordinates,function(u){u[0]&&i.push({type:"polygon",exterior:u[0],interiors:u.slice(1)})});var l=new qS(r[t||"name"],i,r.cp);return l.properties=r,l})}for(var yb=[126,25],If=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],am=0;am<If.length;am++)for(var sm=0;sm<If[am].length;sm++)If[am][sm][0]/=10.5,If[am][sm][1]/=-14,If[am][sm][0]+=yb[0],If[am][sm][1]+=yb[1];var KS={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},$S={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},JS=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],_T=function(){function n(t,e,r){var o;this.type="geoJSON",this._parsedMap=bn(),this._mapName=t,this._specialAreas=r,this._geoJSON=ir(o=e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(o):new Function("return ("+o+");")():o}return n.prototype.load=function(t,e){var r=this._parsedMap.get(e=e||"name");if(!r){var o=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:o,boundingRect:bb(o)})}var i=bn(),s=[];return ue(r.regions,function(l){var u=l.name;t&&t.hasOwnProperty(u)&&(l=l.cloneShallow(u=t[u])),s.push(l),i.set(u,l)}),{regions:s,boundingRect:r.boundingRect||new Lr(0,0,0,0),regionsMap:i}},n.prototype._parseToRegions=function(t){var e,r=this._mapName,o=this._geoJSON;try{e=o?vb(o,t):[]}catch(i){throw new Error("Invalid geoJson format\n"+i.message)}return function(i,s){if("china"===i){for(var l=0;l<s.length;l++)if("\u5357\u6d77\u8bf8\u5c9b"===s[l].name)return;s.push(new qS("\u5357\u6d77\u8bf8\u5c9b",Ht(If,function(u){return{type:"polygon",exterior:u}}),yb))}}(r,e),ue(e,function(i){var d,s=i.name;(function(u,d){if("china"===u){var f=KS[d.name];if(f){var p=d.getCenter();p[0]+=f[0]/10.5,p[1]+=-f[1]/14,d.setCenter(p)}}})(r,i),function(u,d){if("world"===u){var f=$S[d.name];f&&d.setCenter([f[0],f[1]])}}(r,i),d=i,"china"===r&&"\u53f0\u6e7e"===d.name&&d.geometries.push({type:"polygon",exterior:JS[0]});var l=this._specialAreas&&this._specialAreas[s];l&&i.transformTo(l.left,l.top,l.width,l.height)},this),e},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function bb(n){for(var t,e=0;e<n.length;e++){var r=n[e].getBoundingRect();(t=t||r.clone()).union(r)}return t}var Uv=bn(),xb=function(n){return Uv.get(n)},O0=function(n,t,e){var r=Uv.get(n);if(r)return r.load(t,e)},Cd=new Vt,QS="undefined"!=typeof window,O_={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},N0=/^[a-zA-Z0-9_]+$/,N_="__connectUpdateStatus";function eC(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return nC(this,n,t)}}function tC(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nC(this,n,t)}}function nC(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Vt.prototype[t].apply(n,e)}var Pl,Pf,E0,Bh,jv,B0,z0,lm,V0,E_,B_,F0,z_,V_,H0,rC,F_,Vc,oC,H_=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t}(Vt),W_=H_.prototype;W_.on=tC("on"),W_.off=tC("off");var W0=function(n){function t(e,r,o){var i=n.call(this,new Bv)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],o=o||{},"string"==typeof r&&(r=aC[r]),i._dom=e;var u=i._zr=E(e,{renderer:o.renderer||"canvas",devicePixelRatio:o.devicePixelRatio,width:o.width,height:o.height,useDirtyRect:null!=o.useDirtyRect&&o.useDirtyRect});i._throttledZrFlush=zc(xn(u.flush,u),17),(r=Qt(r))&&wr(r,!0),i._theme=r,i._locale=function(p){if(ir(p)){var v=Ys[p.toUpperCase()]||{};return"ZH"===p||"EN"===p?Qt(v):en(Qt(v),Qt(Ys.EN),!1)}return en(Qt(p),Qt(Ys.EN),!1)}(o.locale||Kl),i._coordSysMgr=new de;var d=i._api=rC(i);function f(p,v){return p.__prio-v.__prio}return rg(G0,f),rg(G_,f),i._scheduler=new ob(i,d,G_,G0),i._messageCenter=new H_,i._initEvents(),i.resize=xn(i.resize,i),u.animation.on("frame",i._onframe,i),E_(u,i),B_(u,i),Kr(i),i}return We(t,n),t.prototype._onframe=function(){if(!this._disposed){oC(this);var e=this._scheduler;if(this.__pendingUpdate){var r=this.__pendingUpdate.silent;this.__flagInMainProcess=!0,Pl(this),Bh.update.call(this,null,this.__pendingUpdate.updateParams),this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,lm.call(this,r),V0.call(this,r)}else if(e.unfinished){var o=1,i=this._model,s=this._api;e.unfinished=!1;do{var l=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),B0(this,i),e.performVisualTasks(i),H0(this,this._model,s,"remain",{}),o-=+new Date-l}while(o>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.setOption=function(e,r,o){if(this._disposed);else{var i,s,l;if(zn(r)&&(o=r.lazyUpdate,i=r.silent,s=r.replaceMerge,l=r.transition,r=r.notMerge),this.__flagInMainProcess=!0,!this._model||r){var u=new Te(this._api),d=this._theme,f=this._model=new _;f.scheduler=this._scheduler,f.init(null,null,null,d,this._locale,u)}this._model.setOption(e,{replaceMerge:s},Xv);var p={seriesTransition:l,optionChanged:!0};o?(this.__pendingUpdate={silent:i,updateParams:p},this.__flagInMainProcess=!1,this.getZr().wakeUp()):(Pl(this),Bh.update.call(this,null,p),this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,lm.call(this,i),V0.call(this,i))}},t.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||QS&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){if(Tt.canvasSupported)return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.getSvgDataURL=function(){if(Tt.svgSupported){var e=this._zr;return ue(e.storage.getDisplayList(),function(r){r.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var r=(e=e||{}).excludeComponents,o=this._model,i=[],s=this;ue(r,function(u){o.eachComponent({mainType:u},function(d){var f=s._componentsMap[d.__viewId];f.group.ignore||(i.push(f),f.group.ignore=!0)})});var l="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return ue(i,function(u){u.group.ignore=!1}),l}},t.prototype.getConnectedDataURL=function(e){if(this._disposed);else if(Tt.canvasSupported){var r="svg"===e.type,o=this.group,i=Math.min,s=Math.max,l=1/0;if(j0[o]){var u=l,d=l,f=-1/0,p=-1/0,v=[],y=e&&e.pixelRatio||this.getDevicePixelRatio();ue(Up,function(R,O){if(R.group===o){var V=r?R.getZr().painter.getSvgDom().innerHTML:R.getRenderedCanvas(Qt(e)),F=R.getDom().getBoundingClientRect();u=i(F.left,u),d=i(F.top,d),f=s(F.right,f),p=s(F.bottom,p),v.push({dom:V,left:F.left,top:F.top})}});var x=(f*=y)-(u*=y),S=(p*=y)-(d*=y),C=vo(),k=E(C,{renderer:r?"svg":"canvas"});if(k.resize({width:x,height:S}),r){var I="";return ue(v,function(R){I+='<g transform="translate('+(R.left-u)+","+(R.top-d)+')">'+R.dom+"</g>"}),k.painter.getSvgRoot().innerHTML=I,e.connectedBackgroundColor&&k.painter.setBackgroundColor(e.connectedBackgroundColor),k.refreshImmediately(),k.painter.toDataURL()}return e.connectedBackgroundColor&&k.add(new eo({shape:{x:0,y:0,width:x,height:S},style:{fill:e.connectedBackgroundColor}})),ue(v,function(R){var O=new Yi({style:{x:R.left*y-u,y:R.top*y-d,image:R.dom}});k.add(O)}),k.refreshImmediately(),C.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,r){return jv(this,"convertToPixel",e,r)},t.prototype.convertFromPixel=function(e,r){return jv(this,"convertFromPixel",e,r)},t.prototype.containPixel=function(e,r){var o;if(!this._disposed)return ue(hu(this._model,e),function(i,s){s.indexOf("Models")>=0&&ue(i,function(l){var u=l.coordinateSystem;if(u&&u.containPoint)o=o||!!u.containPoint(r);else if("seriesModels"===s){var d=this._chartsMap[l.__viewId];d&&d.containPoint&&(o=o||d.containPoint(r,l))}},this)},this),!!o},t.prototype.getVisual=function(e,r){var o=hu(this._model,e,{defaultMainType:"series"}),s=o.seriesModel.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return null!=l?g_(s,l,r):zv(s,r)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var r,o,i=this;ue(iC,function(s){var l=function(u){var d,f=i.getModel(),p=u.target;if("globalout"===s?d={}:p&&Gp(p,function(k){var I=br(k);if(I&&null!=I.dataIndex){var R=I.dataModel||f.getSeriesByIndex(I.seriesIndex);return d=R&&R.getDataParams(I.dataIndex,I.dataType)||{},!0}if(I.eventData)return d=tt({},I.eventData),!0},!0),d){var y=d.componentType,x=d.componentIndex;"markLine"!==y&&"markPoint"!==y&&"markArea"!==y||(y="series",x=d.seriesIndex);var S=y&&null!=x&&f.getComponent(y,x),C=S&&i["series"===S.mainType?"_chartsMap":"_componentsMap"][S.__viewId];d.event=u,d.type=s,i._$eventProcessor.eventInfo={targetEl:p,packedEvent:d,model:S,view:C},i.trigger(s,d)}};l.zrEventfulCallAtLast=!0,i._zr.on(s,l,i)}),ue(fl,function(s,l){i._messageCenter.on(l,function(u){this.trigger(l,u)},i)}),ue(["selectchanged"],function(s){i._messageCenter.on(s,function(l){this.trigger(s,l)},i)}),r=this,o=this._api,this._messageCenter.on("selectchanged",function(s){var l=o.getModel();s.isFromClick?(Vv("map","selectchanged",r,l,s),Vv("pie","selectchanged",r,l,s)):"select"===s.fromAction?(Vv("map","selected",r,l,s),Vv("pie","selected",r,l,s)):"unselect"===s.fromAction&&(Vv("map","unselected",r,l,s),Vv("pie","unselected",r,l,s))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,Kf(this.getDom(),Sb,"");var e=this,r=e._api,o=e._model;ue(e._componentsViews,function(i){i.dispose(o,r)}),ue(e._chartsViews,function(i){i.dispose(o,r)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete Up[e.id]}},t.prototype.resize=function(e){if(this._disposed);else{this._zr.resize(e);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),r){var o=r.resetOption("media"),i=e&&e.silent;this.__pendingUpdate&&(null==i&&(i=this.__pendingUpdate.silent),o=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0,o&&Pl(this),Bh.update.call(this,{type:"resize",animation:tt({duration:0},e&&e.animation)}),this.__flagInMainProcess=!1,lm.call(this,i),V0.call(this,i)}}},t.prototype.showLoading=function(e,r){if(this._disposed);else if(zn(e)&&(r=e,e=""),e=e||"default",this.hideLoading(),U0[e]){var o=U0[e](this._api,r),i=this._zr;this._loadingFX=o,i.add(o)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var r=tt({},e);return r.type=fl[e.type],r},t.prototype.dispatchAction=function(e,r){if(this._disposed);else if(zn(r)||(r={silent:!!r}),Md[e.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(e);else{var o=r.silent;z0.call(this,e,o);var i=r.flush;i?this._zr.flush():!1!==i&&Tt.browser.weChat&&this._throttledZrFlush(),lm.call(this,o),V0.call(this,o)}},t.prototype.updateLabelLayout=function(){Cd.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed);else{var r=e.seriesIndex;this.getModel().getSeriesByIndex(r).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(l){for(var u=[],d=l.currentStates,f=0;f<d.length;f++){var p=d[f];"emphasis"!==p&&"blur"!==p&&"select"!==p&&u.push(p)}l.selected&&l.states.select&&u.push("select"),2===l.hoverState&&l.states.emphasis?u.push("emphasis"):1===l.hoverState&&l.states.blur&&u.push("blur"),l.useStates(u)}function r(l,u){l.preventAutoZ||o(u.group,l.get("z")||0,l.get("zlevel")||0,-1/0)}function o(l,u,d,f){var p=l.getTextContent(),v=l.getTextGuideLine();if(l.isGroup)for(var y=l.childrenRef(),x=0;x<y.length;x++)f=Math.max(o(y[x],u,d,f),f);else l.z=u,l.zlevel=d,f=Math.max(l.z2,f);if(p&&(p.z=u,p.zlevel=d,isFinite(f)&&(p.z2=f+2)),v){var S=l.textGuideLineConfig;v.z=u,v.zlevel=d,isFinite(f)&&(v.z2=f+(S&&S.showAbove?1:-1))}return f}function i(l,u){u.group.traverse(function(d){if(!Dl(d)){var f=d.getTextContent(),p=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),f&&f.stateTransition&&(f.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function s(l,u){var d=l.getModel("stateAnimation"),f=l.isAnimationEnabled(),p=d.get("duration"),v=p>0?{duration:p,delay:d.get("delay"),easing:d.get("easing")}:null;u.group.traverse(function(y){if(y.states&&y.states.emphasis){if(Dl(y))return;if(y instanceof Vr&&function(k){var I=Ym(k);I.normalFill=k.style.fill,I.normalStroke=k.style.stroke;var R=k.states.select||{};I.selectFill=R.style&&R.style.fill||null,I.selectStroke=R.style&&R.style.stroke||null}(y),y.__dirty){var x=y.prevStates;x&&y.useStates(x)}if(f){y.stateTransition=v;var S=y.getTextContent(),C=y.getTextGuideLine();S&&(S.stateTransition=v),C&&(C.stateTransition=v)}y.__dirty&&e(y)}})}Pl=function(l){var u=l._scheduler;u.restorePipelines(l._model),u.prepareStageTasks(),Pf(l,!0),Pf(l,!1),u.plan()},Pf=function(l,u){for(var d=l._model,f=l._scheduler,p=u?l._componentsViews:l._chartsViews,v=u?l._componentsMap:l._chartsMap,y=l._zr,x=l._api,S=0;S<p.length;S++)p[S].__alive=!1;function C(I){var R=I.__requireNewView;I.__requireNewView=!1;var O="_ec_"+I.id+"_"+I.type,V=!R&&v[O];if(!V){var F=ts(I.type);(V=new(u?xi.getClass(F.main,F.sub):zo.getClass(F.sub))).init(d,x),v[O]=V,p.push(V),y.add(V.group)}I.__viewId=V.__id=O,V.__alive=!0,V.__model=I,V.group.__ecComponentInfo={mainType:I.mainType,index:I.componentIndex},!u&&f.prepareView(V,I,d,x)}for(u?d.eachComponent(function(I,R){"series"!==I&&C(R)}):d.eachSeries(C),S=0;S<p.length;){var k=p[S];k.__alive?S++:(!u&&k.renderTask.dispose(),y.remove(k.group),k.dispose(d,x),p.splice(S,1),v[k.__id]===k&&delete v[k.__id],k.__id=k.group.__ecComponentInfo=null)}},E0=function(l,u,d,f,p){var v=l._model;if(v.setUpdatePayload(d),f){var y={};y[f+"Id"]=d[f+"Id"],y[f+"Index"]=d[f+"Index"],y[f+"Name"]=d[f+"Name"];var x={mainType:f,query:y};p&&(x.subType=p);var S,C=d.excludeSeriesId;null!=C&&(S=bn(),ue(no(C),function(I){var R=ia(I,null);null!=R&&S.set(R,!0)})),Qm(d)&&_t(l._api),v&&v.eachComponent(x,function(I){if(!S||null===S.get(I.id))if(Qm(d))if(I instanceof Qo)d.type!==Xd||d.notBlur||function(F,Y,Z){var re=F.seriesIndex,ie=F.getData(Y.dataType),ae=zd(ie,Y);ae=(dt(ae)?ae[0]:ae)||0;var ce=ie.getItemGraphicEl(ae);if(!ce)for(var ve=ie.count(),be=0;!ce&&be<ve;)ce=ie.getItemGraphicEl(be++);if(ce){var _e=br(ce);dd(re,_e.focus,_e.blurScope,Z)}else{var Ce=F.get(["emphasis","focus"]),Pe=F.get(["emphasis","blurScope"]);null!=Ce&&dd(re,Ce,Pe,Z)}}(I,d,l._api);else{var R=_g(I.mainType,I.componentIndex,d.name,l._api),V=R.dispatchers;d.type===Xd&&R.focusSelf&&!d.notBlur&&hh(I.mainType,I.componentIndex,l._api),V&&ue(V,function(F){d.type===Xd?Oa(F):Tl(F)})}else yp(d)&&I instanceof Qo&&(function(F,Y,Z){if(yp(Y)){var re=Y.dataType,ie=zd(F.getData(re),Y);dt(ie)||(ie=[ie]),F[Y.type===dh?"toggleSelect":Y.type===vu?"select":"unselect"](ie,re)}}(I,d),$m(I),Vc(l))},l),v&&v.eachComponent(x,function(I){S&&null!==S.get(I.id)||k(l["series"===f?"_chartsMap":"_componentsMap"][I.__viewId])},l)}else ue([].concat(l._componentsViews).concat(l._chartsViews),k);function k(I){I&&I.__alive&&I[u]&&I[u](I.__model,v,l._api,d)}},Bh={prepareAndUpdate:function(l){Pl(this),Bh.update.call(this,l,{optionChanged:null!=l.newOption})},update:function(l,u){var d=this._model,f=this._api,p=this._zr,v=this._coordSysMgr,y=this._scheduler;if(d){d.setUpdatePayload(l),y.restoreData(d,l),y.performSeriesTasks(d),v.create(d,f),y.performDataProcessorTasks(d,l),B0(this,d),v.update(d,f),F0(d),y.performVisualTasks(d,l),z_(this,d,f,l,u);var x=d.get("backgroundColor")||"transparent",S=d.get("darkMode");if(Tt.canvasSupported)p.setBackgroundColor(x),null!=S&&"auto"!==S&&p.setDarkMode(S);else{var C=Gi(x);x=ps(C,"rgb"),0===C[3]&&(x="transparent")}Cd.trigger("afterupdate",d,f)}},updateTransform:function(l){var u=this,d=this._model,f=this._api;if(d){d.setUpdatePayload(l);var p=[];d.eachComponent(function(y,x){if("series"!==y){var S=u.getViewOfComponentModel(x);if(S&&S.__alive)if(S.updateTransform){var C=S.updateTransform(x,d,f,l);C&&C.update&&p.push(S)}else p.push(S)}});var v=bn();d.eachSeries(function(y){var x=u._chartsMap[y.__viewId];if(x.updateTransform){var S=x.updateTransform(y,d,f,l);S&&S.update&&v.set(y.uid,1)}else v.set(y.uid,1)}),F0(d),this._scheduler.performVisualTasks(d,l,{setDirty:!0,dirtyMap:v}),H0(this,d,f,l,{},v),Cd.trigger("afterupdate",d,f)}},updateView:function(l){var u=this._model;u&&(u.setUpdatePayload(l),zo.markUpdateMethod(l,"updateView"),F0(u),this._scheduler.performVisualTasks(u,l,{setDirty:!0}),z_(this,u,this._api,l,{}),Cd.trigger("afterupdate",u,this._api))},updateVisual:function(l){var u=this,d=this._model;d&&(d.setUpdatePayload(l),d.eachSeries(function(f){f.getData().clearAllVisual()}),zo.markUpdateMethod(l,"updateVisual"),F0(d),this._scheduler.performVisualTasks(d,l,{visualType:"visual",setDirty:!0}),d.eachComponent(function(f,p){if("series"!==f){var v=u.getViewOfComponentModel(p);v&&v.__alive&&v.updateVisual(p,d,u._api,l)}}),d.eachSeries(function(f){u._chartsMap[f.__viewId].updateVisual(f,d,u._api,l)}),Cd.trigger("afterupdate",d,this._api))},updateLayout:function(l){Bh.update.call(this,l)}},jv=function(l,u,d,f){if(l._disposed);else for(var p,v=l._model,y=l._coordSysMgr.getCoordinateSystems(),x=hu(v,d),S=0;S<y.length;S++){var C=y[S];if(C[u]&&null!=(p=C[u](v,x,f)))return p}},B0=function(l,u){var d=l._chartsMap,f=l._scheduler;u.eachSeries(function(p){f.updateStreamModes(p,d[p.__viewId])})},z0=function(l,u){var d=this,f=this.getModel(),p=l.type,v=l.escapeConnect,y=Md[p],x=y.actionInfo,S=(x.update||"update").split(":"),C=S.pop(),k=null!=S[0]&&ts(S[0]);this.__flagInMainProcess=!0;var I=[l],R=!1;l.batch&&(R=!0,I=Ht(l.batch,function(ie){return(ie=Gt(tt({},ie),l)).batch=null,ie}));var O,V=[],F=yp(l),Y=Qm(l);if(ue(I,function(ie){if((O=(O=y.action(ie,d._model,d._api))||tt({},ie)).type=x.event||O.type,V.push(O),Y){var ae=Lm(l),ve=ae.mainTypeSpecified?ae.queryOptionMap.keys()[0]:"series";E0(d,C,ie,ve),Vc(d)}else F?(E0(d,C,ie,"series"),Vc(d)):k&&E0(d,C,ie,k.main,k.sub)}),"none"===C||Y||F||k||(this.__pendingUpdate?(Pl(this),Bh.update.call(this,l),this.__pendingUpdate=null):Bh[C].call(this,l)),O=R?{type:x.event||p,escapeConnect:v,batch:V}:V[0],this.__flagInMainProcess=!1,!u){var Z=this._messageCenter;if(Z.trigger(O.type,O),F){var re={type:"selectchanged",escapeConnect:v,selected:qy(f),isFromClick:l.isFromClick||!1,fromAction:l.type,fromActionPayload:l};Z.trigger(re.type,re)}}},lm=function(l){for(var u=this._pendingActions;u.length;){var d=u.shift();z0.call(this,d,l)}},V0=function(l){!l&&this.trigger("updated")},E_=function(l,u){l.on("rendered",function(d){u.trigger("rendered",d),!l.animation.isFinished()||u.__pendingUpdate||u._scheduler.unfinished||u._pendingActions.length||u.trigger("finished")})},B_=function(l,u){l.on("mouseover",function(d){var p,v,y,x,S,C,f=Gp(d.target,vp);f&&(v=d,y=u._api,(C=(S=_g((x=br(p=f)).componentMainType,x.componentIndex,x.componentHighDownName,y)).dispatchers)?(S.focusSelf&&hh(x.componentMainType,x.componentIndex,y),ue(C,function(I){return bg(I,v)})):(dd(x.seriesIndex,x.focus,x.blurScope,y),"self"===x.focus&&hh(x.componentMainType,x.componentIndex,y),bg(p,v)),Vc(u))}).on("mouseout",function(d){var f=Gp(d.target,vp);f&&(function(p,v,y){_t(y);var x=br(p),S=_g(x.componentMainType,x.componentIndex,x.componentHighDownName,y).dispatchers;S?ue(S,function(C){return Zm(C,v)}):Zm(p,v)}(f,d,u._api),Vc(u))}).on("click",function(d){var f=Gp(d.target,function(y){return null!=br(y).dataIndex},!0);if(f){var p=f.selected?"unselect":"select",v=br(f);u._api.dispatchAction({type:p,dataType:v.dataType,dataIndexInside:v.dataIndex,seriesIndex:v.seriesIndex,isFromClick:!0})}})},F0=function(l){l.clearColorPalette(),l.eachSeries(function(u){u.clearColorPalette()})},z_=function(l,u,d,f,p){V_(l,u,d,f,p),ue(l._chartsViews,function(v){v.__alive=!1}),H0(l,u,d,f,p),ue(l._chartsViews,function(v){v.__alive||v.remove(u,d)})},V_=function(l,u,d,f,p,v){ue(v||l._componentsViews,function(y){var x=y.__model;i(0,y),y.render(x,u,d,f),r(x,y),s(x,y)})},H0=function(l,u,d,f,p,v){var y=l._scheduler;p=tt(p||{},{updatedSeries:u.getSeries()}),Cd.trigger("series:beforeupdate",u,d,p);var S,C,I,x=!1;u.eachSeries(function(S){var C=l._chartsMap[S.__viewId];C.__alive=!0;var R,O,k=C.renderTask;y.updatePayload(k,f),i(0,C),v&&v.get(S.uid)&&k.dirty(),k.perform(y.getPerformArgs(k))&&(x=!0),C.group.silent=!!S.get("silent"),R=C,O=S.get("blendMode")||null,R.group.traverse(function(V){V.isGroup||(V.style.blend=O),V.eachPendingDisplayable&&V.eachPendingDisplayable(function(F){F.style.blend=O})}),$m(S)}),y.unfinished=x||y.unfinished,Cd.trigger("series:layoutlabels",u,d,p),Cd.trigger("series:transition",u,d,p),u.eachSeries(function(S){var C=l._chartsMap[S.__viewId];r(S,C),s(S,C)}),C=u,I=0,(S=l)._zr.storage.traverse(function(R){R.isGroup||I++}),I>C.get("hoverLayerThreshold")&&!Tt.node&&!Tt.worker&&C.eachSeries(function(R){if(!R.preventUsingHoverLayer){var O=S._chartsMap[R.__viewId];O.__alive&&O.group.traverse(function(V){V.states.emphasis&&(V.states.emphasis.hoverLayer=!0)})}}),Cd.trigger("series:afterupdate",u,d,p)},Vc=function(l){l.__needsUpdateStatus=!0,l.getZr().wakeUp()},oC=function(l){l.__needsUpdateStatus&&(l.getZr().storage.traverse(function(u){Dl(u)||e(u)}),l.__needsUpdateStatus=!1)},rC=function(l){return new(function(u){function d(){return null!==u&&u.apply(this,arguments)||this}return We(d,u),d.prototype.getCoordinateSystems=function(){return l._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(f){for(;f;){var p=f.__ecComponentInfo;if(null!=p)return l._model.getComponent(p.mainType,p.index);f=f.parent}},d.prototype.enterEmphasis=function(f,p){Oa(f,p),Vc(l)},d.prototype.leaveEmphasis=function(f,p){Tl(f,p),Vc(l)},d.prototype.enterBlur=function(f){cd(f),Vc(l)},d.prototype.leaveBlur=function(f){xg(f),Vc(l)},d.prototype.enterSelect=function(f){Km(f),Vc(l)},d.prototype.leaveSelect=function(f){mp(f),Vc(l)},d.prototype.getModel=function(){return l.getModel()},d.prototype.getViewOfComponentModel=function(f){return l.getViewOfComponentModel(f)},d.prototype.getViewOfSeriesModel=function(f){return l.getViewOfSeriesModel(f)},d}(Q))(l)},F_=function(l){function u(d,f){for(var p=0;p<d.length;p++)d[p][N_]=f}ue(fl,function(d,f){l._messageCenter.on(f,function(p){if(j0[l.group]&&0!==l[N_]){if(p&&p.escapeConnect)return;var v=l.makeActionFromEvent(p),y=[];ue(Up,function(x){x!==l&&x.group===l.group&&y.push(x)}),u(y,0),ue(y,function(x){1!==x[N_]&&x.dispatchAction(v)}),u(y,2)}})})}}(),t}(Vt),wb=W0.prototype;wb.on=eC("on"),wb.off=eC("off"),wb.one=function(n,t,e){var r=this;this.on.call(this,n,function o(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];t&&t.apply&&t.apply(this,i),r.off(n,o)},e)};var iC=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Md={},fl={},G_=[],Xv=[],G0=[],aC={},U0={},Up={},j0={},CT=+new Date-0,MT=+new Date-0,Sb="_echarts_instance_";function U_(n){j0[n]=!1}var sC=U_;function qv(n){return Up[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(n,Sb)]}function Cb(n,t){aC[n]=t}function j_(n){hn(Xv,n)<0&&Xv.push(n)}function Zv(n,t){Mb(G_,n,t,2e3)}function Lf(n){Y0("afterinit",n)}function um(n){Y0("afterupdate",n)}function Y0(n,t){Cd.on(n,t)}function dc(n,t,e){"function"==typeof t&&(e=t,t="");var r=zn(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase(),fl[t=n.event]||(yn(N0.test(r)&&N0.test(t)),Md[r]||(Md[r]={action:e,actionInfo:n}),fl[t]=r)}function lC(n,t){de.register(n,t)}function uC(n,t){Mb(G0,n,t,1e3,"layout")}function zh(n,t){Mb(G0,n,t,3e3,"visual")}var X0=[];function Mb(n,t,e,r,o){if((ge(t)||zn(t))&&(e=t,t=r),!(hn(X0,e)>=0)){X0.push(e);var i=ob.wrapStageHandler(e,o);i.__prio=t,i.__raw=e,n.push(i)}}function Tb(n,t){U0[n]=t}function cC(n,t,e){!function(n,t,e){if(t.svg){var r=new ZS(n,t.svg);Uv.set(n,r)}else{var o=t.geoJson||t.geoJSON;o&&!t.features?e=t.specialAreas:o=t,r=new _T(n,o,e),Uv.set(n,r)}}(n,t,e)}var dC=function(n){var t=(n=Qt(n)).type;t||Hn("");var r=t.split(":");2!==r.length&&Hn("");var o=!1;"echarts"===r[0]&&(t=r[1],o=!0),n.__isBuiltIn=o,Z1.set(t,n)};zh(2e3,b0),zh(4500,i_),zh(4500,a_),zh(2e3,ES),zh(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(n.hasSymbolVisual&&!t.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(e,r){var o=e.getItemModel(r),i=o.getShallow("symbol",!0),s=o.getShallow("symbolSize",!0),l=o.getShallow("symbolRotate",!0),u=o.getShallow("symbolOffset",!0),d=o.getShallow("symbolKeepAspect",!0);null!=i&&e.setItemVisual(r,"symbol",i),null!=s&&e.setItemVisual(r,"symbolSize",s),null!=l&&e.setItemVisual(r,"symbolRotate",l),null!=u&&e.setItemVisual(r,"symbolOffset",u),null!=d&&e.setItemVisual(r,"symbolKeepAspect",d)}:null}}}),zh(7e3,function(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var r=e.getData();r.hasItemVisual()&&r.each(function(i){var s=r.getItemVisual(i,"decal");s&&(r.ensureUniqueItemVisual(i,"style").decal=Af(s,t))});var o=r.getVisual("decal");o&&(r.getVisual("style").decal=Af(o,t))}})}),j_(wr),Zv(900,function(n){var t=bn();n.eachSeries(function(e){var r=e.get("stack");if(r){var o=t.get(r)||t.set(r,[]),i=e.getData(),s={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;o.length&&i.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(s)}}),t.each(Br)}),Tb("default",function(n,t){Gt(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new nr,r=new eo({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(r);var o,i=new Xr({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),s=new eo({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(s),t.showSpinner&&((o=new ci({shape:{startAngle:-nm/2,endAngle:-nm/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*nm/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*nm/2}).delay(300).start("circularInOut"),e.add(o)),e.resize=function(){var l=i.getBoundingRect().width,u=t.showSpinner?t.spinnerRadius:0,d=(n.getWidth()-2*u-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner&&l?0:5+l/2)+(t.showSpinner?0:l/2)+(l?0:u),f=n.getHeight()/2;t.showSpinner&&o.setShape({cx:d,cy:f}),s.setShape({x:d-u,y:f-u,width:2*u,height:2*u}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),dc({type:Xd,event:Xd,update:Xd},Do),dc({type:ch,event:ch,update:ch},Do),dc({type:vu,event:vu,update:vu},Do),dc({type:hp,event:hp,update:hp},Do),dc({type:dh,event:dh,update:dh},Do),Cb("light",NS),Cb("dark",p_);var Y_=[],kb={registerPreprocessor:j_,registerProcessor:Zv,registerPostInit:Lf,registerPostUpdate:um,registerUpdateLifecycle:Y0,registerAction:dc,registerCoordinateSystem:lC,registerLayout:uC,registerVisual:zh,registerTransform:dC,registerLoading:Tb,registerMap:cC,PRIORITY:O_,ComponentModel:Hr,ComponentView:xi,SeriesModel:Qo,ChartView:zo,registerComponentModel:function(n){Hr.registerClass(n)},registerComponentView:function(n){xi.registerClass(n)},registerSeriesModel:function(n){Qo.registerClass(n)},registerChartView:function(n){zo.registerClass(n)},registerSubTypeDefaulter:function(n,t){Hr.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){U(n,t)}};function Fr(n){dt(n)?ue(n,function(t){Fr(t)}):hn(Y_,n)>=0||(Y_.push(n),ge(n)&&(n={install:n}),n.install(kb))}function Kv(n){return null==n?0:n.length||1}function X_(n){return n}var Rf=function(){function n(t,e,r,o,i,s){this._old=t,this._new=e,this._oldKeyGetter=r||X_,this._newKeyGetter=o||X_,this.context=i,this._diffModeMultiple="multiple"===s}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,r={},o=new Array(t.length),i=new Array(e.length);this._initIndexMap(t,null,o,"_oldKeyGetter"),this._initIndexMap(e,r,i,"_newKeyGetter");for(var s=0;s<t.length;s++){var l=o[s],u=r[l],d=Kv(u);if(d>1){var f=u.shift();1===u.length&&(r[l]=u[0]),this._update&&this._update(f,s)}else 1===d?(r[l]=null,this._update&&this._update(u,s)):this._remove&&this._remove(s)}this._performRestAdd(i,r)},n.prototype._executeMultiple=function(){var e=this._new,r={},o={},i=[],s=[];this._initIndexMap(this._old,r,i,"_oldKeyGetter"),this._initIndexMap(e,o,s,"_newKeyGetter");for(var l=0;l<i.length;l++){var u=i[l],d=r[u],f=o[u],p=Kv(d),v=Kv(f);if(p>1&&1===v)this._updateManyToOne&&this._updateManyToOne(f,d),o[u]=null;else if(1===p&&v>1)this._updateOneToMany&&this._updateOneToMany(f,d),o[u]=null;else if(1===p&&1===v)this._update&&this._update(f,d),o[u]=null;else if(p>1&&v>1)this._updateManyToMany&&this._updateManyToMany(f,d),o[u]=null;else if(p>1)for(var y=0;y<p;y++)this._remove&&this._remove(d[y]);else this._remove&&this._remove(d)}this._performRestAdd(s,o)},n.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var o=t[r],i=e[o],s=Kv(i);if(s>1)for(var l=0;l<s;l++)this._add&&this._add(i[l]);else 1===s&&this._add&&this._add(i);e[o]=null}},n.prototype._initIndexMap=function(t,e,r,o){for(var i=this._diffModeMultiple,s=0;s<t.length;s++){var l="_ec_"+this[o](t[s],s);if(i||(r[s]=l),e){var u=e[l],d=Kv(u);0===d?(e[l]=s,i&&r.push(l)):1===d?e[l]=[u,s]:u.push(s)}}},n}(),Db=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function Ab(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function q0(n){return"category"===n?"ordinal":"time"===n?"time":"float"}var $v=function(n){this.otherDims={},null!=n&&tt(this,n)},fC=go(),hC={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},pC=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=mC(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return At(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Ec(this.source),r=!vC(t),o="",i=[],s=0,l=0;s<t;s++){var u=void 0,d=void 0,f=void 0,p=this.dimensions[l];if(p&&p.storeDimIndex===s)u=e?p.name:null,d=p.type,f=p.ordinalMeta,l++;else{var v=this.getSourceDimension(s);v&&(u=e?v.name:null,d=v.type)}i.push({property:u,type:d,ordinalMeta:f}),!e||null==u||p&&p.isCalculationCoord||(o+=r?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),o+="$",o+=hC[d]||"f",f&&(o+=f.uid),o+="$"}var y=this.source;return{dimensions:i,hash:[y.seriesLayoutBy,y.startIndex,o].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,r=0;e<this._fullDimCount;e++){var o=void 0,i=this.dimensions[r];if(i&&i.storeDimIndex===e)i.isCalculationCoord||(o=i.name),r++;else{var s=this.getSourceDimension(e);s&&(o=s.name)}t.push(o)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function gC(n){return n instanceof pC}function q_(n){for(var t=bn(),e=0;e<(n||[]).length;e++){var r=n[e],o=zn(r)?r.name:r;null!=o&&null==t.get(o)&&t.set(o,e)}return t}function mC(n){var t=fC(n);return t.dimNameMap||(t.dimNameMap=q_(n.dimensionsDefine))}function vC(n){return n>30}var yC,Z0,Au,Jv,Qv,ey,Z_,K0=zn,jp=Ht,K_="undefined"==typeof Int32Array?Array:Int32Array,Ib=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Vh=["_approximateExtent"],ba=function(){function n(t,e){var r;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o=!1;gC(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(o=!0,r=t),r=r||["x","y"];for(var i={},s=[],l={},u=!1,d={},f=0;f<r.length;f++){var p=r[f],v=ir(p)?new $v({name:p}):p instanceof $v?p:new $v(p),y=v.name;v.type=v.type||"float",v.coordDim||(v.coordDim=y,v.coordDimIndex=0);var x=v.otherDims=v.otherDims||{};s.push(y),i[y]=v,null!=d[y]&&(u=!0),v.createInvertedIndices&&(l[y]=[]),0===x.itemName&&(this._nameDimIdx=f),0===x.itemId&&(this._idDimIdx=f),o&&(v.storeDimIndex=f)}if(this.dimensions=s,this._dimInfos=i,this._initGetDimensionInfo(u),this.hostModel=e,this._invertedIndicesMap=l,this._dimOmitted){var S=this._dimIdxToName=bn();ue(s,function(C){S.set(i[C].storeDimIndex,C)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var r=this._dimIdxToName.get(e);if(null!=r)return r;var o=this._schema.getSourceDimension(e);return o?o.name:void 0},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if("number"==typeof t||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(r){return e.hasOwnProperty(r)?e[r]:void 0}:function(r){return e[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var r=this._dimSummary;if(null==e)return r.encodeFirstDimNotExtra[t];var o=r.encode[t];return o?o[e]:null},n.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,r){var o,i=this;if(t instanceof J1&&(o=t),!o){var s=this.dimensions,l=ri(t)||Yr(t)?new Hp(t,s.length):t;o=new J1;var u=jp(s,function(d){return{type:i._dimInfos[d].type,property:d}});o.initData(l,u,r)}this._store=o,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=function(d,f){var p={},v=p.encode={},y=bn(),x=[],S=[],C={};ue(d.dimensions,function(V){var F,Y=d.getDimensionInfo(V),Z=Y.coordDim;if(Z){var re=Y.coordDimIndex;Ab(v,Z)[re]=V,Y.isExtraCoord||(y.set(Z,1),"ordinal"!==(F=Y.type)&&"time"!==F&&(x[0]=V),Ab(C,Z)[re]=d.getDimensionIndex(Y.name)),Y.defaultTooltip&&S.push(V)}c0.each(function(ie,ae){var ce=Ab(v,ae),ve=Y.otherDims[ae];null!=ve&&!1!==ve&&(ce[ve]=Y.name)})});var k=[],I={};y.each(function(V,F){var Y=v[F];I[F]=Y[0],k=k.concat(Y)}),p.dataDimsOnCoord=k,p.dataDimIndicesOnCoord=Ht(k,function(V){return d.getDimensionInfo(V).storeDimIndex}),p.encodeFirstDimNotExtra=I;var R=v.label;R&&R.length&&(x=R.slice());var O=v.tooltip;return O&&O.length?S=O.slice():S.length||(S=x.slice()),v.defaultedLabel=x,v.defaultedTooltip=S,p.userOutput=new Db(C,f),p}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var r=this._store.appendValues(t,e.length),o=r.start,i=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var l=o;l<i;l++)this._nameList[l]=e[l-o],s&&Z_(this,l)},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,r=0;r<e.length;r++){var o=this._dimInfos[e[r]];o.ordinalMeta&&t.collectOrdinalMeta(o.storeDimIndex,o.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==sc&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var r=this._store.getProvider();this._updateOrdinalMeta();var o=this._nameList,i=this._idList;if(r.getSource().sourceFormat===Nc&&!r.pure)for(var s=[],l=t;l<e;l++){var u=r.getItem(l,s);if(!this.hasItemOption&&O1(u)&&(this.hasItemOption=!0),u){var d=u.name;null==o[l]&&null!=d&&(o[l]=ia(d,null));var f=u.id;null==i[l]&&null!=f&&(i[l]=ia(f,null))}}if(this._shouldMakeIdFromName())for(l=t;l<e;l++)Z_(this,l);yC(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){K0(t)?tt(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),r=this._nameList[e];return null==r&&null!=this._nameDimIdx&&(r=Au(this,this._nameDimIdx,e)),null==r&&(r=""),r},n.prototype._getCategory=function(t,e){var r=this._store.get(t,e),o=this._store.getOrdinalMeta(t);return o?o.categories[r]:r},n.prototype.getId=function(t){return Z0(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var o=this._dimInfos[t];if(o)return this._store.get(o.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var o=this._dimInfos[t];if(o)return this._store.getByRawIndex(o.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var r=this,o=this._store;return dt(t)?o.getValues(jp(t,function(i){return r._getStoreDimIndex(i)}),e):o.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,r=0,o=e.length;r<o;r++)if(isNaN(this._store.get(e[r],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,r=this._store.count();e<r;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var o=(t&&this._invertedIndicesMap[t])[e];return null==o||isNaN(o)?-1:o},n.prototype.indicesOfNearest=function(t,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,r)},n.prototype.each=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=[]);var o=r||this,i=jp(Jv(t),this._getStoreDimIndex,this);this._store.each(i,o?xn(e,o):e)},n.prototype.filterSelf=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=[]);var o=r||this,i=jp(Jv(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,o?xn(e,o):e),this},n.prototype.selectRange=function(t){var e=this,r={};return ue(It(t),function(o){var i=e._getStoreDimIndex(o);r[i]=t[o]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=[]);var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},r=r||this),o},n.prototype.map=function(t,e,r,o){var i=r||o||this,s=jp(Jv(t),this._getStoreDimIndex,this),l=ey(this);return l._store=this._store.map(s,i?xn(e,i):e),l},n.prototype.modify=function(t,e,r,o){var i=r||o||this,s=jp(Jv(t),this._getStoreDimIndex,this);this._store.modify(s,i?xn(e,i):e)},n.prototype.downSample=function(t,e,r,o){var i=ey(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),e,r,o),i},n.prototype.lttbDownSample=function(t,e){var r=ey(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),r},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,r=this.getRawDataItem(t);return new uo(r,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new Rf(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return Z0(t,r)},function(r){return Z0(e,r)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},K0(t)?tt(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var r=this._itemVisuals[t],o=r&&r[e];return null==o?this.getVisual(e):o},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var r=this._itemVisuals,o=r[t];o||(o=r[t]={});var i=o[e];return null==i&&(dt(i=this.getVisual(e))?i=i.slice():K0(i)&&(i=tt({},i)),o[e]=i),i},n.prototype.setItemVisual=function(t,e,r){var o=this._itemVisuals[t]||{};this._itemVisuals[t]=o,K0(e)?tt(o,e):o[e]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){if(K0(t))for(var r in t)t.hasOwnProperty(r)&&this.setLayout(r,t[r]);else this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?tt(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){fp(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){ue(this._graphicEls,function(r,o){r&&t&&t.call(e,r,o)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:jp(this.dimensions,this._getDimInfo,this),this.hostModel)),Qv(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var r=this[t];"function"==typeof r&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var o=r.apply(this,arguments);return e.apply(this,[o].concat(fn(arguments)))})},n.internalField=(yC=function(t){var e=t._invertedIndicesMap;ue(e,function(r,o){var i=t._dimInfos[o],s=i.ordinalMeta,l=t._store;if(s){r=e[o]=new K_(s.categories.length);for(var u=0;u<r.length;u++)r[u]=-1;for(u=0;u<l.count();u++)r[l.get(i.storeDimIndex,u)]=u}})},Au=function(t,e,r){return ia(t._getCategory(e,r),null)},Z0=function(t,e){var r=t._idList[e];return null==r&&null!=t._idDimIdx&&(r=Au(t,t._idDimIdx,e)),null==r&&(r="e\0\0"+e),r},Jv=function(t){return dt(t)||(t=null!=t?[t]:[]),t},ey=function(t){var e=new n(t._schema?t._schema:jp(t.dimensions,t._getDimInfo,t),t.hostModel);return Qv(e,t),e},Qv=function(t,e){ue(Ib.concat(e.__wrappedMethods||[]),function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t.__wrappedMethods=e.__wrappedMethods,ue(Vh,function(r){t[r]=Qt(e[r])}),t._calculationInfo=tt({},e._calculationInfo)},void(Z_=function(t,e){var r=t._nameList,o=t._idList,i=t._nameDimIdx,s=t._idDimIdx,l=r[e],u=o[e];if(null==l&&null!=i&&(r[e]=l=Au(t,i,e)),null==u&&null!=s&&(o[e]=u=Au(t,s,e)),null==u&&null!=l){var d=t._nameRepeatCount,f=d[l]=(d[l]||0)+1;u=l,f>1&&(u+="__ec__"+f),o[e]=u}})),n}();function cm(n,t){ri(n)||(n=Fa(n));var re,ce,e=(t=t||{}).coordDimensions||[],r=t.dimensionsDefine||n.dimensionsDefine||[],o=bn(),i=[],s=(re=e,ce=Math.max(n.dimensionsDetectedCount||1,re.length,r.length,t.dimensionsCount||0),ue(re,function(ve){var be;zn(ve)&&(be=ve.dimsDef)&&(ce=Math.max(ce,be.length))}),ce),l=t.canOmitUnusedDimensions&&vC(s),u=r===n.dimensionsDefine,d=u?mC(n):q_(r),f=t.encodeDefine;!f&&t.encodeDefaulter&&(f=t.encodeDefaulter(n,s));for(var p=bn(f),v=new $1(s),y=0;y<v.length;y++)v[y]=-1;function x(Z){var re=v[Z];if(re<0){var ie=r[Z],ae=zn(ie)?ie:{name:ie},ce=new $v,ve=ae.name;return null!=ve&&null!=d.get(ve)&&(ce.name=ce.displayName=ve),null!=ae.type&&(ce.type=ae.type),null!=ae.displayName&&(ce.displayName=ae.displayName),v[Z]=i.length,ce.storeDimIndex=Z,i.push(ce),ce}return i[re]}if(!l)for(y=0;y<s;y++)x(y);p.each(function(Z,re){var ie=no(Z).slice();if(1===ie.length&&!ir(ie[0])&&ie[0]<0)p.set(re,!1);else{var ae=p.set(re,[]);ue(ie,function(ce,ve){var be=ir(ce)?d.get(ce):ce;null!=be&&be<s&&(ae[ve]=be,C(x(be),re,ve))})}});var S=0;function C(Z,re,ie){null!=c0.get(re)?Z.otherDims[re]=ie:(Z.coordDim=re,Z.coordDimIndex=ie,o.set(re,!0))}ue(e,function(Z){var re,ie,ae,ce;if(ir(Z))re=Z,ce={};else{re=(ce=Z).name;var ve=ce.ordinalMeta;ce.ordinalMeta=null,(ce=tt({},ce)).ordinalMeta=ve,ie=ce.dimsDef,ae=ce.otherDims,ce.name=ce.coordDim=ce.coordDimIndex=ce.dimsDef=ce.otherDims=null}var be=p.get(re);if(!1!==be){if(!(be=no(be)).length)for(var _e=0;_e<(ie&&ie.length||1);_e++){for(;S<s&&null!=x(S).coordDim;)S++;S<s&&be.push(S++)}ue(be,function(Ce,Pe){var Le=x(Ce);if(u&&null!=ce.type&&(Le.type=ce.type),C(Gt(Le,ce),re,Pe),null==Le.name&&ie){var He=ie[Pe];!zn(He)&&(He={name:He}),Le.name=Le.displayName=He.name,Le.defaultTooltip=He.defaultTooltip}ae&&Gt(Le.otherDims,ae)})}});var k=t.generateCoord,I=t.generateCoordCount,R=null!=I;I=k?I||1:0;var O=k||"value";function V(Z){null==Z.name&&(Z.name=Z.coordDim)}if(l)ue(i,function(Z){V(Z)}),i.sort(function(Z,re){return Z.storeDimIndex-re.storeDimIndex});else for(var F=0;F<s;F++){var Y=x(F);null==Y.coordDim&&(Y.coordDim=TT(O,o,R),Y.coordDimIndex=0,(!k||I<=0)&&(Y.isExtraCoord=!0),I--),V(Y),null!=Y.type||1!==Ug(n,F)&&(!Y.isExtraCoord||null==Y.otherDims.itemName&&null==Y.otherDims.seriesName)||(Y.type="ordinal")}return function(Z){for(var re=bn(),ie=0;ie<Z.length;ie++){var ae=Z[ie],ce=ae.name,ve=re.get(ce)||0;ve>0&&(ae.name=ce+(ve-1)),ve++,re.set(ce,ve)}}(i),new pC({source:n,dimensions:i,fullDimensionCount:s,dimensionOmitted:l})}function TT(n,t,e){var r=t.data;if(e||r.hasOwnProperty(n)){for(var o=0;r.hasOwnProperty(n+o);)o++;n+=o}return t.set(n,!0),n}var Pb=function(n){this.coordSysDims=[],this.axisMap=bn(),this.categoryAxisMap=bn(),this.coordSysName=n},hl={cartesian2d:function(n,t,e,r){var o=n.getReferringComponents("xAxis",Fi).models[0],i=n.getReferringComponents("yAxis",Fi).models[0];t.coordSysDims=["x","y"],e.set("x",o),e.set("y",i),ty(o)&&(r.set("x",o),t.firstCategoryDimIndex=0),ty(i)&&(r.set("y",i),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,r){var o=n.getReferringComponents("singleAxis",Fi).models[0];t.coordSysDims=["single"],e.set("single",o),ty(o)&&(r.set("single",o),t.firstCategoryDimIndex=0)},polar:function(n,t,e,r){var o=n.getReferringComponents("polar",Fi).models[0],i=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",i),e.set("angle",s),ty(i)&&(r.set("radius",i),t.firstCategoryDimIndex=0),ty(s)&&(r.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,r){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,r){var o=n.ecModel,i=o.getComponent("parallel",n.get("parallelIndex")),s=t.coordSysDims=i.dimensions.slice();ue(i.parallelAxisIndex,function(l,u){var d=o.getComponent("parallelAxis",l),f=s[u];e.set(f,d),ty(d)&&(r.set(f,d),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=u))})}};function ty(n){return"category"===n.get("type")}function $_(n,t,e){var r,o,i,s=(e=e||{}).byIndex,l=e.stackedCoordDimension;gC(t.schema)?(r=(o=t.schema).dimensions,i=t.store):r=t;var u,d,f,p,v=!(!n||!n.get("stack"));if(ue(r,function(I,R){ir(I)&&(r[R]=I={name:I}),v&&!I.isExtraCoord&&(s||u||!I.ordinalMeta||(u=I),d||"ordinal"===I.type||"time"===I.type||l&&l!==I.coordDim||(d=I))}),!d||s||u||(s=!0),d){f="__\0ecstackresult_"+n.id,p="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var y=d.coordDim,x=d.type,S=0;ue(r,function(I){I.coordDim===y&&S++});var C={name:f,coordDim:y,coordDimIndex:S,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},k={name:p,coordDim:p,coordDimIndex:S+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};o?(i&&(C.storeDimIndex=i.ensureCalculationDimension(p,x),k.storeDimIndex=i.ensureCalculationDimension(f,x)),o.appendCalculationDimension(C),o.appendCalculationDimension(k)):(r.push(C),r.push(k))}return{stackedDimension:d&&d.name,stackedByDimension:u&&u.name,isStackedByIndex:s,stackedOverDimension:p,stackResultDimension:f}}function Fh(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function Lb(n,t){return Fh(n,t)?n.getCalculationInfo("stackResultDimension"):t}function Td(n,t,e){e=e||{};var r,o=t.getSourceManager(),i=!1;n?(i=!0,r=Fa(n)):i=(r=o.getSource()).sourceFormat===Nc;var k,I,R,O,s=function(C){var k=C.get("coordinateSystem"),I=new Pb(k),R=hl[k];if(R)return R(C,I,I.axisMap,I.categoryAxisMap),I}(t),l=(k=s,R=t.get("coordinateSystem"),O=de.get(R),k&&k.coordSysDims&&(I=Ht(k.coordSysDims,function(V){var F={name:V},Y=k.axisMap.get(V);if(Y){var Z=Y.get("type");F.type=q0(Z)}return F})),I||(I=O&&(O.getDimensionsInfo?O.getDimensionsInfo():O.dimensions.slice())||["x","y"]),I),u=e.useEncodeDefaulter,d=ge(u)?u:u?Yn(Lh,l,t):null,f=cm(r,{coordDimensions:l,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:d,canOmitUnusedDimensions:!i}),p=function(C,k,I){var R,O;return I&&ue(C,function(V,F){var Z=I.categoryAxisMap.get(V.coordDim);Z&&(null==R&&(R=F),V.ordinalMeta=Z.getOrdinalMeta(),k&&(V.createInvertedIndices=!0)),null!=V.otherDims.itemName&&(O=!0)}),O||null==R||(C[R].otherDims.itemName=0),R}(f.dimensions,e.createInvertedIndices,s),v=i?null:o.getSharedDataStore(f),y=$_(t,{schema:f,store:v}),x=new ba(f,t);x.setCalculationInfo(y);var S=null!=p&&function(C){if(C.sourceFormat===Nc){var k=function(I){for(var R=0;R<I.length&&null==I[R];)R++;return I[R]}(C.data||[]);return null!=k&&!dt(bi(k))}}(r)?function(C,k,I,R){return R===p?I:this.defaultDimValueGetter(C,k,I,R)}:null;return x.hasItemOption=!1,x.initData(i?r:v,null,S),x}var Of=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(e)||(r[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();ui(Of);var kT=0,eu=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++kT}return n.createByAxisModel=function(t){var e=t.option,r=e.data,o=r&&Ht(r,ny);return new n({categories:o,needCollect:!o,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,r=this._needCollect;if("string"!=typeof t&&!r)return t;if(r&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var o=this._getOrCreateMap();return null==(e=o.get(t))&&(r?(this.categories[e=this.categories.length]=t,o.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=bn(this.categories))},n}();function ny(n){return zn(n)&&null!=n.value?n.value:n+""}var bC=he;function Zs(n){return Se(n)+2}function Rb(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function $0(n,t){return n>=t[0]&&n<=t[1]}function dm(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function J0(n,t){return n*(t[1]-t[0])+t[0]}var Q0=function(n){function t(e){var r=n.call(this,e)||this;r.type="ordinal";var o=r.getSetting("ordinalMeta");return o||(o=new eu({})),dt(o)&&(o=new eu({categories:Ht(o,function(i){return zn(i)?i.value:i})})),r._ordinalMeta=o,r._extent=r.getSetting("extent")||[0,o.categories.length-1],r}return We(t,n),t.prototype.parse=function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return $0(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return dm(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(J0(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],r=this._extent,o=r[0];o<=r[1];)e.push({value:o}),o++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var r=e.ordinalNumbers,o=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],s=0,l=this._ordinalMeta.categories.length,u=Math.min(l,r.length);s<u;++s){var d=r[s];o[s]=d,i[d]=s}for(var f=0;s<l;++s){for(;null!=i[f];)f++;o.push(f),i[f]=s}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var r=this._ticksByOrdinalNumber;return r&&e>=0&&e<r.length?r[e]:e},t.prototype.getRawOrdinalNumber=function(e){var r=this._ordinalNumbersByTick;return r&&e>=0&&e<r.length?r[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var r=this.getRawOrdinalNumber(e.value),o=this._ordinalMeta.categories[r];return null==o?"":o+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.niceTicks=function(){},t.prototype.niceExtent=function(){},t.type="ordinal",t}(Of);Of.registerClass(Q0);var Hh=he,Yp=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return We(t,n),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return $0(e,this._extent)},t.prototype.normalize=function(e){return dm(e,this._extent)},t.prototype.scale=function(e){return J0(e,this._extent)},t.prototype.setExtent=function(e,r){var o=this._extent;isNaN(e)||(o[0]=parseFloat(e)),isNaN(r)||(o[1]=parseFloat(r))},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Zs(e)},t.prototype.getTicks=function(e){var r=this._interval,o=this._extent,i=this._niceExtent,s=this._intervalPrecision,l=[];if(!r)return l;o[0]<i[0]&&l.push(e?{value:Hh(i[0]-r,s)}:{value:o[0]});for(var u=i[0];u<=i[1]&&(l.push({value:u}),(u=Hh(u+r,s))!==l[l.length-1].value);)if(l.length>1e4)return[];var d=l.length?l[l.length-1].value:i[1];return o[1]>d&&l.push(e?{value:Hh(d+r,s)}:{value:o[1]}),l},t.prototype.getMinorTicks=function(e){for(var r=this.getTicks(!0),o=[],i=this.getExtent(),s=1;s<r.length;s++){for(var u=r[s-1],d=0,f=[],p=(r[s].value-u.value)/e;d<e-1;){var v=Hh(u.value+(d+1)*p);v>i[0]&&v<i[1]&&f.push(v),d++}o.push(f)}return o},t.prototype.getLabel=function(e,r){if(null==e)return"";var o=r&&r.precision;return null==o?o=Se(e.value)||0:"auto"===o&&(o=this._intervalPrecision),bd(Hh(e.value,o,!0))},t.prototype.niceTicks=function(e,r,o){e=e||5;var i=this._extent,s=i[1]-i[0];if(isFinite(s)){s<0&&(s=-s,i.reverse());var l=function DT(n,t,e,r){var o={},s=o.interval=fr((n[1]-n[0])/t,!0);null!=e&&s<e&&(s=o.interval=e),null!=r&&s>r&&(s=o.interval=r);var u,d,l=o.intervalPrecision=Zs(s);return u=o.niceTickExtent=[bC(Math.ceil(n[0]/s)*s,l),bC(Math.floor(n[1]/s)*s,l)],d=n,!isFinite(u[0])&&(u[0]=d[0]),!isFinite(u[1])&&(u[1]=d[1]),Rb(u,0,d),Rb(u,1,d),u[0]>u[1]&&(u[0]=u[1]),o}(i,e,r,o);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},t.prototype.niceExtent=function(e){var r=this._extent;if(r[0]===r[1])if(0!==r[0]){var o=r[0];e.fixMax||(r[1]+=o/2),r[0]-=o/2}else r[1]=1;isFinite(r[1]-r[0])||(r[0]=0,r[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var s=this._interval;e.fixMin||(r[0]=Hh(Math.floor(r[0]/s)*s)),e.fixMax||(r[1]=Hh(Math.ceil(r[1]/s)*s))},t.type="interval",t}(Of);Of.registerClass(Yp);var J_="__ec_stack_",e1="undefined"!=typeof Float32Array?Float32Array:Array;function Wh(n){return n.get("stack")||J_+n.seriesIndex}function ry(n){return n.dim+n.index}function oy(n,t){var e=[];return t.eachSeriesByType(n,function(r){Ob(r)&&!Nb(r)&&e.push(r)}),e}function fm(n){var t=function(r){var o={};ue(r,function(p){var v=p.coordinateSystem.getBaseAxis();if("time"===v.type||"value"===v.type)for(var y=p.getData(),x=v.dim+"_"+v.index,S=y.getDimensionIndex(y.mapDimension(v.dim)),C=y.getStore(),k=0,I=C.count();k<I;++k){var R=C.get(S,k);o[x]?o[x].push(R):o[x]=[R]}});var i={};for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];if(l){l.sort(function(p,v){return p-v});for(var u=null,d=1;d<l.length;++d){var f=l[d]-l[d-1];f>0&&(u=null===u?f:Math.min(u,f))}i[s]=u}}return i}(n),e=[];return ue(n,function(r){var o,i=r.coordinateSystem.getBaseAxis(),s=i.getExtent();if("category"===i.type)o=i.getBandWidth();else if("value"===i.type||"time"===i.type){var u=t[i.dim+"_"+i.index],d=Math.abs(s[1]-s[0]),f=i.scale.getExtent(),p=Math.abs(f[1]-f[0]);o=u?d/p*u:d}else{var v=r.getData();o=Math.abs(s[1]-s[0])/v.count()}var y=ee(r.get("barWidth"),o),x=ee(r.get("barMaxWidth"),o),S=ee(r.get("barMinWidth")||1,o),C=r.get("barGap"),k=r.get("barCategoryGap");e.push({bandWidth:o,barWidth:y,barMaxWidth:x,barMinWidth:S,barGap:C,barCategoryGap:k,axisKey:ry(i),stackId:Wh(r)})}),xC(e)}function xC(n){var t={};ue(n,function(r,o){var i=r.axisKey,s=r.bandWidth,l=t[i]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=l.stacks;t[i]=l;var d=r.stackId;u[d]||l.autoWidthCount++,u[d]=u[d]||{width:0,maxWidth:0};var f=r.barWidth;f&&!u[d].width&&(u[d].width=f,f=Math.min(l.remainedWidth,f),l.remainedWidth-=f);var p=r.barMaxWidth;p&&(u[d].maxWidth=p);var v=r.barMinWidth;v&&(u[d].minWidth=v);var y=r.barGap;null!=y&&(l.gap=y);var x=r.barCategoryGap;null!=x&&(l.categoryGap=x)});var e={};return ue(t,function(r,o){e[o]={};var i=r.stacks,s=r.bandWidth,l=r.categoryGap;if(null==l){var u=It(i).length;l=Math.max(35-4*u,15)+"%"}var d=ee(l,s),f=ee(r.gap,1),p=r.remainedWidth,v=r.autoWidthCount,y=(p-d)/(v+(v-1)*f);y=Math.max(y,0),ue(i,function(k){var I=k.maxWidth,R=k.minWidth;if(k.width)O=k.width,I&&(O=Math.min(O,I)),R&&(O=Math.max(O,R)),k.width=O,p-=O+f*O,v--;else{var O=y;I&&I<O&&(O=Math.min(I,p)),R&&R>O&&(O=R),O!==y&&(k.width=O,p-=O+f*O,v--)}}),y=(p-d)/(v+(v-1)*f),y=Math.max(y,0);var x,S=0;ue(i,function(k,I){k.width||(k.width=y),x=k,S+=k.width*(1+f)}),x&&(S-=x.width*f);var C=-S/2;ue(i,function(k,I){e[o][I]=e[o][I]||{bandWidth:s,offset:C,width:k.width},C+=k.width*(1+f)})}),e}function _C(n,t,e){if(n&&t){var r=n[ry(t)];return null!=r&&null!=e?r[Wh(e)]:r}}function Q_(n,t){var e=oy(n,t),r=fm(e),o={};ue(e,function(i){var s=i.getData(),l=i.coordinateSystem,u=l.getBaseAxis(),d=Wh(i),f=r[ry(u)][d],p=f.offset,v=f.width,y=l.getOtherAxis(u),x=i.get("barMinHeight")||0;o[d]=o[d]||[],s.setLayout({bandWidth:f.bandWidth,offset:p,size:v});for(var S=s.mapDimension(y.dim),C=s.mapDimension(u.dim),k=Fh(s,S),I=y.isHorizontal(),R=Eb(0,y),O=s.getStore(),V=s.getDimensionIndex(S),F=s.getDimensionIndex(C),Y=0,Z=O.count();Y<Z;Y++){var re=O.get(V,Y),ie=O.get(F,Y),ae=re>=0?"p":"n",ce=R;k&&(o[d][ie]||(o[d][ie]={p:R,n:R}),ce=o[d][ie][ae]);var ve,be=void 0,_e=void 0,Ce=void 0,Pe=void 0;I?(be=ce,_e=(ve=l.dataToPoint([re,ie]))[1]+p,Ce=ve[0]-R,Pe=v,Math.abs(Ce)<x&&(Ce=(Ce<0?-1:1)*x),isNaN(Ce)||k&&(o[d][ie][ae]+=Ce)):(be=(ve=l.dataToPoint([ie,re]))[0]+p,_e=ce,Ce=v,Pe=ve[1]-R,Math.abs(Pe)<x&&(Pe=(Pe<=0?-1:1)*x),isNaN(Pe)||k&&(o[d][ie][ae]+=Pe)),s.setItemLayout(Y,{x:be,y:_e,width:Ce,height:Pe})}})}var wC={seriesType:"bar",plan:Pv(),reset:function(n){if(Ob(n)&&Nb(n)){var t=n.getData(),e=n.coordinateSystem,r=e.master.getRect(),o=e.getBaseAxis(),i=e.getOtherAxis(o),s=t.getDimensionIndex(t.mapDimension(i.dim)),l=t.getDimensionIndex(t.mapDimension(o.dim)),u=i.isHorizontal(),d=u?0:1,f=_C(fm([n]),o,n).width;return f>.5||(f=.5),{progress:function(p,v){for(var y,x=p.count,S=new e1(2*x),C=new e1(2*x),k=new e1(x),I=[],R=[],O=0,V=0,F=v.getStore();null!=(y=p.next());)R[d]=F.get(s,y),R[1-d]=F.get(l,y),I=e.dataToPoint(R,null),C[O]=u?r.x+r.width:I[0],S[O++]=I[0],C[O]=u?I[1]:r.y+r.height,S[O++]=I[1],k[V++]=y;v.setLayout({largePoints:S,largeDataIndices:k,largeBackgroundPoints:C,barWidth:f,valueAxisStart:Eb(0,i),backgroundStart:u?r.x:r.y,valueAxisHorizontal:u})}}}}};function Ob(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function Nb(n){return n.pipelineContext&&n.pipelineContext.large}function Eb(n,t,e){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}var Bb=function(n){function t(e){var r=n.call(this,e)||this;return r.type="time",r}return We(t,n),t.prototype.getLabel=function(e){var r=this.getSetting("useUTC");return Np(e.value,Op[function(o){switch(o){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(hf(this._minLevelUnit))]||Op.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,r,o){var i=this.getSetting("useUTC");return function(s,l,u,d,f){var p=null;if("string"==typeof u)p=u;else if("function"==typeof u)p=u(s.value,l,{level:s.level});else{var v=tt({},df);if(s.level>0)for(var y=0;y<Pg.length;++y)v[Pg[y]]="{primary|"+v[Pg[y]]+"}";var x=u?!1===u.inherit?u:Gt(u,v):v,S=Th(s.value,f);if(x[S])p=x[S];else if(x.inherit){for(y=_v.indexOf(S)-1;y>=0;--y)if(x[S]){p=x[S];break}p=p||v.none}if(dt(p)){var C=null==s.level?0:s.level>=0?s.level:p.length+s.level;p=p[C=Math.min(C,p.length-1)]}}return Np(new Date(s.value),p,f,d)}(e,r,o,this.getSetting("locale"),i)},t.prototype.getTicks=function(e){var o=this._extent,i=[];if(!this._interval)return i;i.push({value:o[0],level:0});var s=this.getSetting("useUTC"),l=function(u,d,f,p){var y=_v,x=0;function S(Pe,Le,He,Je,vt,Ct,on){for(var xt=new Date(Le),Ft=Le,vn=xt[Je]();Ft<He&&Ft<=p[1];)on.push({value:Ft}),xt[vt](vn+=Pe),Ft=xt.getTime();on.push({value:Ft,notAdd:!0})}function C(Pe,Le,He){var Je=[],vt=!Le.length;if(!function(En,Bn,mr,Mr){var Ar=gn(Bn),la=gn(mr),Ji=function(ao){return Lg(Ar,ao,Mr)===Lg(la,ao,Mr)},To=function(){return Ji("year")},_o=function(){return To()&&Ji("month")},_a=function(){return _o()&&Ji("day")},Ni=function(){return _a()&&Ji("hour")},Pu=function(){return Ni()&&Ji("minute")},gc=function(){return Pu()&&Ji("second")};switch(En){case"year":return To();case"month":return _o();case"day":return _a();case"hour":return Ni();case"minute":return Pu();case"second":return gc();case"millisecond":return gc()&&Ji("millisecond")}}(hf(Pe),p[0],p[1],f)){vt&&(Le=[{value:CC(new Date(p[0]),Pe,f)},{value:p[1]}]);for(var Ct=0;Ct<Le.length-1;Ct++){var on=Le[Ct].value,xt=Le[Ct+1].value;if(on!==xt){var Ft=void 0,vn=void 0,sn=void 0;switch(Pe){case"year":Ft=Math.max(1,Math.round(d/Ig/365)),vn=Rg(f),sn=l0(f);break;case"half-year":case"quarter":case"month":Ft=SC(d),vn=pf(f),sn=Sv(f);break;case"week":case"half-week":case"day":Ft=Vb(d),vn=kh(f),sn=Ng(f);break;case"half-day":case"quarter-day":case"hour":Ft=AT(d),vn=gf(f),sn=Cv(f);break;case"minute":Ft=Nf(d,!0),vn=Og(f),sn=Ep(f);break;case"second":Ft=Nf(d,!1),vn=Dh(f),sn=mf(f);break;case"millisecond":Ft=ew(d),vn=Ah(f),sn=Bp(f)}S(Ft,on,xt,vn,sn,0,Je),"year"===Pe&&He.length>1&&0===Ct&&He.unshift({value:He[0].value-Ft})}}for(Ct=0;Ct<Je.length;Ct++)He.push(Je[Ct]);return Je}}for(var k=[],I=[],R=0,O=0,V=0;V<y.length&&x++<1e4;++V){var F=hf(y[V]);if(wv(y[V])&&(C(y[V],k[k.length-1]||[],I),F!==(y[V+1]?hf(y[V+1]):null))){if(I.length){O=R,I.sort(function(Pe,Le){return Pe.value-Le.value});for(var Y=[],Z=0;Z<I.length;++Z){var re=I[Z].value;0!==Z&&I[Z-1].value===re||(Y.push(I[Z]),re>=p[0]&&re<=p[1]&&R++)}var ie=(p[1]-p[0])/d;if(R>1.5*ie&&O>ie/1.5||(k.push(Y),R>ie||u===y[V]))break}I=[]}}var ae=Un(Ht(k,function(Pe){return Un(Pe,function(Le){return Le.value>=p[0]&&Le.value<=p[1]&&!Le.notAdd})}),function(Pe){return Pe.length>0}),ce=[],ve=ae.length-1;for(V=0;V<ae.length;++V)for(var be=ae[V],_e=0;_e<be.length;++_e)ce.push({value:be[_e].value,level:ve-V});ce.sort(function(Pe,Le){return Pe.value-Le.value});var Ce=[];for(V=0;V<ce.length;++V)0!==V&&ce[V].value===ce[V-1].value||Ce.push(ce[V]);return Ce}(this._minLevelUnit,this._approxInterval,s,o);return(i=i.concat(l)).push({value:o[1],level:0}),i},t.prototype.niceExtent=function(e){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Ig,r[1]+=Ig),r[1]===-1/0&&r[0]===1/0){var o=new Date;r[1]=+new Date(o.getFullYear(),o.getMonth(),o.getDate()),r[0]=r[1]-Ig}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.niceTicks=function(e,r,o){var i=this._extent;this._approxInterval=(i[1]-i[0])/(e=e||10),null!=r&&this._approxInterval<r&&(this._approxInterval=r),null!=o&&this._approxInterval>o&&(this._approxInterval=o);var l=zb.length,u=Math.min(function(d,f,p,v){for(;p<v;){var y=p+v>>>1;d[y][1]<f?p=y+1:v=y}return p}(zb,this._approxInterval,0,l),l-1);this._interval=zb[u][1],this._minLevelUnit=zb[Math.max(u-1,0)][0]},t.prototype.parse=function(e){return"number"==typeof e?e:+gn(e)},t.prototype.contain=function(e){return $0(this.parse(e),this._extent)},t.prototype.normalize=function(e){return dm(this.parse(e),this._extent)},t.prototype.scale=function(e){return J0(e,this._extent)},t.type="time",t}(Yp),zb=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",yd/2],["year",yd]];function Vb(n,t){return(n/=Ig)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function SC(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function AT(n){return(n/=36e5)>12?12:n>6?6:n>3.5?4:n>2?2:1}function Nf(n,t){return(n/=t?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function ew(n){return fr(n,!0)}function CC(n,t,e){var r=new Date(n);switch(hf(t)){case"year":case"month":r[Sv(e)](0);case"day":r[Ng(e)](1);case"hour":r[Cv(e)](0);case"minute":r[Ep(e)](0);case"second":r[mf(e)](0),r[Bp(e)](0)}return r.getTime()}Of.registerClass(Bb);var tw=Of.prototype,iy=Yp.prototype,Fb=he,MC=Math.floor,TC=Math.ceil,t1=Math.pow,fc=Math.log,nw=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Yp,e._interval=0,e}return We(t,n),t.prototype.getTicks=function(e){var o=this._extent,i=this._originalScale.getExtent();return Ht(iy.getTicks.call(this,e),function(s){var l=s.value,u=he(t1(this.base,l));return u=l===o[0]&&this._fixMin?r1(u,i[0]):u,{value:u=l===o[1]&&this._fixMax?r1(u,i[1]):u}},this)},t.prototype.setExtent=function(e,r){var o=this.base;e=fc(e)/fc(o),r=fc(r)/fc(o),iy.setExtent.call(this,e,r)},t.prototype.getExtent=function(){var e=this.base,r=tw.getExtent.call(this);r[0]=t1(e,r[0]),r[1]=t1(e,r[1]);var o=this._originalScale.getExtent();return this._fixMin&&(r[0]=r1(r[0],o[0])),this._fixMax&&(r[1]=r1(r[1],o[1])),r},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var r=this.base;e[0]=fc(e[0])/fc(r),e[1]=fc(e[1])/fc(r),tw.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.niceTicks=function(e){e=e||10;var r=this._extent,o=r[1]-r[0];if(!(o===1/0||o<=0)){var i=qn(o);for(e/o*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[he(TC(r[0]/i)*i),he(MC(r[1]/i)*i)];this._interval=i,this._niceExtent=s}},t.prototype.niceExtent=function(e){iy.niceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return $0(e=fc(e)/fc(this.base),this._extent)},t.prototype.normalize=function(e){return dm(e=fc(e)/fc(this.base),this._extent)},t.prototype.scale=function(e){return e=J0(e,this._extent),t1(this.base,e)},t.type="log",t}(Of),n1=nw.prototype;function r1(n,t){return Fb(n,Se(t))}n1.getMinorTicks=iy.getMinorTicks,n1.getLabel=iy.getLabel,Of.registerClass(nw);var kC=function(){function n(t,e,r){this._prepareParams(t,e,r)}return n.prototype._prepareParams=function(t,e,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var o=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var i=this._modelMinRaw=e.get("min",!0);ge(i)?this._modelMinNum=Gh(t,i({min:r[0],max:r[1]})):"dataMin"!==i&&(this._modelMinNum=Gh(t,i));var s=this._modelMaxRaw=e.get("max",!0);if(ge(s)?this._modelMaxNum=Gh(t,s({min:r[0],max:r[1]})):"dataMax"!==s&&(this._modelMaxNum=Gh(t,s)),o)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),u=dt(l)?l:[l||0,l||0];this._boundaryGapInner="boolean"==typeof u[0]||"boolean"==typeof u[1]?[0,0]:[Bo(u[0],1),Bo(u[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,r=this._dataMax,o=this._axisDataLen,i=this._boundaryGapInner,s=t?null:r-e||Math.abs(e),l="dataMin"===this._modelMinRaw?e:this._modelMinNum,u="dataMax"===this._modelMaxRaw?r:this._modelMaxNum,d=null!=l,f=null!=u;null==l&&(l=t?o?0:NaN:e-i[0]*s),null==u&&(u=t?o?o-1:NaN:r+i[1]*s),(null==l||!isFinite(l))&&(l=NaN),(null==u||!isFinite(u))&&(u=NaN),l>u&&(l=NaN,u=NaN);var p=Dt(l)||Dt(u)||t&&!o;this._needCrossZero&&(l>0&&u>0&&!d&&(l=0),l<0&&u<0&&!f&&(u=0));var v=this._determinedMin,y=this._determinedMax;return null!=v&&(l=v,d=!0),null!=y&&(u=y,f=!0),{min:l,max:u,minFixed:d,maxFixed:f,isBlank:p}},n.prototype.modifyDataMinMax=function(t,e){this[IT[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){this[Hb[t]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),Hb={min:"_determinedMin",max:"_determinedMax"},IT={min:"_dataMin",max:"_dataMax"};function DC(n,t,e){var r=n.rawExtentInfo;return r||(r=new kC(n,t,e),n.rawExtentInfo=r,r)}function Gh(n,t){return null==t?null:Dt(t)?NaN:n.parse(t)}function Wb(n,t){var e=n.type,r=DC(n,t,n.getExtent()).calculate();n.setBlank(r.isBlank);var o=r.min,i=r.max,s=t.ecModel;if(s&&"time"===e){var l=oy("bar",s),u=!1;if(ue(l,function(p){u=u||p.getBaseAxis()===t.axis}),u){var d=fm(l),f=function(p,v,y,x){var S=y.axis.getExtent(),C=S[1]-S[0],k=_C(x,y.axis);if(void 0===k)return{min:p,max:v};var I=1/0;ue(k,function(Y){I=Math.min(Y.offset,I)});var R=-1/0;ue(k,function(Y){R=Math.max(Y.offset+Y.width,R)}),I=Math.abs(I),R=Math.abs(R);var O=I+R,V=v-p,F=V/(1-(I+R)/C)-V;return{min:p-=F*(I/O),max:v+=F*(R/O)}}(o,i,t,d);o=f.min,i=f.max}}return{extent:[o,i],fixMin:r.minFixed,fixMax:r.maxFixed}}function kd(n,t){var e=t,r=Wb(n,e),o=r.extent,i=e.get("splitNumber");n instanceof nw&&(n.base=e.get("logBase"));var s=n.type;n.setExtent(o[0],o[1]),n.niceExtent({splitNumber:i,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:"interval"===s||"time"===s?e.get("minInterval"):null,maxInterval:"interval"===s||"time"===s?e.get("maxInterval"):null});var l=e.get("interval");null!=l&&n.setInterval&&n.setInterval(l)}function hm(n,t){if(t=t||n.get("type"))switch(t){case"category":return new Q0({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Bb({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Of.getClass(t)||Yp)}}function ay(n){var t,e,i,r=n.getLabelModel().get("formatter"),o="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(e=r,function(i,s){return n.scale.getFormattedLabel(i,s,e)}):"string"==typeof r?(i=r,function(s){var l=n.scale.getLabel(s);return i.replace("{value}",null!=l?l:"")}):"function"==typeof r?(t=r,function(i,s){return null!=o&&(s=i.value-o),t(Gb(n,i),s,null!=i.level?{level:i.level}:null)}):function(i){return n.scale.getLabel(i)}}function Gb(n,t){return"category"===n.type?n.scale.getLabel(t):t.value}function AC(n,t){var e=t*Math.PI/180,r=n.width,o=n.height,i=r*Math.abs(Math.cos(e))+Math.abs(o*Math.sin(e)),s=r*Math.abs(Math.sin(e))+Math.abs(o*Math.cos(e));return new Lr(n.x,n.y,i,s)}function Ub(n){var t=n.get("interval");return null==t?"auto":t}function rw(n){return"category"===n.type&&0===Ub(n.getLabelModel())}function o1(n,t){var e={};return ue(n.mapDimensionsAll(t),function(r){e[Lb(n,r)]=!0}),It(e)}var pm=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),PT=Object.freeze({__proto__:null,createList:function(n){return Td(null,n)},getLayoutRect:va,dataStack:{isDimensionStacked:Fh,enableDataStack:$_,getStackedDimension:Lb},createScale:function(n,t){var e=t;t instanceof uo||(e=new uo(t));var r=hm(e);return r.setExtent(n[0],n[1]),kd(r,e),r},mixinAxisModelCommonMethods:function(n){Kn(n,pm)},getECData:br,createTextStyle:function(n,t){return Ri(n,null,null,"normal"!==(t=t||{}).state)},createDimensions:function(n,t){return cm(n,t).dimensions},createSymbol:qi,enableHoverEmphasis:Jo}),IC=Object.freeze({__proto__:null,linearMap:$,round:he,asc:ye,getPrecision:Se,getPrecisionSafe:Re,getPixelPrecision:Be,getPercentWithPrecision:Xe,MAX_SAFE_INTEGER:$t,remRadian:zt,isRadianAroundZero:rn,parseDate:gn,quantity:qn,quantityExponent:Sr,nice:fr,quantile:Jn,reformIntervals:lo,isNumeric:po,numericToNumber:zr}),LT=Object.freeze({__proto__:null,parse:gn,format:Np}),PC=Object.freeze({__proto__:null,extendShape:pv,extendPath:Al,makePath:of,makeImage:gv,mergePath:ls,resizePath:af,createIcon:Va,updateProps:ro,initProps:ni,getTransform:Lc,clipPointsByRect:t0,clipRectByRect:nc,registerShape:za,getShapeClass:Ap,Group:nr,Image:Yi,Text:Xr,Circle:Xl,Ellipse:wp,Sector:Oo,Ring:js,Polygon:Ea,Polyline:xs,Rect:eo,Line:Hi,BezierCurve:Cp,Arc:ci,IncrementalDisplayable:bh,CompoundPath:Tg,LinearGradient:Mp,RadialGradient:fv,BoundingRect:Lr}),LC=Object.freeze({__proto__:null,addCommas:bd,toCamelCase:vf,normalizeCssArray:Gn,encodeHTML:Xs,formatTpl:zg,getTooltipMarker:kv,formatTime:function(n,t,e){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var r=gn(t),o=e?"UTC":"",i=r["get"+o+"FullYear"](),s=r["get"+o+"Month"]()+1,l=r["get"+o+"Date"](),u=r["get"+o+"Hours"](),d=r["get"+o+"Minutes"](),f=r["get"+o+"Seconds"](),p=r["get"+o+"Milliseconds"]();return n.replace("MM",dl(s,2)).replace("M",s).replace("yyyy",i).replace("yy",i%100+"").replace("dd",dl(l,2)).replace("d",l).replace("hh",dl(u,2)).replace("h",u).replace("mm",dl(d,2)).replace("m",d).replace("ss",dl(f,2)).replace("s",f).replace("SSS",dl(p,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:Lo,getTextRect:function(n,t,e,r,o,i,s,l){return new Xr({style:{text:n,font:t,align:e,verticalAlign:r,padding:o,rich:i,overflow:s?"truncate":null,lineHeight:l}}).getBoundingRect()}}),RC=Object.freeze({__proto__:null,map:Ht,each:ue,indexOf:hn,inherits:Pr,reduce:kr,filter:Un,bind:xn,curry:Yn,isArray:dt,isString:ir,isObject:zn,isFunction:ge,extend:tt,defaults:Gt,clone:Qt,merge:en}),sy=go();function iw(n,t){var r,l,u,o=NC(n,"labels"),i=Ub(t);return aw(o,i)||qr(o,i,{labels:ge(i)?sw(n,i):gm(n,r="auto"===i?null!=(u=sy(l=n).autoInterval)?u:sy(l).autoInterval=l.calculateCategoryInterval():i),labelCategoryInterval:r})}function NC(n,t){return sy(n)[t]||(sy(n)[t]=[])}function aw(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function qr(n,t,e){return n.push({key:t,value:e}),e}function gm(n,t,e){var r=ay(n),o=n.scale,i=o.getExtent(),s=n.getLabelModel(),l=[],u=Math.max((t||0)+1,1),d=i[0],f=o.count();0!==d&&u>1&&f/u>2&&(d=Math.round(Math.ceil(d/u)*u));var p=rw(n),v=s.get("showMinLabel")||p,y=s.get("showMaxLabel")||p;v&&d!==i[0]&&S(i[0]);for(var x=d;x<=i[1];x+=u)S(x);function S(C){var k={value:C};l.push(e?C:{formattedLabel:r(k),rawLabel:o.getLabel(k),tickValue:C})}return y&&x-u!==i[1]&&S(i[1]),l}function sw(n,t,e){var r=n.scale,o=ay(n),i=[];return ue(r.getTicks(),function(s){var l=r.getLabel(s),u=s.value;t(s.value,l)&&i.push(e?u:{formattedLabel:o(s),rawLabel:l,tickValue:u})}),i}var lw=[0,1],hc=function(){function n(t,e,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=r||[0,0]}return n.prototype.contain=function(t){var e=this._extent,r=Math.min(e[0],e[1]),o=Math.max(e[0],e[1]);return t>=r&&t<=o},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return Be(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t,r[1]=e},n.prototype.dataToCoord=function(t,e){var r=this._extent,o=this.scale;return t=o.normalize(t),this.onBand&&"ordinal"===o.type&&uw(r=r.slice(),o.count()),$(t,lw,r,e)},n.prototype.coordToData=function(t,e){var r=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&uw(r=r.slice(),o.count());var i=$(t,r,lw,e);return this.scale.scale(i)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),r=Ht(function OC(n,t){return"category"===n.type?function(e,r){var o,i,s=NC(e,"ticks"),l=Ub(r),u=aw(s,l);if(u)return u;if(r.get("show")&&!e.scale.isBlank()||(o=[]),ge(l))o=sw(e,l,!0);else if("auto"===l){var d=iw(e,e.getLabelModel());i=d.labelCategoryInterval,o=Ht(d.labels,function(f){return f.tickValue})}else o=gm(e,i=l,!0);return qr(s,l,{ticks:o,tickCategoryInterval:i})}(n,t):{ticks:Ht(n.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(o){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this);return function(o,i,s,l){var u=i.length;if(o.onBand&&!s&&u){var d,f,p=o.getExtent();if(1===u)i[0].coord=p[0],d=i[1]={coord:p[0]};else{var y=(i[u-1].coord-i[0].coord)/(i[u-1].tickValue-i[0].tickValue);ue(i,function(C){C.coord-=y/2}),f=1+o.scale.getExtent()[1]-i[u-1].tickValue,i.push(d={coord:i[u-1].coord+y*f})}var x=p[0]>p[1];S(i[0].coord,p[0])&&(l?i[0].coord=p[0]:i.shift()),l&&S(p[0],i[0].coord)&&i.unshift({coord:p[0]}),S(p[1],d.coord)&&(l?d.coord=p[1]:i.pop()),l&&S(d.coord,p[1])&&i.push({coord:p[1]})}function S(C,k){return C=he(C),k=he(k),x?C>k:C<k}}(this,r,e.get("alignWithLabel"),t.clamp),r},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),Ht(this.scale.getMinorTicks(t),function(e){return Ht(e,function(r){return{coord:this.dataToCoord(r),tickValue:r}},this)},this)},n.prototype.getViewLabels=function(){return function RT(n){return"category"===n.type?function(t){var e=t.getLabelModel(),r=iw(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}(n):function(t){var e=t.scale.getTicks(),r=ay(t);return{labels:Ht(e,function(o,i){return{level:o.level,formattedLabel:r(o,i),rawLabel:t.scale.getLabel(o),tickValue:o.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),r=e[1]-e[0]+(this.onBand?1:0);0===r&&(r=1);var o=Math.abs(t[1]-t[0]);return Math.abs(o)/r},n.prototype.calculateCategoryInterval=function(){return function(t){var re,ie,e=(ie=(re=t).getLabelModel(),{axisRotate:re.getRotate?re.getRotate():re.isHorizontal&&!re.isHorizontal()?90:0,labelRotate:ie.get("rotate")||0,font:ie.getFont()}),r=ay(t),o=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,s=i.getExtent(),l=i.count();if(s[1]-s[0]<1)return 0;var u=1;l>40&&(u=Math.max(1,Math.floor(l/40)));for(var d=s[0],f=t.dataToCoord(d+1)-t.dataToCoord(d),p=Math.abs(f*Math.cos(o)),v=Math.abs(f*Math.sin(o)),y=0,x=0;d<=s[1];d+=u){var C,k=Hu(r({value:d}),e.font,"center","top");C=1.3*k.height,y=Math.max(y,1.3*k.width,7),x=Math.max(x,C,7)}var I=y/p,R=x/v;isNaN(I)&&(I=1/0),isNaN(R)&&(R=1/0);var O=Math.max(0,Math.floor(Math.min(I,R))),V=sy(t.model),F=t.getExtent(),Y=V.lastAutoInterval,Z=V.lastTickCount;return null!=Y&&null!=Z&&Math.abs(Y-O)<=1&&Math.abs(Z-l)<=1&&Y>O&&V.axisExtent0===F[0]&&V.axisExtent1===F[1]?O=Y:(V.lastTickCount=l,V.lastAutoInterval=O,V.axisExtent0=F[0],V.axisExtent1=F[1]),O}(this)},n}();function uw(n,t){var e=(n[1]-n[0])/t/2;n[0]+=e,n[1]-=e}var ly=2*Math.PI,mm=mu.CMD,EC=["top","right","bottom","left"];function OT(n,t,e,r,o){var i=e.width,s=e.height;switch(n){case"top":r.set(e.x+i/2,e.y-t),o.set(0,-1);break;case"bottom":r.set(e.x+i/2,e.y+s+t),o.set(0,1);break;case"left":r.set(e.x-t,e.y+s/2),o.set(-1,0);break;case"right":r.set(e.x+i+t,e.y+s/2),o.set(1,0)}}function BC(n,t,e,r,o,i,s,l,u){s-=n,l-=t;var d=Math.sqrt(s*s+l*l),f=(s/=d)*e+n,p=(l/=d)*e+t;if(Math.abs(r-o)%ly<1e-4)return u[0]=f,u[1]=p,d-e;if(i){var v=r;r=Ra(o),o=Ra(v)}else r=Ra(r),o=Ra(o);r>o&&(o+=ly);var y=Math.atan2(l,s);if(y<0&&(y+=ly),y>=r&&y<=o||y+ly>=r&&y+ly<=o)return u[0]=f,u[1]=p,d-e;var x=e*Math.cos(r)+n,S=e*Math.sin(r)+t,C=e*Math.cos(o)+n,k=e*Math.sin(o)+t,I=(x-s)*(x-s)+(S-l)*(S-l),R=(C-s)*(C-s)+(k-l)*(k-l);return I<R?(u[0]=x,u[1]=S,Math.sqrt(I)):(u[0]=C,u[1]=k,Math.sqrt(R))}function i1(n,t,e,r,o,i,s,l){var u=o-n,d=i-t,f=e-n,p=r-t,v=Math.sqrt(f*f+p*p),y=(u*(f/=v)+d*(p/=v))/v;l&&(y=Math.min(Math.max(y,0),1));var x=s[0]=n+(y*=v)*f,S=s[1]=t+y*p;return Math.sqrt((x-o)*(x-o)+(S-i)*(S-i))}function cw(n,t,e,r,o,i,s){e<0&&(n+=e,e=-e),r<0&&(t+=r,r=-r);var l=n+e,u=t+r,d=s[0]=Math.min(Math.max(o,n),l),f=s[1]=Math.min(Math.max(i,t),u);return Math.sqrt((d-o)*(d-o)+(f-i)*(f-i))}var tu=[];function dw(n,t,e){var r=cw(t.x,t.y,t.width,t.height,n.x,n.y,tu);return e.set(tu[0],tu[1]),r}function zC(n,t,e){for(var r,o,i=0,s=0,l=0,u=0,d=1/0,f=t.data,p=n.x,v=n.y,y=0;y<f.length;){var x=f[y++];1===y&&(l=i=f[y],u=s=f[y+1]);var S=d;switch(x){case mm.M:i=l=f[y++],s=u=f[y++];break;case mm.L:S=i1(i,s,f[y],f[y+1],p,v,tu,!0),i=f[y++],s=f[y++];break;case mm.C:S=Bm(i,s,f[y++],f[y++],f[y++],f[y++],f[y],f[y+1],p,v,tu),i=f[y++],s=f[y++];break;case mm.Q:S=Vm(i,s,f[y++],f[y++],f[y],f[y+1],p,v,tu),i=f[y++],s=f[y++];break;case mm.A:var C=f[y++],k=f[y++],I=f[y++],R=f[y++],O=f[y++],V=f[y++];y+=1;var F=!!(1-f[y++]);r=Math.cos(O)*I+C,o=Math.sin(O)*R+k,y<=1&&(l=r,u=o),S=BC(C,k,R,O,O+V,F,(p-C)*R/I+C,v,tu),i=Math.cos(O+V)*I+C,s=Math.sin(O+V)*R+k;break;case mm.R:S=cw(l=i=f[y++],u=s=f[y++],f[y++],f[y++],p,v,tu);break;case mm.Z:S=i1(i,s,l,u,p,v,tu,!0),i=l,s=u}S<d&&(d=S,e.set(tu[0],tu[1]))}return d}var Fc=new dr,oi=new dr,Zi=new dr,Hc=new dr,Wc=new dr;function fw(n,t){if(n){var e=n.getTextGuideLine(),r=n.getTextContent();if(r&&e){var o=n.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],s=o.candidates||EC,l=r.getBoundingRect().clone();l.applyTransform(r.getComputedTransform());var u=1/0,d=o.anchor,f=n.getComputedTransform(),p=f&&na([],f),v=t.get("length2")||0;d&&Zi.copy(d);for(var y=0;y<s.length;y++){OT(s[y],0,l,Fc,Hc),dr.scaleAndAdd(oi,Fc,Hc,v),oi.transform(p);var x=n.getBoundingRect(),S=d?d.distance(oi):n instanceof Vr?zC(oi,n.path,Zi):dw(oi,x,Zi);S<u&&(u=S,oi.transform(f),Zi.transform(f),Zi.toArray(i[0]),oi.toArray(i[1]),Fc.toArray(i[2]))}cy(i,t.get("minTurnAngle")),e.setShape({points:i})}}}var uy=[],Ll=new dr;function cy(n,t){if(t<=180&&t>0){t=t/180*Math.PI,Fc.fromArray(n[0]),oi.fromArray(n[1]),Zi.fromArray(n[2]),dr.sub(Hc,Fc,oi),dr.sub(Wc,Zi,oi);var e=Hc.len(),r=Wc.len();if(!(e<.001||r<.001)){Hc.scale(1/e),Wc.scale(1/r);var o=Hc.dot(Wc);if(Math.cos(t)<o){var i=i1(oi.x,oi.y,Zi.x,Zi.y,Fc.x,Fc.y,uy,!1);Ll.fromArray(uy),Ll.scaleAndAdd(Wc,i/Math.tan(Math.PI-t));var s=Zi.x!==oi.x?(Ll.x-oi.x)/(Zi.x-oi.x):(Ll.y-oi.y)/(Zi.y-oi.y);if(isNaN(s))return;s<0?dr.copy(Ll,oi):s>1&&dr.copy(Ll,Zi),Ll.toArray(n[1])}}}}function NT(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Fc.fromArray(n[0]),oi.fromArray(n[1]),Zi.fromArray(n[2]),dr.sub(Hc,oi,Fc),dr.sub(Wc,Zi,oi);var r=Hc.len(),o=Wc.len();if(!(r<.001||o<.001)&&(Hc.scale(1/r),Wc.scale(1/o),Hc.dot(t)<Math.cos(e))){var i=i1(oi.x,oi.y,Zi.x,Zi.y,Fc.x,Fc.y,uy,!1);Ll.fromArray(uy);var s=Math.PI/2,l=s+Math.acos(Wc.dot(t))-e;if(l>=s)dr.copy(Ll,Zi);else{Ll.scaleAndAdd(Wc,i/Math.tan(Math.PI/2-l));var u=Zi.x!==oi.x?(Ll.x-oi.x)/(Zi.x-oi.x):(Ll.y-oi.y)/(Zi.y-oi.y);if(isNaN(u))return;u<0?dr.copy(Ll,oi):u>1&&dr.copy(Ll,Zi)}Ll.toArray(n[1])}}}function hw(n,t,e,r){var o="normal"===e,i=o?n:n.ensureState(e);i.ignore=t;var s=r.get("smooth");s&&!0===s&&(s=.3),i.shape=i.shape||{},s>0&&(i.shape.smooth=s);var l=r.getModel("lineStyle").getLineStyle();o?n.useStyle(l):i.style=l}function ET(n,t){var e=t.smooth,r=t.points;if(r)if(n.moveTo(r[0][0],r[0][1]),e>0&&r.length>=3){var o=Ue(r[0],r[1]),i=Ue(r[1],r[2]);if(!o||!i)return n.lineTo(r[1][0],r[1][1]),void n.lineTo(r[2][0],r[2][1]);var s=Math.min(o,i)*e,l=st([],r[1],r[0],s/o),u=st([],r[1],r[2],s/i),d=st([],l,u,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],d[0],d[1]),n.bezierCurveTo(u[0],u[1],u[0],u[1],r[2][0],r[2][1])}else for(var f=1;f<r.length;f++)n.lineTo(r[f][0],r[f][1])}function pw(n,t,e){var r=n.getTextGuideLine(),o=n.getTextContent();if(o){for(var i=t.normal,s=i.get("show"),l=o.ignore,u=0;u<Qu.length;u++){var d=Qu[u],f=t[d],p="normal"===d;if(f){var v=f.get("show");if((p?l:At(o.states[d]&&o.states[d].ignore,l))||!At(v,s)){var y=p?r:r&&r.states.normal;y&&(y.ignore=!0);continue}r||(r=new xs,n.setTextGuideLine(r),p||!l&&s||hw(r,!0,"normal",t.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),hw(r,!1,d,f)}}if(r){Gt(r.style,e),r.style.fill=null;var x=i.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=x||!1,r.buildPath=ET}}else r&&n.removeTextGuideLine()}function jb(n,t){for(var e={normal:n.getModel(t=t||"labelLine")},r=0;r<bs.length;r++){var o=bs[r];e[o]=n.getModel([o,t])}return e}function VC(n){for(var t=[],e=0;e<n.length;e++){var r=n[e];if(!r.defaultAttr.ignore){var o=r.label,i=o.getComputedTransform(),s=o.getBoundingRect(),l=!i||i[1]<1e-5&&i[2]<1e-5,u=o.style.margin||0,d=s.clone();d.applyTransform(i),d.x-=u/2,d.y-=u/2,d.width+=u,d.height+=u;var f=l?new bu(s,i):null;t.push({label:o,labelLine:r.labelLine,rect:d,localRect:s,obb:f,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:l,transform:i})}}return t}function FC(n,t,e,r,o,i){var s=n.length;if(!(s<2)){n.sort(function(Y,Z){return Y.rect[t]-Z.rect[t]});for(var l,u=0,d=!1,f=0,p=0;p<s;p++){var v=n[p],y=v.rect;(l=y[t]-u)<0&&(y[t]-=l,v.label[t]-=l,d=!0),f+=Math.max(-l,0),u=y[t]+y[e]}f>0&&i&&O(-f/s,0,s);var x,S,C=n[0],k=n[s-1];return I(),x<0&&V(-x,.8),S<0&&V(S,.8),I(),R(x,S,1),R(S,x,-1),I(),x<0&&F(-x),S<0&&F(S),d}function I(){x=C.rect[t]-r,S=o-k.rect[t]-k.rect[e]}function R(Y,Z,re){if(Y<0){var ie=Math.min(Z,-Y);if(ie>0){O(ie*re,0,s);var ae=ie+Y;ae<0&&V(-ae*re,1)}else V(-Y*re,1)}}function O(Y,Z,re){0!==Y&&(d=!0);for(var ie=Z;ie<re;ie++){var ae=n[ie];ae.rect[t]+=Y,ae.label[t]+=Y}}function V(Y,Z){for(var re=[],ie=0,ae=1;ae<s;ae++){var ce=n[ae-1].rect,ve=Math.max(n[ae].rect[t]-ce[t]-ce[e],0);re.push(ve),ie+=ve}if(ie){var be=Math.min(Math.abs(Y)/ie,Z);if(Y>0)for(ae=0;ae<s-1;ae++)O(re[ae]*be,0,ae+1);else for(ae=s-1;ae>0;ae--)O(-re[ae-1]*be,ae,s)}}function F(Y){var Z=Y<0?-1:1;Y=Math.abs(Y);for(var re=Math.ceil(Y/(s-1)),ie=0;ie<s-1;ie++)if(Z>0?O(re,0,ie+1):O(-re,s-ie-1,s),(Y-=re)<=0)return}}function gw(n,t,e,r){return FC(n,"y","height",t,e,r)}function mw(n){var t=[];n.sort(function(S,C){return C.priority-S.priority});var e=new Lr(0,0,0,0);function r(S){if(!S.ignore){var C=S.ensureState("emphasis");null==C.ignore&&(C.ignore=!1)}S.ignore=!0}for(var o=0;o<n.length;o++){var i=n[o],s=i.axisAligned,l=i.localRect,u=i.transform,d=i.label,f=i.labelLine;e.copy(i.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var p=i.obb,v=!1,y=0;y<t.length;y++){var x=t[y];if(e.intersect(x.rect)){if(s&&x.axisAligned){v=!0;break}if(x.obb||(x.obb=new bu(x.localRect,x.transform)),p||(p=new bu(l,u)),p.intersect(x.obb)){v=!0;break}}}v?(r(d),f&&r(f)):(d.attr("ignore",i.defaultAttr.ignore),f&&f.attr("ignore",i.defaultAttr.labelGuideIgnore),t.push(i))}}function BT(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function vw(n,t){var e=n.label,r=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:BT(r&&r.shape.points)}}var yw=["align","verticalAlign","width","height","fontSize"],Iu=new Ka,dy=go(),Yb=go();function Xb(n,t,e){for(var r=0;r<e.length;r++){var o=e[r];null!=t[o]&&(n[o]=t[o])}}var Xp=["x","y","rotation"],HC=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,r,o,i){var s=o.style,l=o.__hostTarget.textConfig||{},u=o.getComputedTransform(),d=o.getBoundingRect().plain();Lr.applyTransform(d,d,u),u?Iu.setLocalTransform(u):(Iu.x=Iu.y=Iu.rotation=Iu.originX=Iu.originY=0,Iu.scaleX=Iu.scaleY=1);var f,p=o.__hostTarget;if(p){f=p.getBoundingRect().plain();var v=p.getComputedTransform();Lr.applyTransform(f,f,v)}var y=f&&p.getTextGuideLine();this._labelList.push({label:o,labelLine:y,seriesModel:r,dataIndex:t,dataType:e,layoutOption:i,computedLayoutOption:null,rect:d,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:o.ignore,labelGuideIgnore:y&&y.ignore,x:Iu.x,y:Iu.y,scaleX:Iu.scaleX,scaleY:Iu.scaleY,rotation:Iu.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:o.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var r=t.__model,o=r.get("labelLayout");(ge(o)||It(o).length)&&t.group.traverse(function(i){if(i.ignore)return!0;var s=i.getTextContent(),l=br(i);s&&!s.disableLabelLayout&&e._addLabel(l.dataIndex,l.dataType,r,s,o)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),r=t.getHeight();function o(k,I){return function(){fw(k,I)}}for(var i=0;i<this._labelList.length;i++){var s=this._labelList[i],l=s.label,u=l.__hostTarget,d=s.defaultAttr,f=void 0;f=(f="function"==typeof s.layoutOption?s.layoutOption(vw(s,u)):s.layoutOption)||{},s.computedLayoutOption=f;var p=Math.PI/180;u&&u.setTextConfig({local:!1,position:null!=f.x||null!=f.y?null:d.attachedPos,rotation:null!=f.rotate?f.rotate*p:d.attachedRot,offset:[f.dx||0,f.dy||0]});var v=!1;if(null!=f.x?(l.x=ee(f.x,e),l.setStyle("x",0),v=!0):(l.x=d.x,l.setStyle("x",d.style.x)),null!=f.y?(l.y=ee(f.y,r),l.setStyle("y",0),v=!0):(l.y=d.y,l.setStyle("y",d.style.y)),f.labelLinePoints){var y=u.getTextGuideLine();y&&(y.setShape({points:f.labelLinePoints}),v=!1)}dy(l).needsUpdateLabelLine=v,l.rotation=null!=f.rotate?f.rotate*p:d.rotation,l.scaleX=d.scaleX,l.scaleY=d.scaleY;for(var x=0;x<yw.length;x++){var S=yw[x];l.setStyle(S,null!=f[S]?f[S]:d.style[S])}if(f.draggable){if(l.draggable=!0,l.cursor="move",u){var C=s.seriesModel;null!=s.dataIndex&&(C=s.seriesModel.getData(s.dataType).getItemModel(s.dataIndex)),l.on("drag",o(u,C.getModel("labelLine")))}}else l.off("drag"),l.cursor=d.cursor}},n.prototype.layout=function(t){var r=t.getWidth(),o=t.getHeight(),i=VC(this._labelList),s=Un(i,function(u){return"shiftX"===u.layoutOption.moveOverlap}),l=Un(i,function(u){return"shiftY"===u.layoutOption.moveOverlap});FC(s,"x","width",0,r,void 0),gw(l,0,o),mw(Un(i,function(u){return u.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var t=this;ue(this._chartViewList,function(e){var r=e.__model,o=e.ignoreLabelLineUpdate,i=r.isAnimationEnabled();e.group.traverse(function(s){if(s.ignore)return!0;var l=!o,u=s.getTextContent();!l&&u&&(l=dy(u).needsUpdateLabelLine),l&&t._updateLabelLine(s,r),i&&t._animateLabels(s,r)})})},n.prototype._updateLabelLine=function(t,e){var r=t.getTextContent(),o=br(t),i=o.dataIndex;if(r&&null!=i){var s=e.getData(o.dataType),l=s.getItemModel(i),u={},d=s.getItemVisual(i,"style"),f=s.getVisual("drawType");u.stroke=d[f];var p=l.getModel("labelLine");pw(t,jb(l),u),fw(t,p)}},n.prototype._animateLabels=function(t,e){var r=t.getTextContent(),o=t.getTextGuideLine();if(r&&!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!Dl(t)){var i=(x=dy(r)).oldLayout,s=br(t),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},d=e.getData(s.dataType);if(i){r.attr(i);var f=t.prevStates;f&&(hn(f,"select")>=0&&r.attr(x.oldLayoutSelect),hn(f,"emphasis")>=0&&r.attr(x.oldLayoutEmphasis)),ro(r,u,e,l)}else if(r.attr(u),!Ch(r).valueAnimation){var p=At(r.style.opacity,1);r.style.opacity=0,ni(r,{style:{opacity:p}},e,l)}if(x.oldLayout=u,r.states.select){var v=x.oldLayoutSelect={};Xb(v,u,Xp),Xb(v,r.states.select,Xp)}if(r.states.emphasis){var y=x.oldLayoutEmphasis={};Xb(y,u,Xp),Xb(y,r.states.emphasis,Xp)}rc(r,l,d,e,e)}if(o&&!o.ignore&&!o.invisible){i=(x=Yb(o)).oldLayout;var x,S={points:o.shape.points};i?(o.attr({shape:i}),ro(o,{shape:S},e)):(o.setShape(S),o.style.strokePercent=0,ni(o,{style:{strokePercent:1}},e)),x.oldLayout=S}},n}(),nu=go();function Ef(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function a1(n){var t;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=Gi(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else n="none";return{color:n,opacity:null==t?1:t}}function bw(n,t,e,r,o){for(var i=t.length,s=e.length,l=n.newPos,u=l-r,d=0;l+1<i&&u+1<s&&o(t[l+1],e[u+1]);)l++,u++,d++;return d&&n.components.push({count:d,added:!1,removed:!1,indices:[]}),n.newPos=l,u}function xw(n,t,e){var r=n[n.length-1];r&&r.added===t&&r.removed===e?n[n.length-1]={count:r.count+1,added:t,removed:e,indices:[]}:n.push({count:1,added:t,removed:e,indices:[]})}function WC(n){for(var t=0,e=n.length,r=0,o=0;t<e;t++){var i=n[t];if(i.removed){for(l=o;l<o+i.count;l++)i.indices.push(l);o+=i.count}else{for(var s=[],l=r;l<r+i.count;l++)s.push(l);i.indices=s,r+=i.count,i.added||(o+=i.count)}}return n}var s1="none",qb=Math.round,GC=Math.sin,UC=Math.cos,jC=Math.PI,Uh=2*Math.PI,Zb=180/jC;function Kb(n){return qb(1e3*n)/1e3}function Bf(n){return qb(1e4*n)/1e4}function _w(n){return n<1e-4&&n>-1e-4}function ww(n,t){t&&Ki(n,"transform","matrix("+Kb(t[0])+","+Kb(t[1])+","+Kb(t[2])+","+Kb(t[3])+","+Bf(t[4])+","+Bf(t[5])+")")}function Ki(n,t,e){(!e||"linear"!==e.type&&"radial"!==e.type)&&n.setAttribute(t,e)}function Sw(n,t,e){var p,r=null==t.opacity?1:t.opacity;if(e instanceof Yi)Ki(n,"opacity",r+"");else{if(null!=(p=t.fill)&&p!==s1){var o=a1(t.fill);Ki(n,"fill",o.color),Ki(n,"fill-opacity",(null!=t.fillOpacity?t.fillOpacity*o.opacity*r:o.opacity*r)+"")}else Ki(n,"fill",s1);if(function(f){var p=f.stroke;return null!=p&&p!==s1}(t)){var i=a1(t.stroke);Ki(n,"stroke",i.color);var s=t.lineWidth,l=t.strokeNoScale?e.getLineScale():1;Ki(n,"stroke-width",(l?s/l:0)+""),Ki(n,"paint-order",t.strokeFirst?"stroke":"fill"),Ki(n,"stroke-opacity",(null!=t.strokeOpacity?t.strokeOpacity*i.opacity*r:i.opacity*r)+"");var u=t.lineDash&&s>0&&C0(t.lineDash,s);if(u){var d=t.lineDashOffset;l&&1!==l&&(u=Ht(u,function(f){return f/l}),d&&(d=qb(d/=l))),Ki(n,"stroke-dasharray",u.join(",")),Ki(n,"stroke-dashoffset",(d||0)+"")}else Ki(n,"stroke-dasharray",s1);t.lineCap&&Ki(n,"stroke-linecap",t.lineCap),t.lineJoin&&Ki(n,"stroke-linejoin",t.lineJoin),t.miterLimit&&Ki(n,"stroke-miterlimit",t.miterLimit+"")}else Ki(n,"stroke",s1)}}var FT=function(){function n(){}return n.prototype.reset=function(){this._d=[],this._str=""},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,r,o,i,s){this._add("C",t,e,r,o,i,s)},n.prototype.quadraticCurveTo=function(t,e,r,o){this._add("Q",t,e,r,o)},n.prototype.arc=function(t,e,r,o,i,s){this.ellipse(t,e,r,r,0,o,i,s)},n.prototype.ellipse=function(t,e,r,o,i,s,l,u){var d=0===this._d.length,f=l-s,p=!u,v=Math.abs(f),y=_w(v-Uh)||(p?f>=Uh:-f>=Uh),x=f>0?f%Uh:f%Uh+Uh,S=!1;S=!!y||!_w(v)&&x>=jC==!!p;var C=Bf(t+r*UC(s)),k=Bf(e+o*GC(s));y&&(f=p?Uh-1e-4:1e-4-Uh,S=!0,d&&this._d.push("M",C,k));var I=Bf(t+r*UC(s+f)),R=Bf(e+o*GC(s+f));if(isNaN(C)||isNaN(k)||isNaN(r)||isNaN(o)||isNaN(i)||isNaN(Zb)||isNaN(I)||isNaN(R))return"";this._d.push("A",Bf(r),Bf(o),qb(i*Zb),+S,+p,I,R)},n.prototype.rect=function(t,e,r,o){this._add("M",t,e),this._add("L",t+r,e),this._add("L",t+r,e+o),this._add("L",t,e+o),this._add("L",t,e),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,r,o,i,s,l,u,d){this._d.push(t);for(var f=1;f<arguments.length;f++){var p=arguments[f];if(isNaN(p))return void(this._invalid=!0);this._d.push(Bf(p))}},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),$b={brush:function(n){var t=n.style,e=n.__svgEl;e||(e=Ef("path"),n.__svgEl=e),n.path||n.createPathProxy();var r=n.path;n.shapeChanged()&&(r.beginPath(),n.buildPath(r,n.shape),n.pathUpdated());var o=r.getVersion(),i=n,s=i.__svgPathBuilder;(i.__svgPathVersion!==o||!s||n.style.strokePercent<1)&&(s||(s=i.__svgPathBuilder=new FT),s.reset(),r.rebuildPath(s,n.style.strokePercent),s.generateStr(),i.__svgPathVersion=o),Ki(e,"d",s.getStr()),Sw(e,t,n),ww(e,n.transform)}},ru={brush:function(n){var t=n.style,e=t.image;if(e instanceof HTMLImageElement?e=e.src:e instanceof HTMLCanvasElement&&(e=e.toDataURL()),e){var r=t.x||0,o=t.y||0,i=t.width,s=t.height,l=n.__svgEl;l||(l=Ef("image"),n.__svgEl=l),e!==n.__imageSrc&&(l.setAttributeNS("http://www.w3.org/1999/xlink","href",e),n.__imageSrc=e),Ki(l,"width",i+""),Ki(l,"height",s+""),Ki(l,"x",r+""),Ki(l,"y",o+""),Sw(l,t,n),ww(l,n.transform)}}},HT={left:"start",right:"end",center:"middle",middle:"middle"},YC={brush:function(n){var u,d,f,t=n.style,e=t.text;if(null!=e&&(e+=""),e&&!isNaN(t.x)&&!isNaN(t.y)){var r=n.__svgEl;r||((r=Ef("text")).setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.__svgEl=r);var o=t.font||zl;r.style.font=o,r.textContent=e,Sw(r,t,n),ww(r,n.transform);var i=t.x||0,s=(u=t.y||0,d=Wo(o),"top"===(f=t.textBaseline)?u+=d/2:"bottom"===f&&(u-=d/2),u),l=HT[t.textAlign]||t.textAlign;Ki(r,"dominant-baseline","central"),Ki(r,"text-anchor",l),Ki(r,"x",i+""),Ki(r,"y",s+"")}}},Jb=function(){function n(t,e,r,o,i){this.nextId=0,this._domName="_dom",this.createElement=Ef,this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof r?[r]:r,this._markLabel=o,i&&(this._domName=i)}return n.prototype.getDefs=function(t){var e=this._svgRoot,r=this._svgRoot.getElementsByTagName("defs");if(0===r.length){if(t){var o=e.insertBefore(this.createElement("defs"),e.firstChild);return o.contains||(o.contains=function(i){var s=o.children;if(!s)return!1;for(var l=s.length-1;l>=0;--l)if(s[l]===i)return!0;return!1}),o}return null}return r[0]},n.prototype.doUpdate=function(t,e){if(t){var r=this.getDefs(!1);if(t[this._domName]&&r.contains(t[this._domName]))"function"==typeof e&&e(t);else{var o=this.add(t);o&&(t[this._domName]=o)}}},n.prototype.add=function(t){return null},n.prototype.addDom=function(t){var e=this.getDefs(!0);t.parentNode!==e&&e.appendChild(t)},n.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},n.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return ue(this._tagNames,function(r){for(var o=t.getElementsByTagName(r),i=0;i<o.length;i++)e.push(o[i])}),e},n.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;ue(t,function(r){r[e._markLabel]="0"})},n.prototype.markDomUsed=function(t){t&&(t[this._markLabel]="1")},n.prototype.markDomUnused=function(t){t&&(t[this._markLabel]="0")},n.prototype.isDomUnused=function(t){return t&&"1"!==t[this._markLabel]},n.prototype.removeUnused=function(){var t=this,e=this.getDefs(!1);e&&ue(this.getDoms(),function(r){t.isDomUnused(r)&&e.removeChild(r)})},n.prototype.getSvgProxy=function(t){return t instanceof Vr?$b:t instanceof Yi?ru:t instanceof Ws?YC:$b},n.prototype.getSvgElement=function(t){return t.__svgEl},n}();function XC(n){return"linear"===n.type}function qC(n){return"radial"===n.type}function Qb(n){return n&&("linear"===n.type||"radial"===n.type)}var ZC=function(n){function t(e,r){return n.call(this,e,r,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return We(t,n),t.prototype.addWithoutUpdate=function(e,r){if(r&&r.style){var o=this;ue(["fill","stroke"],function(i){var s=r.style[i];if(Qb(s)){var l=s,u=o.getDefs(!0),d=void 0;l.__dom?(d=l.__dom,u.contains(l.__dom)||o.addDom(d)):d=o.add(l),o.markUsed(r);var f=d.getAttribute("id");e.setAttribute(i,"url(#"+f+")")}})}},t.prototype.add=function(e){var r;if(XC(e))r=this.createElement("linearGradient");else{if(!qC(e))return Jr("Illegal gradient type."),null;r=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,r.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,r),this.addDom(r),r},t.prototype.update=function(e){if(Qb(e)){var r=this;this.doUpdate(e,function(){var o=e.__dom;if(o){var i=o.tagName,s=e.type;"linear"===s&&"linearGradient"===i||"radial"===s&&"radialGradient"===i?r.updateDom(e,e.__dom):(r.removeDom(e),r.add(e))}})}},t.prototype.updateDom=function(e,r){if(XC(e))r.setAttribute("x1",e.x+""),r.setAttribute("y1",e.y+""),r.setAttribute("x2",e.x2+""),r.setAttribute("y2",e.y2+"");else{if(!qC(e))return void Jr("Illegal gradient type.");r.setAttribute("cx",e.x+""),r.setAttribute("cy",e.y+""),r.setAttribute("r",e.r+"")}r.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),r.innerHTML="";for(var o=e.colorStops,i=0,s=o.length;i<s;++i){var l=this.createElement("stop");l.setAttribute("offset",100*o[i].offset+"%");var u=o[i].color;if(u.indexOf("rgba")>-1){var d=Gi(u)[3],f=el(u);l.setAttribute("stop-color","#"+f),l.setAttribute("stop-opacity",d+"")}else l.setAttribute("stop-color",o[i].color);r.appendChild(l)}e.__dom=r},t.prototype.markUsed=function(e){if(e.style){var r=e.style.fill;r&&r.__dom&&n.prototype.markDomUsed.call(this,r.__dom),(r=e.style.stroke)&&r.__dom&&n.prototype.markDomUsed.call(this,r.__dom)}},t}(Jb);function fy(n){return n&&(!!n.image||!!n.svgElement)}var hy=new b_,WT=function(n){function t(e,r){return n.call(this,e,r,["pattern"],"__pattern_in_use__")||this}return We(t,n),t.prototype.addWithoutUpdate=function(e,r){if(r&&r.style){var o=this;ue(["fill","stroke"],function(i){var s=r.style[i];if(fy(s)){var l=o.getDefs(!0),u=hy.get(s);u?l.contains(u)||o.addDom(u):u=o.add(s),o.markUsed(r);var d=u.getAttribute("id");e.setAttribute(i,"url(#"+d+")")}})}},t.prototype.add=function(e){if(fy(e)){var r=this.createElement("pattern");return e.id=null==e.id?this.nextId++:e.id,r.setAttribute("id","zr"+this._zrId+"-pattern-"+e.id),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(e,r),this.addDom(r),r}},t.prototype.update=function(e){if(fy(e)){var r=this;this.doUpdate(e,function(){var o=hy.get(e);r.updateDom(e,o)})}},t.prototype.updateDom=function(e,r){var o=e.svgElement;if(o instanceof SVGElement)o.parentNode!==r&&(r.innerHTML="",r.appendChild(o),r.setAttribute("width",e.svgWidth+""),r.setAttribute("height",e.svgHeight+""));else{var i=void 0,s=r.getElementsByTagName("image");if(s.length){if(!e.image)return void r.removeChild(s[0]);i=s[0]}else e.image&&(i=this.createElement("image"));if(i){var l=void 0,u=e.image;if("string"==typeof u?l=u:u instanceof HTMLImageElement?l=u.src:u instanceof HTMLCanvasElement&&(l=u.toDataURL()),l){i.setAttribute("href",l),i.setAttribute("x","0"),i.setAttribute("y","0");var d=Fd(l,i,{dirty:function(){}},function(p){r.setAttribute("width",p.width+""),r.setAttribute("height",p.height+"")});d&&d.width&&d.height&&(r.setAttribute("width",d.width+""),r.setAttribute("height",d.height+"")),r.appendChild(i)}}}var f="translate("+(e.x||0)+", "+(e.y||0)+") rotate("+(e.rotation||0)/Math.PI*180+") scale("+(e.scaleX||1)+", "+(e.scaleY||1)+")";r.setAttribute("patternTransform",f),hy.set(e,r)},t.prototype.markUsed=function(e){e.style&&(fy(e.style.fill)&&n.prototype.markDomUsed.call(this,hy.get(e.style.fill)),fy(e.style.stroke)&&n.prototype.markDomUsed.call(this,hy.get(e.style.stroke)))},t}(Jb);function KC(n){var t=n.__clipPaths;return t&&t.length>0}var GT=function(n){function t(e,r){var o=n.call(this,e,r,"clipPath","__clippath_in_use__")||this;return o._refGroups={},o._keyDuplicateCount={},o}return We(t,n),t.prototype.markAllUnused=function(){n.prototype.markAllUnused.call(this);var e=this._refGroups;for(var r in e)e.hasOwnProperty(r)&&this.markDomUnused(e[r]);this._keyDuplicateCount={}},t.prototype._getClipPathGroup=function(e,r){if(KC(e)){var o=e.__clipPaths,i=this._keyDuplicateCount,s=function(l){var u=[];if(l)for(var d=0;d<l.length;d++)u.push(l[d].id);return u.join(",")}(o);return sb(o,r&&r.__clipPaths)&&(i[s]=i[s]||0,i[s]&&(s+="-"+i[s]),i[s]++),this._refGroups[s]||(this._refGroups[s]=this.createElement("g"))}},t.prototype.update=function(e,r){var o=this._getClipPathGroup(e,r);return o&&(this.markDomUsed(o),this.updateDom(o,e.__clipPaths)),o},t.prototype.updateDom=function(e,r){if(r&&r.length>0){var o=this.getDefs(!0),i=r[0],s=void 0,l=void 0;i._dom?(l=i._dom.getAttribute("id"),o.contains(s=i._dom)||o.appendChild(s)):(l="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(s=this.createElement("clipPath")).setAttribute("id",l),o.appendChild(s),i._dom=s),this.getSvgProxy(i).brush(i);var u=this.getSvgElement(i);s.innerHTML="",s.appendChild(u),e.setAttribute("clip-path","url(#"+l+")"),r.length>1&&this.updateDom(s,r.slice(1))}else e&&e.setAttribute("clip-path","none")},t.prototype.markUsed=function(e){var r=this;e.__clipPaths&&ue(e.__clipPaths,function(o){o._dom&&n.prototype.markDomUsed.call(r,o._dom)})},t.prototype.removeUnused=function(){n.prototype.removeUnused.call(this);var e={},r=this._refGroups;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];this.isDomUnused(i)?i.parentNode&&i.parentNode.removeChild(i):e[o]=i}this._refGroups=e},t}(Jb),ex=function(n){function t(e,r){var o=n.call(this,e,r,["filter"],"__filter_in_use__","_shadowDom")||this;return o._shadowDomMap={},o._shadowDomPool=[],o}return We(t,n),t.prototype._getFromPool=function(){var e=this._shadowDomPool.pop();if(!e){(e=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var r=this.createElement("feDropShadow");e.appendChild(r),this.addDom(e)}return e},t.prototype.update=function(e,r){if((s=r.style)&&(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)){var o=function(s){var l=s.style,u=s.getGlobalScale();return[l.shadowColor,(l.shadowBlur||0).toFixed(2),(l.shadowOffsetX||0).toFixed(2),(l.shadowOffsetY||0).toFixed(2),u[0],u[1]].join(",")}(r),i=r._shadowDom=this._shadowDomMap[o];i||(i=this._getFromPool(),this._shadowDomMap[o]=i),this.updateDom(e,r,i)}else this.remove(e,r);var s},t.prototype.remove=function(e,r){null!=r._shadowDom&&(r._shadowDom=null,e.removeAttribute("filter"))},t.prototype.updateDom=function(e,r,o){var i=o.children[0],s=r.style,l=r.getGlobalScale(),u=l[0],d=l[1];if(u&&d){var f=s.shadowOffsetX||0,p=s.shadowOffsetY||0,v=s.shadowBlur,y=a1(s.shadowColor);i.setAttribute("dx",f/u+""),i.setAttribute("dy",p/d+""),i.setAttribute("flood-color",y.color),i.setAttribute("flood-opacity",y.opacity+""),i.setAttribute("stdDeviation",v/2/u+" "+v/2/d),o.setAttribute("x","-100%"),o.setAttribute("y","-100%"),o.setAttribute("width","300%"),o.setAttribute("height","300%"),r._shadowDom=o;var S=o.getAttribute("id");e.setAttribute("filter","url(#"+S+")")}},t.prototype.removeUnused=function(){if(this.getDefs(!1)){var e=this._shadowDomPool,r=this._shadowDomMap;for(var o in r)r.hasOwnProperty(o)&&e.push(r[o]);this._shadowDomMap={}}},t}(Jb);function tx(n){return parseInt(n,10)}function $C(n){return n instanceof Vr?$b:n instanceof Yi?ru:n instanceof Ws?YC:$b}function Cw(n,t){return t&&n&&t.parentNode!==n}function Mw(n,t,e){if(Cw(n,t)&&e){var r=e.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)}}function JC(n,t){if(Cw(n,t)){var e=n.firstChild;e?n.insertBefore(t,e):n.appendChild(t)}}function QC(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)}function py(n){return n.__svgEl}var Tw=function(){function n(t,e,r,o){this.type="svg",this.refreshHover=l1("refreshHover"),this.pathToImage=l1("pathToImage"),this.configLayer=l1("configLayer"),this.root=t,this.storage=e,this._opts=r=tt({},r||{});var i=Ef("svg");i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("baseProfile","full"),i.style.cssText="user-select:none;position:absolute;left:0;top:0;";var s=Ef("g");i.appendChild(s);var l=Ef("g");i.appendChild(l),this._gradientManager=new ZC(o,l),this._patternManager=new WT(o,l),this._clipPathManager=new GT(o,l),this._shadowManager=new ex(o,l);var u=document.createElement("div");u.style.cssText="overflow:hidden;position:relative",this._svgDom=i,this._svgRoot=l,this._backgroundRoot=s,this._viewport=u,t.appendChild(u),u.appendChild(i),this.resize(r.width,r.height),this._visibleList=[]}return n.prototype.getType=function(){return"svg"},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.getSvgRoot=function(){return this._svgRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},n.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=Ef("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0);var r=a1(t),i=r.opacity;e.setAttribute("fill",r.color),e.setAttribute("fill-opacity",i),this._backgroundRoot.appendChild(e),this._backgroundNode=e},n.prototype.createSVGElement=function(t){return Ef(t)},n.prototype.paintOne=function(t){var e=$C(t);return e&&e.brush(t),py(t)},n.prototype._paintList=function(t){var e=this._gradientManager,r=this._patternManager,o=this._clipPathManager,i=this._shadowManager;e.markAllUnused(),r.markAllUnused(),o.markAllUnused(),i.markAllUnused();for(var s=this._svgRoot,l=this._visibleList,u=t.length,d=[],f=0;f<u;f++){var p=$C(V=t[f]),v=py(V);V.invisible||(!V.__dirty&&v||(p&&p.brush(V),(v=py(V))&&V.style&&(e.update(V.style.fill),e.update(V.style.stroke),r.update(V.style.fill),r.update(V.style.stroke),i.update(v,V)),V.__dirty=0),v&&d.push(V))}var y,x,S,C,k,I=function zT(n,t,e){return function(r,o,i){i||(i=function(C,k){return C===k}),r=r.slice();var s=(o=o.slice()).length,l=r.length,u=1,d=s+l,f=[{newPos:-1,components:[]}],p=bw(f[0],o,r,0,i);if(f[0].newPos+1>=s&&p+1>=l){for(var v=[],y=0;y<o.length;y++)v.push(y);return[{indices:v,count:o.length,added:!1,removed:!1}]}function x(){for(var C=-1*u;C<=u;C+=2){var k,I=f[C-1],R=f[C+1],O=(R?R.newPos:0)-C;I&&(f[C-1]=void 0);var V=I&&I.newPos+1<s,F=R&&0<=O&&O<l;if(V||F){if(!V||F&&I.newPos<R.newPos?xw((k={newPos:(Y=R).newPos,components:Y.components.slice(0)}).components,!1,!0):((k=I).newPos++,xw(k.components,!0,!1)),O=bw(k,o,r,C,i),k.newPos+1>=s&&O+1>=l)return WC(k.components);f[C]=k}else f[C]=void 0}var Y;u++}for(;u<=d;){var S=x();if(S)return S}}(n,t,e)}(l,d);for(f=0;f<I.length;f++)if((O=I[f]).removed)for(var R=0;R<O.count;R++)v=py(V=l[O.indices[R]]),KC(V)?(S=v)&&S.parentNode&&S.parentNode.removeChild(S):QC(s,v);for(f=0;f<I.length;f++){var O;if(!(O=I[f]).removed)for(R=0;R<O.count;R++){var V=d[O.indices[R]],F=o.update(V,C);F!==k&&(y=x,F&&(y?Mw(s,F,y):JC(s,F),x=F,y=null),k=F),v=py(V),y?Mw(k||s,v,y):JC(k||s,v),y=v||y,k||(x=y),e.markUsed(V),e.addWithoutUpdate(v,V),r.markUsed(V),r.addWithoutUpdate(v,V),o.markUsed(V),C=V}}e.removeUnused(),r.removeUnused(),o.removeUnused(),i.removeUnused(),this._visibleList=d},n.prototype.resize=function(t,e){var r=this._viewport;r.style.display="none";var o=this._opts;if(null!=t&&(o.width=t),null!=e&&(o.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var i=r.style;i.width=t+"px",i.height=e+"px";var s=this._svgDom;s.setAttribute("width",t+""),s.setAttribute("height",e+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype._getSize=function(t){var e=this._opts,r=["width","height"][t],o=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var l=this.root,u=document.defaultView.getComputedStyle(l);return(l[o]||tx(u[r])||tx(l.style[r]))-(tx(u[i])||0)-(tx(u[s])||0)|0},n.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},n.prototype.clear=function(){var t=this._viewport;t&&t.parentNode&&t.parentNode.removeChild(t)},n.prototype.toDataURL=function(){this.refresh();var t=this._svgDom;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent((t.outerHTML||(t.parentNode&&t.parentNode).innerHTML).replace(/></g,">\n\r<"))},n}();function l1(n){return function(){Jr('In SVG mode painter not support method "'+n+'"')}}function UT(){return!1}function kw(n,t,e){var r=vo(),o=t.getWidth(),i=t.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=o+"px",s.height=i+"px",r.setAttribute("data-zr-dom-id",n)),r.width=o*e,r.height=i*e,r}var nx=function(n){function t(e,r,o){var i,s=n.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null,o=o||il,"string"==typeof e?i=kw(e,r,o):zn(e)&&(e=(i=e).id),s.id=e,s.dom=i;var l=i.style;return l&&(i.onselectstart=UT,l.webkitUserSelect="none",l.userSelect="none",l.webkitTapHighlightColor="rgba(0,0,0,0)",l["-webkit-touch-callout"]="none",l.padding="0",l.margin="0",l.borderWidth="0"),s.domBack=null,s.ctxBack=null,s.painter=r,s.config=null,s.dpr=o,s}return We(t,n),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=kw("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,r,o,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s,l=[],u=this.maxRepaintRectCount,d=!1,f=new Lr(0,0,0,0);function p(I){if(I.isFinite()&&!I.isZero())if(0===l.length)(R=new Lr(0,0,0,0)).copy(I),l.push(R);else{for(var R,O=!1,V=1/0,F=0,Y=0;Y<l.length;++Y){var Z=l[Y];if(Z.intersect(I)){var re=new Lr(0,0,0,0);re.copy(Z),re.union(I),l[Y]=re,O=!0;break}if(d){f.copy(I),f.union(Z);var ce=f.width*f.height-I.width*I.height-Z.width*Z.height;ce<V&&(V=ce,F=Y)}}d&&(l[F].union(I),O=!0),!O&&((R=new Lr(0,0,0,0)).copy(I),l.push(R)),d||(d=l.length>=u)}}for(var v=this.__startIndex;v<this.__endIndex;++v)if(S=e[v]){var y=S.shouldBePainted(o,i,!0,!0);(C=S.__isRendered&&(1&S.__dirty||!y)?S.getPrevPaintRect():null)&&p(C);var x=y&&(1&S.__dirty||!S.__isRendered)?S.getPaintRect():null;x&&p(x)}for(v=this.__prevStartIndex;v<this.__prevEndIndex;++v){var S,C;y=(S=r[v]).shouldBePainted(o,i,!0,!0),S&&(!y||!S.__zr)&&S.__isRendered&&(C=S.getPrevPaintRect())&&p(C)}do{for(s=!1,v=0;v<l.length;)if(l[v].isZero())l.splice(v,1);else{for(var k=v+1;k<l.length;)l[v].intersect(l[k])?(s=!0,l[v].union(l[k]),l.splice(k,1)):k++;v++}}while(s);return this._paintRects=l,l},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,r){var o=this.dpr,i=this.dom,s=i.style,l=this.domBack;s&&(s.width=e+"px",s.height=r+"px"),i.width=e*o,i.height=r*o,l&&(l.width=e*o,l.height=r*o,1!==o&&this.ctxBack.scale(o,o))},t.prototype.clear=function(e,r,o){var i=this.dom,s=this.ctx,l=i.width,u=i.height;r=r||this.clearColor;var d=this.motionBlur&&!e,f=this.lastFrameAlpha,p=this.dpr,v=this;d&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,l/p,u/p));var y=this.domBack;function x(S,C,k,I){if(s.clearRect(S,C,k,I),r&&"transparent"!==r){var R=void 0;Qi(r)?(R=r.__canvasGradient||x_(s,r,{x:0,y:0,width:k,height:I}),r.__canvasGradient=R):Ma(r)&&(R=lb(s,r,{dirty:function(){v.setUnpainted(),v.__painter.refresh()}})),s.save(),s.fillStyle=R||r,s.fillRect(S,C,k,I),s.restore()}d&&(s.save(),s.globalAlpha=f,s.drawImage(y,S,C,k,I),s.restore())}!o||d?x(0,0,l,u):o.length&&ue(o,function(S){x(S.x*p,S.y*p,S.width*p,S.height*p)})},t}(Vt),gy=314159;function c1(n){return parseInt(n,10)}var jT=function(){function n(t,e,r,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=tt({},r||{}),this.dpr=r.devicePixelRatio||il,this._singleCanvas=i,this.root=t;var s=t.style;s&&(s.webkitTapHighlightColor="transparent",s.webkitUserSelect="none",s.userSelect="none",s["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var l=this._zlevelList;this._prevDisplayList=[];var x,S,C,u=this._layers;if(i){var d=t,f=d.width,p=d.height;null!=r.width&&(f=r.width),null!=r.height&&(p=r.height),this.dpr=r.devicePixelRatio||1,d.width=f*this.dpr,d.height=p*this.dpr,this._width=f,this._height=p;var v=new nx(d,this,this.dpr);v.__builtin__=!0,v.initContext(),u[314159]=v,v.zlevel=gy,l.push(gy),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var y=this._domRoot=(x=this._width,S=this._height,(C=document.createElement("div")).style.cssText=["position:relative","width:"+x+"px","height:"+S+"px","padding:0","margin:0","border-width:0"].join(";")+";",C);t.appendChild(y)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),r=this._prevDisplayList,o=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,r,t,this._redrawId);for(var i=0;i<o.length;i++){var l=this._layers[o[i]];!l.__builtin__&&l.refresh&&l.refresh(0===i?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){for(var o,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},s=0;s<e;s++){var l=t[s];l.__inHover&&(r||(r=this._hoverlayer=this.getLayer(1e5)),o||(o=r.ctx).save(),Df(o,l,i,s===e-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(t,e){cb(t,e)},n.prototype._paintList=function(t,e,r,o){if(this._redrawId===o){r=r||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e,r),s=i.finished,l=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(t),s)this.eachLayer(function(d){d.afterBrush&&d.afterBrush()});else{var u=this;it(function(){u._paintList(t,e,r,o)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(gy).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(o){o.virtual&&t.drawImage(o.dom,0,0,e,r)})},n.prototype._doPaintList=function(t,e,r){for(var o=this,i=[],s=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var d=this._layers[this._zlevelList[l]];d.__builtin__&&d!==this._hoverlayer&&(d.__dirty||r)&&i.push(d)}for(var f=!0,p=!1,v=function(S){var C,k=i[S],I=k.ctx,R=s&&k.createRepaintRects(t,e,y._width,y._height),O=r?k.__startIndex:k.__drawIndex,V=!r&&k.incremental&&Date.now,F=V&&Date.now(),Y=k.zlevel===y._zlevelList[0]?y._backgroundColor:null;if(k.__startIndex===k.__endIndex)k.clear(!1,Y,R);else if(O===k.__startIndex){var Z=t[O];Z.incremental&&Z.notClear&&!r||k.clear(!1,Y,R)}-1===O&&(console.error("For some unknown reason. drawIndex is -1"),O=k.__startIndex);var re=function(ve){var be={inHover:!1,allClipped:!1,prevEl:null,viewWidth:o._width,viewHeight:o._height};for(C=O;C<k.__endIndex;C++){var _e=t[C];if(_e.__inHover&&(p=!0),o._doPaintEl(_e,k,s,ve,be,C===k.__endIndex-1),V&&Date.now()-F>15)break}be.prevElClipPaths&&I.restore()};if(R)if(0===R.length)C=k.__endIndex;else for(var ie=y.dpr,ae=0;ae<R.length;++ae){var ce=R[ae];I.save(),I.beginPath(),I.rect(ce.x*ie,ce.y*ie,ce.width*ie,ce.height*ie),I.clip(),re(ce),I.restore()}else I.save(),re(),I.restore();k.__drawIndex=C,k.__drawIndex<k.__endIndex&&(f=!1)},y=this,x=0;x<i.length;x++)v(x);return Tt.wxa&&ue(this._layers,function(S){S&&S.ctx&&S.ctx.draw&&S.ctx.draw()}),{finished:f,needsRefreshHover:p}},n.prototype._doPaintEl=function(t,e,r,o,i,s){var l=e.ctx;if(r){var u=t.getPaintRect();(!o||u&&u.intersect(o))&&(Df(l,t,i,s),t.setPrevPaintRect(u))}else Df(l,t,i,s)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=gy);var r=this._layers[t];return r||((r=new nx("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]?en(r,this._layerConfig[t],!0):this._layerConfig[t-.01]&&en(r,this._layerConfig[t-.01],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},n.prototype.insertLayer=function(t,e){var f,r=this._layers,o=this._zlevelList,i=o.length,s=this._domRoot,l=null,u=-1;if(r[t])Jr("ZLevel "+t+" has been used already");else if((f=e)&&(f.__builtin__||"function"==typeof f.resize&&"function"==typeof f.refresh)){if(i>0&&t>o[0]){for(u=0;u<i-1&&!(o[u]<t&&o[u+1]>t);u++);l=r[o[u]]}if(o.splice(u+1,0,t),r[t]=e,!e.virtual)if(l){var d=l.dom;d.nextSibling?s.insertBefore(e.dom,d.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom);e.__painter=this}else Jr("Layer of zlevel "+t+" is not valid")},n.prototype.eachLayer=function(t,e){for(var r=this._zlevelList,o=0;o<r.length;o++){var i=r[o];t.call(e,this._layers[i],i)}},n.prototype.eachBuiltinLayer=function(t,e){for(var r=this._zlevelList,o=0;o<r.length;o++){var i=r[o],s=this._layers[i];s.__builtin__&&t.call(e,s,i)}},n.prototype.eachOtherLayer=function(t,e){for(var r=this._zlevelList,o=0;o<r.length;o++){var i=r[o],s=this._layers[i];s.__builtin__||t.call(e,s,i)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){function e(p){s&&(s.__endIndex!==p&&(s.__dirty=!0),s.__endIndex=p)}if(this.eachBuiltinLayer(function(p,v){p.__dirty=p.__used=!1}),this._singleCanvas)for(var r=1;r<t.length;r++)if((u=t[r]).zlevel!==t[r-1].zlevel||u.incremental){this._needsManuallyCompositing=!0;break}var o,i,s=null,l=0;for(i=0;i<t.length;i++){var u,d=(u=t[i]).zlevel,f=void 0;o!==d&&(o=d,l=0),u.incremental?((f=this.getLayer(d+.001,this._needsManuallyCompositing)).incremental=!0,l=1):f=this.getLayer(d+(l>0?.01:0),this._needsManuallyCompositing),f.__builtin__||Jr("ZLevel "+d+" has been used by unkown layer "+f.id),f!==s&&(f.__used=!0,f.__startIndex!==i&&(f.__dirty=!0),f.__startIndex=i,f.__drawIndex=f.incremental?-1:i,e(i),s=f),1&u.__dirty&&!u.__inHover&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(p,v){!p.__used&&p.getElementCount()>0&&(p.__dirty=!0,p.__startIndex=p.__endIndex=p.__drawIndex=0),p.__dirty&&p.__drawIndex<0&&(p.__drawIndex=p.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,ue(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;r[t]?en(r[t],e,!0):r[t]=e;for(var o=0;o<this._zlevelList.length;o++){var i=this._zlevelList[o];(i===t||i===t+.01)&&en(this._layers[i],r[t],!0)}}},n.prototype.delLayer=function(t){var e=this._layers,r=this._zlevelList,o=e[t];o&&(o.dom.parentNode.removeChild(o.dom),delete e[t],r.splice(hn(r,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var o=this._opts;if(null!=t&&(o.width=t),null!=e&&(o.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||e!==this._height){for(var i in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(gy).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new nx("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var o=e.dom.width,i=e.dom.height;this.eachLayer(function(p){p.__builtin__?r.drawImage(p.dom,0,0,o,i):p.renderToCanvas&&(r.save(),p.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),u=0,d=l.length;u<d;u++)Df(r,l[u],s,u===d-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype._getSize=function(t){var e=this._opts,r=["width","height"][t],o=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var l=this.root,u=document.defaultView.getComputedStyle(l);return(l[o]||c1(u[r])||c1(l.style[r]))-(c1(u[i])||0)-(c1(u[s])||0)|0},n.prototype.pathToImage=function(t,e){e=e||this.dpr;var r=document.createElement("canvas"),o=r.getContext("2d"),i=t.getBoundingRect(),s=t.style,l=s.shadowBlur*e,u=s.shadowOffsetX*e,d=s.shadowOffsetY*e,f=t.hasStroke()?s.lineWidth:0,p=Math.max(f/2,-u+l),v=Math.max(f/2,u+l),y=Math.max(f/2,-d+l),x=Math.max(f/2,d+l),S=i.width+p+v,C=i.height+y+x;r.width=S*e,r.height=C*e,o.scale(e,e),o.clearRect(0,0,S,C),o.dpr=e;var k={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=p-i.x,t.y=y-i.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Df(o,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var I=new Yi({style:{x:0,y:0,image:r}});return tt(t,k),I},n}(),tM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return We(t,n),t.prototype.getInitialData=function(e){return Td(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var r=new nr,o=qi("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);r.add(o),o.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),l="none"===i?"circle":i,u=.8*e.itemHeight,d=qi(l,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);return r.add(d),d.setStyle(e.itemStyle),d.rotation=("inherit"===e.iconRotate?s:e.iconRotate||0)*Math.PI/180,d.setOrigin([e.itemWidth/2,e.itemHeight/2]),l.indexOf("empty")>-1&&(d.style.stroke=d.style.fill,d.style.fill="#fff",d.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"}},t}(Qo);function my(n,t){var e=n.mapDimensionsAll("defaultedLabel"),r=e.length;if(1===r){var o=$g(n,t,e[0]);return null!=o?o+"":null}if(r){for(var i=[],s=0;s<e.length;s++)i.push($g(n,t,e[s]));return i.join(" ")}}function rx(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!dt(t))return t+"";for(var r=[],o=0;o<e.length;o++){var i=n.getDimensionIndex(e[o]);i>=0&&r.push(t[i])}return r.join(" ")}var vy=function(n){function t(e,r,o,i){var s=n.call(this)||this;return s.updateData(e,r,o,i),s}return We(t,n),t.prototype._createSymbol=function(e,r,o,i,s){this.removeAll();var l=qi(e,-1,-1,2,2,null,s);l.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),l.drift=ox,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Oa(this.childAt(0))},t.prototype.downplay=function(){Tl(this.childAt(0))},t.prototype.setZ=function(e,r){var o=this.childAt(0);o.zlevel=e,o.z=r},t.prototype.setDraggable=function(e){var r=this.childAt(0);r.draggable=e,r.cursor=e?"move":r.cursor},t.prototype.updateData=function(e,r,o,i){this.silent=!1;var s=e.getItemVisual(r,"symbol")||"circle",l=e.hostModel,u=t.getSymbolSize(e,r),d=s!==this._symbolType,f=i&&i.disableAnimation;if(d){var p=e.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,e,r,u,p)}else{(y=this.childAt(0)).silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};f?y.attr(v):ro(y,v,l,r),xu(y)}if(this._updateCommon(e,r,u,o,i),d){var y=this.childAt(0);f||(v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:y.style.opacity}},y.scaleX=y.scaleY=0,y.style.opacity=0,ni(y,v,l,r))}f&&this.childAt(0).stopAnimation("remove"),this._seriesModel=l},t.prototype._updateCommon=function(e,r,o,i,s){var l,u,d,f,p,v,y,x,S=this.childAt(0),C=e.hostModel;if(i&&(l=i.emphasisItemStyle,u=i.blurItemStyle,d=i.selectItemStyle,f=i.focus,p=i.blurScope,v=i.labelStatesModels,y=i.hoverScale,x=i.cursorStyle),!i||e.hasItemOption){var k=i&&i.itemModel?i.itemModel:e.getItemModel(r),I=k.getModel("emphasis");l=I.getModel("itemStyle").getItemStyle(),d=k.getModel(["select","itemStyle"]).getItemStyle(),u=k.getModel(["blur","itemStyle"]).getItemStyle(),f=I.get("focus"),p=I.get("blurScope"),v=ma(k),y=I.getShallow("scale"),x=k.getShallow("cursor")}var R=e.getItemVisual(r,"symbolRotate");S.attr("rotation",(R||0)*Math.PI/180||0);var O=rm(e.getItemVisual(r,"symbolOffset"),o);O&&(S.x=O[0],S.y=O[1]),x&&S.attr("cursor",x);var V=e.getItemVisual(r,"style"),F=V.fill;if(S instanceof Yi){var Y=S.style;S.useStyle(tt({image:Y.image,x:Y.x,y:Y.y,width:Y.width,height:Y.height},V))}else S.useStyle(S.__isEmptyBrush?tt({},V):V),S.style.decal=null,S.setColor(F,s&&s.symbolInnerColor),S.style.strokeNoScale=!0;var Z=e.getItemVisual(r,"liftZ"),re=this._z2;null!=Z?null==re&&(this._z2=S.z2,S.z2+=Z):null!=re&&(S.z2=re,this._z2=null);var ie=s&&s.useNameLabel;_s(S,v,{labelFetcher:C,labelDataIndex:r,defaultText:function(ve){return ie?e.getName(ve):my(e,ve)},inheritColor:F,defaultOpacity:V.opacity}),this._sizeX=o[0]/2,this._sizeY=o[1]/2;var ae=S.ensureState("emphasis");if(ae.style=l,S.ensureState("select").style=d,S.ensureState("blur").style=u,y){var ce=Math.max(1.1,3/this._sizeY);ae.scaleX=this._sizeX*ce,ae.scaleY=this._sizeY*ce}this.setSymbolScale(1),Jo(this,f,p)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,r){var o=this.childAt(0),i=this._seriesModel,s=br(this).dataIndex,l=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var u=o.getTextContent();u&&Ba(u,{style:{opacity:0}},i,{dataIndex:s,removeOpt:l,cb:function(){o.removeTextContent()}})}else o.removeTextContent();Ba(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:s,cb:e,removeOpt:l})},t.getSymbolSize=function(e,r){return Fv(e.getItemVisual(r,"symbolSize"))},t}(nr);function ox(n,t){this.parent.drift(n,t)}function Dw(n,t,e,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(e))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(e,"symbol")}function Aw(n){return null==n||zn(n)||(n={isIgnore:n}),n||{}}function Iw(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),hoverScale:e.get("scale"),labelStatesModels:ma(t),cursorStyle:t.get("cursor")}}var Dd=function(){function n(t){this.group=new nr,this._SymbolCtor=t||vy}return n.prototype.updateData=function(t,e){e=Aw(e);var r=this.group,o=t.hostModel,i=this._data,s=this._SymbolCtor,l=e.disableAnimation,u=Iw(t),d={disableAnimation:l},f=e.getSymbolPoint||function(p){return t.getItemLayout(p)};i||r.removeAll(),t.diff(i).add(function(p){var v=f(p);if(Dw(t,v,p,e)){var y=new s(t,p,u,d);y.setPosition(v),t.setItemGraphicEl(p,y),r.add(y)}}).update(function(p,v){var y=i.getItemGraphicEl(v),x=f(p);if(Dw(t,x,p,e)){var S=t.getItemVisual(p,"symbol")||"circle",C=y&&y.getSymbolType&&y.getSymbolType();if(!y||C&&C!==S)r.remove(y),(y=new s(t,p,u,d)).setPosition(x);else{y.updateData(t,p,u,d);var k={x:x[0],y:x[1]};l?y.attr(k):ro(y,k,o)}r.add(y),t.setItemGraphicEl(p,y)}else r.remove(y)}).remove(function(p){var v=i.getItemGraphicEl(p);v&&v.fadeOut(function(){r.remove(v)})}).execute(),this._getSymbolPoint=f,this._data=t},n.prototype.isPersistent=function(){return!0},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(r,o){var i=t._getSymbolPoint(o);r.setPosition(i),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Iw(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,r){function o(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}r=Aw(r);for(var i=t.start;i<t.end;i++){var s=e.getItemLayout(i);if(Dw(e,s,i,r)){var l=new this._SymbolCtor(e,i,this._seriesScope);l.traverse(o),l.setPosition(s),this.group.add(l),e.setItemGraphicEl(i,l)}}},n.prototype.remove=function(t){var e=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(o){o.fadeOut(function(){e.remove(o)})}):e.removeAll()},n}();function ix(n,t,e){var S,C,k,r=n.getBaseAxis(),o=n.getOtherAxis(r),i=(S=e,C=0,k=o.scale.getExtent(),"start"===S?C=k[0]:"end"===S?C=k[1]:k[0]>0?C=k[0]:k[1]<0&&(C=k[1]),C),s=r.dim,l=o.dim,u=t.mapDimension(l),d=t.mapDimension(s),f="x"===l||"radius"===l?1:0,p=Ht(n.dimensions,function(x){return t.mapDimension(x)}),v=!1,y=t.getCalculationInfo("stackResultDimension");return Fh(t,p[0])&&(v=!0,p[0]=y),Fh(t,p[1])&&(v=!0,p[1]=y),{dataDimsForPoint:p,valueStart:i,valueAxisDim:l,baseAxisDim:s,stacked:!!v,valueDim:u,baseDim:d,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function yy(n,t,e,r){var o=NaN;n.stacked&&(o=e.get(e.getCalculationInfo("stackedOverDimension"),r)),isNaN(o)&&(o=n.valueStart);var i=n.baseDataOffset,s=[];return s[i]=e.get(n.baseDim,r),s[1-i]=o,t.dataToPoint(s)}var Pw="undefined"!=typeof Float32Array,nM=Pw?Float32Array:Array;function Gc(n){return dt(n)?Pw?new Float32Array(n):n:new nM(n)}var qp=Math.min,Zp=Math.max;function vm(n,t){return isNaN(n)||isNaN(t)}function by(n,t,e,r,o,i,s,l,u){for(var d,f,p,v,y,x,S=e,C=0;C<r;C++){var k=t[2*S],I=t[2*S+1];if(S>=o||S<0)break;if(vm(k,I)){if(u){S+=i;continue}break}if(S===e)n[i>0?"moveTo":"lineTo"](k,I),p=k,v=I;else{var R=k-d,O=I-f;if(R*R+O*O<.5){S+=i;continue}if(s>0){var V=S+i,F=t[2*V],Y=t[2*V+1],Z=C+1;if(u)for(;vm(F,Y)&&Z<r;)Z++,F=t[2*(V+=i)],Y=t[2*V+1];var re=.5,ie=0,ae=0,ce=void 0,ve=void 0;if(Z>=r||vm(F,Y))y=k,x=I;else{ie=F-d,ae=Y-f;var be=k-d,_e=F-k,Ce=I-f,Pe=Y-I,Le=void 0,He=void 0;"x"===l?(Le=Math.abs(be),He=Math.abs(_e),y=k-Le*s,x=I,ce=k+Le*s,ve=I):"y"===l?(Le=Math.abs(Ce),He=Math.abs(Pe),y=k,x=I-Le*s,ce=k,ve=I+Le*s):(Le=Math.sqrt(be*be+Ce*Ce),y=k-ie*s*(1-(re=(He=Math.sqrt(_e*_e+Pe*Pe))/(He+Le))),x=I-ae*s*(1-re),ve=I+ae*s*re,ce=qp(ce=k+ie*s*re,Zp(F,k)),ve=qp(ve,Zp(Y,I)),ce=Zp(ce,qp(F,k)),x=I-(ae=(ve=Zp(ve,qp(Y,I)))-I)*Le/He,y=qp(y=k-(ie=ce-k)*Le/He,Zp(d,k)),x=qp(x,Zp(f,I)),ce=k+(ie=k-(y=Zp(y,qp(d,k))))*He/Le,ve=I+(ae=I-(x=Zp(x,qp(f,I))))*He/Le)}n.bezierCurveTo(p,v,y,x,k,I),p=ce,v=ve}else n.lineTo(k,I)}d=k,f=I,S+=i}return C}var rM=function(){this.smooth=0,this.smoothConstraint=!0},YT=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-polyline",r}return We(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rM},t.prototype.buildPath=function(e,r){var o=r.points,i=0,s=o.length/2;if(r.connectNulls){for(;s>0&&vm(o[2*s-2],o[2*s-1]);s--);for(;i<s&&vm(o[2*i],o[2*i+1]);i++);}for(;i<s;)i+=by(e,o,i,s,s,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(e,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o,i,s=this.path.data,l=mu.CMD,u="x"===r,d=[],f=0;f<s.length;){var p=void 0,v=void 0,y=void 0,x=void 0,S=void 0,C=void 0,k=void 0;switch(s[f++]){case l.M:o=s[f++],i=s[f++];break;case l.L:if(p=s[f++],v=s[f++],(k=u?(e-o)/(p-o):(e-i)/(v-i))<=1&&k>=0){var I=u?(v-i)*k+i:(p-o)*k+o;return u?[e,I]:[I,e]}o=p,i=v;break;case l.C:p=s[f++],v=s[f++],y=s[f++],x=s[f++],S=s[f++],C=s[f++];var R=u?Ci(o,p,y,S,e,d):Ci(i,v,x,C,e,d);if(R>0)for(var O=0;O<R;O++){var V=d[O];if(V<=1&&V>=0)return I=u?Si(i,v,x,C,V):Si(o,p,y,S,V),u?[e,I]:[I,e]}o=S,i=C}}},t}(Vr),oM=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t}(rM),pl=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-polygon",r}return We(t,n),t.prototype.getDefaultShape=function(){return new oM},t.prototype.buildPath=function(e,r){var o=r.points,i=r.stackedOnPoints,s=0,l=o.length/2,u=r.smoothMonotone;if(r.connectNulls){for(;l>0&&vm(o[2*l-2],o[2*l-1]);l--);for(;s<l&&vm(o[2*s],o[2*s+1]);s++);}for(;s<l;){var d=by(e,o,s,l,l,1,r.smooth,u,r.connectNulls);by(e,i,s+d-1,d,l,-1,r.stackedOnSmooth,u,r.connectNulls),s+=d+1,e.closePath()}},t}(Vr);function iM(n,t,e,r,o){var i=n.getArea(),s=i.x,l=i.y,u=i.width,d=i.height,f=e.get(["lineStyle","width"])||2;s-=f/2,l-=f/2,u+=f,d+=f,s=Math.floor(s),u=Math.round(u);var p=new eo({shape:{x:s,y:l,width:u,height:d}});if(t){var v=n.getBaseAxis(),y=v.isHorizontal(),x=v.inverse;y?(x&&(p.shape.x+=u),p.shape.width=0):(x||(p.shape.y+=d),p.shape.height=0),ni(p,{shape:{width:u,height:d,x:s,y:l}},e,null,r,"function"==typeof o?function(S){o(S,p)}:null)}return p}function ax(n,t,e){var r=n.getArea(),o=he(r.r0,1),i=he(r.r,1),s=new Oo({shape:{cx:he(n.cx,1),cy:he(n.cy,1),r0:o,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return t&&("angle"===n.getBaseAxis().dim?s.shape.endAngle=r.startAngle:s.shape.r=o,ni(s,{shape:{endAngle:r.endAngle,r:i}},e)),s}function ym(n,t,e,r,o){return n?"polar"===n.type?ax(n,t,e):"cartesian2d"===n.type?iM(n,t,e,r,o):null:null}function jh(n,t){return n.type===t}function Kp(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function Lw(n){for(var t=1/0,e=1/0,r=-1/0,o=-1/0,i=0;i<n.length;){var s=n[i++],l=n[i++];isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r)),isNaN(l)||(e=Math.min(l,e),o=Math.max(l,o))}return[[t,e],[r,o]]}function $p(n,t){var e=Lw(n),r=e[0],o=e[1],i=Lw(t),s=i[0],l=i[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(o[0]-l[0]),Math.abs(o[1]-l[1]))}function aM(n){return"number"==typeof n?n:n?.5:0}function zf(n,t,e){for(var r=t.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,i=[],s=0,l=[],u=[],d=[];s<n.length-2;s+=2)switch(d[0]=n[s+2],d[1]=n[s+3],u[0]=n[s],u[1]=n[s+1],i.push(u[0],u[1]),e){case"end":l[o]=d[o],l[1-o]=u[1-o],i.push(l[0],l[1]);break;case"middle":var p=[];l[o]=p[o]=(u[o]+d[o])/2,l[1-o]=u[1-o],p[1-o]=d[1-o],i.push(l[0],l[1]),i.push(p[0],p[1]);break;default:l[o]=u[o],l[1-o]=d[1-o],i.push(l[0],l[1])}return i.push(n[s++],n[s++]),i}function f1(n,t){return[n[2*t],n[2*t+1]]}function Rw(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<bs.length;t++)if(n.get([bs[t],"endLabel","show"]))return!0;return!1}function sx(n,t,e,r){if(jh(t,"cartesian2d")){var o=r.getModel("endLabel"),i=o.get("valueAnimation"),s=r.getData(),l={lastFrameIndex:0},u=Rw(r)?function(y,x){n._endLabelOnDuring(y,x,s,l,i,o,t)}:null,d=t.getBaseAxis().isHorizontal(),f=iM(t,e,r,function(){var y=n._endLabel;y&&e&&null!=l.originalX&&y.attr({x:l.originalX,y:l.originalY})},u);if(!r.get("clip",!0)){var p=f.shape,v=Math.max(p.width,p.height);d?(p.y-=v,p.height+=2*v):(p.x-=v,p.width+=2*v)}return u&&u(1,f),f}return ax(t,e,r)}var sM=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.init=function(){var e=new nr,r=new Dd;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=e},t.prototype.render=function(e,r,o){var i=this,s=e.coordinateSystem,l=this.group,u=e.getData(),d=e.getModel("lineStyle"),f=e.getModel("areaStyle"),p=u.getLayout("points")||[],v="polar"===s.type,y=this._coordSys,x=this._symbolDraw,S=this._polyline,C=this._polygon,k=this._lineGroup,I=e.get("animation"),R=!f.isEmpty(),O=f.get("origin"),V=ix(s,u,O),F=R&&function(Ct,on,xt){if(!xt.valueDim)return[];for(var Ft=on.count(),vn=Gc(2*Ft),sn=0;sn<Ft;sn++){var cn=yy(xt,Ct,on,sn);vn[2*sn]=cn[0],vn[2*sn+1]=cn[1]}return vn}(s,u,V),Y=e.get("showSymbol"),Z=Y&&!v&&function d1(n,t,e){var r=n.get("showAllSymbol"),o="auto"===r;if(!r||o){var i=e.getAxesByScale("ordinal")[0];if(i&&(!o||!function(u,d){var f=u.getExtent(),p=Math.abs(f[1]-f[0])/u.scale.count();isNaN(p)&&(p=0);for(var v=d.count(),y=Math.max(1,Math.round(v/5)),x=0;x<v;x+=y)if(1.5*vy.getSymbolSize(d,x)[u.isHorizontal()?1:0]>p)return!1;return!0}(i,t))){var s=t.mapDimension(i.dim),l={};return ue(i.getViewLabels(),function(u){var d=i.scale.getRawOrdinalNumber(u.tickValue);l[d]=1}),function(u){return!l.hasOwnProperty(t.get(s,u))}}}}(e,u,s),re=this._data;re&&re.eachItemGraphicEl(function(Ct,on){Ct.__temp&&(l.remove(Ct),re.setItemGraphicEl(on,null))}),Y||x.remove(),l.add(k);var ie,ae=!v&&e.get("step");s&&s.getArea&&e.get("clip",!0)&&(null!=(ie=s.getArea()).width?(ie.x-=.1,ie.y-=.1,ie.width+=.2,ie.height+=.2):ie.r0&&(ie.r0-=.5,ie.r+=.5)),this._clipShapeForSymbol=ie;var ce=function bm(n,t,e){var r=n.getVisual("visualMeta");if(r&&r.length&&n.count()&&"cartesian2d"===t.type){for(var o,i,s=r.length-1;s>=0;s--){var l=n.getDimensionInfo(r[s].dimension);if("x"===(o=l&&l.coordDim)||"y"===o){i=r[s];break}}if(i){var u=t.getAxis(o),d=Ht(i.stops,function(I){return{coord:u.toGlobalCoord(u.dataToCoord(I.value)),color:I.color}}),f=d.length,p=i.outerColors.slice();f&&d[0].coord>d[f-1].coord&&(d.reverse(),p.reverse());var v=function(I,R){var O,V,F=[],Y=I.length;function Z(ce,ve,be){var _e=ce.coord;return{coord:be,color:qc((be-_e)/(ve.coord-_e),[ce.color,ve.color])}}for(var re=0;re<Y;re++){var ie=I[re],ae=ie.coord;if(ae<0)O=ie;else{if(ae>R){V&&F.push(Z(V,ie,R));break}O&&(F.push(Z(O,ie,0)),O=null),F.push(ie),V=ie}}return F}(d,"x"===o?e.getWidth():e.getHeight()),y=v.length;if(!y&&f)return d[0].coord<0?p[1]?p[1]:d[f-1].color:p[0]?p[0]:d[0].color;var x=v[0].coord-0,S=v[y-1].coord+0,C=S-x;if(C<.001)return"transparent";ue(v,function(I){I.offset=(I.coord-x)/C}),v.push({offset:y?v[y-1].offset:.5,color:p[1]||"transparent"}),v.unshift({offset:y?v[0].offset:.5,color:p[0]||"transparent"});var k=new Mp(0,0,0,0,v,!0);return k[o]=x,k[o+"2"]=S,k}}}(u,s,o)||u.getVisual("style")[u.getVisual("drawType")];if(S&&y.type===s.type&&ae===this._step){R&&!C?C=this._newPolygon(p,F):C&&!R&&(k.remove(C),C=this._polygon=null),v||this._initOrUpdateEndLabel(e,s,xd(ce));var ve=k.getClipPath();ve?ni(ve,{shape:sx(this,s,!1,e).shape},e):k.setClipPath(sx(this,s,!0,e)),Y&&x.updateData(u,{isIgnore:Z,clipShape:ie,disableAnimation:!0,getSymbolPoint:function(Ct){return[p[2*Ct],p[2*Ct+1]]}}),Kp(this._stackedOnPoints,F)&&Kp(this._points,p)||(I?this._doUpdateAnimation(u,F,s,o,ae,O):(ae&&(p=zf(p,s,ae),F&&(F=zf(F,s,ae))),S.setShape({points:p}),C&&C.setShape({points:p,stackedOnPoints:F})))}else Y&&x.updateData(u,{isIgnore:Z,clipShape:ie,disableAnimation:!0,getSymbolPoint:function(Ct){return[p[2*Ct],p[2*Ct+1]]}}),I&&this._initSymbolLabelAnimation(u,s,ie),ae&&(p=zf(p,s,ae),F&&(F=zf(F,s,ae))),S=this._newPolyline(p),R&&(C=this._newPolygon(p,F)),v||this._initOrUpdateEndLabel(e,s,xd(ce)),k.setClipPath(sx(this,s,!0,e));var be=e.get(["emphasis","focus"]),_e=e.get(["emphasis","blurScope"]);S.useStyle(Gt(d.getLineStyle(),{fill:"none",stroke:ce,lineJoin:"bevel"})),as(S,e,"lineStyle"),S.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(S.getState("emphasis").style.lineWidth=+S.style.lineWidth+1),br(S).seriesIndex=e.seriesIndex,Jo(S,be,_e);var Ce=aM(e.get("smooth")),Pe=e.get("smoothMonotone"),Le=e.get("connectNulls");if(S.setShape({smooth:Ce,smoothMonotone:Pe,connectNulls:Le}),C){var He=u.getCalculationInfo("stackedOnSeries"),Je=0;C.useStyle(Gt(f.getAreaStyle(),{fill:ce,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),He&&(Je=aM(He.get("smooth"))),C.setShape({smooth:Ce,stackedOnSmooth:Je,smoothMonotone:Pe,connectNulls:Le}),as(C,e,"areaStyle"),br(C).seriesIndex=e.seriesIndex,Jo(C,be,_e)}var vt=function(Ct){i._changePolyState(Ct)};u.eachItemGraphicEl(function(Ct){Ct&&(Ct.onHoverStateChange=vt)}),this._polyline.onHoverStateChange=vt,this._data=u,this._coordSys=s,this._stackedOnPoints=F,this._points=p,this._step=ae,this._valueOrigin=O},t.prototype.dispose=function(){},t.prototype.highlight=function(e,r,o,i){var s=e.getData(),l=zd(s,i);if(this._changePolyState("emphasis"),!(l instanceof Array)&&null!=l&&l>=0){var u=s.getLayout("points"),d=s.getItemGraphicEl(l);if(!d){var f=u[2*l],p=u[2*l+1];if(isNaN(f)||isNaN(p)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,p))return;var v=e.get("zlevel"),y=e.get("z");(d=new vy(s,l)).x=f,d.y=p,d.setZ(v,y);var x=d.getSymbolPath().getTextContent();x&&(x.zlevel=v,x.z=y,x.z2=this._polyline.z2+1),d.__temp=!0,s.setItemGraphicEl(l,d),d.stopSymbolAnimation(!0),this.group.add(d)}d.highlight()}else zo.prototype.highlight.call(this,e,r,o,i)},t.prototype.downplay=function(e,r,o,i){var s=e.getData(),l=zd(s,i);if(this._changePolyState("normal"),null!=l&&l>=0){var u=s.getItemGraphicEl(l);u&&(u.__temp?(s.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else zo.prototype.downplay.call(this,e,r,o,i)},t.prototype._changePolyState=function(e){var r=this._polygon;yg(this._polyline,e),r&&yg(r,e)},t.prototype._newPolyline=function(e){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new YT({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(e,r){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new pl({shape:{points:e,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},t.prototype._initSymbolLabelAnimation=function(e,r,o){var i,s,l=r.getBaseAxis(),u=l.inverse;"cartesian2d"===r.type?(i=l.isHorizontal(),s=!1):"polar"===r.type&&(i="angle"===l.dim,s=!0);var d=e.hostModel,f=d.get("animationDuration");"function"==typeof f&&(f=f(null));var p=d.get("animationDelay")||0,v="function"==typeof p?p(null):p;e.eachItemGraphicEl(function(y,x){var S=y;if(S){var k=void 0,I=void 0,R=void 0;if(o)if(s){var O=o,V=r.pointToCoord([y.x,y.y]);i?(k=O.startAngle,I=O.endAngle,R=-V[1]/180*Math.PI):(k=O.r0,I=O.r,R=V[0])}else i?(k=o.x,I=o.x+o.width,R=y.x):(k=o.y+o.height,I=o.y,R=y.y);var Y=I===k?0:(R-k)/(I-k);u&&(Y=1-Y);var Z="function"==typeof p?p(x):f*Y+v,re=S.getSymbolPath(),ie=re.getTextContent();S.attr({scaleX:0,scaleY:0}),S.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Z}),ie&&ie.animateFrom({style:{opacity:0}},{duration:300,delay:Z}),re.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,r,o){var f,v,y,x,S,C,i=e.getModel("endLabel");if(Rw(e)){var s=e.getData(),l=this._polyline,u=this._endLabel;u||((u=this._endLabel=new Xr({z2:200})).ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var d=function(f){for(var v,y=f.length/2;y>0&&(v=f[2*y-1],isNaN(f[2*y-2])||isNaN(v));y--);return y-1}(s.getLayout("points"));d>=0&&(_s(l,ma(e,"endLabel"),{inheritColor:o,labelFetcher:e,labelDataIndex:d,defaultText:function(f,p,v){return null!=v?rx(s,v):my(s,f)},enableTextSetter:!0},(f=i,y=(v=r.getBaseAxis()).isHorizontal(),x=v.inverse,S=y?x?"right":"left":"center",C=y?"middle":x?"top":"bottom",{normal:{align:f.get("align")||S,verticalAlign:f.get("verticalAlign")||C}})),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,r,o,i,s,l,u){var d=this._endLabel,f=this._polyline;if(d){e<1&&null==i.originalX&&(i.originalX=d.x,i.originalY=d.y);var p=o.getLayout("points"),v=o.hostModel,y=v.get("connectNulls"),x=l.get("precision"),S=l.get("distance")||0,C=u.getBaseAxis(),k=C.isHorizontal(),I=C.inverse,R=r.shape,O=I?k?R.x:R.y+R.height:k?R.x+R.width:R.y,V=(k?S:0)*(I?-1:1),F=(k?0:-S)*(I?-1:1),Y=k?"x":"y",Z=function(Ce,Pe,Le){for(var He,Je,vt=Ce.length/2,Ct="x"===Le?0:1,on=0,xt=-1,Ft=0;Ft<vt;Ft++)if(Je=Ce[2*Ft+Ct],!isNaN(Je)&&!isNaN(Ce[2*Ft+1-Ct]))if(0!==Ft){if(He<=Pe&&Je>=Pe||He>=Pe&&Je<=Pe){xt=Ft;break}on=Ft,He=Je}else He=Je;return{range:[on,xt],t:(Pe-He)/(Je-He)}}(p,O,Y),re=Z.range,ie=re[1]-re[0],ae=void 0;if(ie>=1){if(ie>1&&!y){var ce=f1(p,re[0]);d.attr({x:ce[0]+V,y:ce[1]+F}),s&&(ae=v.getRawValue(re[0]))}else{(ce=f.getPointOn(O,Y))&&d.attr({x:ce[0]+V,y:ce[1]+F});var ve=v.getRawValue(re[0]),be=v.getRawValue(re[1]);s&&(ae=zy(o,x,ve,be,Z.t))}i.lastFrameIndex=re[0]}else{var _e=1===e||i.lastFrameIndex>0?re[0]:0;ce=f1(p,_e),s&&(ae=v.getRawValue(_e)),d.attr({x:ce[0]+V,y:ce[1]+F})}s&&Ch(d).setLabelText(ae)}},t.prototype._doUpdateAnimation=function(e,r,o,i,s,l){var u=this._polyline,d=this._polygon,f=e.hostModel,p=function(V,F,Y,Z,re,ie,ae,ce){for(var ve=function(Or,Ks){var Cs=[];return Ks.diff(Or).add(function(Ei){Cs.push({cmd:"+",idx:Ei})}).update(function(Ei,Lu){Cs.push({cmd:"=",idx:Lu,idx1:Ei})}).remove(function(Ei){Cs.push({cmd:"-",idx:Ei})}).execute(),Cs}(V,F),be=[],_e=[],Ce=[],Pe=[],Le=[],He=[],Je=[],vt=ix(re,F,ae),Ct=V.getLayout("points")||[],on=F.getLayout("points")||[],xt=0;xt<ve.length;xt++){var Ft=ve[xt],vn=!0,sn=void 0,cn=void 0;switch(Ft.cmd){case"=":var En=Ct[sn=2*Ft.idx],Bn=Ct[sn+1],mr=on[cn=2*Ft.idx1],Mr=on[cn+1];(isNaN(En)||isNaN(Bn))&&(En=mr,Bn=Mr),be.push(En,Bn),_e.push(mr,Mr),Ce.push(Y[sn],Y[sn+1]),Pe.push(Z[cn],Z[cn+1]),Je.push(F.getRawIndex(Ft.idx1));break;case"+":var Ar=Ft.idx,la=vt.dataDimsForPoint,Ji=re.dataToPoint([F.get(la[0],Ar),F.get(la[1],Ar)]);cn=2*Ar,be.push(Ji[0],Ji[1]),_e.push(on[cn],on[cn+1]);var To=yy(vt,re,F,Ar);Ce.push(To[0],To[1]),Pe.push(Z[cn],Z[cn+1]),Je.push(F.getRawIndex(Ar));break;case"-":vn=!1}vn&&(Le.push(Ft),He.push(He.length))}He.sort(function(Or,Ks){return Je[Or]-Je[Ks]});var _o=be.length,_a=Gc(_o),Ni=Gc(_o),Pu=Gc(_o),gc=Gc(_o),di=[];for(xt=0;xt<He.length;xt++){var ao=He[xt],ii=2*xt,Fo=2*ao;_a[ii]=be[Fo],_a[ii+1]=be[Fo+1],Ni[ii]=_e[Fo],Ni[ii+1]=_e[Fo+1],Pu[ii]=Ce[Fo],Pu[ii+1]=Ce[Fo+1],gc[ii]=Pe[Fo],gc[ii+1]=Pe[Fo+1],di[xt]=Le[ao]}return{current:_a,next:Ni,stackedOnCurrent:Pu,stackedOnNext:gc,status:di}}(this._data,e,this._stackedOnPoints,r,this._coordSys,0,this._valueOrigin),v=p.current,y=p.stackedOnCurrent,x=p.next,S=p.stackedOnNext;if(s&&(v=zf(p.current,o,s),y=zf(p.stackedOnCurrent,o,s),x=zf(p.next,o,s),S=zf(p.stackedOnNext,o,s)),$p(v,x)>3e3||d&&$p(y,S)>3e3)return u.stopAnimation(),u.setShape({points:x}),void(d&&(d.stopAnimation(),d.setShape({points:x,stackedOnPoints:S})));u.shape.__points=p.current,u.shape.points=v;var C={shape:{points:x}};p.current!==v&&(C.shape.__points=p.next),u.stopAnimation(),ro(u,C,f),d&&(d.setShape({points:v,stackedOnPoints:y}),d.stopAnimation(),ro(d,{shape:{stackedOnPoints:S}},f),u.shape.points!==d.shape.points&&(d.shape.points=u.shape.points));for(var k=[],I=p.status,R=0;R<I.length;R++)if("="===I[R].cmd){var O=e.getItemGraphicEl(I[R].idx1);O&&k.push({el:O,ptIdx:R})}u.animators&&u.animators.length&&u.animators[0].during(function(){d&&d.dirtyShape();for(var V=u.shape.__points,F=0;F<k.length;F++){var Y=k[F].el,Z=2*k[F].ptIdx;Y.x=V[Z],Y.y=V[Z+1],Y.markRedraw()}})},t.prototype.remove=function(e){var r=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(i,s){i.__temp&&(r.remove(i),o.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(zo);function h1(n,t){return{seriesType:n,plan:Pv(),reset:function(e){var r=e.getData(),o=e.coordinateSystem,s=t||e.pipelineContext.large;if(o){var l=Ht(o.dimensions,function(y){return r.mapDimension(y)}).slice(0,2),u=l.length,d=r.getCalculationInfo("stackResultDimension");Fh(r,l[0])&&(l[0]=d),Fh(r,l[1])&&(l[1]=d);var f=r.getStore(),p=r.getDimensionIndex(l[0]),v=r.getDimensionIndex(l[1]);return u&&{progress:function(y,x){for(var C=s&&Gc((y.end-y.start)*u),k=[],I=[],R=y.start,O=0;R<y.end;R++){var V=void 0;if(1===u){var F=f.get(p,R);V=o.dataToPoint(F,null,I)}else k[0]=f.get(p,R),k[1]=f.get(v,R),V=o.dataToPoint(k,null,I);s?(C[O++]=V[0],C[O++]=V[1]):x.setItemLayout(R,V.slice())}s&&x.setLayout("points",C)}}}}}}var xm={average:function(n){for(var t=0,e=0,r=0;r<n.length;r++)isNaN(n[r])||(t+=n[r],e++);return 0===e?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},lx=function(n){return Math.round(n.length/2)};function p1(n){return{seriesType:n,reset:function(t,e,r){var o=t.getData(),i=t.get("sampling"),s=t.coordinateSystem,l=o.count();if(l>10&&"cartesian2d"===s.type&&i){var u=s.getBaseAxis(),d=s.getOtherAxis(u),f=u.getExtent(),p=r.getDevicePixelRatio(),v=Math.abs(f[1]-f[0])*(p||1),y=Math.round(l/v);if(y>1){"lttb"===i&&t.setData(o.lttbDownSample(o.mapDimension(d.dim),1/y));var x=void 0;"string"==typeof i?x=xm[i]:"function"==typeof i&&(x=i),x&&t.setData(o.downSample(o.mapDimension(d.dim),1/y,x,lx))}}}}}var xy=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.getInitialData=function(e,r){return Td(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var r=this.coordinateSystem;if(r&&r.clampData){var o=r.dataToPoint(r.clampData(e)),i=this.getData(),s=i.getLayout("offset"),l=i.getLayout("size");return o[r.getBaseAxis().isHorizontal()?0:1]+=s+l/2,o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Qo);Qo.registerClass(xy);var XT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.getInitialData=function(){return Td(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,o){return o.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Su(xy.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(xy),Ow=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},_y=function(n){function t(e){var r=n.call(this,e)||this;return r.type="sausage",r}return We(t,n),t.prototype.getDefaultShape=function(){return new Ow},t.prototype.buildPath=function(e,r){var o=r.cx,i=r.cy,s=Math.max(r.r0||0,0),l=Math.max(r.r,0),u=.5*(l-s),d=s+u,f=r.startAngle,p=r.endAngle,v=r.clockwise,y=Math.cos(f),x=Math.sin(f),S=Math.cos(p),C=Math.sin(p);(v?p-f<2*Math.PI:f-p<2*Math.PI)&&(e.moveTo(y*s+o,x*s+i),e.arc(y*d+o,x*d+i,u,-Math.PI+f,f,!v)),e.arc(o,i,l,f,p,!v),e.moveTo(S*l+o,C*l+i),e.arc(S*d+o,C*d+i,u,p-2*Math.PI,p-Math.PI,!v),0!==s&&(e.arc(o,i,s,p,f,v),e.moveTo(y*s+o,C*s+i)),e.closePath()},t}(Vr);function ux(n,t,e){return t*Math.sin(n)*(e?-1:1)}function g1(n,t,e){return t*Math.cos(n)*(e?1:-1)}var m1=[0,0],Ad=Math.max,Yh=Math.min,lM=function(n){function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return We(t,n),t.prototype.render=function(e,r,o,i){this._model=e,this._removeOnRenderedListener(o),this._updateDrawMode(e);var s=e.get("coordinateSystem");("cartesian2d"===s||"polar"===s)&&(this._isLargeDraw?this._renderLarge(e,r,o):this._renderNormal(e,r,o,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._incrementalRenderLarge(e,r)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;null!=this._isLargeDraw&&r===this._isLargeDraw||(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,o,i){var s,l=this.group,u=e.getData(),d=this._data,f=e.coordinateSystem,p=f.getBaseAxis();"cartesian2d"===f.type?s=p.isHorizontal():"polar"===f.type&&(s="angle"===p.dim);var v=e.isAnimationEnabled()?e:null,y=function(ae,ce){var ve=ae.get("realtimeSort",!0),be=ce.getBaseAxis();if(ve&&"category"===be.type&&"cartesian2d"===ce.type)return{baseAxis:be,otherAxis:ce.getOtherAxis(be)}}(e,f);y&&this._enableRealtimeSort(y,u,o);var x=e.get("clip",!0)||y,S=function(ae,ce){var ve=ae.getArea&&ae.getArea();if(jh(ae,"cartesian2d")){var be=ae.getBaseAxis();if("category"!==be.type||!be.onBand){var _e=ce.getLayout("bandWidth");be.isHorizontal()?(ve.x-=_e,ve.width+=2*_e):(ve.y-=_e,ve.height+=2*_e)}}return ve}(f,u);l.removeClipPath();var C=e.get("roundCap",!0),k=e.get("showBackground",!0),I=e.getModel("backgroundStyle"),R=I.get("borderRadius")||0,O=[],V=this._backgroundEls,F=i&&i.isInitSort,Y=i&&"changeAxisOrder"===i.type;function Z(ae){var be,ce=y1[f.type](u,ae),ve=new("polar"===(be=f).type?Oo:eo)({shape:Bw(s,ce,be),silent:!0,z2:0});return ve.useStyle(I.getItemStyle()),"cartesian2d"===f.type&&ve.setShape("r",R),O[ae]=ve,ve}u.diff(d).add(function(ae){var ce=u.getItemModel(ae),ve=y1[f.type](u,ae,ce);if(k&&Z(ae),u.hasValue(ae)&&Ew[f.type](ve)){var be=!1;x&&(be=uM[f.type](S,ve));var _e=Nw[f.type](e,u,ae,ve,s,v,p.model,!1,C);pc(_e,u,ae,ce,ve,e,s,"polar"===f.type),F?_e.attr({shape:ve}):y?cM(y,v,_e,ve,ae,s,!1,!1):ni(_e,{shape:ve},e,ae),u.setItemGraphicEl(ae,_e),l.add(_e),_e.ignore=be}}).update(function(ae,ce){var ve=u.getItemModel(ae),be=y1[f.type](u,ae,ve);if(k){var _e=void 0;0===V.length?_e=Z(ce):((_e=V[ce]).useStyle(I.getItemStyle()),"cartesian2d"===f.type&&_e.setShape("r",R),O[ae]=_e);var Ce=y1[f.type](u,ae);ro(_e,{shape:Bw(s,Ce,f)},v,ae)}var Pe=d.getItemGraphicEl(ce);if(u.hasValue(ae)&&Ew[f.type](be)){var Le=!1;x&&(Le=uM[f.type](S,be))&&l.remove(Pe),Pe?xu(Pe):Pe=Nw[f.type](e,u,ae,be,s,v,p.model,!!Pe,C),Y||pc(Pe,u,ae,ve,be,e,s,"polar"===f.type),F?Pe.attr({shape:be}):y?cM(y,v,Pe,be,ae,s,!0,Y):ro(Pe,{shape:be},e,ae,null),u.setItemGraphicEl(ae,Pe),Pe.ignore=Le,l.add(Pe)}else l.remove(Pe)}).remove(function(ae){var ce=d.getItemGraphicEl(ae);ce&&kp(ce,e,ae)}).execute();var re=this._backgroundGroup||(this._backgroundGroup=new nr);re.removeAll();for(var ie=0;ie<O.length;++ie)re.add(O[ie]);l.add(re),this._backgroundEls=O,this._data=u},t.prototype._renderLarge=function(e,r,o){this._clear(),fM(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),fM(r,this.group,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)?ym(e.coordinateSystem,!1,e):null;r?this.group.setClipPath(r):this.group.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,o){var i=this;if(r.count()){var s=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,o),this._isFirstFrame=!1;else{var l=function(u){var d=r.getItemGraphicEl(u);if(d){var f=d.shape;return(s.isHorizontal()?Math.abs(f.height):Math.abs(f.width))||0}return 0};this._onRendered=function(){i._updateSortWithinSameData(r,l,s,o)},o.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,o){var i=[];return e.each(e.mapDimension(r.dim),function(s,l){var u=o(l);i.push({dataIndex:l,mappedValue:u=null==u?NaN:u,ordinalNumber:s})}),i.sort(function(s,l){return l.mappedValue-s.mappedValue}),{ordinalNumbers:Ht(i,function(s){return s.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,o){for(var i=o.scale,s=e.mapDimension(o.dim),l=Number.MAX_VALUE,u=0,d=i.getOrdinalMeta().categories.length;u<d;++u){var f=e.rawIndexOf(s,i.getRawOrdinalNumber(u)),p=f<0?Number.MIN_VALUE:r(e.indexOfRawIndex(f));if(p>l)return!0;l=p}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var o=r.scale,i=o.getExtent(),s=Math.max(0,i[0]),l=Math.min(i[1],o.getOrdinalMeta().categories.length-1);s<=l;++s)if(e.ordinalNumbers[s]!==o.getRawOrdinalNumber(s))return!0},t.prototype._updateSortWithinSameData=function(e,r,o,i){if(this._isOrderChangedWithinSameData(e,r,o)){var s=this._dataSort(e,o,r);this._isOrderDifferentInView(s,o)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",axisId:o.index,sortInfo:s}))}},t.prototype._dispatchInitSort=function(e,r,o){var i=r.baseAxis,s=this._dataSort(e,i,function(l){return e.get(e.mapDimension(r.otherAxis.dim),l)});o.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:s})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,o=this._data;e&&e.isAnimationEnabled()&&o&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],o.eachItemGraphicEl(function(i){kp(i,e,br(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(zo),uM={cartesian2d:function(n,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var o=n.x+n.width,i=n.y+n.height,s=Ad(t.x,n.x),l=Yh(t.x+t.width,o),u=Ad(t.y,n.y),d=Yh(t.y+t.height,i),f=l<s,p=d<u;return t.x=f&&s>o?l:s,t.y=p&&u>i?d:u,t.width=f?0:l-s,t.height=p?0:d-u,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),f||p},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var o=Yh(t.r,n.r),i=Ad(t.r0,n.r0);t.r=o,t.r0=i;var s=o-i<0;return e<0&&(r=t.r,t.r=t.r0,t.r0=r),s}},Nw={cartesian2d:function(n,t,e,r,o,i,s,l,u){var d=new eo({shape:tt({},r),z2:1});return d.__dataIndex=e,d.name="item",i&&(d.shape[o?"height":"width"]=0),d},polar:function(n,t,e,r,o,i,s,l,u){var d=!o&&u?_y:Oo,f=new d({shape:r,z2:1});f.name="item";var p,v,y=b1(o);if(f.calculateTextPosition=(p=y,v=d===_y,function(C,k,I){var R=k.position;if(!R||R instanceof Array)return Jc(C,k,I);var O=p(R),V=null!=k.distance?k.distance:5,F=this.shape,Y=F.cx,Z=F.cy,re=F.r,ie=F.r0,ae=(re+ie)/2,ce=F.startAngle,ve=F.endAngle,be=(ce+ve)/2,_e=v?Math.abs(re-ie)/2:0,Ce=Math.cos,Pe=Math.sin,Le=Y+re*Ce(ce),He=Z+re*Pe(ce),Je="left",vt="top";switch(O){case"startArc":Le=Y+(ie-V)*Ce(be),He=Z+(ie-V)*Pe(be),Je="center",vt="top";break;case"insideStartArc":Le=Y+(ie+V)*Ce(be),He=Z+(ie+V)*Pe(be),Je="center",vt="bottom";break;case"startAngle":Le=Y+ae*Ce(ce)+ux(ce,V+_e,!1),He=Z+ae*Pe(ce)+g1(ce,V+_e,!1),Je="right",vt="middle";break;case"insideStartAngle":Le=Y+ae*Ce(ce)+ux(ce,-V+_e,!1),He=Z+ae*Pe(ce)+g1(ce,-V+_e,!1),Je="left",vt="middle";break;case"middle":Le=Y+ae*Ce(be),He=Z+ae*Pe(be),Je="center",vt="middle";break;case"endArc":Le=Y+(re+V)*Ce(be),He=Z+(re+V)*Pe(be),Je="center",vt="bottom";break;case"insideEndArc":Le=Y+(re-V)*Ce(be),He=Z+(re-V)*Pe(be),Je="center",vt="top";break;case"endAngle":Le=Y+ae*Ce(ve)+ux(ve,V+_e,!0),He=Z+ae*Pe(ve)+g1(ve,V+_e,!0),Je="left",vt="middle";break;case"insideEndAngle":Le=Y+ae*Ce(ve)+ux(ve,-V+_e,!0),He=Z+ae*Pe(ve)+g1(ve,-V+_e,!0),Je="right",vt="middle";break;default:return Jc(C,k,I)}return(C=C||{}).x=Le,C.y=He,C.align=Je,C.verticalAlign=vt,C}),i){var x=o?"r":"endAngle",S={};f.shape[x]=o?0:r.startAngle,S[x]=r[x],(l?ro:ni)(f,{shape:S},i)}return f}};function cM(n,t,e,r,o,i,s,l){var u,d;i?(d={x:r.x,width:r.width},u={y:r.y,height:r.height}):(d={y:r.y,height:r.height},u={x:r.x,width:r.width}),l||(s?ro:ni)(e,{shape:u},t,o,null),(s?ro:ni)(e,{shape:d},t?n.baseAxis.model:null,o)}function v1(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var oo=["x","y","width","height"],dM=["cx","cy","r","startAngle","endAngle"],Ew={cartesian2d:function(n){return!v1(n,oo)},polar:function(n){return!v1(n,dM)}},y1={cartesian2d:function(n,t,e){var r=n.getItemLayout(t),o=e?function(l,u){var d=l.get(["itemStyle","borderColor"]);if(!d||"none"===d)return 0;var f=l.get(["itemStyle","borderWidth"])||0,p=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),v=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height);return Math.min(f,p,v)}(e,r):0,i=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+i*o/2,y:r.y+s*o/2,width:r.width-i*o,height:r.height-s*o}},polar:function(n,t,e){var r=n.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function b1(n){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(n)}function pc(n,t,e,r,o,i,s,l){var u=t.getItemVisual(e,"style");l||n.setShape("r",r.get(["itemStyle","borderRadius"])||0),n.useStyle(u);var d=r.getShallow("cursor");d&&n.attr("cursor",d);var f=l?s?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":s?o.height>=0?"bottom":"top":o.width>=0?"right":"left",p=ma(r);_s(n,p,{labelFetcher:i,labelDataIndex:e,defaultText:my(i.getData(),e),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:f});var v=n.getTextContent();if(l&&v){var y=r.get(["label","position"]);n.textConfig.inside="middle"===y||null,function(S,C,k,I){if("number"!=typeof I)if(dt(C))S.setTextConfig({rotation:0});else{var R,O=S.shape,V=O.clockwise?O.startAngle:O.endAngle,F=O.clockwise?O.endAngle:O.startAngle,Y=(V+F)/2,Z=k(C);switch(Z){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":R=Y;break;case"startAngle":case"insideStartAngle":R=V;break;case"endAngle":case"insideEndAngle":R=F;break;default:return void S.setTextConfig({rotation:0})}var re=1.5*Math.PI-R;"middle"===Z&&re>Math.PI/2&&re<1.5*Math.PI&&(re-=Math.PI),S.setTextConfig({rotation:re})}else S.setTextConfig({rotation:I})}(n,"outside"===y?f:y,b1(s),r.get(["label","rotate"]))}lf(v,p,i.getRawValue(e),function(S){return rx(t,S)});var S,x=r.getModel(["emphasis"]);Jo(n,x.get("focus"),x.get("blurScope")),as(n,r),null!=(S=o).startAngle&&null!=S.endAngle&&S.startAngle===S.endAngle&&(n.style.fill="none",n.style.stroke="none",ue(n.states,function(S){S.style&&(S.style.fill=S.style.stroke="none")}))}var qT=function(){},Id=function(n){function t(e){var r=n.call(this,e)||this;return r.type="largeBar",r}return We(t,n),t.prototype.getDefaultShape=function(){return new qT},t.prototype.buildPath=function(e,r){for(var o=r.points,i=this.__startPoint,s=this.__baseDimIdx,l=0;l<o.length;l+=2)i[s]=o[l+s],e.moveTo(i[0],i[1]),e.lineTo(o[l],o[l+1])},t}(Vr);function fM(n,t,e){var r=n.getData(),o=[],i=r.getLayout("valueAxisHorizontal")?1:0;o[1-i]=r.getLayout("valueAxisStart");var y,x,S,C,k,s=r.getLayout("largeDataIndices"),l=r.getLayout("barWidth"),u=n.getModel("backgroundStyle");if(n.get("showBackground",!0)){var d=r.getLayout("largeBackgroundPoints"),f=[];f[1-i]=r.getLayout("backgroundStart");var p=new Id({shape:{points:d},incremental:!!e,silent:!0,z2:0});p.__startPoint=f,p.__baseDimIdx=i,p.__largeDataIndices=s,p.__barWidth=l,y=p,S=r,C=(x=u).get("borderColor")||x.get("color"),k=x.getItemStyle(),y.useStyle(k),y.style.fill=null,y.style.stroke=C,y.style.lineWidth=S.getLayout("barWidth"),t.add(p)}var v=new Id({shape:{points:r.getLayout("largePoints")},incremental:!!e});v.__startPoint=o,v.__baseDimIdx=i,v.__largeDataIndices=s,v.__barWidth=l,t.add(v),function(y,x,S){var C=S.getVisual("style");y.useStyle(tt({},C)),y.style.fill=null,y.style.stroke=C.fill,y.style.lineWidth=S.getLayout("barWidth")}(v,0,r),br(v).seriesIndex=n.seriesIndex,n.get("silent")||(v.on("mousedown",hM),v.on("mousemove",hM))}var hM=zc(function(n){var t=function(e,r,o){var i=e.__baseDimIdx,s=1-i,l=e.shape.points,u=e.__largeDataIndices,d=Math.abs(e.__barWidth/2),f=e.__startPoint[s];m1[0]=r,m1[1]=o;for(var p=m1[i],v=m1[1-i],y=p-d,x=p+d,S=0,C=l.length/2;S<C;S++){var k=2*S,I=l[k+i],R=l[k+s];if(I>=y&&I<=x&&(f<=R?v>=f&&v<=R:v>=R&&v<=f))return u[S]}return-1}(this,n.offsetX,n.offsetY);br(this).dataIndex=t>=0?t:null},30,!1);function Bw(n,t,e){if(jh(e,"cartesian2d")){var r=t,o=e.getArea();return{x:n?r.x:o.x,y:n?o.y:r.y,width:n?r.width:o.width,height:n?o.height:r.height}}var i=t;return{cx:(o=e.getArea()).cx,cy:o.cy,r0:n?o.r0:i.r0,r:n?o.r:i.r,startAngle:n?i.startAngle:0,endAngle:n?i.endAngle:2*Math.PI}}var Pd=2*Math.PI,Rl=Math.PI/180;function pM(n,t){return va(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Xh(n,t){var e=pM(n,t),r=n.get("center"),o=n.get("radius");dt(o)||(o=[0,o]),dt(r)||(r=[r,r]);var i=ee(e.width,t.getWidth()),s=ee(e.height,t.getHeight()),l=Math.min(i,s);return{cx:ee(r[0],i)+e.x,cy:ee(r[1],s)+e.y,r0:ee(o[0],l/2),r:ee(o[1],l/2)}}function gM(n,t,e){t.eachSeriesByType(n,function(r){var o=r.getData(),i=o.mapDimension("value"),s=pM(r,e),l=Xh(r,e),u=l.cx,d=l.cy,f=l.r,p=l.r0,v=-r.get("startAngle")*Rl,y=r.get("minAngle")*Rl,x=0;o.each(i,function(ie){!isNaN(ie)&&x++});var S=o.getSum(i),C=Math.PI/(S||x)*2,k=r.get("clockwise"),I=r.get("roseType"),R=r.get("stillShowZeroSum"),O=o.getDataExtent(i);O[0]=0;var V=Pd,F=0,Y=v,Z=k?1:-1;if(o.setLayout({viewRect:s,r:f}),o.each(i,function(ie,ae){var ce;if(isNaN(ie))o.setItemLayout(ae,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:k,cx:u,cy:d,r0:p,r:I?NaN:f});else{(ce="area"!==I?0===S&&R?C:ie*C:Pd/x)<y?(ce=y,V-=y):F+=ie;var ve=Y+Z*ce;o.setItemLayout(ae,{angle:ce,startAngle:Y,endAngle:ve,clockwise:k,cx:u,cy:d,r0:p,r:I?$(ie,O,[p,f]):f}),Y=ve}}),V<Pd&&x)if(V<=.001){var re=Pd/x;o.each(i,function(ie,ae){if(!isNaN(ie)){var ce=o.getItemLayout(ae);ce.angle=re,ce.startAngle=v+Z*ae*re,ce.endAngle=v+Z*(ae+1)*re}})}else C=V/F,Y=v,o.each(i,function(ie,ae){if(!isNaN(ie)){var ce=o.getItemLayout(ae),ve=ce.angle===y?y:ie*C;ce.startAngle=Y,ce.endAngle=Y+Z*ve,Y+=Z*ve}})})}function wy(n){return{seriesType:n,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(r&&r.length){var o=t.getData();o.filterSelf(function(i){for(var s=o.getName(i),l=0;l<r.length;l++)if(!r[l].isSelected(s))return!1;return!0})}}}}var Sy=Math.PI/180;function Cy(n,t,e,r,o,i,s,l,u,d){if(!(n.length<2)){for(var f=n.length,p=0;p<f;p++)"outer"===n[p].position&&"labelLine"===n[p].labelAlignTo&&(n[p].linePoints[1][0]+=n[p].label.x-d,n[p].label.x=d);gw(n,u,u+s)&&function(x){for(var S={list:[],maxY:0},C={list:[],maxY:0},k=0;k<x.length;k++)if("none"===x[k].labelAlignTo){var I=x[k],R=I.label.y>e?C:S,O=Math.abs(I.label.y-e);if(O>R.maxY){var V=I.label.x-t-I.len2*o,F=r+I.len,Y=Math.abs(V)<F?Math.sqrt(O*O/(1-V*V/F/F)):F;R.rB=Y,R.maxY=O}R.list.push(I)}y(S),y(C)}(n)}function y(x){for(var S=x.rB,C=S*S,k=0;k<x.list.length;k++){var I=x.list[k],R=Math.abs(I.label.y-e),O=r+I.len,V=O*O,F=Math.sqrt((1-Math.abs(R*R/C))*V);I.label.x=t+(F+I.len2)*o}}}function My(n){return"center"===n.position}function Jp(n,t,e){var r=n.get("borderRadius");return null==r?e?{innerCornerRadius:0,cornerRadius:0}:null:(dt(r)||(r=[r,r]),{innerCornerRadius:Bo(r[0],t.r0),cornerRadius:Bo(r[1],t.r)})}var vM=function(n){function t(e,r,o){var i=n.call(this)||this;i.z2=2;var s=new Xr;return i.setTextContent(s),i.updateData(e,r,o,!0),i}return We(t,n),t.prototype.updateData=function(e,r,o,i){var s=this,l=e.hostModel,u=e.getItemModel(r),d=u.getModel("emphasis"),f=e.getItemLayout(r),p=tt(Jp(u.getModel("itemStyle"),f,!0),f);if(isNaN(p.startAngle))s.setShape(p);else{i?(s.setShape(p),"scale"===l.getShallow("animationType")?(s.shape.r=f.r0,ni(s,{shape:{r:f.r}},l,r)):null!=o?(s.setShape({startAngle:o,endAngle:o}),ni(s,{shape:{startAngle:f.startAngle,endAngle:f.endAngle}},l,r)):(s.shape.endAngle=f.startAngle,ro(s,{shape:{endAngle:f.endAngle}},l,r))):(xu(s),ro(s,{shape:p},l,r)),s.useStyle(e.getItemVisual(r,"style")),as(s,u);var v=(f.startAngle+f.endAngle)/2,y=l.get("selectedOffset"),x=Math.cos(v)*y,S=Math.sin(v)*y,C=u.getShallow("cursor");C&&s.attr("cursor",C),this._updateLabel(l,e,r),s.ensureState("emphasis").shape=ai({r:f.r+(d.get("scale")&&d.get("scaleSize")||0)},Jp(d.getModel("itemStyle"),f)),tt(s.ensureState("select"),{x,y:S,shape:Jp(u.getModel(["select","itemStyle"]),f)}),tt(s.ensureState("blur"),{shape:Jp(u.getModel(["blur","itemStyle"]),f)});var k=s.getTextGuideLine(),I=s.getTextContent();k&&tt(k.ensureState("select"),{x,y:S}),tt(I.ensureState("select"),{x,y:S}),Jo(this,d.get("focus"),d.get("blurScope"))}},t.prototype._updateLabel=function(e,r,o){var i=this,s=r.getItemModel(o),l=s.getModel("labelLine"),u=r.getItemVisual(o,"style"),d=u&&u.fill,f=u&&u.opacity;_s(i,ma(s),{labelFetcher:r.hostModel,labelDataIndex:o,inheritColor:d,defaultOpacity:f,defaultText:e.getFormattedLabel(o,"normal")||r.getName(o)});var p=i.getTextContent();i.setTextConfig({position:null,rotation:null}),p.attr({z2:10});var v=e.get(["label","position"]);if("outside"!==v&&"outer"!==v)i.removeTextGuideLine();else{var y=this.getTextGuideLine();y||(y=new xs,this.setTextGuideLine(y)),pw(this,jb(s),{stroke:d,opacity:Nt(l.get(["lineStyle","opacity"]),f,1)})}},t}(Oo),Ty=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return We(t,n),t.prototype.init=function(){var e=new nr;this._sectorGroup=e},t.prototype.render=function(e,r,o,i){var s,l=e.getData(),u=this._data,d=this.group;if(!u&&l.count()>0){for(var f=l.getItemLayout(0),p=1;isNaN(f&&f.startAngle)&&p<l.count();++p)f=l.getItemLayout(p);f&&(s=f.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),0===l.count()&&e.get("showEmptyCircle")){var v=new Oo({shape:Xh(e,o)});v.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,d.add(v)}l.diff(u).add(function(y){var x=new vM(l,y,s);l.setItemGraphicEl(y,x),d.add(x)}).update(function(y,x){var S=u.getItemGraphicEl(x);S.updateData(l,y,s),S.off("click"),d.add(S),l.setItemGraphicEl(y,S)}).remove(function(y){kp(u.getItemGraphicEl(y),e,y)}).execute(),function mM(n){var t,e,r=n.getData(),o=[],i=!1,s=(n.get("minShowLabelAngle")||0)*Sy,l=r.getLayout("viewRect"),u=r.getLayout("r"),d=l.width,f=l.x,p=l.y,v=l.height;function y(V){V.ignore=!0}r.each(function(V){var F=r.getItemGraphicEl(V),Y=F.shape,Z=F.getTextContent(),re=F.getTextGuideLine(),ie=r.getItemModel(V),ae=ie.getModel("label"),ce=ae.get("position")||ie.get(["emphasis","label","position"]),ve=ae.get("distanceToLabelLine"),be=ae.get("alignTo"),_e=ee(ae.get("edgeDistance"),d),Ce=ae.get("bleedMargin"),Pe=ie.getModel("labelLine"),Le=Pe.get("length");Le=ee(Le,d);var He=Pe.get("length2");if(He=ee(He,d),Math.abs(Y.endAngle-Y.startAngle)<s)return ue(Z.states,y),void(Z.ignore=!0);if(function(Ni){if(!Ni.ignore)return!0;for(var Pu in Ni.states)if(!1===Ni.states[Pu].ignore)return!0;return!1}(Z)){var Je,vt,Ct,on,xt=(Y.startAngle+Y.endAngle)/2,Ft=Math.cos(xt),vn=Math.sin(xt);t=Y.cx,e=Y.cy;var sn,cn="inside"===ce||"inner"===ce;if("center"===ce)Je=Y.cx,vt=Y.cy,on="center";else{var En=(cn?(Y.r+Y.r0)/2*Ft:Y.r*Ft)+t,Bn=(cn?(Y.r+Y.r0)/2*vn:Y.r*vn)+e;if(Je=En+3*Ft,vt=Bn+3*vn,!cn){var mr=En+Ft*(Le+u-Y.r),Mr=Bn+vn*(Le+u-Y.r),Ar=mr+(Ft<0?-1:1)*He;Je="edge"===be?Ft<0?f+_e:f+d-_e:Ar+(Ft<0?-ve:ve),vt=Mr,Ct=[[En,Bn],[mr,Mr],[Ar,Mr]]}on=cn?"center":"edge"===be?Ft>0?"right":"left":Ft>0?"left":"right"}var la=ae.get("rotate");if("number"==typeof la)sn=la*(Math.PI/180);else if("center"===ce)sn=0;else{var Ji=Ft<0?-xt+Math.PI:-xt;"radial"===la||!0===la?sn=Ji:"tangential"===la&&"outside"!==ce&&"outer"!==ce?(sn=Ji+Math.PI/2)>Math.PI/2&&(sn-=Math.PI):sn=0}if(i=!!sn,Z.x=Je,Z.y=vt,Z.rotation=sn,Z.setStyle({verticalAlign:"middle"}),cn){Z.setStyle({align:on});var To=Z.states.select;To&&(To.x+=Z.x,To.y+=Z.y)}else{var _o=Z.getBoundingRect().clone();_o.applyTransform(Z.getComputedTransform());var _a=(Z.style.margin||0)+2.1;_o.y-=_a/2,_o.height+=_a,o.push({label:Z,labelLine:re,position:ce,len:Le,len2:He,minTurnAngle:Pe.get("minTurnAngle"),maxSurfaceAngle:Pe.get("maxSurfaceAngle"),surfaceNormal:new dr(Ft,vn),linePoints:Ct,textAlign:on,labelDistance:ve,labelAlignTo:be,edgeDistance:_e,bleedMargin:Ce,rect:_o})}F.setTextConfig({inside:cn})}}),!i&&n.get("avoidLabelOverlap")&&function(V,F,Y,Z,re,ie,ae,ce){for(var ve=[],be=[],_e=Number.MAX_VALUE,Ce=-Number.MAX_VALUE,Pe=0;Pe<V.length;Pe++){var Le=V[Pe].label;My(V[Pe])||(Le.x<F?(_e=Math.min(_e,Le.x),ve.push(V[Pe])):(Ce=Math.max(Ce,Le.x),be.push(V[Pe])))}for(Cy(be,F,Y,Z,1,0,ie,0,ce,Ce),Cy(ve,F,Y,Z,-1,0,ie,0,ce,_e),Pe=0;Pe<V.length;Pe++){var He=V[Pe];if(Le=He.label,!My(He)){var Je=He.linePoints;if(Je){var on,vt="edge"===He.labelAlignTo,Ct=He.rect.width;(on=vt?Le.x<F?Je[2][0]-He.labelDistance-ae-He.edgeDistance:ae+re-He.edgeDistance-Je[2][0]-He.labelDistance:Le.x<F?Le.x-ae-He.bleedMargin:ae+re-Le.x-He.bleedMargin)<He.rect.width&&(He.label.style.width=on,"edge"===He.labelAlignTo&&(Ct=on));var xt=Je[1][0]-Je[2][0];vt?Je[2][0]=Le.x<F?ae+He.edgeDistance+Ct+He.labelDistance:ae+re-He.edgeDistance-Ct-He.labelDistance:(Je[2][0]=Le.x<F?Le.x+He.labelDistance:Le.x-He.labelDistance,Je[1][0]=Je[2][0]+xt),Je[1][1]=Je[2][1]=Le.y}}}}(o,t,e,u,d,v,f,p);for(var x=0;x<o.length;x++){var S=o[x],C=S.label,k=S.labelLine,I=isNaN(C.x)||isNaN(C.y);if(C){C.setStyle({align:S.textAlign}),I&&(ue(C.states,y),C.ignore=!0);var R=C.states.select;R&&(R.x+=C.x,R.y+=C.y)}if(k){var O=S.linePoints;I||!O?(ue(k.states,y),k.ignore=!0):(cy(O,S.minTurnAngle),NT(O,S.surfaceNormal,S.maxSurfaceAngle),k.setShape({points:O}),C.__hostTarget.textGuideLineConfig={anchor:new dr(O[0][0],O[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=l)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,r){var o=r.getData().getItemLayout(0);if(o){var i=e[0]-o.cx,s=e[1]-o.cy,l=Math.sqrt(i*i+s*s);return l<=o.r&&l>=o.r0}},t.type="pie",t}(zo);function qh(n,t,e){t=dt(t)&&{coordDimensions:t}||tt({encodeDefine:n.getEncode()},t);var r=n.getSource(),o=cm(r,t).dimensions,i=new ba(o,n);return i.initData(r,e),i}var x1=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},n.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},n.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},n}(),ZT=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new x1(xn(this.getData,this),xn(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return qh(this,{coordDimensions:["value"],encodeDefaulter:Yn(Fp,this)})},t.prototype.getDataParams=function(e){var r=this.getData(),o=n.prototype.getDataParams.call(this,e),i=[];return r.each(r.mapDimension("value"),function(s){i.push(s)}),o.percent=Xe(i,e,r.hostModel.get("percentPrecision")),o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){oa(e,"labelLine",["show"]);var r=e.labelLine,o=e.emphasis.labelLine;r.show=r.show&&e.label.show,o.show=o.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Qo),cx=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return We(t,n),t.prototype.getInitialData=function(e,r){return Td(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,r,o){return o.point(r.getItemLayout(e))},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Qo),KT=function(){},_m=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultShape=function(){return new KT},t.prototype.buildPath=function(e,r){var o=r.points,i=r.size,s=this.symbolProxy,l=s.shape,u=e.getContext?e.getContext():e;if(u&&i[0]<4)this._ctx=u;else{this._ctx=null;for(var d=0;d<o.length;){var f=o[d++],p=o[d++];isNaN(f)||isNaN(p)||this.softClipShape&&!this.softClipShape.contain(f,p)||(l.x=f-i[0]/2,l.y=p-i[1]/2,l.width=i[0],l.height=i[1],s.buildPath(e,l,!0))}}},t.prototype.afterBrush=function(){var e=this.shape,r=e.points,o=e.size,i=this._ctx;if(i)for(var s=0;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||this.softClipShape&&!this.softClipShape.contain(l,u)||i.fillRect(l-o[0]/2,u-o[1]/2,o[0],o[1])}},t.prototype.findDataIndex=function(e,r){for(var o=this.shape,i=o.points,s=o.size,l=Math.max(s[0],4),u=Math.max(s[1],4),d=i.length/2-1;d>=0;d--){var f=2*d,p=i[f]-l/2,v=i[f+1]-u/2;if(e>=p&&r>=v&&e<=p+l&&r<=v+u)return d}return-1},t}(Vr),wm=function(){function n(){this.group=new nr}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(t,e){this.group.removeAll();var r=new _m({rectHover:!0,cursor:"default"});r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,!1,e),this.group.add(r),this._incremental=null},n.prototype.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("points");this.group.eachChild(function(r){null!=r.startIndex&&(e=new Float32Array(e.buffer,4*r.startIndex*2,2*(r.endIndex-r.startIndex))),r.setShape("points",e)})}},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new bh({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(t,e,r){var o;this._incremental?(o=new _m,this._incremental.addDisplayable(o,!0)):((o=new _m({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(o)),o.setShape({points:e.getLayout("points")}),this._setCommon(o,e,!!this._incremental,r)},n.prototype._setCommon=function(t,e,r,o){var i=e.hostModel;o=o||{};var s=e.getVisual("symbolSize");t.setShape("size",s instanceof Array?s:[s,s]),t.softClipShape=o.clipShape||null,t.symbolProxy=qi(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var l=t.shape.size[0]<4;t.useStyle(i.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var u=e.getVisual("style"),d=u&&u.fill;if(d&&t.setColor(d),!r){var f=br(t);f.seriesIndex=i.seriesIndex,t.on("mousemove",function(p){f.dataIndex=null;var v=t.findDataIndex(p.offsetX,p.offsetY);v>=0&&(f.dataIndex=v+(t.startIndex||0))})}},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},n}(),zw=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,o){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,r,o){this._symbolDraw.incrementalUpdate(e,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=e.end===r.getData().count()},t.prototype.updateTransform=function(e,r,o){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var s=h1("").reset(e,r,o);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,o=r&&r.getArea&&r.getArea();return e.get("clip",!0)?o:null},t.prototype._updateSymbolDraw=function(e,r){var o=this._symbolDraw,i=r.pipelineContext.large;return o&&i===this._isLargeDraw||(o&&o.remove(),o=this._symbolDraw=i?new wm:new Dd,this._isLargeDraw=i,this.group.removeAll()),this.group.add(o.group),o},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(zo),dx=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Hr),ky=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Fi).models[0]},t.type="cartesian2dAxis",t}(Hr);Kn(ky,pm);var Qp={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Vw=en({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Qp),Fw=en({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Qp),_1={category:Vw,value:Fw,time:en({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Fw),log:Gt({scale:!0,logBase:10},Fw)},yM={value:1,category:1,time:1,log:1};function Dy(n,t,e,r){ue(yM,function(o,i){var s=en(en({},_1[i],!0),r,!0),l=function(u){function d(){var f=null!==u&&u.apply(this,arguments)||this;return f.type=t+"Axis."+i,f}return We(d,u),d.prototype.mergeDefaultAndTheme=function(f,p){var v=Fg(this),y=v?ic(f):{};en(f,p.getTheme().get(i+"Axis")),en(f,this.getDefaultOption()),f.type=w1(f),v&&bf(f,y,v)},d.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=eu.createByAxisModel(this))},d.prototype.getCategories=function(f){var p=this.option;if("category"===p.type)return f?p.data:this.__ordinalMeta.categories},d.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},d.type=t+"Axis."+i,d.defaultOption=s,d}(e);n.registerComponentModel(l)}),n.registerSubTypeDefaulter(t+"Axis",w1)}function w1(n){return n.type||(n.data?"category":"value")}var fx=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return Ht(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Un(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),S1=["x","y"];function bM(n){return"interval"===n.type||"time"===n.type}var xM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=S1,e}return We(t,n),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(bM(e)&&bM(r)){var o=e.getExtent(),i=r.getExtent(),s=this.dataToPoint([o[0],i[0]]),l=this.dataToPoint([o[1],i[1]]),u=o[1]-o[0],d=i[1]-i[0];if(u&&d){var f=(l[0]-s[0])/u,p=(l[1]-s[1])/d,x=this._transform=[f,0,0,p,s[0]-o[0]*f,s[1]-i[0]*p];this._invTransform=na([],x)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var r=this.getAxis("x"),o=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&o.contain(o.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,r,o){o=o||[];var i=e[0],s=e[1];if(this._transform&&null!=i&&isFinite(i)&&null!=s&&isFinite(s))return ft(o,e,this._transform);var l=this.getAxis("x"),u=this.getAxis("y");return o[0]=l.toGlobalCoord(l.dataToCoord(i,r)),o[1]=u.toGlobalCoord(u.dataToCoord(s,r)),o},t.prototype.clampData=function(e,r){var o=this.getAxis("x").scale,i=this.getAxis("y").scale,s=o.getExtent(),l=i.getExtent(),u=o.parse(e[0]),d=i.parse(e[1]);return(r=r||[])[0]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(l[0],l[1]),d),Math.max(l[0],l[1])),r},t.prototype.pointToData=function(e,r){var o=[];if(this._invTransform)return ft(o,e,this._invTransform);var i=this.getAxis("x"),s=this.getAxis("y");return o[0]=i.coordToData(i.toLocalCoord(e[0]),r),o[1]=s.coordToData(s.toLocalCoord(e[1]),r),o},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),o=Math.min(e[0],e[1]),i=Math.min(r[0],r[1]),s=Math.max(e[0],e[1])-o,l=Math.max(r[0],r[1])-i;return new Lr(o,i,s,l)},t}(fx),_M=function(n){function t(e,r,o,i,s){var l=n.call(this,e,r,o)||this;return l.index=0,l.type=i||"value",l.position=s||"bottom",l}return We(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),r)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(hc);function a(n,t,e){e=e||{};var r=n.coordinateSystem,o=t.axis,i={},s=o.getAxesOnZeroOf()[0],l=o.position,u=s?"onZero":l,d=o.dim,f=r.getRect(),p=[f.x,f.x+f.width,f.y,f.y+f.height],v={left:0,right:1,top:0,bottom:1,onZero:2},y=t.get("offset")||0,x="x"===d?[p[2]-y,p[3]+y]:[p[0]-y,p[1]+y];if(s){var S=s.toGlobalCoord(s.dataToCoord(0));x[v.onZero]=Math.max(Math.min(S,x[1]),x[0])}i.position=["y"===d?x[v[u]]:p[0],"x"===d?x[v[u]]:p[3]],i.rotation=Math.PI/2*("x"===d?0:1),i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],i.labelOffset=s?x[v[l]]-x[v.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),ut(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var C=t.get(["axisLabel","rotate"]);return i.labelRotate="top"===u?-C:C,i.z2=1,i}function c(n){return"cartesian2d"===n.get("coordinateSystem")}function h(n){var t={xAxisModel:null,yAxisModel:null};return ue(t,function(e,r){var o=r.replace(/Model$/,""),i=n.getReferringComponents(o,Fi).models[0];t[r]=i}),t}var m=function(){function n(t,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=S1,this._initCartesian(t,e,r),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model),ue(r.x,function(i){kd(i.scale,i.model)}),ue(r.y,function(i){kd(i.scale,i.model)});var o={};ue(r.x,function(i){M(r,"y",i,o)}),ue(r.y,function(i){M(r,"x",i,o)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,r){var o=t.getBoxLayoutParams(),i=!r&&t.get("containLabel"),s=va(o,{width:e.getWidth(),height:e.getHeight()});this._rect=s;var l=this._axesList;function u(){ue(l,function(d){var y,x,S,C,f=d.isHorizontal(),p=f?[0,s.width]:[0,s.height],v=d.inverse?1:0;d.setExtent(p[v],p[1-v]),x=f?s.x:s.y,S=(y=d).getExtent(),C=S[0]+S[1],y.toGlobalCoord="x"===y.dim?function(k){return k+x}:function(k){return C-k+x},y.toLocalCoord="x"===y.dim?function(k){return k-x}:function(k){return C-k+x}})}u(),i&&(ue(l,function(d){if(!d.model.get(["axisLabel","inside"])){var f=function(y){var S=y.scale;if(y.model.get(["axisLabel","show"])&&!S.isBlank()){var C,k,I=S.getExtent();k=S instanceof Q0?S.count():(C=S.getTicks()).length;var R,O=y.getLabelModel(),V=ay(y),F=1;k>40&&(F=Math.ceil(k/40));for(var Y=0;Y<k;Y+=F){var Z=V(C?C[Y]:{value:I[0]+Y},Y),re=AC(O.getTextRect(Z),O.get("rotate")||0);R?R.union(re):R=re}return R}}(d);if(f){var p=d.isHorizontal()?"height":"width",v=d.model.get(["axisLabel","margin"]);s[p]-=f[p]+v,"top"===d.position?s.y+=f.height+v:"left"===d.position&&(s.x+=f.width+v)}}}),u()),ue(this._coordsList,function(d){d.calcAffineTransform()})},n.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(null!=r)return r[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];zn(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var o=0,i=this._coordsList;o<i.length;o++)if(i[o].getAxis("x").index===t||i[o].getAxis("y").index===e)return i[o]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,r){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.dataToPoint(r):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(t,e,r){var o=this._findConvertTarget(e);return o.cartesian?o.cartesian.pointToData(r):o.axis?o.axis.coordToData(o.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(t){var e,r,o=t.seriesModel,i=t.xAxisModel||o&&o.getReferringComponents("xAxis",Fi).models[0],s=t.yAxisModel||o&&o.getReferringComponents("yAxis",Fi).models[0],l=t.gridModel;return o?hn(this._coordsList,e=o.coordinateSystem)<0&&(e=null):i&&s?e=this.getCartesian(i.componentIndex,s.componentIndex):i?r=this.getAxis("x",i.componentIndex):s?r=this.getAxis("y",s.componentIndex):l&&l.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:r}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,r){var o=this,i=this,s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",d("x"),this),e.eachComponent("yAxis",d("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function d(f){return function(p,v){if(b(p,t)){var y=p.get("position");"x"===f?"top"!==y&&"bottom"!==y&&(y=s.bottom?"top":"bottom"):"left"!==y&&"right"!==y&&(y=s.left?"right":"left"),s[y]=!0;var x=new _M(f,hm(p),[0,0],p.get("type"),y);x.onBand="category"===x.type&&p.get("boundaryGap"),x.inverse=p.get("inverse"),p.axis=x,x.model=p,x.grid=i,x.index=v,i._axesList.push(x),l[f][v]=x,u[f]++}}}this._axesMap=l,ue(l.x,function(f,p){ue(l.y,function(v,y){var x="x"+p+"y"+y,S=new xM(x);S.master=o,S.model=t,o._coordsMap[x]=S,o._coordsList.push(S),S.addAxis(f),S.addAxis(v)})})},n.prototype._updateScale=function(t,e){function r(o,i){ue(o1(o,i.dim),function(s){i.scale.unionExtentFromData(o,s)})}ue(this._axesList,function(o){if(o.scale.setExtent(1/0,-1/0),"category"===o.type){var i=o.model.get("categorySortInfo");o.scale.setSortInfo(i)}}),t.eachSeries(function(o){if(c(o)){var i=h(o),s=i.xAxisModel,l=i.yAxisModel;if(!b(s,e)||!b(l,e))return;var u=this.getCartesian(s.componentIndex,l.componentIndex),d=o.getData(),f=u.getAxis("x"),p=u.getAxis("y");"list"===d.type&&(r(d,f),r(d,p))}},this)},n.prototype.getTooltipAxes=function(t){var e=[],r=[];return ue(this.getCartesians(),function(o){var i=null!=t&&"auto"!==t?o.getAxis(t):o.getBaseAxis(),s=o.getOtherAxis(i);hn(e,i)<0&&e.push(i),hn(r,s)<0&&r.push(s)}),{baseAxes:e,otherAxes:r}},n.create=function(t,e){var r=[];return t.eachComponent("grid",function(o,i){var s=new n(o,t,e);s.name="grid_"+i,s.resize(o,e,!0),o.coordinateSystem=s,r.push(s)}),t.eachSeries(function(o){if(c(o)){var i=h(o),s=i.xAxisModel,l=i.yAxisModel,u=s.getCoordSysModel();o.coordinateSystem=u.coordinateSystem.getCartesian(s.componentIndex,l.componentIndex)}}),r},n.dimensions=S1,n}();function b(n,t){return n.getCoordSysModel()===t}function M(n,t,e,r){e.getAxesOnZeroOf=function(){return o?[o]:[]};var o,i=n[t],s=e.model,l=s.get(["axisLine","onZero"]),u=s.get(["axisLine","onZeroAxisIndex"]);if(l){if(null!=u)A(i[u])&&(o=i[u]);else for(var d in i)if(i.hasOwnProperty(d)&&A(i[d])&&!r[f(i[d])]){o=i[d];break}o&&(r[f(o)]=!0)}function f(p){return p.dim+"_"+p.index}}function A(n){return n&&"category"!==n.type&&"time"!==n.type&&function(t){var e=t.scale.getExtent(),r=e[0],o=e[1];return!(r>0&&o>0||r<0&&o<0)}(n)}var L=Math.PI,B=function(){function n(t,e){this.group=new nr,this.opt=e,this.axisModel=t,Gt(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new nr({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(t){return!!N[t]},n.prototype.add=function(t){N[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,r){var o,i,s=zt(e-t);return rn(s)?(i=r>0?"top":"bottom",o="center"):rn(s-L)?(i=r>0?"bottom":"top",o="center"):(i="middle",o=s>0&&s<L?r>0?"right":"left":r>0?"left":"right"),{rotation:s,textAlign:o,textVerticalAlign:i}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),N={axisLine:function(n,t,e,r){var o=t.get(["axisLine","show"]);if("auto"===o&&n.handleAutoShown&&(o=n.handleAutoShown("axisLine")),o){var i=t.axis.getExtent(),s=r.transform,l=[i[0],0],u=[i[1],0];s&&(ft(l,l,s),ft(u,u,s));var d=tt({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new Hi({subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:d,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});f.anid="line",e.add(f);var p=t.get(["axisLine","symbol"]);if(null!=p){var v=t.get(["axisLine","symbolSize"]);"string"==typeof p&&(p=[p,p]),"string"!=typeof v&&"number"!=typeof v||(v=[v,v]);var y=rm(t.get(["axisLine","symbolOffset"])||0,v),x=v[0],S=v[1];ue([{rotate:n.rotation+Math.PI/2,offset:y[0],r:0},{rotate:n.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(C,k){if("none"!==p[k]&&null!=p[k]){var I=qi(p[k],-x/2,-S/2,x,S,d.stroke,!0),R=C.r+C.offset;I.attr({rotation:C.rotate,x:l[0]+R*Math.cos(n.rotation),y:l[1]-R*Math.sin(n.rotation),silent:!0,z2:11}),e.add(I)}})}}},axisTickLabel:function(n,t,e,r){var o=function(s,l,u,d){var f=u.axis,p=u.getModel("axisTick"),v=p.get("show");if("auto"===v&&d.handleAutoShown&&(v=d.handleAutoShown("axisTick")),v&&!f.scale.isBlank()){for(var y=p.getModel("lineStyle"),x=d.tickDirection*p.get("length"),S=J(f.getTicksCoords(),l.transform,x,Gt(y.getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])}),"ticks"),C=0;C<S.length;C++)s.add(S[C]);return S}}(e,r,t,n),i=function(s,l,u,d){var f=u.axis;if(ut(d.axisLabelShow,u.get(["axisLabel","show"]))&&!f.scale.isBlank()){var p=u.getModel("axisLabel"),v=p.get("margin"),y=f.getViewLabels(),x=(ut(d.labelRotate,p.get("rotate"))||0)*L/180,S=B.innerTextLayout(d.rotation,x,d.labelDirection),C=u.getCategories&&u.getCategories(!0),k=[],I=B.isLabelSilent(u),R=u.get("triggerEvent");return ue(y,function(O,V){var F="ordinal"===f.scale.type?f.scale.getRawOrdinalNumber(O.tickValue):O.tickValue,Y=O.formattedLabel,Z=O.rawLabel,re=p;if(C&&C[F]){var ie=C[F];zn(ie)&&ie.textStyle&&(re=new uo(ie.textStyle,p,u.ecModel))}var ae=re.getTextColor()||u.get(["axisLine","lineStyle","color"]),ce=f.dataToCoord(F),ve=new Xr({x:ce,y:d.labelOffset+d.labelDirection*v,rotation:S.rotation,silent:I,z2:10+(O.level||0),style:Ri(re,{text:Y,align:re.getShallow("align",!0)||S.textAlign,verticalAlign:re.getShallow("verticalAlign",!0)||re.getShallow("baseline",!0)||S.textVerticalAlign,fill:"function"==typeof ae?ae("category"===f.type?Z:"value"===f.type?F+"":F,V):ae})});if(ve.anid="label_"+F,R){var be=B.makeAxisEventDataBase(u);be.targetType="axisLabel",be.value=Z,br(ve).eventData=be}l.add(ve),ve.updateTransform(),k.push(ve),s.add(ve),ve.decomposeTransform()}),k}}(e,r,t,n);(function(s,l,u){if(!rw(s.axis)){var d=s.get(["axisLabel","showMinLabel"]),f=s.get(["axisLabel","showMaxLabel"]),p=(l=l||[])[0],v=l[1],y=l[l.length-1],x=l[l.length-2],S=(u=u||[])[0],C=u[1],k=u[u.length-1],I=u[u.length-2];!1===d?(G(p),G(S)):H(p,v)&&(d?(G(v),G(C)):(G(p),G(S))),!1===f?(G(y),G(k)):H(x,y)&&(f?(G(x),G(I)):(G(y),G(k)))}})(t,i,o),function(s,l,u,d){var f=u.axis,p=u.getModel("minorTick");if(p.get("show")&&!f.scale.isBlank()){var v=f.getMinorTicksCoords();if(v.length)for(var y=p.getModel("lineStyle"),x=d*p.get("length"),S=Gt(y.getLineStyle(),Gt(u.getModel("axisTick").getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])})),C=0;C<v.length;C++)for(var k=J(v[C],l.transform,x,S,"minorticks_"+C),I=0;I<k.length;I++)s.add(k[I])}}(e,r,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])&&mw(VC(Ht(i,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(n,t,e,r){var F,Z,re,ie,ae,ce,ve,o=ut(n.axisName,t.get("name"));if(o){var i,s,l=t.get("nameLocation"),u=n.nameDirection,d=t.getModel("nameTextStyle"),f=t.get("nameGap")||0,p=t.axis.getExtent(),v=p[0]>p[1]?-1:1,y=["start"===l?p[0]-v*f:"end"===l?p[1]+v*f:(p[0]+p[1])/2,X(l)?n.labelOffset+u*f:0],x=t.get("nameRotate");null!=x&&(x=x*L/180),X(l)?i=B.innerTextLayout(n.rotation,null!=x?x:n.rotation,u):(F=l,Z=p,ae=zt((x||0)-n.rotation),ce=Z[0]>Z[1],ve="start"===F&&!ce||"start"!==F&&ce,rn(ae-L/2)?(ie=ve?"bottom":"top",re="center"):rn(ae-1.5*L)?(ie=ve?"top":"bottom",re="center"):(ie="middle",re=ae<1.5*L&&ae>L/2?ve?"left":"right":ve?"right":"left"),i={rotation:ae,textAlign:re,textVerticalAlign:ie},null!=(s=n.axisNameAvailableWidth)&&(s=Math.abs(s/Math.sin(i.rotation)),!isFinite(s)&&(s=null)));var S=d.getFont(),C=t.get("nameTruncate",!0)||{},k=C.ellipsis,I=ut(n.nameTruncateMaxWidth,C.maxWidth,s),R=new Xr({x:y[0],y:y[1],rotation:i.rotation,silent:B.isLabelSilent(t),style:Ri(d,{text:o,font:S,overflow:"truncate",width:I,ellipsis:k,fill:d.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:d.get("align")||i.textAlign,verticalAlign:d.get("verticalAlign")||i.textVerticalAlign}),z2:1});if(_h({el:R,componentModel:t,itemName:o}),R.__fullText=o,R.anid="name",t.get("triggerEvent")){var O=B.makeAxisEventDataBase(t);O.targetType="axisName",O.name=o,br(R).eventData=O}r.add(R),R.updateTransform(),e.add(R),R.decomposeTransform()}}};function G(n){n&&(n.ignore=!0)}function H(n,t){var e=n&&n.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(e&&r){var o=Dn([]);return Po(o,o,-n.rotation),e.applyTransform(al([],o,n.getLocalTransform())),r.applyTransform(al([],o,t.getLocalTransform())),e.intersect(r)}}function X(n){return"middle"===n||"center"===n}function J(n,t,e,r,o){for(var i=[],s=[],l=[],u=0;u<n.length;u++){var d=n[u].coord;s[0]=d,s[1]=0,l[0]=d,l[1]=e,t&&(ft(s,s,t),ft(l,l,t));var f=new Hi({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:r,z2:2,autoBatch:!0,silent:!0});f.anid=o+"_"+n[u].tickValue,i.push(f)}return i}function te(n,t){return"all"===n||dt(n)&&hn(n,t)>=0||n===t}function oe(n){var t=se(n);if(t){var e=t.axisPointerModel,r=t.axis.scale,o=e.option,i=e.get("status"),s=e.get("value");null!=s&&(s=r.parse(s));var l=fe(e);null==i&&(o.status=l?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==s||s>u[1])&&(s=u[1]),s<u[0]&&(s=u[0]),o.value=s,l&&(o.status=t.axis.scale.isBlank()?"hide":"show")}}function se(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[pe(n)]}function fe(n){return!!n.get(["handle","show"])}function pe(n){return n.type+"||"+n.id}var Ae={},ze=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o,i){this.axisPointerClass&&oe(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,o,!0)},t.prototype.updateAxisPointer=function(e,r,o,i){this._doUpdateAxisPointerClass(e,o,!1)},t.prototype.remove=function(e,r){var o=this._axisPointer;o&&o.remove(r)},t.prototype.dispose=function(e,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,r,o){var u,i=t.getAxisPointerClass(this.axisPointerClass);if(i){var s=(u=se(e))&&u.axisPointerModel;s?(this._axisPointer||(this._axisPointer=new i)).render(e,s,r,o):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,r){Ae[e]=r},t.getAxisPointerClass=function(e){return e&&Ae[e]},t.type="axis",t}(xi),me=go();function we(n,t,e,r){var o=e.axis;if(!o.scale.isBlank()){var i=e.getModel("splitArea"),s=i.getModel("areaStyle"),l=s.get("color"),u=r.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:i,clamp:!0});if(d.length){var f=l.length,p=me(n).splitAreaColors,v=bn(),y=0;if(p)for(var x=0;x<d.length;x++){var S=p.get(d[x].tickValue);if(null!=S){y=(S+(f-1)*x)%f;break}}var C=o.toGlobalCoord(d[0].coord),k=s.getAreaStyle();for(l=dt(l)?l:[l],x=1;x<d.length;x++){var I=o.toGlobalCoord(d[x].coord),R=void 0,O=void 0,V=void 0,F=void 0;o.isHorizontal()?(O=u.y,F=u.height,C=(R=C)+(V=I-R)):(R=u.x,V=u.width,C=(O=C)+(F=I-O));var Y=d[x-1].tickValue;null!=Y&&v.set(Y,y),t.add(new eo({anid:null!=Y?"area_"+Y:null,shape:{x:R,y:O,width:V,height:F},style:Gt({fill:l[y]},k),autoBatch:!0,silent:!0})),y=(y+1)%f}me(n).splitAreaColors=v}}}function Ie(n){me(n).splitAreaColors=null}var Ke=["axisLine","axisTickLabel","axisName"],lt=["splitArea","splitLine","minorSplitLine"],pt=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return We(t,n),t.prototype.render=function(e,r,o,i){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new nr,this.group.add(this._axisGroup),e.get("show")){var l=e.getCoordSysModel(),u=a(l,e),d=new B(e,tt({handleAutoShown:function(f){for(var p=l.coordinateSystem.getCartesians(),v=0;v<p.length;v++){var y=p[v].getOtherAxis(e.axis).type;if("value"===y||"log"===y)return!0}return!1}},u));ue(Ke,d.add,d),this._axisGroup.add(d.getGroup()),ue(lt,function(f){e.get([f,"show"])&&Ge[f](this,this._axisGroup,e,l)},this),i&&"changeAxisOrder"===i.type&&i.isInitSort||sf(s,this._axisGroup,e),n.prototype.render.call(this,e,r,o,i)}},t.prototype.remove=function(){Ie(this)},t.type="cartesianAxis",t}(ze),Ge={splitLine:function(n,t,e,r){var o=e.axis;if(!o.scale.isBlank()){var i=e.getModel("splitLine"),s=i.getModel("lineStyle"),l=s.get("color");l=dt(l)?l:[l];for(var u=r.coordinateSystem.getRect(),d=o.isHorizontal(),f=0,p=o.getTicksCoords({tickModel:i}),v=[],y=[],x=s.getLineStyle(),S=0;S<p.length;S++){var C=o.toGlobalCoord(p[S].coord);d?(v[0]=C,v[1]=u.y,y[0]=C,y[1]=u.y+u.height):(v[0]=u.x,v[1]=C,y[0]=u.x+u.width,y[1]=C);var k=f++%l.length;t.add(new Hi({anid:null!=p[S].tickValue?"line_"+p[S].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:Gt({stroke:l[k]},x),silent:!0}))}}},minorSplitLine:function(n,t,e,r){var o=e.axis,i=e.getModel("minorSplitLine").getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=o.isHorizontal(),u=o.getMinorTicksCoords();if(u.length)for(var d=[],f=[],p=i.getLineStyle(),v=0;v<u.length;v++)for(var y=0;y<u[v].length;y++){var x=o.toGlobalCoord(u[v][y].coord);l?(d[0]=x,d[1]=s.y,f[0]=x,f[1]=s.y+s.height):(d[0]=s.x,d[1]=x,f[0]=s.x+s.width,f[1]=x),t.add(new Hi({anid:"minor_line_"+u[v][y].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:p,silent:!0}))}},splitArea:function(n,t,e,r){we(n,t,e,r)}},$e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="xAxis",t}(pt),qe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=$e.type,e}return We(t,n),t.type="yAxis",t}(pt),et=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return We(t,n),t.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new eo({shape:e.coordinateSystem.getRect(),style:Gt({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(xi),bt={offset:0};function Yt(n){n.registerComponentView(et),n.registerComponentModel(dx),n.registerCoordinateSystem("cartesian2d",m),Dy(n,"x",ky,bt),Dy(n,"y",ky,bt),n.registerComponentView($e),n.registerComponentView(qe),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function an(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),r=[],o=t.coordinateSystem;if(o){var i=o.getIndicatorAxes();ue(i,function(s,l){e.each(e.mapDimension(i[l].dim),function(u,d){r[d]=r[d]||[];var f=o.dataToPoint(u,l);r[d][l]=wt(f)?f:St(o)})}),e.each(function(s){var l=Tn(r[s],function(u){return wt(u)})||St(o);r[s].push(l.slice()),e.setItemLayout(s,r[s])})}})}function wt(n){return!isNaN(n[0])&&!isNaN(n[1])}function St(n){return[n.cx,n.cy]}function mn(n){var t=n.polar;if(t){dt(t)||(t=[t]);var e=[];ue(t,function(r,o){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],dt(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):e.push(r)}),n.polar=e}ue(n.series,function(r){r&&"radar"===r.type&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var Sn=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){var i=e.coordinateSystem,s=this.group,l=e.getData(),u=this._data;function d(v,y){var x=v.getItemVisual(y,"symbol")||"circle";if("none"!==x){var S=Fv(v.getItemVisual(y,"symbolSize")),C=qi(x,-1,-1,2,2),k=v.getItemVisual(y,"symbolRotate")||0;return C.attr({style:{strokeNoScale:!0},z2:100,scaleX:S[0]/2,scaleY:S[1]/2,rotation:k*Math.PI/180||0}),C}}function f(v,y,x,S,C,k){x.removeAll();for(var I=0;I<y.length-1;I++){var R=d(S,C);R&&(R.__dimIdx=I,v[I]?(R.setPosition(v[I]),Dg[k?"initProps":"updateProps"](R,{x:y[I][0],y:y[I][1]},e,C)):R.setPosition(y[I]),x.add(R))}}function p(v){return Ht(v,function(y){return[i.cx,i.cy]})}l.diff(u).add(function(v){var y=l.getItemLayout(v);if(y){var x=new Ea,S=new xs,C={shape:{points:y}};x.shape.points=p(y),S.shape.points=p(y),ni(x,C,e,v),ni(S,C,e,v);var k=new nr,I=new nr;k.add(S),k.add(x),k.add(I),f(S.shape.points,y,I,l,v,!0),l.setItemGraphicEl(v,k)}}).update(function(v,y){var x=u.getItemGraphicEl(y),S=x.childAt(0),C=x.childAt(1),k=x.childAt(2),I={shape:{points:l.getItemLayout(v)}};I.shape.points&&(f(S.shape.points,I.shape.points,k,l,v,!1),xu(C),xu(S),ro(S,I,e),ro(C,I,e),l.setItemGraphicEl(v,x))}).remove(function(v){s.remove(u.getItemGraphicEl(v))}).execute(),l.eachItemGraphicEl(function(v,y){var x=l.getItemModel(y),S=v.childAt(0),C=v.childAt(1),k=v.childAt(2),I=l.getItemVisual(y,"style"),R=I.fill;s.add(v),S.useStyle(Gt(x.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:R})),as(S,x,"lineStyle"),as(C,x,"areaStyle");var O=x.getModel("areaStyle"),V=O.isEmpty()&&O.parentModel.isEmpty();C.ignore=V,ue(["emphasis","select","blur"],function(Z){var re=x.getModel([Z,"areaStyle"]),ie=re.isEmpty()&&re.parentModel.isEmpty();C.ensureState(Z).ignore=ie&&V}),C.useStyle(Gt(O.getAreaStyle(),{fill:R,opacity:.7,decal:I.decal}));var F=x.getModel("emphasis"),Y=F.getModel("itemStyle").getItemStyle();k.eachChild(function(Z){if(Z instanceof Yi){var re=Z.style;Z.useStyle(tt({image:re.image,x:re.x,y:re.y,width:re.width,height:re.height},I))}else Z.useStyle(I),Z.setColor(R),Z.style.strokeNoScale=!0;Z.ensureState("emphasis").style=Qt(Y);var ie=l.getStore().get(l.getDimensionIndex(Z.__dimIdx),y);(null==ie||isNaN(ie))&&(ie=""),_s(Z,ma(x),{labelFetcher:l.hostModel,labelDataIndex:y,labelDimIndex:Z.__dimIdx,defaultText:ie,inheritColor:R,defaultOpacity:I.opacity})}),Jo(v,F.get("focus"),F.get("blurScope"))}),this._data=l},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(zo),qt=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return We(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new x1(xn(this.getData,this),xn(this.getRawData,this))},t.prototype.getInitialData=function(e,r){return qh(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,r,o){var i=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(e),u=""===l?this.name:l,d=nb(this,e);return cs("section",{header:u,sortBlocks:!0,blocks:Ht(s,function(f){var p=i.get(i.mapDimension(f.dim),e);return cs("nameValue",{markerType:"subItem",markerColor:d,name:f.name,value:p,sortParam:p})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var r=this.getData(),o=this.coordinateSystem,i=r.getValues(Ht(o.dimensions,function(d){return r.mapDimension(d)}),e),s=0,l=i.length;s<l;s++)if(!isNaN(i[s])){var u=o.getIndicatorAxes();return o.coordToPoint(u[s].dataToCoord(i[s]),s)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Qo),Nn=_1.value;function Rt(n,t){return Gt({show:t},n)}var pn=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),r=this.get("splitNumber"),o=this.get("scale"),i=this.get("axisLine"),s=this.get("axisTick"),l=this.get("axisLabel"),u=this.get("axisName"),d=this.get(["axisName","show"]),f=this.get(["axisName","formatter"]),p=this.get("axisNameGap"),v=this.get("triggerEvent"),y=Ht(this.get("indicator")||[],function(x){null!=x.max&&x.max>0&&!x.min?x.min=0:null!=x.min&&x.min<0&&!x.max&&(x.max=0);var S=u;null!=x.color&&(S=Gt({color:x.color},u));var C=en(Qt(x),{boundaryGap:e,splitNumber:r,scale:o,axisLine:i,axisTick:s,axisLabel:l,name:x.text,nameLocation:"end",nameGap:p,nameTextStyle:S,triggerEvent:v},!1);if(d||(C.name=""),"string"==typeof f){var k=C.name;C.name=f.replace("{value}",null!=k?k:"")}else"function"==typeof f&&(C.name=f(C.name,C));var I=new uo(C,null,this.ecModel);return Kn(I,pm.prototype),I.mainType="radar",I.componentIndex=this.componentIndex,I},this);this._indicatorModels=y},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:en({lineStyle:{color:"#bbb"}},Nn.axisLine),axisLabel:Rt(Nn.axisLabel,!1),axisTick:Rt(Nn.axisTick,!1),splitLine:Rt(Nn.splitLine,!0),splitArea:Rt(Nn.splitArea,!0),indicator:[]},t}(Hr),Zt=["axisLine","axisTickLabel","axisName"],Cn=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var r=e.coordinateSystem;ue(Ht(r.getIndicatorAxes(),function(o){return new B(o.model,{position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(o){ue(Zt,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var r=e.coordinateSystem,o=r.getIndicatorAxes();if(o.length){var i=e.get("shape"),s=e.getModel("splitLine"),l=e.getModel("splitArea"),u=s.getModel("lineStyle"),d=l.getModel("areaStyle"),f=s.get("show"),p=l.get("show"),v=u.get("color"),y=d.get("color"),x=dt(v)?v:[v],S=dt(y)?y:[y],C=[],k=[];if("circle"===i)for(var I=o[0].getTicksCoords(),R=r.cx,O=r.cy,V=0;V<I.length;V++)f&&C[ve(C,x,V)].push(new Xl({shape:{cx:R,cy:O,r:I[V].coord}})),p&&V<I.length-1&&k[ve(k,S,V)].push(new js({shape:{cx:R,cy:O,r0:I[V].coord,r:I[V+1].coord}}));else{var F,Y=Ht(o,function(be,_e){var Ce=be.getTicksCoords();return F=null==F?Ce.length-1:Math.min(Ce.length-1,F),Ht(Ce,function(Pe){return r.coordToPoint(Pe.coord,_e)})}),Z=[];for(V=0;V<=F;V++){for(var re=[],ie=0;ie<o.length;ie++)re.push(Y[ie][V]);re[0]&&re.push(re[0].slice()),f&&C[ve(C,x,V)].push(new xs({shape:{points:re}})),p&&Z&&k[ve(k,S,V-1)].push(new Ea({shape:{points:re.concat(Z)}})),Z=re.slice().reverse()}}var ae=u.getLineStyle(),ce=d.getAreaStyle();ue(k,function(be,_e){this.group.add(ls(be,{style:Gt({stroke:"none",fill:S[_e%S.length]},ce),silent:!0}))},this),ue(C,function(be,_e){this.group.add(ls(be,{style:Gt({fill:"none",stroke:x[_e%x.length]},ae),silent:!0}))},this)}function ve(be,_e,Ce){var Pe=Ce%_e.length;return be[Pe]=be[Pe]||[],Pe}},t.type="radar",t}(xi),Ln=function(n){function t(e,r,o){var i=n.call(this,e,r,o)||this;return i.type="value",i.angle=0,i.name="",i}return We(t,n),t}(hc),co=function(){function n(t,e,r){this.dimensions=[],this._model=t,this._indicatorAxes=Ht(t.getIndicatorModels(),function(o,i){var s="indicator_"+i,l=new Ln(s,new Yp);return l.name=o.get("name"),l.model=o,o.axis=l,this.dimensions.push(s),l},this),this.resize(t,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(r),this.cy-t*Math.sin(r)]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,o=Math.sqrt(e*e+r*r);e/=o,r/=o;for(var i,s=Math.atan2(-r,e),l=1/0,u=-1,d=0;d<this._indicatorAxes.length;d++){var f=this._indicatorAxes[d],p=Math.abs(s-f.angle);p<l&&(i=f,u=d,l=p)}return[u,+(i&&i.coordToData(o))]},n.prototype.resize=function(t,e){var r=t.get("center"),o=e.getWidth(),i=e.getHeight(),s=Math.min(o,i)/2;this.cx=ee(r[0],o),this.cy=ee(r[1],i),this.startAngle=t.get("startAngle")*Math.PI/180;var l=t.get("radius");"string"!=typeof l&&"number"!=typeof l||(l=[0,l]),this.r0=ee(l[0],s),this.r=ee(l[1],s),ue(this._indicatorAxes,function(u,d){u.setExtent(this.r0,this.r);var f=this.startAngle+d*Math.PI*2/this._indicatorAxes.length;f=Math.atan2(Math.sin(f),Math.cos(f)),u.angle=f},this)},n.prototype.update=function(t,e){var r=this._indicatorAxes,o=this._model;ue(r,function(l){l.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(l,u){if("radar"===l.get("coordinateSystem")&&t.getComponent("radar",l.get("radarIndex"))===o){var d=l.getData();ue(r,function(f){f.scale.unionExtentFromData(d,d.mapDimension(f.dim))})}},this);var i=o.get("splitNumber");function s(l){var u=Math.pow(10,Math.floor(Math.log(l)/Math.LN10)),d=l/u;return 2===d?d=5:d*=2,d*u}ue(r,function(l,u){var d=Wb(l.scale,l.model).extent;kd(l.scale,l.model);var f=l.model,p=l.scale,v=Gh(p,f.get("min",!0)),y=Gh(p,f.get("max",!0)),x=p.getInterval();if(null!=v&&null!=y)p.setExtent(+v,+y),p.setInterval((y-v)/i);else if(null!=v){var S=void 0;do{p.setExtent(+v,S=v+x*i),p.setInterval(x),x=s(x)}while(S<d[1]&&isFinite(S)&&isFinite(d[1]))}else if(null!=y){var C=void 0;do{p.setExtent(C=y-x*i,+y),p.setInterval(x),x=s(x)}while(C>d[0]&&isFinite(C)&&isFinite(d[0]))}else p.getTicks().length-1>i&&(x=s(x)),C=he((S=Math.ceil(d[1]/x)*x)-x*i),p.setExtent(C,S),p.setInterval(x)})},n.prototype.convertToPixel=function(t,e,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var r=[];return t.eachComponent("radar",function(o){var i=new n(o,t,e);r.push(i),o.coordinateSystem=i}),t.eachSeriesByType("radar",function(o){"radar"===o.get("coordinateSystem")&&(o.coordinateSystem=r[o.get("radarIndex")||0])}),r},n.dimensions=[],n}();function ke(n){n.registerCoordinateSystem("radar",co),n.registerComponentModel(pn),n.registerComponentView(Cn),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(r){e.setItemVisual(r,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var Ye="\0_ec_interaction_mutex";function Mt(n,t){return!!Ot(n)[t]}function Ot(n){return n[Ye]||(n[Ye]={})}dc({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var Lt=function(n){function t(e){var r=n.call(this)||this;r._zr=e;var o=xn(r._mousedownHandler,r),i=xn(r._mousemoveHandler,r),s=xn(r._mouseupHandler,r),l=xn(r._mousewheelHandler,r),u=xn(r._pinchHandler,r);return r.enable=function(d,f){this.disable(),this._opt=Gt(Qt(f)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==d&&(d=!0),!0!==d&&"move"!==d&&"pan"!==d||(e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",s)),!0!==d&&"scale"!==d&&"zoom"!==d||(e.on("mousewheel",l),e.on("pinch",u))},r.disable=function(){e.off("mousedown",o),e.off("mousemove",i),e.off("mouseup",s),e.off("mousewheel",l),e.off("pinch",u)},r}return We(t,n),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(Zo(e)||e.target&&e.target.draggable)){var r=e.offsetX,o=e.offsetY;this.pointerChecker&&this.pointerChecker(e,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&gr("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!Mt(this._zr,"globalPan")){var r=e.offsetX,o=e.offsetY,i=this._x,s=this._y,l=r-i,u=o-s;this._x=r,this._y=o,this._opt.preventDefaultMouseMove&&Ho(e.event),jn(this,"pan","moveOnMouseMove",e,{dx:l,dy:u,oldX:i,oldY:s,newX:r,newY:o,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Zo(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=gr("zoomOnMouseWheel",e,this._opt),o=gr("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,s=Math.abs(i),l=e.offsetX,u=e.offsetY;if(0!==i&&(r||o)){if(r){var d=s>3?1.4:s>1?1.2:1.1;ln(this,"zoom","zoomOnMouseWheel",e,{scale:i>0?d:1/d,originX:l,originY:u,isAvailableBehavior:null})}if(o){var f=Math.abs(i);ln(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(i>0?1:-1)*(f>3?.4:f>1?.15:.05),originX:l,originY:u,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){Mt(this._zr,"globalPan")||ln(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(Vt);function ln(n,t,e,r,o){n.pointerChecker&&n.pointerChecker(r,o.originX,o.originY)&&(Ho(r.event),jn(n,t,e,r,o))}function jn(n,t,e,r,o){o.isAvailableBehavior=xn(gr,null,e,r),n.trigger(t,o)}function gr(n,t,e){var r=e[n];return!n||r&&(!ir(r)||t.event[r+"Key"])}function Mo(n,t,e){var r=n.target;r.x+=t,r.y+=e,r.dirty()}function mo(n,t,e,r){var o=n.target,i=n.zoomLimit,s=n.zoom=n.zoom||1;if(s*=t,i){var l=i.min||0;s=Math.max(Math.min(i.max||1/0,s),l)}var d=s/n.zoom;n.zoom=s,o.x-=(e-o.x)*(d-1),o.y-=(r-o.y)*(d-1),o.scaleX*=d,o.scaleY*=d,o.dirty()}var Zn={axisPointer:1,tooltip:1,brush:1};function io(n,t,e){var r=t.getComponentByElement(n.topTarget),o=r&&r.coordinateSystem;return r&&r!==e&&!Zn.hasOwnProperty(r.mainType)&&o&&o.model!==e}var Vo=["rect","circle","line","ellipse","polygon","polyline","path"],Ha=bn(Vo),xa=bn(Vo.concat(["g"])),Uc=bn(Vo.concat(["g"])),$i=go();function Ss(n){var t=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(t.fill=e),t}var Ld=function(){function n(t){var e=new nr;this.uid=oc("ec_map_draw"),this._controller=new Lt(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new nr),e.add(this._svgGroup=new nr)}return n.prototype.draw=function(t,e,r,o,i){var s="geo"===t.mainType,l=t.getData&&t.getData();s&&e.eachComponent({mainType:"series",subType:"map"},function(C){l||C.getHostGeoModel()!==t||(l=C.getData())});var u=t.coordinateSystem,d=this._regionsGroup,f=this.group,p=u.getTransformInfo(),v=p.raw,y=p.roam;!d.childAt(0)||i?(f.x=y.x,f.y=y.y,f.scaleX=y.scaleX,f.scaleY=y.scaleY,f.dirty()):ro(f,y,t);var x=l&&l.getVisual("visualMeta")&&l.getVisual("visualMeta").length>0,S={api:r,geo:u,mapOrGeoModel:t,data:l,isVisualEncodedByVisualMap:x,isGeo:s,transformInfoRaw:v};"geoJSON"===u.resourceType?this._buildGeoJSON(S):"geoSVG"===u.resourceType&&this._buildSVG(S),this._updateController(t,e,r),this._updateMapSelectHandler(t,d,r,o)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=bn(),r=bn(),o=this._regionsGroup,i=t.transformInfoRaw,s=t.mapOrGeoModel,l=t.data,u=function(d){return[d[0]*i.scaleX+i.x,d[1]*i.scaleY+i.y]};o.removeAll(),ue(t.geo.regions,function(d){var f=d.name,p=e.get(f),v=r.get(f)||{},y=v.dataIdx,x=v.regionModel;p||(p=e.set(f,new nr),o.add(p),y=l?l.indexOfName(f):null,x=t.isGeo?s.getRegionModel(f):l?l.getItemModel(y):null,r.set(f,{dataIdx:y,regionModel:x}));var S=new Tg({segmentIgnoreThreshold:1,shape:{paths:[]}});p.add(S),ue(d.geometries,function(k){if("polygon"===k.type){for(var I=[],R=0;R<k.exterior.length;++R)I.push(u(k.exterior[R]));for(S.shape.paths.push(new Ea({segmentIgnoreThreshold:1,shape:{points:I}})),R=0;R<(k.interiors?k.interiors.length:0);++R){for(var O=k.interiors[R],V=[],F=0;F<O.length;++F)V.push(u(O[F]));S.shape.paths.push(new Ea({segmentIgnoreThreshold:1,shape:{points:V}}))}}}),Ay(t,S,y,x),S instanceof mi&&(S.culling=!0);var C=u(d.getCenter());Zh(t,S,f,x,s,y,C)}),e.each(function(d,f){var p=r.get(f),y=p.regionModel;Rd(t,d,f,y,s,p.dataIdx),Od(t,d,f,y,s),wM(t,d,f,y,s)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var o=this._svgDispatcherMap=bn(),i=!1;ue(this._svgGraphicRecord.named,function(s){var l=s.name,u=t.mapOrGeoModel,d=t.data,f=s.svgNodeTagLower,p=s.el,v=d?d.indexOfName(l):null,y=u.getRegionModel(l);null!=Ha.get(f)&&p instanceof mi&&Ay(t,p,v,y),p instanceof mi&&(p.culling=!0),p.z2EmphasisLift=0,s.namedFrom||(null!=Uc.get(f)&&Zh(t,p,l,y,u,v,null),Rd(t,p,l,y,u,v),Od(t,p,l,y,u),null!=xa.get(f)&&("self"===wM(t,p,l,y,u)&&(i=!0),(o.get(l)||o.set(l,[])).push(p)))},this),this._enableBlurEntireSVG(i,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){Kd(o);var i=o.ensureState("blur").style||{};null==i.opacity&&null!=r&&(i.opacity=r),o.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var r=e.coordinateSystem;if("geoJSON"===r.resourceType){var o=this._regionsGroupByName;if(o){var i=o.get(t);return i?[i]:[]}}else if("geoSVG"===r.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=xb(t);if(e&&"geoSVG"===e.type){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=xb(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,r){var o=t.coordinateSystem,i=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=o.getZoom(),i.enable(t.get("roam")||!1);var l=t.mainType;function u(){var d={type:"geoRoam",componentType:l};return d[l+"Id"]=t.id,d}i.off("pan").on("pan",function(d){this._mouseDownFlag=!1,Mo(s,d.dx,d.dy),r.dispatchAction(tt(u(),{dx:d.dx,dy:d.dy}))},this),i.off("zoom").on("zoom",function(d){this._mouseDownFlag=!1,mo(s,d.scale,d.originX,d.originY),r.dispatchAction(tt(u(),{zoom:d.scale,originX:d.originX,originY:d.originY}))},this),i.setPointerChecker(function(d,f,p){return o.containPoint([f,p])&&!io(d,r,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=$i(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,r,o){var i=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){i._mouseDownFlag=!0}),e.on("click",function(s){i._mouseDownFlag&&(i._mouseDownFlag=!1)}))},n}();function Ay(n,t,e,r){var o=r.getModel("itemStyle"),i=r.getModel(["emphasis","itemStyle"]),s=r.getModel(["blur","itemStyle"]),l=r.getModel(["select","itemStyle"]),u=Ss(o),d=Ss(i),f=Ss(l),p=Ss(s),v=n.data;if(v){var y=v.getItemVisual(e,"style"),x=v.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&y.fill&&(u.fill=y.fill),x&&(u.decal=Af(x,n.api))}t.setStyle(u),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=d,t.ensureState("select").style=f,t.ensureState("blur").style=p,Kd(t)}function Zh(n,t,e,r,o,i,s){var l=n.data,u=n.isGeo,d=l&&isNaN(l.get(l.mapDimension("value"),i)),f=l&&l.getItemLayout(i);if(u||d||f&&f.showLabel){var p=u?e:i,v=void 0;(!l||i>=0)&&(v=o);var y=s?{normal:{align:"center",verticalAlign:"middle"}}:null;_s(t,ma(r),{labelFetcher:v,labelDataIndex:p,defaultText:e},y);var x=t.getTextContent();if(x&&($i(x).ignore=x.ignore,t.textConfig&&s)){var S=t.getBoundingRect().clone();t.textConfig.layoutRect=S,t.textConfig.position=[(s[0]-S.x)/S.width*100+"%",(s[1]-S.y)/S.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function Rd(n,t,e,r,o,i){n.data?n.data.setItemGraphicEl(i,t):br(t).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:e,region:r&&r.option||{}}}function Od(n,t,e,r,o){n.data||_h({el:t,componentModel:o,itemName:e,itemTooltipOption:r.get("tooltip")})}function wM(n,t,e,r,o){t.highDownSilentOnTouch=!!o.get("selectedMode");var u,d,f,i=r.getModel("emphasis"),s=i.get("focus");return Jo(t,s,i.get("blurScope")),n.isGeo&&(u=o,d=e,(f=br(t)).componentMainType=u.mainType,f.componentIndex=u.componentIndex,f.componentHighDownName=d),s}var $T=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var s=this.group;if(s.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(l=this._mapDraw)&&s.add(l.group);else if(e.needsDrawMap){var l=this._mapDraw||new Ld(o);s.add(l.group),l.draw(e,r,o,this,i),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,o)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,r,o){var i=e.originalData,s=this.group;i.each(i.mapDimension("value"),function(l,u){if(!isNaN(l)){var d=i.getItemLayout(u);if(d&&d.point){var f=d.point,p=d.offset,v=new Xl({style:{fill:e.getData().getVisual("style").fill},shape:{cx:f[0]+9*p,cy:f[1],r:3},silent:!0,z2:8+(p?0:11)});if(!p){var y=e.mainSeries.getData(),x=i.getName(u),S=y.indexOfName(x),C=i.getItemModel(u),k=C.getModel("label"),I=y.getItemGraphicEl(S);_s(v,ma(C),{labelFetcher:{getFormattedLabel:function(R,O){return e.getFormattedLabel(S,O)}}}),v.disableLabelAnimation=!0,k.get("position")||v.setTextConfig({position:"bottom"}),I.onHoverStateChange=function(R){yg(v,R)}}s.add(v)}}})},t.type="map",t}(zo),SM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(r){if(null!=r){var o=this.getData().getName(r),i=this.coordinateSystem,s=i.getRegion(o);return s&&i.dataToPoint(s.getCenter())}},e}return We(t,n),t.prototype.getInitialData=function(e){for(var r=qh(this,{coordDimensions:["value"],encodeDefaulter:Yn(Fp,this)}),o=bn(),i=[],s=0,l=r.count();s<l;s++){var u=r.getName(s);o.set(u,!0)}return ue(O0(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(d){var f=d.name;o.get(f)||i.push(f)}),r.appendValues([],i),r},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},t.prototype.formatTooltip=function(e,r,o){for(var i=this.getData(),s=this.getRawValue(e),l=i.getName(e),u=this.seriesGroup,d=[],f=0;f<u.length;f++){var p=u[f].originalData.indexOfName(l),v=i.mapDimension("value");isNaN(u[f].originalData.get(v,p))||d.push(u[f].name)}return cs("section",{header:d.join(", "),noHeader:!d.length,blocks:[cs("nameValue",{name:l,value:s})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var r=e.icon||"roundRect",o=qi(r,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return o.setStyle(e.itemStyle),o.style.stroke="none",r.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),o},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Qo);function CM(n){var t={};n.eachSeriesByType("map",function(e){var r=e.getHostGeoModel(),o=r?"o"+r.id:"i"+e.getMapType();(t[o]=t[o]||[]).push(e)}),ue(t,function(e,r){for(var o,i,s,l=(o=Ht(e,function(d){return d.getData()}),i=e[0].get("mapValueCalculation"),s={},ue(o,function(d){d.each(d.mapDimension("value"),function(f,p){var v="ec-"+d.getName(p);s[v]=s[v]||[],isNaN(f)||s[v].push(f)})}),o[0].map(o[0].mapDimension("value"),function(d,f){for(var p="ec-"+o[0].getName(f),v=0,y=1/0,x=-1/0,S=s[p].length,C=0;C<S;C++)y=Math.min(y,s[p][C]),x=Math.max(x,s[p][C]),v+=s[p][C];return 0===S?NaN:"min"===i?y:"max"===i?x:"average"===i?v/S:v})),u=0;u<e.length;u++)e[u].originalData=e[u].getData();for(u=0;u<e.length;u++)e[u].seriesGroup=e,e[u].needsDrawMap=0===u&&!e[u].getHostGeoModel(),e[u].setData(l.cloneShallow()),e[u].mainSeries=e[0]})}function JT(n){var t={};n.eachSeriesByType("map",function(e){var r=e.getMapType();if(!e.getHostGeoModel()&&!t[r]){var o={};ue(e.seriesGroup,function(s){var l=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&n.getComponent("legend")&&u.each(u.mapDimension("value"),function(d,f){var p=u.getName(f),v=l.getRegion(p);if(v&&!isNaN(d)){var y=o[p]||0,x=l.dataToPoint(v.getCenter());o[p]=y+1,u.setItemLayout(f,{point:x,offset:y})}})});var i=e.getData();i.each(function(s){var l=i.getName(s),u=i.getItemLayout(s)||{};u.showLabel=!o[l],i.setItemLayout(s,u)}),t[r]=!0}})}var MM=ft,hx=function(n){function t(e){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Ka,r._rawTransformable=new Ka,r.name=e,r}return We(t,n),t.prototype.setBoundingRect=function(e,r,o,i){return this._rect=new Lr(e,r,o,i),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,r,o,i){this._transformTo(e,r,o,i),this._viewRect=new Lr(e,r,o,i)},t.prototype._transformTo=function(e,r,o,i){var s=this.getBoundingRect(),l=this._rawTransformable;l.transform=s.calculateTransform(new Lr(e,r,o,i));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,this._updateTransform()},t.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var r=this.zoomLimit;r&&(null!=r.max&&(e=Math.min(r.max,e)),null!=r.min&&(e=Math.max(r.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,o=this.getDefaultCenter(),i=this.getCenter(),s=this.getZoom();i=ft([],i,e),o=ft([],o,e),r.originX=i[0],r.originY=i[1],r.x=o[0]-i[0],r.y=o[1]-i[1],r.scaleX=r.scaleY=s,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,r=this._rawTransformable;r.parent=e,e.updateTransform(),r.updateTransform(),$c(this.transform||(this.transform=[]),r.transform||[1,0,0,1,0,0]),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],na(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,r=this._roamTransformable,o=new Ka;return o.transform=r.transform,o.decomposeTransform(),{roam:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,r,o){var i=r?this._rawTransform:this.transform;return o=o||[],i?MM(o,e,i):hi(o,e)},t.prototype.pointToData=function(e){var r=this.invTransform;return r?MM([],e,r):[e[0],e[1]]},t.prototype.convertToPixel=function(e,r,o){var i=pD(r);return i===this?i.dataToPoint(o):null},t.prototype.convertFromPixel=function(e,r,o){var i=pD(r);return i===this?i.pointToData(o):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Ka);function pD(n){var t=n.seriesModel;return t?t.coordinateSystem:null}var gR={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},gD=["lng","lat"],QT=function(n){function t(e,r,o){var i=n.call(this,e)||this;i.dimensions=gD,i.type="geo",i._nameCoordMap=bn(),i.map=r;var s=O0(r,o.nameMap,o.nameProperty),l=xb(r);i.resourceType=l?l.type:null;var u=gR[l.type];i._regionsMap=s.regionsMap,i._invertLongitute=u.invertLongitute,i.regions=s.regions,i.aspectScale=At(o.aspectScale,u.aspectScale);var d=s.boundingRect;return i.setBoundingRect(d.x,d.y,d.width,d.height),i}return We(t,n),t.prototype._transformTo=function(e,r,o,i){var s=this.getBoundingRect(),l=this._invertLongitute;s=s.clone(),l&&(s.y=-s.y-s.height);var u=this._rawTransformable;u.transform=s.calculateTransform(new Lr(e,r,o,i));var d=u.parent;u.parent=null,u.decomposeTransform(),u.parent=d,l&&(u.scaleY=-u.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var r=this.regions,o=0;o<r.length;o++){var i=r[o];if("geoJSON"===i.type&&i.contain(e))return r[o]}},t.prototype.addGeoCoord=function(e,r){this._nameCoordMap.set(e,r)},t.prototype.getGeoCoord=function(e){var r=this._regionsMap.get(e);return this._nameCoordMap.get(e)||r&&r.getCenter()},t.prototype.dataToPoint=function(e,r,o){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return hx.prototype.dataToPoint.call(this,e,r,o)},t.prototype.convertToPixel=function(e,r,o){var i=mD(r);return i===this?i.dataToPoint(o):null},t.prototype.convertFromPixel=function(e,r,o){var i=mD(r);return i===this?i.pointToData(o):null},t}(hx);function mD(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Fi).models[0]||{}).coordinateSystem:null}function vD(n,t){var e=n.get("boundingCoords");if(null!=e){var r=e[0],o=e[1];isNaN(r[0])||isNaN(r[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1])}var i,s,l,u=this.getBoundingRect(),d=n.get("layoutCenter"),f=n.get("layoutSize"),p=t.getWidth(),v=t.getHeight(),y=u.width/u.height*this.aspectScale,x=!1;if(d&&f&&(i=[ee(d[0],p),ee(d[1],v)],s=ee(f,Math.min(p,v)),isNaN(i[0])||isNaN(i[1])||isNaN(s)||(x=!0)),x)l={},y>1?(l.width=s,l.height=s/y):(l.height=s,l.width=s*y),l.y=i[1]-l.height/2,l.x=i[0]-l.width/2;else{var S=n.getBoxLayoutParams();S.aspect=y,l=va(S,{width:p,height:v})}this.setViewRect(l.x,l.y,l.width,l.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}Kn(QT,hx);var yD=new(function(){function n(){this.dimensions=gD}return n.prototype.create=function(t,e){var r=[];t.eachComponent("geo",function(i,s){var l=i.get("map"),u=new QT(l+s,l,{nameMap:i.get("nameMap"),nameProperty:i.get("nameProperty"),aspectScale:i.get("aspectScale")});u.zoomLimit=i.get("scaleLimit"),r.push(u),i.coordinateSystem=u,u.model=i,u.resize=vD,u.resize(i,e)}),t.eachSeries(function(i){if("geo"===i.get("coordinateSystem")){var s=i.get("geoIndex")||0;i.coordinateSystem=r[s]}});var o={};return t.eachSeriesByType("map",function(i){if(!i.getHostGeoModel()){var s=i.getMapType();o[s]=o[s]||[],o[s].push(i)}}),ue(o,function(i,s){var l=Ht(i,function(d){return d.get("nameMap")}),u=new QT(s,s,{nameMap:jt(l),nameProperty:i[0].get("nameProperty"),aspectScale:i[0].get("aspectScale")});u.zoomLimit=ut.apply(null,Ht(i,function(d){return d.get("scaleLimit")})),r.push(u),u.resize=vD,u.resize(i[0],e),ue(i,function(d){var f;d.coordinateSystem=u,f=u,ue(d.get("geoCoord"),function(v,y){f.addGeoCoord(y,v)})})}),r},n.prototype.getFilledRegions=function(t,e,r,o){for(var i=(t||[]).slice(),s=bn(),l=0;l<i.length;l++)s.set(i[l].name,i[l]);return ue(O0(e,r,o).regions,function(u){var d=u.name;!s.get(d)&&i.push({name:d})}),i},n}()),mR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e,r,o){var i=xb(e.map);if(i&&"geoJSON"===i.type){var s=e.itemStyle=e.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(e,o),oa(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,r=this.option;r.regions=yD.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var o={};this._optionModelMap=kr(r.regions||[],function(i,s){var l=s.name;return l&&(i.set(l,new uo(s,e,e.ecModel)),s.selected&&(o[l]=!0)),i},bn()),r.selectedMap||(r.selectedMap=o)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new uo(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,r){var i=this.getRegionModel(e).get("normal"===r?["label","formatter"]:["emphasis","label","formatter"]),s={name:e};return"function"==typeof i?(s.status=r,i(s)):"string"==typeof i?i.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var r=this.option,o=r.selectedMode;o&&("multiple"!==o&&(r.selectedMap=null),(r.selectedMap||(r.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var r=this.option.selectedMap;r&&(r[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var r=this.option.selectedMap;return!(!r||!r[e])},t.type="geo",t.layoutMode="box",t.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Hr);function e2(n,t,e){var r=n.getZoom(),o=n.getCenter(),i=t.zoom,s=n.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,n.setCenter(n.pointToData(s))),null!=i){if(e){var l=e.min||0;i=Math.max(Math.min(r*i,e.max||1/0),l)/r}n.scaleX*=i,n.scaleY*=i;var f=(t.originY-n.y)*(i-1);n.x-=(t.originX-n.x)*(i-1),n.y-=f,n.updateTransform(),n.setCenter(n.pointToData(s)),n.setZoom(i*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var vR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return We(t,n),t.prototype.init=function(e,r){this._api=r},t.prototype.render=function(e,r,o,i){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Ld(o));var s=this._mapDraw;s.draw(e,r,o,this,i),s.group.on("click",this._handleRegionClick,this),s.group.silent=e.get("silent"),this.group.add(s.group),this.updateSelectStatus(e,r,o)},t.prototype._handleRegionClick=function(e){var r;Gp(e.target,function(o){return null!=(r=br(o).eventData)},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(e,r,o){var i=this;this._mapDraw.group.traverse(function(s){var l=br(s).eventData;if(l)return i._model.isSelected(l.name)?o.enterSelect(s):o.leaveSelect(s),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(xi);function bD(n){function t(e,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(o,i){var s={},l=[];return i.eachComponent({mainType:"geo",query:o},function(u){u[e](o.name),ue(u.coordinateSystem.regions,function(f){s[f.name]=u.isSelected(f.name)||!1});var d=[];ue(s,function(f,p){s[p]&&d.push(p)}),l.push({geoIndex:u.componentIndex,name:d})}),{selected:s,allSelected:l,name:o.name}})}n.registerCoordinateSystem("geo",yD),n.registerComponentModel(mR),n.registerComponentView(vR),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r){var o=e.componentType||"series";r.eachComponent({mainType:o,query:e},function(i){var s=i.coordinateSystem;if("geo"===s.type){var l=e2(s,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(l.center),i.setZoom&&i.setZoom(l.zoom),"series"===o&&ue(i.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function yR(n,t){var e=n.isExpand?n.children:[],r=n.parentNode.children,o=n.hierNode.i?r[n.hierNode.i-1]:null;if(e.length){!function(s){for(var l=s.children,u=l.length,d=0,f=0;--u>=0;){var p=l[u];p.hierNode.prelim+=d,p.hierNode.modifier+=d,d+=p.hierNode.shift+(f+=p.hierNode.change)}}(n);var i=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;o?(n.hierNode.prelim=o.hierNode.prelim+t(n,o),n.hierNode.modifier=n.hierNode.prelim-i):n.hierNode.prelim=i}else o&&(n.hierNode.prelim=o.hierNode.prelim+t(n,o));n.parentNode.hierNode.defaultAncestor=function(s,l,u,d){if(l){for(var f=s,p=s,v=p.parentNode.children[0],y=l,x=f.hierNode.modifier,S=p.hierNode.modifier,C=v.hierNode.modifier,k=y.hierNode.modifier;y=t2(y),p=n2(p),y&&p;){f=t2(f),v=n2(v),f.hierNode.ancestor=s;var I=y.hierNode.prelim+k-p.hierNode.prelim-S+d(y,p);I>0&&(_R(xR(y,s,u),s,I),S+=I,x+=I),k+=y.hierNode.modifier,S+=p.hierNode.modifier,x+=f.hierNode.modifier,C+=v.hierNode.modifier}y&&!t2(f)&&(f.hierNode.thread=y,f.hierNode.modifier+=k-x),p&&!n2(v)&&(v.hierNode.thread=p,v.hierNode.modifier+=S-C,u=s)}return u}(n,o,n.parentNode.hierNode.defaultAncestor||r[0],t)}function bR(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function xD(n){return arguments.length?n:wR}function Hw(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function t2(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function n2(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function xR(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function _R(n,t,e){var r=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=r}function wR(n,t){return n.parentNode===t.parentNode?1:2}var SR=function(){this.parentPoint=[],this.childPoints=[]},CR=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new SR},t.prototype.buildPath=function(e,r){var o=r.childPoints,i=o.length,s=r.parentPoint,l=o[0],u=o[i-1];if(1===i)return e.moveTo(s[0],s[1]),void e.lineTo(l[0],l[1]);var d=r.orient,f="TB"===d||"BT"===d?0:1,p=1-f,v=ee(r.forkPosition,1),y=[];y[f]=s[f],y[p]=s[p]+(u[p]-s[p])*v,e.moveTo(s[0],s[1]),e.lineTo(y[0],y[1]),e.moveTo(l[0],l[1]),y[f]=l[f],e.lineTo(y[0],y[1]),y[f]=u[f],e.lineTo(y[0],y[1]),e.lineTo(u[0],u[1]);for(var x=1;x<i-1;x++){var S=o[x];e.moveTo(S[0],S[1]),y[f]=S[f],e.lineTo(y[0],y[1])}},t}(Vr),MR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new nr,e}return We(t,n),t.prototype.init=function(e,r){this._controller=new Lt(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,r,o){var i=e.getData(),s=e.layoutInfo,l=this._mainGroup;"radial"===e.get("layout")?(l.x=s.x+s.width/2,l.y=s.y+s.height/2):(l.x=s.x,l.y=s.y),this._updateViewCoordSys(e),this._updateController(e,r,o);var u=this._data;i.diff(u).add(function(d){_D(i,d)&&wD(i,d,null,l,e)}).update(function(d,f){var p=u.getItemGraphicEl(f);_D(i,d)?wD(i,d,p,l,e):p&&MD(u,f,p,l,e)}).remove(function(d){var f=u.getItemGraphicEl(d);f&&MD(u,d,f,l,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&i.eachItemGraphicEl(function(d,f){d.off("click").on("click",function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:f})})}),this._data=i},t.prototype._updateViewCoordSys=function(e){var r=e.getData(),o=[];r.each(function(f){var p=r.getItemLayout(f);!p||isNaN(p.x)||isNaN(p.y)||o.push([+p.x,+p.y])});var i=[],s=[];nd(o,i,s);var l=this._min,u=this._max;s[0]-i[0]==0&&(i[0]=l?l[0]:i[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-i[1]==0&&(i[1]=l?l[1]:i[1]-1,s[1]=u?u[1]:s[1]+1);var d=e.coordinateSystem=new hx;d.zoomLimit=e.get("scaleLimit"),d.setBoundingRect(i[0],i[1],s[0]-i[0],s[1]-i[1]),d.setCenter(e.get("center")),d.setZoom(e.get("zoom")),this.group.attr({x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY}),this._min=i,this._max=s},t.prototype._updateController=function(e,r,o){var i=this,s=this._controller,l=this._controllerHost,u=this.group;s.setPointerChecker(function(d,f,p){var v=u.getBoundingRect();return v.applyTransform(u.transform),v.contain(f,p)&&!io(d,o,e)}),s.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(d){Mo(l,d.dx,d.dy),o.dispatchAction({seriesId:e.id,type:"treeRoam",dx:d.dx,dy:d.dy})}).on("zoom",function(d){mo(l,d.scale,d.originX,d.originY),o.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),i._updateNodeAndLinkScale(e),o.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var r=e.getData(),o=this._getNodeGlobalScale(e);r.eachItemGraphicEl(function(i,s){i.setSymbolScale(o)})},t.prototype._getNodeGlobalScale=function(e){var r=e.coordinateSystem;if("view"!==r.type)return 1;var o=this._nodeScaleRatio,i=r.scaleX||1;return((r.getZoom()-1)*o+1)/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(zo);function _D(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function wD(n,t,e,r,o){var i=!e,s=n.tree.getNodeByDataIndex(t),l=s.getModel(),u=s.getVisual("style").fill,d=!1===s.isExpand&&0!==s.children.length?u:"#fff",f=n.tree.root,p=s.parentNode===f?s:s.parentNode||s,v=n.getItemGraphicEl(p.dataIndex),y=p.getLayout(),x=v?{x:v.__oldX,y:v.__oldY,rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:y,S=s.getLayout();i?((e=new vy(n,t,null,{symbolInnerColor:d,useNameLabel:!0})).x=x.x,e.y=x.y):e.updateData(n,t,null,{symbolInnerColor:d,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=S.rawX,e.__radialRawY=S.rawY,r.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,ro(e,{x:S.x,y:S.y},o);var C=e.getSymbolPath();if("radial"===o.get("layout")){var k=f.children[0],I=k.getLayout(),R=k.children.length,O=void 0,V=void 0;if(S.x===I.x&&!0===s.isExpand){var F={x:(k.children[0].getLayout().x+k.children[R-1].getLayout().x)/2,y:(k.children[0].getLayout().y+k.children[R-1].getLayout().y)/2};(O=Math.atan2(F.y-I.y,F.x-I.x))<0&&(O=2*Math.PI+O),(V=F.x<I.x)&&(O-=Math.PI)}else(O=Math.atan2(S.y-I.y,S.x-I.x))<0&&(O=2*Math.PI+O),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(V=S.x<I.x)&&(O-=Math.PI):(V=S.x>I.x)||(O-=Math.PI);var Y=V?"left":"right",Z=l.getModel("label"),re=Z.get("rotate"),ie=re*(Math.PI/180),ae=C.getTextContent();ae&&(C.setTextConfig({position:Z.get("position")||Y,rotation:null==re?-O:ie,origin:"center"}),ae.setStyle("verticalAlign","middle"))}var ce=l.get(["emphasis","focus"]),ve="ancestor"===ce?s.getAncestorsIndices():"descendant"===ce?s.getDescendantIndices():null;ve&&(br(e).focus=ve),function(be,_e,Ce,Pe,Le,He,Je,vt){var Ct=_e.getModel(),on=be.get("edgeShape"),xt=be.get("layout"),Ft=be.getOrient(),vn=be.get(["lineStyle","curveness"]),sn=be.get("edgeForkPosition"),cn=Ct.getModel("lineStyle").getLineStyle(),En=Pe.__edge;if("curve"===on)_e.parentNode&&_e.parentNode!==Ce&&(En||(En=Pe.__edge=new Cp({shape:r2(xt,Ft,vn,Le,Le)})),ro(En,{shape:r2(xt,Ft,vn,He,Je)},be));else if("polyline"===on&&"orthogonal"===xt&&_e!==Ce&&_e.children&&0!==_e.children.length&&!0===_e.isExpand){for(var Bn=_e.children,mr=[],Mr=0;Mr<Bn.length;Mr++){var Ar=Bn[Mr].getLayout();mr.push([Ar.x,Ar.y])}En||(En=Pe.__edge=new CR({shape:{parentPoint:[Je.x,Je.y],childPoints:[[Je.x,Je.y]],orient:Ft,forkPosition:sn}})),ro(En,{shape:{parentPoint:[Je.x,Je.y],childPoints:mr}},be)}En&&(En.useStyle(Gt({strokeNoScale:!0,fill:null},cn)),as(En,Ct,"lineStyle"),Kd(En),vt.add(En))}(o,s,f,e,x,y,S,r),e.__edge&&(e.onHoverStateChange=function(be){if("blur"!==be){var _e=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);_e&&1===_e.hoverState||yg(e.__edge,be)}})}function SD(n,t,e,r,o){var i=CD(t.tree.root,n),s=i.source,l=i.sourceLayout,u=t.getItemGraphicEl(n.dataIndex);if(u){var d=t.getItemGraphicEl(s.dataIndex).__edge,f=u.__edge||(!1===s.isExpand||1===s.children.length?d:void 0),p=r.get("edgeShape"),v=r.get("layout"),y=r.get("orient"),x=r.get(["lineStyle","curveness"]);f&&("curve"===p?Ba(f,{shape:r2(v,y,x,l,l),style:{opacity:0}},r,{cb:function(){e.remove(f)},removeOpt:o}):"polyline"===p&&"orthogonal"===r.get("layout")&&Ba(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){e.remove(f)},removeOpt:o}))}}function CD(n,t){for(var e,r=t.parentNode===n?t:t.parentNode||t;null==(e=r.getLayout());)r=r.parentNode===n?r:r.parentNode||r;return{source:r,sourceLayout:e}}function MD(n,t,e,r,o){var i=n.tree.getNodeByDataIndex(t),s=CD(n.tree.root,i).sourceLayout,l={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};Ba(e,{x:s.x+1,y:s.y+1},o,{cb:function(){r.remove(e),n.setItemGraphicEl(t,null)},removeOpt:l}),e.fadeOut(null,{fadeLabel:!0,animation:l}),i.children.forEach(function(u){SD(u,n,r,o,l)}),SD(i,n,r,o,l)}function r2(n,t,e,r,o){var i,s,l,u,d,f,p,v;if("radial"===n){f=o.rawX,v=o.rawY;var y=Hw(d=r.rawX,p=r.rawY),x=Hw(d,p+(v-p)*e),S=Hw(f,v+(p-v)*e),C=Hw(f,v);return{x1:y.x||0,y1:y.y||0,x2:C.x||0,y2:C.y||0,cpx1:x.x||0,cpy1:x.y||0,cpx2:S.x||0,cpy2:S.y||0}}return d=r.x,p=r.y,f=o.x,v=o.y,"LR"!==t&&"RL"!==t||(i=d+(f-d)*e,s=p,l=f+(d-f)*e,u=v),"TB"!==t&&"BT"!==t||(i=d,s=p+(v-p)*e,l=f,u=v+(p-v)*e),{x1:d,y1:p,x2:f,y2:v,cpx1:i,cpy1:s,cpx2:l,cpy2:u}}var Vf=go();function TD(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,kD(t,e,n),ue(e,function(r){ue(t.TRANSFERABLE_METHODS,function(o){r.wrapMethod(o,Yn(TR,n))})}),t.wrapMethod("cloneShallow",Yn(DR,n)),ue(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,Yn(kR,n))}),yn(e[t.dataType]===t)}function TR(n,t){if(Vf(this).mainData===this){var e=tt({},Vf(this).datas);e[this.dataType]=t,kD(t,e,n)}else o2(t,this.dataType,Vf(this).mainData,n);return t}function kR(n,t){return n.struct&&n.struct.update(),t}function DR(n,t){return ue(Vf(t).datas,function(e,r){e!==t&&o2(e.cloneShallow(),r,t,n)}),t}function AR(n){var t=Vf(this).mainData;return null==n||null==t?t:Vf(t).datas[n]}function IR(){var n=Vf(this).mainData;return null==n?[{data:n}]:Ht(It(Vf(n).datas),function(t){return{type:t,data:Vf(n).datas[t]}})}function kD(n,t,e){Vf(n).datas={},ue(t,function(r,o){o2(r,o,n,e)})}function o2(n,t,e,r){Vf(e).datas[t]=n,Vf(n).mainData=e,n.dataType=t,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=n),n.getLinkedData=AR,n.getLinkedDataAll=IR}var PR=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,r){"function"==typeof t&&(r=e,e=t,t=null),ir(t=t||{})&&(t={order:t});var o,i=t.order||"preorder",s=this[t.attr||"children"];"preorder"===i&&(o=e.call(r,this));for(var l=0;!o&&l<s.length;l++)s[l].eachNode(t,e,r);"postorder"===i&&e.call(r,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var o=this.children[r];o.updateDepthAndHeight(t+1),o.height>e&&(e=o.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,r=this.children,o=r.length;e<o;e++){var i=r[e].getNodeById(t);if(i)return i}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,r=this.children,o=r.length;e<o;e++){var i=r[e].contains(t);if(i)return i}},n.prototype.getAncestors=function(t){for(var e=[],r=t?this:this.parentNode;r;)e.push(r),r=r.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),i2=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,r){this.root.eachNode(t,e,r)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,r=0,o=e.length;r<o;r++)e[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)e[t.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,r){var o=new n(e),i=[],s=1;(function d(f,p){var v=f.value;s=Math.max(s,dt(v)?v.length:1),i.push(f);var C,k,y=new PR(ia(f.name,""),o);p?(C=y).parentNode!==(k=p)&&(k.children.push(C),C.parentNode=k):o.root=y,o._nodes.push(y);var x=f.children;if(x)for(var S=0;S<x.length;S++)d(x[S],y)})(t),o.root.updateDepthAndHeight(0);var l=cm(i,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new ba(l,e);return u.initData(i),r&&r(u),TD({mainData:u,struct:o,structAttr:"tree"}),o.update(),o},n}();function Ww(n,t,e){if(n&&hn(t,n.type)>=0){var r=e.getData().tree.root,o=n.targetNode;if("string"==typeof o&&(o=r.getNodeById(o)),o&&r.contains(o))return{node:o};var i=n.targetNodeId;if(null!=i&&(o=r.getNodeById(i)))return{node:o}}}function DD(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function a2(n,t){return hn(DD(n),t)>=0}function TM(n,t){for(var e=[];n;){var r=n.dataIndex;e.push({name:n.name,dataIndex:r,value:t.getRawValue(r)}),n=n.parentNode}return e.reverse(),e}var LR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return We(t,n),t.prototype.getInitialData=function(e){var r={name:e.name,children:e.data},i=new uo(e.leaves||{},this,this.ecModel),s=i2.createTree(r,this,function(d){d.wrapMethod("getItemModel",function(f,p){var v=s.getNodeByDataIndex(p);return v&&v.children.length&&v.isExpand||(f.parentModel=i),f})}),l=0;s.eachNode("preorder",function(d){d.depth>l&&(l=d.depth)});var u=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:l;return s.root.eachNode("preorder",function(d){var f=d.hostTree.data.getRawDataItem(d.dataIndex);d.isExpand=f&&null!=f.collapsed?!f.collapsed:d.depth<=u}),s.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,r,o){for(var i=this.getData().tree,s=i.root.children[0],l=i.getNodeByDataIndex(e),u=l.getValue(),d=l.name;l&&l!==s;)d=l.parentNode.name+"."+d,l=l.parentNode;return cs("nameValue",{name:d,value:u,noValue:isNaN(u)||null==u})},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=TM(o,this),r},t.type="series.tree",t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Qo);function Gw(n,t){for(var e,r=[n];e=r.pop();)if(t(e),e.isExpand){var o=e.children;if(o.length)for(var i=o.length-1;i>=0;i--)r.push(o[i])}}function RR(n,t){n.eachSeriesByType("tree",function(e){!function(r,o){var Y,i=(Y=o,va(r.getBoxLayoutParams(),{width:Y.getWidth(),height:Y.getHeight()}));r.layoutInfo=i;var s=r.get("layout"),l=0,u=0,d=null;"radial"===s?(l=2*Math.PI,u=Math.min(i.height,i.width)/2,d=xD(function(F,Y){return(F.parentNode===Y.parentNode?1:2)/F.depth})):(l=i.width,u=i.height,d=xD());var f=r.getData().tree.root,p=f.children[0];if(p){(function(F){var Y=F;Y.hierNode={defaultAncestor:null,ancestor:Y,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var Z,re,ie=[Y];Z=ie.pop();)if(re=Z.children,Z.isExpand&&re.length)for(var ae=re.length-1;ae>=0;ae--){var ce=re[ae];ce.hierNode={defaultAncestor:null,ancestor:ce,prelim:0,modifier:0,change:0,shift:0,i:ae,thread:null},ie.push(ce)}})(f),function(F,Y,Z){for(var re,ie=[F],ae=[];re=ie.pop();)if(ae.push(re),re.isExpand){var ce=re.children;if(ce.length)for(var ve=0;ve<ce.length;ve++)ie.push(ce[ve])}for(;re=ae.pop();)Y(re,Z)}(p,yR,d),f.hierNode.modifier=-p.hierNode.prelim,Gw(p,bR);var v=p,y=p,x=p;Gw(p,function(F){var Y=F.getLayout().x;Y<v.getLayout().x&&(v=F),Y>y.getLayout().x&&(y=F),F.depth>x.depth&&(x=F)});var S=v===y?1:d(v,y)/2,C=S-v.getLayout().x,k=0,I=0,R=0,O=0;if("radial"===s)k=l/(y.getLayout().x+S+C),I=u/(x.depth-1||1),Gw(p,function(F){var Y=Hw(R=(F.getLayout().x+C)*k,O=(F.depth-1)*I);F.setLayout({x:Y.x,y:Y.y,rawX:R,rawY:O},!0)});else{var V=r.getOrient();"RL"===V||"LR"===V?(I=u/(y.getLayout().x+S+C),k=l/(x.depth-1||1),Gw(p,function(F){O=(F.getLayout().x+C)*I,F.setLayout({x:R="LR"===V?(F.depth-1)*k:l-(F.depth-1)*k,y:O},!0)})):"TB"!==V&&"BT"!==V||(k=l/(y.getLayout().x+S+C),I=u/(x.depth-1||1),Gw(p,function(F){R=(F.getLayout().x+C)*k,F.setLayout({x:R,y:O="TB"===V?(F.depth-1)*I:u-(F.depth-1)*I},!0)}))}}}(e,t)})}function OR(n){n.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();tt(e.ensureUniqueItemVisual(r.dataIndex,"style"),o)})})}var NR=function(){},AD=["treemapZoomToNode","treemapRender","treemapMove"];function ID(n){var t=n.getData().tree,e={};t.eachNode(function(r){for(var o=r;o&&o.depth>1;)o=o.parentNode;var i=f0(n.ecModel,o.name||o.dataIndex+"",e);r.setVisual("decal",i)})}var ER=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return We(t,n),t.prototype.getInitialData=function(e,r){var o={name:e.name,children:e.data};PD(o);var i=e.levels||[],s=this.designatedVisualItemStyle={},l=new uo({itemStyle:s},this,r),u=Ht((i=e.levels=function(f,p){var v,y,x=no(p.get("color")),S=no(p.get(["aria","decal","decals"]));if(x){ue(f=f||[],function(k){var I=new uo(k),R=I.get("color"),O=I.get("decal");(I.get(["itemStyle","color"])||R&&"none"!==R)&&(v=!0),(I.get(["itemStyle","decal"])||O&&"none"!==O)&&(y=!0)});var C=f[0]||(f[0]={});return v||(C.color=x.slice()),!y&&S&&(C.decal=S.slice()),f}}(i,r))||[],function(f){return new uo(f,l,r)},this),d=i2.createTree(o,this,function(f){f.wrapMethod("getItemModel",function(p,v){var y=d.getNodeByDataIndex(v);return p.parentModel=(y?u[y.depth]:null)||l,p})});return d.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,r,o){var i=this.getData(),s=this.getRawValue(e);return cs("nameValue",{name:i.getName(e),value:s})},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=TM(o,this),r.treePathInfo=r.treeAncestors,r},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},tt(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var r=this._idIndexMap;r||(r=this._idIndexMap=bn(),this._idIndexMapCount=0);var o=r.get(e);return null==o&&r.set(e,o=this._idIndexMapCount++),o},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;e&&(e===r||r.contains(e))||(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){ID(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Qo);function PD(n){var t=0;ue(n.children,function(r){PD(r);var o=r.value;dt(o)&&(o=o[0]),t+=o});var e=n.value;dt(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),dt(n.value)?n.value[0]=e:n.value=e}var BR=function(){function n(t){this.group=new nr,t.add(this.group)}return n.prototype.render=function(t,e,r,o){var i=t.getModel("breadcrumb"),s=this.group;if(s.removeAll(),i.get("show")&&r){var l=i.getModel("itemStyle"),u=l.getModel("textStyle"),d={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,d,u),this._renderContent(t,d,l,u,o),Vg(s,d.pos,d.box)}},n.prototype._prepare=function(t,e,r){for(var o=t;o;o=o.parentNode){var i=ia(o.getModel().get("name"),""),s=r.getTextRect(i),l=Math.max(s.width+16,e.emptyItemWidth);e.totalWidth+=l+8,e.renderList.push({node:o,text:i,width:l})}},n.prototype._renderContent=function(t,e,r,o,i){for(var s,l,u,d,f,p,v,y,x,S=0,C=e.emptyItemWidth,k=t.get(["breadcrumb","height"]),I=(f=(l=e.box).height,p=ee((s=e.pos).left,d=l.width),v=ee(s.top,f),y=ee(s.right,d),x=ee(s.bottom,f),(isNaN(p)||isNaN(parseFloat(s.left)))&&(p=0),(isNaN(y)||isNaN(parseFloat(s.right)))&&(y=d),(isNaN(v)||isNaN(parseFloat(s.top)))&&(v=0),(isNaN(x)||isNaN(parseFloat(s.bottom)))&&(x=f),u=Gn(u||0),{width:Math.max(y-p-u[1]-u[3],0),height:Math.max(x-v-u[0]-u[2],0)}),R=e.totalWidth,O=e.renderList,V=O.length-1;V>=0;V--){var F=O[V],Y=F.node,Z=F.width,re=F.text;R>I.width&&(R-=Z-C,Z=C,re=null);var ie=new Ea({shape:{points:zR(S,0,Z,k,V===O.length-1,0===V)},style:Gt(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Xr({style:{text:re,fill:o.getTextColor(),font:o.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:Yn(i,Y)});ie.disableLabelAnimation=!0,this.group.add(ie),VR(ie,t,Y),S+=Z+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function zR(n,t,e,r,o,i){var s=[[o?n:n-5,t],[n+e,t],[n+e,t+r],[o?n:n-5,t+r]];return!i&&s.splice(2,0,[n+e+5,t+r/2]),!o&&s.push([n,t+r/2]),s}function VR(n,t,e){br(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&TM(e,t)}}var FR=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,r,o,i){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:r,delay:o,easing:i}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,r=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},o=0,i=this._storage.length;o<i;o++){var s=this._storage[o];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:r,aborted:r})}return this},n}(),s2=nr,LD=eo,OD="upperLabel",C1=ll([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),ND=function(n){var t=C1(n);return t.stroke=t.fill=t.lineWidth=null,t},kM=go(),HR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return We(t,n),t.prototype.render=function(e,r,o,i){if(!(hn(r.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=o,this.ecModel=r;var s=Ww(i,["treemapZoomToNode","treemapRootToNode"],e),l=i&&i.type,u=e.layoutInfo,d=!this._oldTree,f=this._storage,p="treemapRootToNode"===l&&s&&f?{rootNodeGroup:f.nodeGroup[s.node.getRawIndex()],direction:i.direction}:null,v=this._giveContainerGroup(u),y=e.get("animation"),x=this._doRender(v,e,p);!y||d||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?x.renderFinally():this._doAnimation(v,x,e,p),this._resetController(o),this._renderBreadcrumb(e,o,s)}},t.prototype._giveContainerGroup=function(e){var r=this._containerGroup;return r||(r=this._containerGroup=new s2,this._initEvents(r),this.group.add(r)),r.x=e.x,r.y=e.y,r},t.prototype._doRender=function(e,r,o){var i=r.getData().tree,s=this._oldTree,l={nodeGroup:[],background:[],content:[]},u={nodeGroup:[],background:[],content:[]},d=this._storage,f=[];!function y(x,S,C,k,I){function R(V){return V.getId()}function O(V,F){var Y=null!=V?x[V]:null,Z=null!=F?S[F]:null,re=function p(y,x,S,C){return function(k,I,R,O,V,F,Y,Z,re,ie){if(Y){var ae=Y.getLayout(),ce=k.getData(),ve=Y.getModel();if(ce.setItemGraphicEl(Y.dataIndex,null),ae&&ae.isInView){var be=ae.width,_e=ae.height,Ce=ae.borderWidth,Pe=ae.invisible,Le=Y.getRawIndex(),He=Z&&Z.getRawIndex(),Je=Y.viewChildren,vt=ae.upperHeight,Ct=Je&&Je.length,on=ve.getModel("itemStyle"),xt=ve.getModel(["emphasis","itemStyle"]),Ft=ve.getModel(["blur","itemStyle"]),vn=ve.getModel(["select","itemStyle"]),sn=on.get("borderRadius")||0,cn=Ni("nodeGroup",s2);if(cn){if(re.add(cn),cn.x=ae.x||0,cn.y=ae.y||0,cn.markRedraw(),kM(cn).nodeWidth=be,kM(cn).nodeHeight=_e,ae.isAboveViewRoot)return cn;var En=Ni("background",LD,ie,20);En&&function la(di,ao,ii){var Fo=br(ao);if(Fo.dataIndex=Y.dataIndex,Fo.seriesIndex=k.seriesIndex,ao.setShape({x:0,y:0,width:be,height:_e,r:sn}),Pe)To(ao);else{ao.invisible=!1;var Or=Y.getVisual("style"),Ks=Or.stroke,Cs=ND(on);Cs.fill=Ks;var Ei=C1(xt);Ei.fill=xt.get("borderColor");var Lu=C1(Ft);Lu.fill=Ft.get("borderColor");var km=C1(vn);km.fill=vn.get("borderColor"),ii?_o(ao,Ks,Or.opacity,{x:Ce,y:0,width:be-2*Ce,height:vt}):ao.removeTextContent(),ao.setStyle(Cs),ao.ensureState("emphasis").style=Ei,ao.ensureState("blur").style=Lu,ao.ensureState("select").style=km,Kd(ao)}di.add(ao)}(cn,En,Ct&&ae.upperLabelHeight);var Bn=ve.get(["emphasis","focus"]),mr=ve.get(["emphasis","blurScope"]),Mr="ancestor"===Bn?Y.getAncestorsIndices():"descendant"===Bn?Y.getDescendantIndices():Bn;if(Ct)vp(cn)&&ph(cn,!1),En&&(ph(En,!0),ce.setItemGraphicEl(Y.dataIndex,En),Jm(En,Mr,mr));else{var Ar=Ni("content",LD,ie,30);Ar&&function Ji(di,ao){var ii=br(ao);ii.dataIndex=Y.dataIndex,ii.seriesIndex=k.seriesIndex;var Fo=Math.max(be-2*Ce,0),Or=Math.max(_e-2*Ce,0);if(ao.culling=!0,ao.setShape({x:Ce,y:Ce,width:Fo,height:Or,r:sn}),Pe)To(ao);else{ao.invisible=!1;var Ks=Y.getVisual("style"),Cs=Ks.fill,Ei=ND(on);Ei.fill=Cs,Ei.decal=Ks.decal;var Lu=C1(xt),km=C1(Ft),Ax=C1(vn);_o(ao,Cs,Ks.opacity,null),ao.setStyle(Ei),ao.ensureState("emphasis").style=Lu,ao.ensureState("blur").style=km,ao.ensureState("select").style=Ax,Kd(ao)}di.add(ao)}(cn,Ar),En.disableMorphing=!0,En&&vp(En)&&ph(En,!1),ph(cn,!0),ce.setItemGraphicEl(Y.dataIndex,cn),Jm(cn,Mr,mr)}return cn}}}function To(di){!di.invisible&&F.push(di)}function _o(di,ao,ii,Fo){var Or=ve.getModel(Fo?OD:"label"),Ks=ia(ve.get("name"),null),Cs=Or.getShallow("show");_s(di,ma(ve,Fo?OD:"label"),{defaultText:Cs?Ks:null,inheritColor:ao,defaultOpacity:ii,labelFetcher:k,labelDataIndex:Y.dataIndex});var Ei=di.getTextContent();if(Ei){var Lu=Ei.style,km=dn(Lu.padding||0);Fo&&(di.setTextConfig({layoutRect:Fo}),Ei.disableLabelLayout=!0),Ei.beforeUpdate=function(){var hR=Math.max((Fo?Fo.width:di.shape.width)-km[1]-km[3],0),pR=Math.max((Fo?Fo.height:di.shape.height)-km[0]-km[2],0);Lu.width===hR&&Lu.height===pR||Ei.setStyle({width:hR,height:pR})},Lu.truncateMinChar=2,Lu.lineOverflow="truncate",_a(Lu,Fo,ae);var Ax=Ei.getState("emphasis");_a(Ax?Ax.style:null,Fo,ae)}}function _a(di,ao,ii){var Fo=di?di.text:null;if(!ao&&ii.isLeafRoot&&null!=Fo){var Or=k.get("drillDownIcon",!0);di.text=Or?Or+" "+Fo:Fo}}function Ni(di,ao,ii,Fo){var Or=null!=He&&R[di][He],Ks=V[di];return Or?(R[di][He]=null,function Pu(di,ao){var ii=di[Le]={};ao instanceof s2?(ii.oldX=ao.x,ii.oldY=ao.y):ii.oldShape=tt({},ao.shape)}(Ks,Or)):Pe||((Or=new ao)instanceof mi&&(Or.z2=100*ii+Fo),function gc(di,ao){var ii=di[Le]={},Fo=Y.parentNode,Or=ao instanceof nr;if(Fo&&(!O||"drillDown"===O.direction)){var Ks=0,Cs=0,Ei=V.background[Fo.getRawIndex()];!O&&Ei&&Ei.oldShape&&(Ks=Ei.oldShape.width,Cs=Ei.oldShape.height),Or?(ii.oldX=0,ii.oldY=Cs):ii.oldShape={x:Ks,y:Cs,width:0,height:0}}ii.fadein=!Or}(Ks,Or)),I[di][Le]=Or}}(r,u,d,o,l,f,y,x,S,C)}(Y,Z,C,I);re&&y(Y&&Y.viewChildren||[],Z&&Z.viewChildren||[],re,k,I+1)}k?(S=x,ue(x,function(V,F){!V.isRemoved()&&O(F,F)})):new Rf(S,x,R,R).add(O).update(O).remove(Yn(O,null)).execute()}(i.root?[i.root]:[],s&&s.root?[s.root]:[],e,i===s||!s,0);var y,x,v=(x={nodeGroup:[],background:[],content:[]},(y=d)&&ue(y,function(S,C){var k=x[C];ue(S,function(I){I&&(k.push(I),kM(I).willDelete=!0)})}),x);return this._oldTree=i,this._storage=u,{lastsForAnimation:l,willDeleteEls:v,renderFinally:function(){ue(v,function(y){ue(y,function(x){x.parent&&x.parent.remove(x)})}),ue(f,function(y){y.invisible=!0,y.dirty()})}}},t.prototype._doAnimation=function(e,r,o,i){var s=o.get("animationDurationUpdate"),l=o.get("animationEasing"),u=(ge(s)?0:s)||0,d=(ge(l)?null:l)||"cubicOut",f=new FR;ue(r.willDeleteEls,function(p,v){ue(p,function(y,x){if(!y.invisible){var S,C=y.parent,k=kM(C);if(i&&"drillDown"===i.direction)S=C===i.rootNodeGroup?{shape:{x:0,y:0,width:k.nodeWidth,height:k.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var I=0,R=0;k.willDelete||(I=k.nodeWidth/2,R=k.nodeHeight/2),S="nodeGroup"===v?{x:I,y:R,style:{opacity:0}}:{shape:{x:I,y:R,width:0,height:0},style:{opacity:0}}}S&&f.add(y,S,u,0,d)}})}),ue(this._storage,function(p,v){ue(p,function(y,x){var S=r.lastsForAnimation[v][x],C={};S&&(y instanceof nr?null!=S.oldX&&(C.x=y.x,C.y=y.y,y.x=S.oldX,y.y=S.oldY):(S.oldShape&&(C.shape=tt({},y.shape),y.setShape(S.oldShape)),S.fadein?(y.setStyle("opacity",0),C.style={opacity:1}):1!==y.style.opacity&&(C.style={opacity:1})),f.add(y,C,u,0,d))})},this),this._state="animating",f.finished(xn(function(){this._state="ready",r.renderFinally()},this)).start()},t.prototype._resetController=function(e){var r=this._controller;r||((r=this._controller=new Lt(e.getZr())).enable(this.seriesModel.get("roam")),r.on("pan",xn(this._onPan,this)),r.on("zoom",xn(this._onZoom,this)));var o=new Lr(0,0,e.getWidth(),e.getHeight());r.setPointerChecker(function(i,s,l){return o.contain(s,l)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var r=this.seriesModel.getData().tree.root;if(!r)return;var o=r.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},t.prototype._onZoom=function(e){var r=e.originX,o=e.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var s=i.getLayout();if(!s)return;var l=new Lr(s.x,s.y,s.width,s.height),u=this.seriesModel.layoutInfo,d=[1,0,0,1,0,0];Ns(d,d,[-(r-=u.x),-(o-=u.y)]),_r(d,d,[e.scale,e.scale]),Ns(d,d,[r,o]),l.applyTransform(d),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var r=this;e.on("click",function(o){if("ready"===r._state){var i=r.seriesModel.get("nodeClick",!0);if(i){var s=r.findTarget(o.offsetX,o.offsetY);if(s){var l=s.node;if(l.getLayout().isLeafRoot)r._rootToNode(s);else if("zoomToNode"===i)r._zoomToNode(s);else if("link"===i){var u=l.hostTree.data.getItemModel(l.dataIndex),d=u.get("link",!0),f=u.get("target",!0)||"blank";d&&Oc(d,f)}}}}},this)},t.prototype._renderBreadcrumb=function(e,r,o){var i=this;o||(o=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2))||(o={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new BR(this.group))).render(e,r,o.node,function(s){"animating"!==i._state&&(a2(e.getViewRoot(),s)?i._rootToNode({node:s}):i._zoomToNode({node:s}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,r){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var s=this._storage.background[i.getRawIndex()];if(s){var l=s.transformCoordToLocal(e,r),u=s.shape;if(!(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height))return!1;o={node:i,offsetX:l[0],offsetY:l[1]}}},this),o},t.type="treemap",t}(zo),Uw=ue,WR=zn,gl=function(){function n(t){var e=t.mappingMethod,r=t.type,o=this.option=Qt(t);this.type=r,this.mappingMethod=e,this._normalizeData=GR[e];var s,l,i=n.visualHandlers[r];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[e],"piecewise"===e?(u2(o),l=(s=o).pieceList,s.hasSpecialVisual=!1,ue(l,function(u,d){u.originIndex=d,null!=u.visual&&(s.hasSpecialVisual=!0)})):"category"===e?o.categories?function(s){var l=s.categories,u=s.categoryMap={},d=s.visual;if(Uw(l,function(v,y){u[v]=y}),!dt(d)){var f=[];zn(d)?Uw(d,function(v,y){var x=u[y];f[null!=x?x:-1]=v}):f[-1]=d,d=BD(s,f)}for(var p=l.length-1;p>=0;p--)null==d[p]&&(delete u[l[p]],l.pop())}(o):u2(o,!0):(yn("linear"!==e||o.dataExtent),u2(o))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return xn(this._normalizeData,this)},n.listVisualTypes=function(){return It(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,r){zn(t)?ue(t,e,r):e.call(r,t)},n.mapVisual=function(t,e,r){var o,i=dt(t)?[]:zn(t)?{}:(o=!0,null);return n.eachVisual(t,function(s,l){var u=e.call(r,s,l);o?i=u:i[l]=u}),i},n.retrieveVisuals=function(t){var e,r={};return t&&Uw(n.visualHandlers,function(o,i){t.hasOwnProperty(i)&&(r[i]=t[i],e=!0)}),e?r:null},n.prepareVisualTypes=function(t){if(dt(t))t=t.slice();else{if(!WR(t))return[];var e=[];Uw(t,function(r,o){e.push(o)}),t=e}return t.sort(function(r,o){return"color"===o&&"color"!==r&&0===r.indexOf("color")?1:-1}),t},n.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},n.findPieceIndex=function(t,e,r){for(var o,i=1/0,s=0,l=e.length;s<l;s++){var u=e[s].value;if(null!=u){if(u===t||"string"==typeof u&&u===t+"")return s;r&&v(u,s)}}for(s=0,l=e.length;s<l;s++){var d=e[s],f=d.interval,p=d.close;if(f){if(f[0]===-1/0){if(AM(p[1],t,f[1]))return s}else if(f[1]===1/0){if(AM(p[0],f[0],t))return s}else if(AM(p[0],f[0],t)&&AM(p[1],t,f[1]))return s;r&&v(f[0],s),r&&v(f[1],s)}}if(r)return t===1/0?e.length-1:t===-1/0?0:o;function v(y,x){var S=Math.abs(y-t);S<i&&(i=S,o=x)}},n.visualHandlers={color:{applyVisual:jw("color"),getColorMapper:function(){var t=this.option;return xn("category"===t.mappingMethod?function(e,r){return!r&&(e=this._normalizeData(e)),Yw.call(this,e)}:function(e,r,o){var i=!!o;return!r&&(e=this._normalizeData(e)),o=wa(e,t.parsedVisual,o),i?o:ps(o,"rgba")},this)},_normalizedToVisual:{linear:function(t){return ps(wa(t,this.option.parsedVisual),"rgba")},category:Yw,piecewise:function(t,e){var r=d2.call(this,e);return null==r&&(r=ps(wa(t,this.option.parsedVisual),"rgba")),r},fixed:M1}},colorHue:DM(function(t,e){return yl(t,e)}),colorSaturation:DM(function(t,e){return yl(t,null,e)}),colorLightness:DM(function(t,e){return yl(t,null,null,e)}),colorAlpha:DM(function(t,e){return iu(t,e)}),decal:{applyVisual:jw("decal"),_normalizedToVisual:{linear:null,category:Yw,piecewise:null,fixed:null}},opacity:{applyVisual:jw("opacity"),_normalizedToVisual:c2([0,1])},liftZ:{applyVisual:jw("liftZ"),_normalizedToVisual:{linear:M1,category:M1,piecewise:M1,fixed:M1}},symbol:{applyVisual:function(t,e,r){r("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:ED,category:Yw,piecewise:function(t,e){var r=d2.call(this,e);return null==r&&(r=ED.call(this,t)),r},fixed:M1}},symbolSize:{applyVisual:jw("symbolSize"),_normalizedToVisual:c2([0,1])}},n}();function u2(n,t){var e=n.visual,r=[];zn(e)?Uw(e,function(o){r.push(o)}):null!=e&&r.push(e),t||1!==r.length||{color:1,symbol:1}.hasOwnProperty(n.type)||(r[1]=r[0]),BD(n,r)}function DM(n){return{applyVisual:function(t,e,r){var o=this.mapValueToVisual(t);r("color",n(e("color"),o))},_normalizedToVisual:c2([0,1])}}function ED(n){var t=this.option.visual;return t[Math.round($(n,[0,1],[0,t.length-1],!0))]||{}}function jw(n){return function(t,e,r){r(n,this.mapValueToVisual(t))}}function Yw(n){var t=this.option.visual;return t[this.option.loop&&-1!==n?n%t.length:n]}function M1(){return this.option.visual[0]}function c2(n){return{linear:function(t){return $(t,n,this.option.visual,!0)},category:Yw,piecewise:function(t,e){var r=d2.call(this,e);return null==r&&(r=$(t,n,this.option.visual,!0)),r},fixed:M1}}function d2(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var r=e[gl.findPieceIndex(n,e)];if(r&&r.visual)return r.visual[this.type]}}function BD(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=Ht(t,function(e){return Gi(e)})),t}var GR={linear:function(n){return $(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=gl.findPieceIndex(n,t,!0);if(null!=e)return $(e,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return null==t?-1:t},fixed:Do};function AM(n,t,e){return n?t<=e:t<e}var zD=go(),UR={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||VD(t,{},n.getViewRoot().getAncestors(),n)}};function VD(n,t,e,r){var S,C,k,I,R,o=n.getModel(),i=n.getLayout(),s=n.hostTree.data;if(i&&!i.invisible&&i.isInView){var l,u=o.getModel("itemStyle"),d=(S=u,k=r,I=tt({},C=t),R=k.designatedVisualItemStyle,ue(["color","colorAlpha","colorSaturation"],function(O){R[O]=C[O];var V=S.get(O);R[O]=null,null!=V&&(I[O]=V)}),I),f=s.ensureUniqueItemVisual(n.dataIndex,"style"),p=u.get("borderColor"),v=u.get("borderColorSaturation");null!=v&&(p=function(S,C){return null!=C?yl(C,null,null,S):null}(v,l=FD(d))),f.stroke=p;var y=n.viewChildren;if(y&&y.length){var x=function(S,C,k,I,R,O){if(O&&O.length){var V=h2(C,"color")||null!=R.color&&"none"!==R.color&&(h2(C,"colorAlpha")||h2(C,"colorSaturation"));if(V){var F=C.get("visualMin"),Y=C.get("visualMax"),Z=k.dataExtent.slice();null!=F&&F<Z[0]&&(Z[0]=F),null!=Y&&Y>Z[1]&&(Z[1]=Y);var re=C.get("colorMappingBy"),ie={type:V.name,dataExtent:Z,visual:V.range};"color"!==ie.type||"index"!==re&&"id"!==re?ie.mappingMethod="linear":(ie.mappingMethod="category",ie.loop=!0);var ae=new gl(ie);return zD(ae).drColorMappingBy=re,ae}}}(0,o,i,0,d,y);ue(y,function(S,C){if(S.depth>=e.length||S===e[S.depth]){var k=function(I,R,O,V,F,Y){var Z=tt({},R);if(F){var re=F.type,ie="color"===re&&zD(F).drColorMappingBy,ae="index"===ie?V:"id"===ie?Y.mapIdToIndex(O.getId()):O.getValue(I.get("visualDimension"));Z[re]=F.mapValueToVisual(ae)}return Z}(o,d,S,C,x,r);VD(S,k,e,r)}})}else l=FD(d),f.fill=l}}function FD(n){var t=f2(n,"color");if(t){var e=f2(n,"colorAlpha"),r=f2(n,"colorSaturation");return r&&(t=yl(t,null,null,r)),e&&(t=iu(t,e)),t}}function f2(n,t){var e=n[t];if(null!=e&&"none"!==e)return e}function h2(n,t){var e=n.get(t);return dt(e)&&e.length?{name:t,range:e}:null}var Xw=Math.max,IM=Math.min,HD=ut,p2=ue,WD=["itemStyle","borderWidth"],jR=["itemStyle","gapWidth"],YR=["upperLabel","show"],XR=["upperLabel","height"],qR={seriesType:"treemap",reset:function(n,t,e,r){var o=e.getWidth(),i=e.getHeight(),s=n.option,l=va(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),u=s.size||[],d=ee(HD(l.width,u[0]),o),f=ee(HD(l.height,u[1]),i),p=r&&r.type,v=Ww(r,["treemapZoomToNode","treemapRootToNode"],n),y="treemapRender"===p||"treemapMove"===p?r.rootRect:null,x=n.getViewRoot(),S=DD(x);if("treemapMove"!==p){var C="treemapZoomToNode"===p?function(V,F,Y,Z,re){var ie,ae=(F||{}).node,ce=[Z,re];if(!ae||ae===Y)return ce;for(var ve=Z*re,be=ve*V.option.zoomToNodeRatio;ie=ae.parentNode;){for(var _e=0,Ce=ie.children,Pe=0,Le=Ce.length;Pe<Le;Pe++)_e+=Ce[Pe].getValue();var He=ae.getValue();if(0===He)return ce;be*=_e/He;var Je=ie.getModel(),vt=Je.get(WD);(be+=4*vt*vt+(3*vt+Math.max(vt,YD(Je)))*Math.pow(be,.5))>$t&&(be=$t),ae=ie}be<ve&&(be=ve);var Ct=Math.pow(be/ve,.5);return[Z*Ct,re*Ct]}(n,v,x,d,f):y?[y.width,y.height]:[d,f],k=s.sort;k&&"asc"!==k&&"desc"!==k&&(k="desc");var I={squareRatio:s.squareRatio,sort:k,leafDepth:s.leafDepth};x.hostTree.clearLayouts();var R={x:0,y:0,width:C[0],height:C[1],area:C[0]*C[1]};x.setLayout(R),GD(x,I,!1,0),R=x.getLayout(),p2(S,function(V,F){var Y=(S[F+1]||x).getValue();V.setLayout(tt({dataExtent:[Y,Y],borderWidth:0,upperHeight:0},R))})}var O=n.getData().tree.root;O.setLayout(function(V,F,Y){if(F)return{x:F.x,y:F.y};var Z={x:0,y:0};if(!Y)return Z;var re=Y.node,ie=re.getLayout();if(!ie)return Z;for(var ae=[ie.width/2,ie.height/2],ce=re;ce;){var ve=ce.getLayout();ae[0]+=ve.x,ae[1]+=ve.y,ce=ce.parentNode}return{x:V.width/2-ae[0],y:V.height/2-ae[1]}}(l,y,v),!0),n.setLayoutInfo(l),jD(O,new Lr(-l.x,-l.y,o,i),S,x,0)}};function GD(n,t,e,r){var o,i;if(!n.isRemoved()){var s=n.getLayout();o=s.width,i=s.height;var l=n.getModel(),u=l.get(WD),d=l.get(jR)/2,f=YD(l),p=Math.max(u,f),v=u-d,y=p-d;n.setLayout({borderWidth:u,upperHeight:p,upperLabelHeight:f},!0);var x=(o=Xw(o-2*v,0))*(i=Xw(i-v-y,0)),S=function(re,ie,ae,ce,ve,be){var _e=re.children||[],Ce=ce.sort;"asc"!==Ce&&"desc"!==Ce&&(Ce=null);var Ct,on,Pe=null!=ce.leafDepth&&ce.leafDepth<=be;if(ve&&!Pe)return re.viewChildren=[];Ct=_e=Un(_e,function(Ct){return!Ct.isRemoved()}),(on=Ce)&&Ct.sort(function(xt,Ft){var vn="asc"===on?xt.getValue()-Ft.getValue():Ft.getValue()-xt.getValue();return 0===vn?"asc"===on?xt.dataIndex-Ft.dataIndex:Ft.dataIndex-xt.dataIndex:vn});var Le=function(Ct,on,xt){for(var Ft=0,vn=0,sn=on.length;vn<sn;vn++)Ft+=on[vn].getValue();var cn,En=Ct.get("visualDimension");return on&&on.length?"value"===En&&xt?(cn=[on[on.length-1].getValue(),on[0].getValue()],"asc"===xt&&cn.reverse()):(cn=[1/0,-1/0],p2(on,function(Bn){var mr=Bn.getValue(En);mr<cn[0]&&(cn[0]=mr),mr>cn[1]&&(cn[1]=mr)})):cn=[NaN,NaN],{sum:Ft,dataExtent:cn}}(ie,_e,Ce);if(0===Le.sum)return re.viewChildren=[];if(Le.sum=function(Ct,on,xt,Ft,vn){if(!Ft)return xt;for(var sn=Ct.get("visibleMin"),cn=vn.length,En=cn,Bn=cn-1;Bn>=0;Bn--){var mr=vn["asc"===Ft?cn-Bn-1:Bn].getValue();mr/xt*on<sn&&(En=Bn,xt-=mr)}return vn.splice("asc"===Ft?0:En,cn-En),xt}(ie,ae,Le.sum,Ce,_e),0===Le.sum)return re.viewChildren=[];for(var He=0,Je=_e.length;He<Je;He++){var vt=_e[He].getValue()/Le.sum*ae;_e[He].setLayout({area:vt})}return Pe&&(_e.length&&re.setLayout({isLeafRoot:!0},!0),_e.length=0),re.viewChildren=_e,re.setLayout({dataExtent:Le.dataExtent},!0),_e}(n,l,x,t,e,r);if(S.length){var C={x:v,y,width:o,height:i},k=IM(o,i),I=1/0,R=[];R.area=0;for(var O=0,V=S.length;O<V;){var F=S[O];R.push(F),R.area+=F.getLayout().area;var Y=ZR(R,k,t.squareRatio);Y<=I?(O++,I=Y):(R.area-=R.pop().getLayout().area,UD(R,k,C,d,!1),k=IM(C.width,C.height),R.length=R.area=0,I=1/0)}if(R.length&&UD(R,k,C,d,!0),!e){var Z=l.get("childrenVisibleMin");null!=Z&&x<Z&&(e=!0)}for(O=0,V=S.length;O<V;O++)GD(S[O],t,e,r+1)}}}function ZR(n,t,e){for(var r=0,o=1/0,i=0,s=void 0,l=n.length;i<l;i++)(s=n[i].getLayout().area)&&(s<o&&(o=s),s>r&&(r=s));var u=n.area*n.area,d=t*t*e;return u?Xw(d*r/u,u/(d*o)):1/0}function UD(n,t,e,r,o){var i=t===e.width?0:1,s=1-i,l=["x","y"],u=["width","height"],d=e[l[i]],f=t?n.area/t:0;(o||f>e[u[s]])&&(f=e[u[s]]);for(var p=0,v=n.length;p<v;p++){var y=n[p],x={},S=f?y.getLayout().area/f:0,C=x[u[s]]=Xw(f-2*r,0),k=e[l[i]]+e[u[i]]-d,I=p===v-1||k<S?k:S,R=x[u[i]]=Xw(I-2*r,0);x[l[s]]=e[l[s]]+IM(r,C/2),x[l[i]]=d+IM(r,R/2),d+=I,y.setLayout(x,!0)}e[l[s]]+=f,e[u[s]]-=f}function jD(n,t,e,r,o){var i=n.getLayout(),s=e[o],l=s&&s===n;if(!(s&&!l||o===e.length&&n!==r)){n.setLayout({isInView:!0,invisible:!l&&!t.intersect(i),isAboveViewRoot:l},!0);var u=new Lr(t.x-i.x,t.y-i.y,t.width,t.height);p2(n.viewChildren||[],function(d){jD(d,u,e,r,o+1)})}}function YD(n){return n.get(YR)?n.get(XR):0}function KR(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),o=e.getGraph().data,i=r.mapArray(r.getName);o.filterSelf(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"number"==typeof l&&(l=i[l]);for(var u=0;u<t.length;u++)if(!t[u].isSelected(l))return!1}return!0})})}function $R(n){var t={};n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),o=e.getData(),i={};r.each(function(s){var l=r.getName(s);i["ec-"+l]=s;var u=r.getItemModel(s),d=u.getModel("itemStyle").getItemStyle();d.fill||(d.fill=e.getColorFromPalette(l,t)),r.setItemVisual(s,"style",d);for(var f=["symbol","symbolSize","symbolKeepAspect"],p=0;p<f.length;p++){var v=u.getShallow(f[p],!0);null!=v&&r.setItemVisual(s,f[p],v)}}),r.count()&&o.each(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"string"==typeof l&&(l=i["ec-"+l]);var u=r.getItemVisual(l,"style");tt(o.ensureUniqueItemVisual(s,"style"),u);for(var d=["symbol","symbolSize","symbolKeepAspect"],f=0;f<d.length;f++)o.setItemVisual(s,d[f],r.getItemVisual(l,d[f]))}})})}function PM(n){return n instanceof Array||(n=[n,n]),n}function JR(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),r=t.getEdgeData(),o=PM(t.get("edgeSymbol")),i=PM(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",o&&o[0]),r.setVisual("toSymbol",o&&o[1]),r.setVisual("fromSymbolSize",i&&i[0]),r.setVisual("toSymbolSize",i&&i[1]),r.setVisual("style",t.getModel("lineStyle").getLineStyle()),r.each(function(s){var l=r.getItemModel(s),u=e.getEdgeByIndex(s),d=PM(l.getShallow("symbol",!0)),f=PM(l.getShallow("symbolSize",!0)),p=l.getModel("lineStyle").getLineStyle(),v=r.ensureUniqueItemVisual(s,"style");switch(tt(v,p),v.stroke){case"source":var y=u.node1.getVisual("style");v.stroke=y&&y.fill;break;case"target":y=u.node2.getVisual("style"),v.stroke=y&&y.fill}d[0]&&u.setVisual("fromSymbol",d[0]),d[1]&&u.setVisual("toSymbol",d[1]),f[0]&&u.setVisual("fromSymbolSize",f[0]),f[1]&&u.setVisual("toSymbolSize",f[1])})})}var LM=function(n){return n.get("autoCurveness")||null},XD=function(n,t){var e=LM(n),r=20,o=[];if("number"==typeof e)r=e;else if(dt(e))return void(n.__curvenessList=e);t>r&&(r=t);var i=r%2?r+2:r+3;o=[];for(var s=0;s<i;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));n.__curvenessList=o},qw=function(n,t,e){var r=[n.id,n.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[e.uid,r,o].join("--\x3e")},qD=function(n){var t=n.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},m2=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function v2(n,t,e,r){var o=LM(t),i=dt(o);if(!o)return null;var C,k,I,s=(I=qw((C=n).node1,C.node2,k=t),k.__edgeMap[I]);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===e){l=u;break}var d=function(C,k){return m2(qw(C.node1,C.node2,k),k)+m2(qw(C.node2,C.node1,k),k)}(n,t);XD(t,d),n.lineStyle=n.lineStyle||{};var f=qw(n.node1,n.node2,t),p=t.__curvenessList,v=i||d%2?0:1;if(s.isForward)return p[v+l];var y=qD(f),x=m2(y,t),S=p[l+x+v];return r?i?o&&0===o[0]?(x+v)%2?S:-S:((x%2?0:1)+v)%2?S:-S:(x+v)%2?S:-S:p[l+x+v]}function ZD(n){var t=n.coordinateSystem;if(!t||"view"===t.type){var e=n.getGraph();e.eachNode(function(r){var o=r.getModel();r.setLayout([+o.get("x"),+o.get("y")])}),KD(e,n)}}function KD(n,t){n.eachEdge(function(e,r){var o=Nt(e.getModel().get(["lineStyle","curveness"]),-v2(e,t,r,!0),0),i=Xo(e.node1.getLayout()),s=Xo(e.node2.getLayout()),l=[i,s];+o&&l.push([(i[0]+s[0])/2-(i[1]-s[1])*o,(i[1]+s[1])/2-(s[0]-i[0])*o]),e.setLayout(l)})}function QR(n,t){n.eachSeriesByType("graph",function(e){var r=e.get("layout"),o=e.coordinateSystem;if(o&&"view"!==o.type){var i=e.getData(),s=[];ue(o.dimensions,function(v){s=s.concat(i.mapDimensionsAll(v))});for(var l=0;l<i.count();l++){for(var u=[],d=!1,f=0;f<s.length;f++){var p=i.get(s[f],l);isNaN(p)||(d=!0),u.push(p)}i.setItemLayout(l,d?o.dataToPoint(u):[NaN,NaN])}KD(i.graph,e)}else r&&"none"!==r||ZD(e)})}function Zw(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var e=n.option.nodeScaleRatio,r=t.scaleX;return((t.getZoom()-1)*e+1)/r}function Kw(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var $D=Math.PI,y2=[];function JD(n,t){var e=n.coordinateSystem;if(!e||"view"===e.type){var r=e.getBoundingRect(),o=n.getData(),i=o.graph,s=r.width/2+r.x,l=r.height/2+r.y,u=Math.min(r.width,r.height)/2,d=o.count();o.setLayout({cx:s,cy:l}),d&&(eO[t](n,i,o,u,s,l,d),i.eachEdge(function(f,p){var v,y=Nt(f.getModel().get(["lineStyle","curveness"]),v2(f,n,p),0),x=Xo(f.node1.getLayout()),S=Xo(f.node2.getLayout());+y&&(v=[s*(y*=3)+(x[0]+S[0])/2*(1-y),l*y+(x[1]+S[1])/2*(1-y)]),f.setLayout([x,S,v])}))}}var eO={value:function(n,t,e,r,o,i,s){var l=0,u=e.getSum("value"),d=2*Math.PI/(u||s);t.eachNode(function(f){var p=f.getValue("value"),v=d*(u?p:1)/2;l+=v,f.setLayout([r*Math.cos(l)+o,r*Math.sin(l)+i]),l+=v})},symbolSize:function(n,t,e,r,o,i,s){var l=0;y2.length=s;var u=Zw(n);t.eachNode(function(p){var v=Kw(p);isNaN(v)&&(v=2),v<0&&(v=0),v*=u;var y=Math.asin(v/2/r);isNaN(y)&&(y=$D/2),y2[p.dataIndex]=y,l+=2*y});var d=(2*$D-l)/s/2,f=0;t.eachNode(function(p){var v=d+y2[p.dataIndex];f+=v,p.setLayout([r*Math.cos(f)+o,r*Math.sin(f)+i]),f+=v})}};function tO(n){n.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&JD(t,"symbolSize")})}var px=si;function nO(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var r=t.preservedPoints||{},o=t.getGraph(),i=o.data,s=o.edgeData,l=t.getModel("force"),u=l.get("initLayout");t.preservedPoints?i.each(function(R){var O=i.getId(R);i.setItemLayout(R,r[O]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&JD(t,"value"):ZD(t);var d=i.getDataExtent("value"),f=s.getDataExtent("value"),p=l.get("repulsion"),v=l.get("edgeLength"),y=dt(p)?p:[p,p],x=dt(v)?v:[v,v];x=[x[1],x[0]];var S=i.mapArray("value",function(R,O){var V=i.getItemLayout(O),F=$(R,d,y);return isNaN(F)&&(F=(y[0]+y[1])/2),{w:F,rep:F,fixed:i.getItemModel(O).get("fixed"),p:!V||isNaN(V[0])||isNaN(V[1])?null:V}}),C=s.mapArray("value",function(R,O){var V=o.getEdgeByIndex(O),F=$(R,f,x);isNaN(F)&&(F=(x[0]+x[1])/2);var Y=V.getModel(),Z=Nt(V.getModel().get(["lineStyle","curveness"]),-v2(V,t,O,!0),0);return{n1:S[V.node1.dataIndex],n2:S[V.node2.dataIndex],d:F,curveness:Z,ignoreForceLayout:Y.get("ignoreForceLayout")}}),k=e.getBoundingRect(),I=function(R,O,V){for(var F=R,Y=O,Z=V.rect,re=Z.width,ie=Z.height,ae=[Z.x+re/2,Z.y+ie/2],ce=null==V.gravity?.1:V.gravity,ve=0;ve<F.length;ve++){var be=F[ve];be.p||(be.p=De(re*(Math.random()-.5)+ae[0],ie*(Math.random()-.5)+ae[1])),be.pp=Xo(be.p),be.edges=null}var _e,Ce,Pe=null==V.friction?.6:V.friction,Le=Pe;return{warmUp:function(){Le=.8*Pe},setFixed:function(He){F[He].fixed=!0},setUnfixed:function(He){F[He].fixed=!1},beforeStep:function(He){_e=He},afterStep:function(He){Ce=He},step:function(He){_e&&_e(F,Y);for(var Je=[],vt=F.length,Ct=0;Ct<Y.length;Ct++){var on=Y[Ct];if(!on.ignoreForceLayout){var xt=on.n1;Da(Je,(cn=on.n2).p,xt.p);var Ft=Ts(Je)-on.d,vn=cn.w/(xt.w+cn.w);isNaN(vn)&&(vn=0),Bt(Je,Je),!xt.fixed&&px(xt.p,xt.p,Je,vn*Ft*Le),!cn.fixed&&px(cn.p,cn.p,Je,-(1-vn)*Ft*Le)}}for(Ct=0;Ct<vt;Ct++)(mr=F[Ct]).fixed||(Da(Je,ae,mr.p),px(mr.p,mr.p,Je,ce*Le));for(Ct=0;Ct<vt;Ct++){xt=F[Ct];for(var sn=Ct+1;sn<vt;sn++){var cn;Da(Je,(cn=F[sn]).p,xt.p),0===(Ft=Ts(Je))&&(ca(Je,Math.random()-.5,Math.random()-.5),Ft=1);var En=(xt.rep+cn.rep)/Ft/Ft;!xt.fixed&&px(xt.pp,xt.pp,Je,En),!cn.fixed&&px(cn.pp,cn.pp,Je,-En)}}var Bn=[];for(Ct=0;Ct<vt;Ct++){var mr;(mr=F[Ct]).fixed||(Da(Bn,mr.p,mr.pp),px(mr.p,mr.p,Bn,Le),hi(mr.pp,mr.p))}var Mr=(Le*=.992)<.01;Ce&&Ce(F,Y,Mr),He&&He(Mr)}}}(S,C,{rect:k,gravity:l.get("gravity"),friction:l.get("friction")});I.beforeStep(function(R,O){for(var V=0,F=R.length;V<F;V++)R[V].fixed&&hi(R[V].p,o.getNodeByIndex(V).getLayout())}),I.afterStep(function(R,O,V){for(var F=0,Y=R.length;F<Y;F++)R[F].fixed||o.getNodeByIndex(F).setLayout(R[F].p),r[i.getId(F)]=R[F].p;for(F=0,Y=O.length;F<Y;F++){var Z=O[F],re=o.getEdgeByIndex(F),ie=Z.n1.p,ae=Z.n2.p,ce=re.getLayout();(ce=ce?ce.slice():[])[0]=ce[0]||[],ce[1]=ce[1]||[],hi(ce[0],ie),hi(ce[1],ae),+Z.curveness&&(ce[2]=[(ie[0]+ae[0])/2-(ie[1]-ae[1])*Z.curveness,(ie[1]+ae[1])/2-(ae[0]-ie[0])*Z.curveness]),re.setLayout(ce)}}),t.forceLayout=I,t.preservedPoints=r,I.step()}else t.forceLayout=null})}function rO(n,t){var e=[];return n.eachSeriesByType("graph",function(r){var C,k,o=r.get("coordinateSystem");if(!o||"view"===o){var i=r.getData(),s=[],l=[];nd(i.mapArray(function(S){var C=i.getItemModel(S);return[+C.get("x"),+C.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),d=(C=t,k=u,va(tt(r.getBoxLayoutParams(),{aspect:k}),{width:C.getWidth(),height:C.getHeight()}));isNaN(u)&&(s=[d.x,d.y],l=[d.x+d.width,d.y+d.height]);var f=l[0]-s[0],p=l[1]-s[1],v=d.width,y=d.height,x=r.coordinateSystem=new hx;x.zoomLimit=r.get("scaleLimit"),x.setBoundingRect(s[0],s[1],f,p),x.setViewRect(d.x,d.y,v,y),x.setCenter(r.get("center")),x.setZoom(r.get("zoom")),e.push(x)}}),e}var QD=Hi.prototype,b2=Cp.prototype,eA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function x2(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){We(function t(){return null!==n&&n.apply(this,arguments)||this},n)}(eA);var oO=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-line",r}return We(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new eA},t.prototype.buildPath=function(e,r){x2(r)?QD.buildPath.call(this,e,r):b2.buildPath.call(this,e,r)},t.prototype.pointAt=function(e){return x2(this.shape)?QD.pointAt.call(this,e):b2.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var r=this.shape,o=x2(r)?[r.x2-r.x1,r.y2-r.y1]:b2.tangentAt.call(this,e);return Bt(o,o)},t}(Vr),_2=["fromSymbol","toSymbol"];function tA(n){return"_"+n+"Type"}function nA(n,t,e){var r=t.getItemVisual(e,n);if(r&&"none"!==r){var o=t.getItemVisual(e,n+"Size"),i=t.getItemVisual(e,n+"Rotate"),s=t.getItemVisual(e,n+"Offset"),l=t.getItemVisual(e,n+"KeepAspect"),u=Fv(o),d=rm(s||0,u),f=qi(r,-u[0]/2+d[0],-u[1]/2+d[1],u[0],u[1],null,l);return f.__specifiedRotation=null==i||isNaN(i)?void 0:+i*Math.PI/180||0,f.name=n,f}}function w2(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var S2=function(n){function t(e,r,o){var i=n.call(this)||this;return i._createLine(e,r,o),i}return We(t,n),t.prototype._createLine=function(e,r,o){var l,u,i=e.hostModel,s=(l=e.getItemLayout(r),w2((u=new oO({name:"line",subPixelOptimize:!0})).shape,l),u);s.shape.percent=0,ni(s,{shape:{percent:1}},i,r),this.add(s),ue(_2,function(l){var u=nA(l,e,r);this.add(u),this[tA(l)]=e.getItemVisual(r,l)},this),this._updateCommonStl(e,r,o)},t.prototype.updateData=function(e,r,o){var i=e.hostModel,s=this.childOfName("line"),l=e.getItemLayout(r),u={shape:{}};w2(u.shape,l),ro(s,u,i,r),ue(_2,function(d){var f=e.getItemVisual(r,d),p=tA(d);if(this[p]!==f){this.remove(this.childOfName(d));var v=nA(d,e,r);this.add(v)}this[p]=f},this),this._updateCommonStl(e,r,o)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,r,o){var i=e.hostModel,s=this.childOfName("line"),l=o&&o.emphasisLineStyle,u=o&&o.blurLineStyle,d=o&&o.selectLineStyle,f=o&&o.labelStatesModels;if(!o||e.hasItemOption){var p=e.getItemModel(r);l=p.getModel(["emphasis","lineStyle"]).getLineStyle(),u=p.getModel(["blur","lineStyle"]).getLineStyle(),d=p.getModel(["select","lineStyle"]).getLineStyle(),f=ma(p)}var v=e.getItemVisual(r,"style"),y=v.stroke;s.useStyle(v),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=l,s.ensureState("blur").style=u,s.ensureState("select").style=d,ue(_2,function(I){var R=this.childOfName(I);if(R){R.setColor(y),R.style.opacity=v.opacity;for(var O=0;O<bs.length;O++){var V=bs[O],F=s.getState(V);if(F){var Y=F.style||{},Z=R.ensureState(V),re=Z.style||(Z.style={});null!=Y.stroke&&(re[R.__isEmptyBrush?"stroke":"fill"]=Y.stroke),null!=Y.opacity&&(re.opacity=Y.opacity)}}R.markRedraw()}},this);var x=i.getRawValue(r);_s(this,f,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(I,R){return i.getFormattedLabel(I,R,e.dataType)}},inheritColor:y||"#000",defaultOpacity:v.opacity,defaultText:(null==x?e.getName(r):isFinite(x)?he(x):x)+""});var S=this.getTextContent();if(S){var C=f.normal;S.__align=S.style.align,S.__verticalAlign=S.style.verticalAlign,S.__position=C.get("position")||"middle";var k=C.get("distance");dt(k)||(k=[k,k]),S.__labelDistance=k}this.setTextConfig({position:null,local:!0,inside:!1}),Jo(this)},t.prototype.highlight=function(){Oa(this)},t.prototype.downplay=function(){Tl(this)},t.prototype.updateLayout=function(e,r){this.setLinePoints(e.getItemLayout(r))},t.prototype.setLinePoints=function(e){var r=this.childOfName("line");w2(r.shape,e),r.dirty()},t.prototype.beforeUpdate=function(){var e=this,r=e.childOfName("fromSymbol"),o=e.childOfName("toSymbol"),i=e.getTextContent();if(r||o||i&&!i.ignore){for(var s=1,l=this.parent;l;)l.scaleX&&(s/=l.scaleX),l=l.parent;var u=e.childOfName("line");if(this.__dirty||u.__dirty){var d=u.shape.percent,f=u.pointAt(0),p=u.pointAt(d),v=Da([],p,f);if(Bt(v,v),r&&(r.setPosition(f),re(r,0),r.scaleX=r.scaleY=s*d,r.markRedraw()),o&&(o.setPosition(p),re(o,1),o.scaleX=o.scaleY=s*d,o.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var y=void 0,x=void 0,S=i.__labelDistance,C=S[0]*s,k=S[1]*s,I=d/2,R=u.tangentAt(I),O=[R[1],-R[0]],V=u.pointAt(I);O[1]>0&&(O[0]=-O[0],O[1]=-O[1]);var F=R[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var Y=-Math.atan2(R[1],R[0]);p[0]<f[0]&&(Y=Math.PI+Y),i.rotation=Y}var Z=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Z=-k,x="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Z=k,x="top";break;default:Z=0,x="middle"}switch(i.__position){case"end":i.x=v[0]*C+p[0],i.y=v[1]*k+p[1],y=v[0]>.8?"left":v[0]<-.8?"right":"center",x=v[1]>.8?"top":v[1]<-.8?"bottom":"middle";break;case"start":i.x=-v[0]*C+f[0],i.y=-v[1]*k+f[1],y=v[0]>.8?"right":v[0]<-.8?"left":"center",x=v[1]>.8?"bottom":v[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=C*F+f[0],i.y=f[1]+Z,y=R[0]<0?"right":"left",i.originX=-C*F,i.originY=-Z;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=V[0],i.y=V[1]+Z,y="center",i.originY=-Z;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-C*F+p[0],i.y=p[1]+Z,y=R[0]>=0?"right":"left",i.originX=C*F,i.originY=-Z}i.scaleX=i.scaleY=s,i.setStyle({verticalAlign:i.__verticalAlign||x,align:i.__align||y})}}}function re(ie,ae){var ce=ie.__specifiedRotation;if(null==ce){var ve=u.tangentAt(ae);ie.attr("rotation",(1===ae?-1:1)*Math.PI/2-Math.atan2(ve[1],ve[0]))}else ie.attr("rotation",ce)}},t}(nr),C2=function(){function n(t){this.group=new nr,this._LineCtor=t||S2}return n.prototype.isPersistent=function(){return!0},n.prototype.updateData=function(t){var e=this,r=this,o=r.group,i=r._lineData;r._lineData=t,i||o.removeAll();var s=rA(t);t.diff(i).add(function(l){e._doAdd(t,l,s)}).update(function(l,u){e._doUpdate(i,t,u,l,s)}).remove(function(l){o.remove(i.getItemGraphicEl(l))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,r){e.updateLayout(t,r)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=rA(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){function r(s){var l;s.isGroup||(l=s).animators&&l.animators.length>0||(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++)if(M2(e.getItemLayout(o))){var i=new this._LineCtor(e,o,this._seriesScope);i.traverse(r),this.group.add(i),e.setItemGraphicEl(o,i)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype._doAdd=function(t,e,r){if(M2(t.getItemLayout(e))){var o=new this._LineCtor(t,e,r);t.setItemGraphicEl(e,o),this.group.add(o)}},n.prototype._doUpdate=function(t,e,r,o,i){var s=t.getItemGraphicEl(r);M2(e.getItemLayout(o))?(s?s.updateData(e,o,i):s=new this._LineCtor(e,o,i),e.setItemGraphicEl(o,s),this.group.add(s)):this.group.remove(s)},n}();function rA(n){var t=n.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:ma(t)}}function oA(n){return isNaN(n[0])||isNaN(n[1])}function M2(n){return!oA(n[0])&&!oA(n[1])}var T2=[],k2=[],D2=[],gx=Sa,A2=mt,iA=Math.abs;function aA(n,t,e){for(var r,o=n[0],i=n[1],s=n[2],l=1/0,u=e*e,d=.1,f=.1;f<=.9;f+=.1)T2[0]=gx(o[0],i[0],s[0],f),T2[1]=gx(o[1],i[1],s[1],f),(y=iA(A2(T2,t)-u))<l&&(l=y,r=f);for(var p=0;p<32;p++){var v=r+d;k2[0]=gx(o[0],i[0],s[0],r),k2[1]=gx(o[1],i[1],s[1],r),D2[0]=gx(o[0],i[0],s[0],v),D2[1]=gx(o[1],i[1],s[1],v);var y=A2(k2,t)-u;if(iA(y)<.01)break;var x=A2(D2,t)-u;d/=2,y<0?x>=0?r+=d:r-=d:x>=0?r-=d:r+=d}return r}function I2(n,t){var e=[],r=ih,o=[[],[],[]],i=[[],[]],s=[];t/=2,n.eachEdge(function(l,u){var d=l.getLayout(),f=l.getVisual("fromSymbol"),p=l.getVisual("toSymbol");d.__original||(d.__original=[Xo(d[0]),Xo(d[1])],d[2]&&d.__original.push(Xo(d[2])));var v=d.__original;if(null!=d[2]){if(hi(o[0],v[0]),hi(o[1],v[2]),hi(o[2],v[1]),f&&"none"!==f){var y=Kw(l.node1),x=aA(o,v[0],y*t);r(o[0][0],o[1][0],o[2][0],x,e),o[0][0]=e[3],o[1][0]=e[4],r(o[0][1],o[1][1],o[2][1],x,e),o[0][1]=e[3],o[1][1]=e[4]}p&&"none"!==p&&(y=Kw(l.node2),x=aA(o,v[1],y*t),r(o[0][0],o[1][0],o[2][0],x,e),o[1][0]=e[1],o[2][0]=e[2],r(o[0][1],o[1][1],o[2][1],x,e),o[1][1]=e[1],o[2][1]=e[2]),hi(d[0],o[0]),hi(d[1],o[2]),hi(d[2],o[1])}else hi(i[0],v[0]),hi(i[1],v[1]),Da(s,i[1],i[0]),Bt(s,s),f&&"none"!==f&&(y=Kw(l.node1),si(i[0],i[0],s,y*t)),p&&"none"!==p&&(y=Kw(l.node2),si(i[1],i[1],s,-y*t)),hi(d[0],i[0]),hi(d[1],i[1])})}function sA(n){return"view"===n.type}var iO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e,r){var o=new Dd,i=new C2,s=this.group;this._controller=new Lt(r.getZr()),this._controllerHost={target:s},s.add(o.group),s.add(i.group),this._symbolDraw=o,this._lineDraw=i,this._firstRender=!0},t.prototype.render=function(e,r,o){var i=this,s=e.coordinateSystem;this._model=e;var l=this._symbolDraw,u=this._lineDraw,d=this.group;if(sA(s)){var f={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?d.attr(f):ro(d,f,e)}I2(e.getGraph(),Zw(e));var p=e.getData();l.updateData(p);var v=e.getEdgeData();u.updateData(v),this._updateNodeAndLinkScale(),this._updateController(e,r,o),clearTimeout(this._layoutTimeout);var y=e.forceLayout,x=e.get(["force","layoutAnimation"]);y&&this._startForceLayoutIteration(y,x),p.graph.eachNode(function(I){var R=I.dataIndex,O=I.getGraphicEl(),V=I.getModel();O.off("drag").off("dragend");var F=V.get("draggable");F&&O.on("drag",function(){y&&(y.warmUp(),!i._layouting&&i._startForceLayoutIteration(y,x),y.setFixed(R),p.setItemLayout(R,[O.x,O.y]))}).on("dragend",function(){y&&y.setUnfixed(R)}),O.setDraggable(F&&!!y),"adjacency"===V.get(["emphasis","focus"])&&(br(O).focus=I.getAdjacentDataIndices())}),p.graph.eachEdge(function(I){var R=I.getGraphicEl();"adjacency"===I.getModel().get(["emphasis","focus"])&&(br(R).focus={edge:[I.dataIndex],node:[I.node1.dataIndex,I.node2.dataIndex]})});var S="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),C=p.getLayout("cx"),k=p.getLayout("cy");p.eachItemGraphicEl(function(I,R){var O=p.getItemModel(R).get(["label","rotate"])||0,V=I.getSymbolPath();if(S){var F=p.getItemLayout(R),Y=Math.atan2(F[1]-k,F[0]-C);Y<0&&(Y=2*Math.PI+Y);var Z=F[0]<C;Z&&(Y-=Math.PI);var re=Z?"left":"right";V.setTextConfig({rotation:-Y,position:re,origin:"center"});var ie=V.ensureState("emphasis");tt(ie.textConfig||(ie.textConfig={}),{position:re})}else V.setTextConfig({rotation:O*=Math.PI/180})}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,r){var o=this;!function i(){e.step(function(s){o.updateLayout(o._model),(o._layouting=!s)&&(r?o._layoutTimeout=setTimeout(i,16):i())})}()},t.prototype._updateController=function(e,r,o){var i=this,s=this._controller,l=this._controllerHost,u=this.group;s.setPointerChecker(function(d,f,p){var v=u.getBoundingRect();return v.applyTransform(u.transform),v.contain(f,p)&&!io(d,o,e)}),sA(e.coordinateSystem)?(s.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(d){Mo(l,d.dx,d.dy),o.dispatchAction({seriesId:e.id,type:"graphRoam",dx:d.dx,dy:d.dy})}).on("zoom",function(d){mo(l,d.scale,d.originX,d.originY),o.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),i._updateNodeAndLinkScale(),I2(e.getGraph(),Zw(e)),i._lineDraw.updateLayout(),o.updateLabelLayout()})):s.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,r=e.getData(),o=Zw(e);r.eachItemGraphicEl(function(i,s){i.setSymbolScale(o)})},t.prototype.updateLayout=function(e){I2(e.getGraph(),Zw(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(zo);function mx(n){return"_EC_"+n}var aO=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){var r=this._nodesMap;if(!r[mx(t=null==t?""+e:""+t)]){var o=new T1(t,e);return o.hostGraph=this,this.nodes.push(o),r[mx(t)]=o,o}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[mx(t)]},n.prototype.addEdge=function(t,e,r){var o=this._nodesMap,i=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof T1||(t=o[mx(t)]),e instanceof T1||(e=o[mx(e)]),t&&e){var s=t.id+"-"+e.id,l=new lA(t,e,r);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),i[s]=l,l}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof T1&&(t=t.id),e instanceof T1&&(e=e.id);var r=this._edgesMap;return this._directed?r[t+"-"+e]:r[t+"-"+e]||r[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var r=this.nodes,o=r.length,i=0;i<o;i++)r[i].dataIndex>=0&&t.call(e,r[i],i)},n.prototype.eachEdge=function(t,e){for(var r=this.edges,o=r.length,i=0;i<o;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&t.call(e,r[i],i)},n.prototype.breadthFirstTraverse=function(t,e,r,o){if(e instanceof T1||(e=this._nodesMap[mx(e)]),e){for(var i="out"===r?"outEdges":"in"===r?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(o,e,null))for(var l=[e];l.length;){var u=l.shift(),d=u[i];for(s=0;s<d.length;s++){var f=d[s],p=f.node1===u?f.node2:f.node1;if(!p.__visited){if(t.call(o,p,u))return;l.push(p),p.__visited=!0}}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,r=this.nodes,o=this.edges,i=0,s=r.length;i<s;i++)r[i].dataIndex=-1;for(i=0,s=t.count();i<s;i++)r[t.getRawIndex(i)].dataIndex=i;for(e.filterSelf(function(l){var u=o[e.getRawIndex(l)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0}),i=0,s=o.length;i<s;i++)o[i].dataIndex=-1;for(i=0,s=e.count();i<s;i++)o[e.getRawIndex(i)].dataIndex=i},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,r=this.edges,o=0;o<e.length;o++)t.addNode(e[o].id,e[o].dataIndex);for(o=0;o<r.length;o++){var i=r[o];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},n}(),T1=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var r=this.edges[e];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},n}(),lA=function(){function n(t,e,r){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==r?-1:r}return n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function uA(n,t){return{getValue:function(e){var r=this[n][t];return r.getStore().get(r.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,r){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,r)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,r){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,r)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}function cA(n,t,e,r,o){for(var i=new aO(r),s=0;s<n.length;s++)i.addNode(ut(n[s].id,n[s].name,s),s);var l=[],u=[],d=0;for(s=0;s<t.length;s++){var f=t[s],p=f.source,v=f.target;i.addEdge(p,v,d)&&(u.push(f),l.push(ut(ia(f.id,null),p+" > "+v)),d++)}var y,x=e.get("coordinateSystem");if("cartesian2d"===x||"polar"===x)y=Td(n,e);else{var S=de.get(x),C=S&&S.dimensions||[];hn(C,"value")<0&&C.concat(["value"]);var k=cm(n,{coordDimensions:C,encodeDefine:e.getEncode()}).dimensions;(y=new ba(k,e)).initData(n)}var I=new ba(["value"],e);return I.initData(u,l),o&&o(y,I),TD({mainData:y,struct:i,structAttr:"graph",datas:{node:y,edge:I},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}Kn(T1,uA("hostGraph","data")),Kn(lA,uA("hostGraph","edgeData"));var sO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return We(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var r=this;function o(){return r._categoriesData}this.legendVisualProvider=new x1(o,o),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),oa(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,r){var o,i=e.edges||e.links||[],s=e.data||e.nodes||[],l=this;if(s&&i){LM(o=this)&&(o.__curvenessList=[],o.__edgeMap={},XD(o));var u=cA(s,i,this,!0,function(d,f){d.wrapMethod("getItemModel",function(x){var S=l._categoriesModels[x.getShallow("category")];return S&&(S.parentModel=x.parentModel,x.parentModel=S),x});var p=uo.prototype.getModel;function v(x,S){var C=p.call(this,x,S);return C.resolveParentPath=y,C}function y(x){if(x&&("label"===x[0]||"label"===x[1])){var S=x.slice();return"label"===x[0]?S[0]="edgeLabel":"label"===x[1]&&(S[1]="edgeLabel"),S}return x}f.wrapMethod("getItemModel",function(x){return x.resolveParentPath=y,x.getModel=v,x})});return ue(u.edges,function(d){!function(f,p,v,y){if(LM(v)){var x=qw(f,p,v),S=v.__edgeMap,C=S[qD(x)];S[x]&&!C?S[x].isForward=!0:C&&S[x]&&(C.isForward=!0,S[x].isForward=!1),S[x]=S[x]||[],S[x].push(y)}}(d.node1,d.node2,this,d.dataIndex)},this),u.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,r,o){if("edge"===o){var i=this.getData(),s=this.getDataParams(e,o),l=i.graph.getEdgeByIndex(e),u=i.getName(l.node1.dataIndex),d=i.getName(l.node2.dataIndex),f=[];return null!=u&&f.push(u),null!=d&&f.push(d),cs("nameValue",{name:f.join(" > "),value:s.value,noValue:null==s.value})}return Zx({series:this,dataIndex:e,multipleSeries:r})},t.prototype._updateCategoriesData=function(){var e=Ht(this.option.categories||[],function(o){return null!=o.value?o:tt({value:0},o)}),r=new ba(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(o){return r.getItemModel(o)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Qo),lO={type:"graphRoam",event:"graphRoam",update:"none"},uO=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},cO=function(n){function t(e){var r=n.call(this,e)||this;return r.type="pointer",r}return We(t,n),t.prototype.getDefaultShape=function(){return new uO},t.prototype.buildPath=function(e,r){var o=Math.cos,i=Math.sin,s=r.r,l=r.width,u=r.angle,d=r.x-o(u)*l*(l>=s/3?1:2),f=r.y-i(u)*l*(l>=s/3?1:2);u=r.angle-Math.PI/2,e.moveTo(d,f),e.lineTo(r.x+o(u)*l,r.y+i(u)*l),e.lineTo(r.x+o(r.angle)*s,r.y+i(r.angle)*s),e.lineTo(r.x-o(u)*l,r.y-i(u)*l),e.lineTo(d,f)},t}(Vr);function RM(n,t){var e=null==n?"":n+"";return t&&("string"==typeof t?e=t.replace("{value}",e):"function"==typeof t&&(e=t(n))),e}var P2=2*Math.PI,dO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){this.group.removeAll();var l,u,d,f,p,v,i=e.get(["axisLine","lineStyle","color"]),s=(u=o,d=(l=e).get("center"),f=u.getWidth(),p=u.getHeight(),v=Math.min(f,p),{cx:ee(d[0],u.getWidth()),cy:ee(d[1],u.getHeight()),r:ee(l.get("radius"),v/2)});this._renderMain(e,r,o,i,s),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,r,o,i,s){for(var l=this.group,u=e.get("clockwise"),d=-e.get("startAngle")/180*Math.PI,f=-e.get("endAngle")/180*Math.PI,p=e.getModel("axisLine"),v=p.get("roundCap")?_y:Oo,y=p.get("show"),x=p.getModel("lineStyle"),S=x.get("width"),C=(f-d)%P2||f===d?(f-d)%P2:P2,k=d,I=0;y&&I<i.length;I++){var R=new v({shape:{startAngle:k,endAngle:f=d+C*Math.min(Math.max(i[I][0],0),1),cx:s.cx,cy:s.cy,clockwise:u,r0:s.r-S,r:s.r},silent:!0});R.setStyle({fill:i[I][1]}),R.setStyle(x.getLineStyle(["color","width"])),l.add(R),k=f}var O=function(F){if(F<=0)return i[0][1];var Y;for(Y=0;Y<i.length;Y++)if(i[Y][0]>=F&&(0===Y?0:i[Y-1][0])<F)return i[Y][1];return i[Y-1][1]};if(!u){var V=d;d=f,f=V}this._renderTicks(e,r,o,O,s,d,f,u,S),this._renderTitleAndDetail(e,r,o,O,s),this._renderAnchor(e,s),this._renderPointer(e,r,o,O,s,d,f,u,S)},t.prototype._renderTicks=function(e,r,o,i,s,l,u,d,f){for(var p,v,y=this.group,x=s.cx,S=s.cy,C=s.r,k=+e.get("min"),I=+e.get("max"),R=e.getModel("splitLine"),O=e.getModel("axisTick"),V=e.getModel("axisLabel"),F=e.get("splitNumber"),Y=O.get("splitNumber"),Z=ee(R.get("length"),C),re=ee(O.get("length"),C),ie=l,ae=(u-l)/F,ce=ae/Y,ve=R.getModel("lineStyle").getLineStyle(),be=O.getModel("lineStyle").getLineStyle(),_e=R.get("distance"),Ce=0;Ce<=F;Ce++){if(p=Math.cos(ie),v=Math.sin(ie),R.get("show")){var Pe=new Hi({shape:{x1:p*(C-(Le=_e?_e+f:f))+x,y1:v*(C-Le)+S,x2:p*(C-Z-Le)+x,y2:v*(C-Z-Le)+S},style:ve,silent:!0});"auto"===ve.stroke&&Pe.setStyle({stroke:i(Ce/F)}),y.add(Pe)}if(V.get("show")){var Le=V.get("distance")+_e,He=RM(he(Ce/F*(I-k)+k),V.get("formatter")),Je=i(Ce/F);y.add(new Xr({style:Ri(V,{text:He,x:p*(C-Z-Le)+x,y:v*(C-Z-Le)+S,verticalAlign:v<-.8?"top":v>.8?"bottom":"middle",align:p<-.4?"left":p>.4?"right":"center"},{inheritColor:Je}),silent:!0}))}if(O.get("show")&&Ce!==F){Le=(Le=O.get("distance"))?Le+f:f;for(var vt=0;vt<=Y;vt++){p=Math.cos(ie),v=Math.sin(ie);var Ct=new Hi({shape:{x1:p*(C-Le)+x,y1:v*(C-Le)+S,x2:p*(C-re-Le)+x,y2:v*(C-re-Le)+S},silent:!0,style:be});"auto"===be.stroke&&Ct.setStyle({stroke:i((Ce+vt/Y)/F)}),y.add(Ct),ie+=ce}ie-=ce}else ie+=ae}},t.prototype._renderPointer=function(e,r,o,i,s,l,u,d,f){var p=this.group,v=this._data,y=this._progressEls,x=[],S=e.get(["pointer","show"]),C=e.getModel("progress"),k=C.get("show"),I=e.getData(),R=I.mapDimension("value"),O=+e.get("min"),V=+e.get("max"),F=[O,V],Y=[l,u];function Z(ie,ae){var ce,ve=I.getItemModel(ie).getModel("pointer"),be=ee(ve.get("width"),s.r),_e=ee(ve.get("length"),s.r),Ce=e.get(["pointer","icon"]),Pe=ve.get("offsetCenter"),Le=ee(Pe[0],s.r),He=ee(Pe[1],s.r),Je=ve.get("keepAspect");return(ce=Ce?qi(Ce,Le-be/2,He-_e,be,_e,null,Je):new cO({shape:{angle:-Math.PI/2,width:be,r:_e,x:Le,y:He}})).rotation=-(ae+Math.PI/2),ce.x=s.cx,ce.y=s.cy,ce}function re(ie,ae){var ce=C.get("roundCap")?_y:Oo,ve=C.get("overlap"),be=ve?C.get("width"):f/I.count(),Pe=new ce({shape:{startAngle:l,endAngle:ae,cx:s.cx,cy:s.cy,clockwise:d,r0:ve?s.r-be:s.r-(ie+1)*be,r:ve?s.r:s.r-ie*be}});return ve&&(Pe.z2=V-I.get(R,ie)%V),Pe}(k||S)&&(I.diff(v).add(function(ie){if(S){var ae=Z(ie,l);ni(ae,{rotation:-($(I.get(R,ie),F,Y,!0)+Math.PI/2)},e),p.add(ae),I.setItemGraphicEl(ie,ae)}if(k){var ce=re(ie,l),ve=C.get("clip");ni(ce,{shape:{endAngle:$(I.get(R,ie),F,Y,ve)}},e),p.add(ce),fp(e.seriesIndex,I.dataType,ie,ce),x[ie]=ce}}).update(function(ie,ae){if(S){var ce=v.getItemGraphicEl(ae),ve=ce?ce.rotation:l,be=Z(ie,ve);be.rotation=ve,ro(be,{rotation:-($(I.get(R,ie),F,Y,!0)+Math.PI/2)},e),p.add(be),I.setItemGraphicEl(ie,be)}if(k){var _e=y[ae],Ce=re(ie,_e?_e.shape.endAngle:l),Pe=C.get("clip");ro(Ce,{shape:{endAngle:$(I.get(R,ie),F,Y,Pe)}},e),p.add(Ce),fp(e.seriesIndex,I.dataType,ie,Ce),x[ie]=Ce}}).execute(),I.each(function(ie){var ae=I.getItemModel(ie),ce=ae.getModel("emphasis");if(S){var ve=I.getItemGraphicEl(ie),be=I.getItemVisual(ie,"style"),_e=be.fill;if(ve instanceof Yi){var Ce=ve.style;ve.useStyle(tt({image:Ce.image,x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height},be))}else ve.useStyle(be),"pointer"!==ve.type&&ve.setColor(_e);ve.setStyle(ae.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===ve.style.fill&&ve.setStyle("fill",i($(I.get(R,ie),F,[0,1],!0))),ve.z2EmphasisLift=0,as(ve,ae),Jo(ve,ce.get("focus"),ce.get("blurScope"))}if(k){var Pe=x[ie];Pe.useStyle(I.getItemVisual(ie,"style")),Pe.setStyle(ae.getModel(["progress","itemStyle"]).getItemStyle()),Pe.z2EmphasisLift=0,as(Pe,ae),Jo(Pe,ce.get("focus"),ce.get("blurScope"))}}),this._progressEls=x)},t.prototype._renderAnchor=function(e,r){var o=e.getModel("anchor");if(o.get("show")){var i=o.get("size"),s=o.get("icon"),l=o.get("offsetCenter"),u=o.get("keepAspect"),d=qi(s,r.cx-i/2+ee(l[0],r.r),r.cy-i/2+ee(l[1],r.r),i,i,null,u);d.z2=o.get("showAbove")?1:0,d.setStyle(o.getModel("itemStyle").getItemStyle()),this.group.add(d)}},t.prototype._renderTitleAndDetail=function(e,r,o,i,s){var l=this,u=e.getData(),d=u.mapDimension("value"),f=+e.get("min"),p=+e.get("max"),v=new nr,y=[],x=[],S=e.isAnimationEnabled(),C=e.get(["pointer","showAbove"]);u.diff(this._data).add(function(k){y[k]=new Xr({silent:!0}),x[k]=new Xr({silent:!0})}).update(function(k,I){y[k]=l._titleEls[I],x[k]=l._detailEls[I]}).execute(),u.each(function(k){var I=u.getItemModel(k),R=u.get(d,k),O=new nr,V=i($(R,[f,p],[0,1],!0)),F=I.getModel("title");if(F.get("show")){var Y=F.get("offsetCenter"),Z=s.cx+ee(Y[0],s.r),re=s.cy+ee(Y[1],s.r);(Pe=y[k]).attr({z2:C?0:2,style:Ri(F,{x:Z,y:re,text:u.getName(k),align:"center",verticalAlign:"middle"},{inheritColor:V})}),O.add(Pe)}var ie=I.getModel("detail");if(ie.get("show")){var ae=ie.get("offsetCenter"),ce=s.cx+ee(ae[0],s.r),ve=s.cy+ee(ae[1],s.r),be=ee(ie.get("width"),s.r),_e=ee(ie.get("height"),s.r),Ce=e.get(["progress","show"])?u.getItemVisual(k,"style").fill:V,Pe=x[k],Le=ie.get("formatter");Pe.attr({z2:C?0:2,style:Ri(ie,{x:ce,y:ve,text:RM(R,Le),width:isNaN(be)?null:be,height:isNaN(_e)?null:_e,align:"center",verticalAlign:"middle"},{inheritColor:Ce})}),lf(Pe,{normal:ie},R,function(He){return RM(He,Le)}),S&&rc(Pe,k,u,e,{getFormattedLabel:function(He,Je,vt,Ct,on,xt){return RM(xt?xt.interpolatedValue:R,Le)}}),O.add(Pe)}v.add(O)}),this.group.add(v),this._titleEls=y,this._detailEls=x},t.type="gauge",t}(zo),fO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return We(t,n),t.prototype.getInitialData=function(e,r){return qh(this,["value"])},t.type="series.gauge",t.defaultOption={zlevel:0,z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Qo),hO=["itemStyle","opacity"],pO=function(n){function t(e,r){var o=n.call(this)||this,i=o,s=new xs,l=new Xr;return i.setTextContent(l),o.setTextGuideLine(s),o.updateData(e,r,!0),o}return We(t,n),t.prototype.updateData=function(e,r,o){var i=this,s=e.hostModel,l=e.getItemModel(r),u=e.getItemLayout(r),d=l.getModel("emphasis"),f=l.get(hO);f=null==f?1:f,o||xu(i),i.useStyle(e.getItemVisual(r,"style")),i.style.lineJoin="round",o?(i.setShape({points:u.points}),i.style.opacity=0,ni(i,{style:{opacity:f}},s,r)):ro(i,{style:{opacity:f},shape:{points:u.points}},s,r),as(i,l),this._updateLabel(e,r),Jo(this,d.get("focus"),d.get("blurScope"))},t.prototype._updateLabel=function(e,r){var o=this,i=this.getTextGuideLine(),s=o.getTextContent(),l=e.hostModel,u=e.getItemModel(r),d=e.getItemLayout(r).label,f=e.getItemVisual(r,"style"),p=f.fill;_s(s,ma(u),{labelFetcher:e.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:e.getName(r)},{normal:{align:d.textAlign,verticalAlign:d.verticalAlign}}),o.setTextConfig({local:!0,inside:!!d.inside,insideStroke:p,outsideFill:p});var v=d.linePoints;i.setShape({points:v}),o.textGuideLineConfig={anchor:v?new dr(v[0][0],v[0][1]):null},ro(s,{style:{x:d.x,y:d.y}},l,r),s.attr({rotation:d.rotation,originX:d.x,originY:d.y,z2:10}),pw(o,jb(u),{stroke:p})},t}(Ea),gO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return We(t,n),t.prototype.render=function(e,r,o){var i=e.getData(),s=this._data,l=this.group;i.diff(s).add(function(u){var d=new pO(i,u);i.setItemGraphicEl(u,d),l.add(d)}).update(function(u,d){var f=s.getItemGraphicEl(d);f.updateData(i,u),l.add(f),i.setItemGraphicEl(u,f)}).remove(function(u){kp(s.getItemGraphicEl(u),e,u)}).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(zo),mO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new x1(xn(this.getData,this),xn(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,r){return qh(this,{coordDimensions:["value"],encodeDefaulter:Yn(Fp,this)})},t.prototype._defaultLabelLine=function(e){oa(e,"labelLine",["show"]);var r=e.labelLine,o=e.emphasis.labelLine;r.show=r.show&&e.label.show,o.show=o.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var r=this.getData(),o=n.prototype.getDataParams.call(this,e),i=r.mapDimension("value"),s=r.getSum(i);return o.percent=s?+(r.get(i,e)/s*100).toFixed(2):0,o.$vars.push("percent"),o},t.type="series.funnel",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Qo);function vO(n,t){n.eachSeriesByType("funnel",function(e){var be,r=e.getData(),o=r.mapDimension("value"),i=e.get("sort"),s=(be=t,va(e.getBoxLayoutParams(),{width:be.getWidth(),height:be.getHeight()})),l=e.get("orient"),u=s.width,d=s.height,f=function(ve,be){for(var _e=ve.mapDimension("value"),Ce=ve.mapArray(_e,function(vt){return vt}),Pe=[],Le="ascending"===be,He=0,Je=ve.count();He<Je;He++)Pe[He]=He;return"function"==typeof be?Pe.sort(be):"none"!==be&&Pe.sort(function(vt,Ct){return Le?Ce[vt]-Ce[Ct]:Ce[Ct]-Ce[vt]}),Pe}(r,i),p=s.x,v=s.y,y="horizontal"===l?[ee(e.get("minSize"),d),ee(e.get("maxSize"),d)]:[ee(e.get("minSize"),u),ee(e.get("maxSize"),u)],x=r.getDataExtent(o),S=e.get("min"),C=e.get("max");null==S&&(S=Math.min(x[0],0)),null==C&&(C=x[1]);var k=e.get("funnelAlign"),I=e.get("gap"),R=(("horizontal"===l?u:d)-I*(r.count()-1))/r.count(),O=function(ve,be){if("horizontal"===l){var _e=$(r.get(o,ve)||0,[S,C],y,!0),Ce=void 0;switch(k){case"top":Ce=v;break;case"center":Ce=v+(d-_e)/2;break;case"bottom":Ce=v+(d-_e)}return[[be,Ce],[be,Ce+_e]]}var Pe,Le=$(r.get(o,ve)||0,[S,C],y,!0);switch(k){case"left":Pe=p;break;case"center":Pe=p+(u-Le)/2;break;case"right":Pe=p+u-Le}return[[Pe,be],[Pe+Le,be]]};"ascending"===i&&(R=-R,I=-I,"horizontal"===l?p+=u:v+=d,f=f.reverse());for(var V=0;V<f.length;V++){var F=f[V],Y=f[V+1],Z=r.getItemModel(F);if("horizontal"===l){var re=Z.get(["itemStyle","width"]);null==re?re=R:(re=ee(re,u),"ascending"===i&&(re=-re));var ie=O(F,p),ae=O(Y,p+re);p+=re+I,r.setItemLayout(F,{points:ie.concat(ae.slice().reverse())})}else{var ce=Z.get(["itemStyle","height"]);null==ce?ce=R:(ce=ee(ce,d),"ascending"===i&&(ce=-ce)),ie=O(F,v),ae=O(Y,v+ce),v+=ce+I,r.setItemLayout(F,{points:ie.concat(ae.slice().reverse())})}}!function(ve){var be=ve.hostModel.get("orient");ve.each(function(_e){var Ce,Pe,Le,He,Je=ve.getItemModel(_e),vt=Je.getModel("label").get("position"),Ct=Je.getModel("labelLine"),on=ve.getItemLayout(_e),xt=on.points,Ft="inner"===vt||"inside"===vt||"center"===vt||"insideLeft"===vt||"insideRight"===vt;if(Ft)"insideLeft"===vt?(Pe=(xt[0][0]+xt[3][0])/2+5,Le=(xt[0][1]+xt[3][1])/2,Ce="left"):"insideRight"===vt?(Pe=(xt[1][0]+xt[2][0])/2-5,Le=(xt[1][1]+xt[2][1])/2,Ce="right"):(Pe=(xt[0][0]+xt[1][0]+xt[2][0]+xt[3][0])/4,Le=(xt[0][1]+xt[1][1]+xt[2][1]+xt[3][1])/4,Ce="center"),He=[[Pe,Le],[Pe,Le]];else{var vn=void 0,sn=void 0,cn=void 0,En=void 0,Bn=Ct.get("length");"left"===vt?(sn=(xt[3][1]+xt[0][1])/2,Pe=(cn=(vn=(xt[3][0]+xt[0][0])/2)-Bn)-5,Ce="right"):"right"===vt?(sn=(xt[1][1]+xt[2][1])/2,Pe=(cn=(vn=(xt[1][0]+xt[2][0])/2)+Bn)+5,Ce="left"):"top"===vt?(vn=(xt[3][0]+xt[0][0])/2,Le=(En=(sn=(xt[3][1]+xt[0][1])/2)-Bn)-5,Ce="center"):"bottom"===vt?(vn=(xt[1][0]+xt[2][0])/2,Le=(En=(sn=(xt[1][1]+xt[2][1])/2)+Bn)+5,Ce="center"):"rightTop"===vt?(vn="horizontal"===be?xt[3][0]:xt[1][0],sn="horizontal"===be?xt[3][1]:xt[1][1],"horizontal"===be?(Le=(En=sn-Bn)-5,Ce="center"):(Pe=(cn=vn+Bn)+5,Ce="top")):"rightBottom"===vt?(vn=xt[2][0],sn=xt[2][1],"horizontal"===be?(Le=(En=sn+Bn)+5,Ce="center"):(Pe=(cn=vn+Bn)+5,Ce="bottom")):"leftTop"===vt?(vn=xt[0][0],sn="horizontal"===be?xt[0][1]:xt[1][1],"horizontal"===be?(Le=(En=sn-Bn)-5,Ce="center"):(Pe=(cn=vn-Bn)-5,Ce="right")):"leftBottom"===vt?(vn="horizontal"===be?xt[1][0]:xt[3][0],sn="horizontal"===be?xt[1][1]:xt[2][1],"horizontal"===be?(Le=(En=sn+Bn)+5,Ce="center"):(Pe=(cn=vn-Bn)-5,Ce="right")):(vn=(xt[1][0]+xt[2][0])/2,sn=(xt[1][1]+xt[2][1])/2,"horizontal"===be?(Le=(En=sn+Bn)+5,Ce="center"):(Pe=(cn=vn+Bn)+5,Ce="left")),"horizontal"===be?Pe=cn=vn:Le=En=sn,He=[[vn,sn],[cn,En]]}on.label={linePoints:He,x:Pe,y:Le,verticalAlign:"middle",textAlign:Ce,inside:Ft}})}(r)})}var yO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new nr,e._initialized=!1,e}return We(t,n),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,r,o,i){var y,x,C,k,I,R,s=this._dataGroup,l=e.getData(),u=this._data,d=e.coordinateSystem,f=d.dimensions,p=hA(e);if(l.diff(u).add(function(y){L2(fA(l,s,y,f,d),l,y,p)}).update(function(y,x){var S=u.getItemGraphicEl(x),C=dA(l,y,f,d);l.setItemGraphicEl(y,S),ro(S,{shape:{points:C}},e,y),xu(S),L2(S,l,y,p)}).remove(function(y){var x=u.getItemGraphicEl(y);s.remove(x)}).execute(),!this._initialized){this._initialized=!0;var v=(x=e,C=(y=d).model,k=y.getRect(),I=new eo({shape:{x:k.x,y:k.y,width:k.width,height:k.height}}),R="horizontal"===C.get("layout")?"width":"height",I.setShape(R,0),ni(I,{shape:{width:k.width,height:k.height}},x,function(){setTimeout(function(){s.removeClipPath()})}),I);s.setClipPath(v)}this._data=l},t.prototype.incrementalPrepareRender=function(e,r,o){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,r,o){for(var i=r.getData(),s=r.coordinateSystem,l=s.dimensions,u=hA(r),d=e.start;d<e.end;d++){var f=fA(i,this._dataGroup,d,l,s);f.incremental=!0,L2(f,i,d,u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(zo);function dA(n,t,e,r){for(var o,i=[],s=0;s<e.length;s++){var l=e[s],u=n.get(n.mapDimension(l),t);o=u,("category"===r.getAxis(l).type?null==o:null==o||isNaN(o))||i.push(r.dataToPoint(u,l))}return i}function fA(n,t,e,r,o){var i=dA(n,e,r,o),s=new xs({shape:{points:i},z2:10});return t.add(s),n.setItemGraphicEl(e,s),s}function hA(n){var t=n.get("smooth",!0);return!0===t&&(t=.3),Dt(t=zr(t))&&(t=0),{smooth:t}}function L2(n,t,e,r){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var o=t.getItemModel(e),i=o.getModel("emphasis");as(n,o,"lineStyle"),Jo(n,i.get("focus"),i.get("blurScope"))}var bO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return We(t,n),t.prototype.getInitialData=function(e,r){return Td(null,this,{useEncodeDefaulter:xn(xO,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var r=this.coordinateSystem,o=this.getData(),i=[];return r.eachActiveState(o,function(s,l){e===s&&i.push(o.getRawIndex(l))}),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Qo);function xO(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(t){var e={};return ue(t.dimensions,function(r){var o=+r.replace("dim","");e[r]=o}),e}}var _O=["lineStyle","opacity"],wO={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(o,i){e.eachActiveState(i,function(s,l){var u=r[s];if("normal"===s&&i.hasItemOption){var d=i.getItemModel(l).get(_O,!0);null!=d&&(u=d)}i.ensureUniqueItemVisual(l,"style").opacity=u},o.start,o.end)}}}};function SO(n){(function(t){if(!t.parallel){var e=!1;ue(t.series,function(r){r&&"parallel"===r.type&&(e=!0)}),e&&(t.parallel=[{}])}})(n),function(t){ue(no(t.parallelAxis),function(e){if(zn(e)){var r=e.parallelIndex||0,o=no(t.parallel)[r];o&&o.parallelAxisDefault&&en(e,o.parallelAxisDefault,!1)}})}(n)}var CO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){this._model=e,this._api=o,this._handlers||(this._handlers={},ue(MO,function(i,s){o.getZr().on(s,this._handlers[s]=xn(i,this))},this)),tm(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,r){ue(this._handlers,function(o,i){r.getZr().off(i,o)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(tt({type:"parallelAxisExpand"},e))},t.type="parallel",t}(xi),MO={mousedown:function(n){R2(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(R2(this,"click")&&t){var e=[n.offsetX,n.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&R2(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=e.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function R2(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var TO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&en(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,r){var o=e.get("parallelIndex");return null!=o&&r.getComponent("parallel",o)===this},t.prototype.setAxisExpand=function(e){ue(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){e.hasOwnProperty(r)&&(this.option[r]=e[r])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],r=this.parallelAxisIndex=[];ue(Un(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this),function(o){e.push("dim"+o.get("dim")),r.push(o.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Hr),kO=function(n){function t(e,r,o,i,s){var l=n.call(this,e,r,o)||this;return l.type=i||"value",l.axisIndex=s,l}return We(t,n),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(hc);function k1(n,t,e,r,o,i){n=n||0;var s=e[1]-e[0];if(null!=o&&(o=vx(o,[0,s])),null!=i&&(i=Math.max(i,null!=o?o:0)),"all"===r){var l=Math.abs(t[1]-t[0]);l=vx(l,[0,s]),o=i=vx(l,[o,i]),r=0}t[0]=vx(t[0],e),t[1]=vx(t[1],e);var u=O2(t,r);t[r]+=n;var d,f=o||0,p=e.slice();return u.sign<0?p[0]+=f:p[1]-=f,t[r]=vx(t[r],p),d=O2(t,r),null!=o&&(d.sign!==u.sign||d.span<o)&&(t[1-r]=t[r]+u.sign*o),d=O2(t,r),null!=i&&d.span>i&&(t[1-r]=t[r]+d.sign*i),t}function O2(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function vx(n,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,n))}var N2=ue,pA=Math.min,gA=Math.max,mA=Math.floor,DO=Math.ceil,vA=he,AO=Math.PI,IO=function(){function n(t,e,r){this.type="parallel",this._axesMap=bn(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,r)}return n.prototype._init=function(t,e,r){var i=t.parallelAxisIndex;N2(t.dimensions,function(s,l){var u=i[l],d=e.getComponent("parallelAxis",u),f=this._axesMap.set(s,new kO(s,hm(d),[0,0],d.get("type"),u));f.onBand="category"===f.type&&d.get("boundaryGap"),f.inverse=d.get("inverse"),d.axis=f,f.model=d,f.coordinateSystem=d.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),r=e.axisBase,o=e.layoutBase,i=e.pixelDimIndex,s=t[1-i],l=t[i];return s>=r&&s<=r+e.axisLength&&l>=o&&l<=o+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(r){if(t.contains(r,e)){var o=r.getData();N2(this.dimensions,function(i){var s=this._axesMap.get(i);s.scale.unionExtentFromData(o,o.mapDimension(i)),kd(s.scale,s.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=va(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var t,e=this._model,r=this._rect,o=["x","y"],i=["width","height"],s=e.get("layout"),l="horizontal"===s?0:1,u=r[i[l]],d=[0,u],f=this.dimensions.length,p=OM(e.get("axisExpandWidth"),d),v=OM(e.get("axisExpandCount")||0,[0,f]),y=e.get("axisExpandable")&&f>3&&f>v&&v>1&&p>0&&u>0,x=e.get("axisExpandWindow");x?(t=OM(x[1]-x[0],d),x[1]=x[0]+t):(t=OM(p*(v-1),d),(x=[p*(e.get("axisExpandCenter")||mA(f/2))-t/2])[1]=x[0]+t);var S=(u-t)/(f-v);S<3&&(S=0);var C=[mA(vA(x[0]/p,1))+1,DO(vA(x[1]/p,1))-1];return{layout:s,pixelDimIndex:l,layoutBase:r[o[l]],layoutLength:u,axisBase:r[o[1-l]],axisLength:r[i[1-l]],axisExpandable:y,axisExpandWidth:p,axisCollapseWidth:S,axisExpandWindow:x,axisCount:f,winInnerIndices:C,axisExpandWindow0Pos:S/p*x[0]}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,r=this.dimensions,o=this._makeLayoutInfo(),i=o.layout;e.each(function(s){var l=[0,o.axisLength],u=s.inverse?1:0;s.setExtent(l[u],l[1-u])}),N2(r,function(s,l){var u=(o.axisExpandable?LO:PO)(l,o),d={horizontal:{x:u.position,y:o.axisLength},vertical:{x:0,y:u.position}},p=[d[i].x+t.x,d[i].y+t.y],v={horizontal:AO/2,vertical:0}[i],y=[1,0,0,1,0,0];Po(y,y,v),Ns(y,y,p),this._axesLayout[s]={position:p,rotation:v,transform:y,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,r,o){null==r&&(r=0),null==o&&(o=t.count());var i=this._axesMap,s=this.dimensions,l=[],u=[];ue(s,function(S){l.push(t.mapDimension(S)),u.push(i.get(S).model)});for(var d=this.hasAxisBrushed(),f=r;f<o;f++){var p=void 0;if(d){p="active";for(var v=t.getValues(l,f),y=0,x=s.length;y<x;y++)if("inactive"===u[y].getActiveState(v[y])){p="inactive";break}}else p="normal";e(p,f)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,r=!1,o=0,i=t.length;o<i;o++)"normal"!==e.get(t[o]).model.getActiveState()&&(r=!0);return r},n.prototype.axisCoordToPoint=function(t,e){return Zl([t,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(t){return Qt(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),r=e.pixelDimIndex,o=e.axisExpandWindow.slice(),i=o[1]-o[0],s=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:o};var l,u=t[r]-e.layoutBase-e.axisExpandWindow0Pos,d="slide",f=e.axisCollapseWidth,p=this._model.get("axisExpandSlideTriggerArea"),v=null!=p[0];if(f)v&&f&&u<i*p[0]?(d="jump",l=u-i*p[2]):v&&f&&u>i*(1-p[0])?(d="jump",l=u-i*(1-p[2])):(l=u-i*p[1])>=0&&(l=u-i*(1-p[1]))<=0&&(l=0),(l*=e.axisExpandWidth/f)?k1(l,o,s,"all"):d="none";else{var y=o[1]-o[0];(o=[gA(0,s[1]*u/y-y/2)])[1]=pA(s[1],o[0]+y),o[0]=o[1]-y}return{axisExpandWindow:o,behavior:d}},n}();function OM(n,t){return pA(gA(n,t[0]),t[1])}function PO(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function LO(n,t){var e,r,i=t.axisExpandWidth,l=t.axisCollapseWidth,u=t.winInnerIndices,d=l,f=!1;return n<u[0]?(e=n*l,r=l):n<=u[1]?(e=t.axisExpandWindow0Pos+n*i-t.axisExpandWindow[0],d=i,f=!0):(e=t.layoutLength-(t.axisCount-1-n)*l,r=l),{position:e,axisNameAvailableWidth:d,axisLabelShow:f,nameTruncateMaxWidth:r}}var RO={create:function(n,t){var e=[];return n.eachComponent("parallel",function(r,o){var i=new IO(r,n,t);i.name="parallel_"+o,i.resize(r,t),r.coordinateSystem=i,i.model=r,e.push(i)}),n.eachSeries(function(r){if("parallel"===r.get("coordinateSystem")){var o=r.getReferringComponents("parallel",Fi).models[0];r.coordinateSystem=o.coordinateSystem}}),e}},E2=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return We(t,n),t.prototype.getAreaSelectStyle=function(){return ll([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var r=this.activeIntervals=Qt(e);if(r)for(var o=r.length-1;o>=0;o--)ye(r[o])},t.prototype.getActiveState=function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===r.length){var o=r[0];if(o[0]<=e&&e<=o[1])return"active"}else for(var i=0,s=r.length;i<s;i++)if(r[i][0]<=e&&e<=r[i][1])return"active";return"inactive"},t}(Hr);Kn(E2,pm);var D1=!0,$w=Math.min,yx=Math.max,OO=Math.pow,NO={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},EO={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},bA={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},BO=0,B2=function(n){function t(e){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new nr,r._uid="brushController_"+BO++,ue(VO,function(o,i){this._handlers[i]=xn(o,this)},r),r}return We(t,n),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var s,r=this._zr;this._enableGlobalPan||(s=this._uid,Ot(r).globalPan=s),ue(this._handlers,function(o,i){r.on(i,o)}),this._brushType=e.brushType,this._brushOption=en(Qt(bA),e,!0)},t.prototype._doDisableBrush=function(){var o,i,s,e=this._zr;o="globalPan",i=this._uid,(s=Ot(e))[o]===i&&(s[o]=null),ue(this._handlers,function(r,o){e.off(o,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};ue(e,function(o){r[o.panelId]=Qt(o)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Ht(e,function(d){return en(Qt(bA),d,!0)});var r=this._covers,o=this._covers=[],i=this,s=this._creatingCover;return new Rf(r,e,function(d,f){return l(d.__brushOption,f)},l).add(u).update(u).remove(function(d){r[d]!==s&&i.group.remove(r[d])}).execute(),this;function l(d,f){return(null!=d.id?d.id:"\0-brush-index-"+f)+"-"+d.brushType}function u(d,f){var p=e[d];if(null!=f&&r[f]===s)o[d]=r[f];else{var v=o[d]=null!=f?(r[f].__brushOption=p,r[f]):_A(i,xA(i,p));z2(i,v)}}},t.prototype.unmount=function(){return this.enableBrush(!1),H2(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Vt);function xA(n,t){var e=NM[t.brushType].createCover(n,t);return e.__brushOption=t,SA(e,t),n.group.add(e),e}function _A(n,t){var e=V2(t);return e.endCreating&&(e.endCreating(n,t),SA(t,t.__brushOption)),t}function wA(n,t){var e=t.__brushOption;V2(t).updateCoverShape(n,t,e.range,e)}function SA(n,t){var e=t.z;null==e&&(e=1e4),n.traverse(function(r){r.z=e,r.z2=e})}function z2(n,t){V2(t).updateCommon(n,t),wA(n,t)}function V2(n){return NM[n.__brushOption.brushType]}function F2(n,t,e){var r,o=n._panels;if(!o)return D1;var i=n._transform;return ue(o,function(s){s.isTargetByCursor(t,e,i)&&(r=s)}),r}function CA(n,t){var e=n._panels;if(!e)return D1;var r=t.__brushOption.panelId;return null!=r?e[r]:D1}function H2(n){var t=n._covers,e=t.length;return ue(t,function(r){n.group.remove(r)},n),t.length=0,!!e}function A1(n,t){var e=Ht(n._covers,function(r){var o=r.__brushOption,i=Qt(o.range);return{brushType:o.brushType,panelId:o.panelId,range:i}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function MA(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function TA(n,t,e,r){var o=new nr;return o.add(new eo({name:"main",style:G2(e),silent:!0,draggable:!0,cursor:"move",drift:Yn(AA,n,t,o,["n","s","w","e"]),ondragend:Yn(A1,t,{isEnd:!0})})),ue(r,function(i){o.add(new eo({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Yn(AA,n,t,o,i),ondragend:Yn(A1,t,{isEnd:!0})}))}),o}function kA(n,t,e,r){var o=r.brushStyle.lineWidth||0,i=yx(o,6),s=e[0][0],l=e[1][0],u=s-o/2,d=l-o/2,f=e[0][1],p=e[1][1],v=f-i+o/2,y=p-i+o/2,x=f-s,S=p-l,C=x+o,k=S+o;Sm(n,t,"main",s,l,x,S),r.transformable&&(Sm(n,t,"w",u,d,i,k),Sm(n,t,"e",v,d,i,k),Sm(n,t,"n",u,d,C,i),Sm(n,t,"s",u,y,C,i),Sm(n,t,"nw",u,d,i,i),Sm(n,t,"ne",v,d,i,i),Sm(n,t,"sw",u,y,i,i),Sm(n,t,"se",v,y,i,i))}function W2(n,t){var e=t.__brushOption,r=e.transformable,o=t.childAt(0);o.useStyle(G2(e)),o.attr({silent:!r,cursor:r?"move":"default"}),ue([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var u,d,f,s=t.childOfName(i.join("")),l=1===i.length?U2(n,i[0]):(("e"===(f=[U2(u=n,(d=i)[0]),U2(u,d[1])])[0]||"w"===f[0])&&f.reverse(),f.join(""));s&&s.attr({silent:!r,invisible:!r,cursor:r?EO[l]+"-resize":null})})}function Sm(n,t,e,r,o,i,s){var u,d,f,l=t.childOfName(e);l&&l.setShape((u=j2(n,t,[[r,o],[r+i,o+s]]),{x:d=$w(u[0][0],u[1][0]),y:f=$w(u[0][1],u[1][1]),width:yx(u[0][0],u[1][0])-d,height:yx(u[0][1],u[1][1])-f}))}function G2(n){return Gt({strokeNoScale:!0},n.brushStyle)}function DA(n,t,e,r){var o=[$w(n,e),$w(t,r)],i=[yx(n,e),yx(t,r)];return[[o[0],i[0]],[o[1],i[1]]]}function U2(n,t){return{left:"w",right:"e",top:"n",bottom:"s"}[xh({w:"left",e:"right",n:"top",s:"bottom"}[t],(e=n,Lc(e.group)))];var e}function AA(n,t,e,r,o,i){var s=e.__brushOption,l=n.toRectRange(s.range),u=IA(t,o,i);ue(r,function(d){var f=NO[d];l[f[0]][f[1]]+=u[f[0]]}),s.range=n.fromRectRange(DA(l[0][0],l[1][0],l[0][1],l[1][1])),z2(t,e),A1(t,{isEnd:!1})}function zO(n,t,e,r){var o=t.__brushOption.range,i=IA(n,e,r);ue(o,function(s){s[0]+=i[0],s[1]+=i[1]}),z2(n,t),A1(n,{isEnd:!1})}function IA(n,t,e){var r=n.group,o=r.transformCoordToLocal(t,e),i=r.transformCoordToLocal(0,0);return[o[0]-i[0],o[1]-i[1]]}function j2(n,t,e){var r=CA(n,t);return r&&r!==D1?r.clipPath(e,n._transform):Qt(e)}function Y2(n){var t=n.event;t.preventDefault&&t.preventDefault()}function X2(n,t,e){return n.childOfName("main").contain(t,e)}function PA(n,t,e,r){var o,i=n._creatingCover,s=n._creatingPanel,l=n._brushOption;if(n._track.push(e.slice()),function(f){var p=f._track;if(!p.length)return!1;var v=p[p.length-1],y=p[0],x=v[0]-y[0],S=v[1]-y[1];return OO(x*x+S*S,.5)>6}(n)||i){if(s&&!i){"single"===l.brushMode&&H2(n);var u=Qt(l);u.brushType=LA(u.brushType,s),u.panelId=s===D1?null:s.panelId,i=n._creatingCover=xA(n,u),n._covers.push(i)}if(i){var d=NM[LA(n._brushType,s)];i.__brushOption.range=d.getCreatingRange(j2(n,i,n._track)),r&&(_A(n,i),d.updateCommon(n,i)),wA(n,i),o={isEnd:r}}}else r&&"single"===l.brushMode&&l.removeOnClick&&F2(n,t,e)&&H2(n)&&(o={isEnd:r,removeOnClick:!0});return o}function LA(n,t){return"auto"===n?t.defaultBrushType:n}var VO={mousedown:function(n){if(this._dragging)RA(this,n);else if(!n.target||!n.target.draggable){Y2(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=F2(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var r=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(i,s,l){if(i._brushType&&(S=s.offsetY,C=i._zr,!((x=s.offsetX)<0||x>C.getWidth()||S<0||S>C.getHeight()))){var u=i._zr,d=i._covers,f=F2(i,s,l);if(!i._dragging)for(var p=0;p<d.length;p++){var v=d[p].__brushOption;if(f&&(f===D1||v.panelId===f.panelId)&&NM[v.brushType].contain(d[p],l[0],l[1]))return}f&&u.setCursorStyle("crosshair")}var x,S,C}(this,n,r),this._dragging){Y2(n);var o=PA(this,n,r,!1);o&&A1(this,o)}},mouseup:function(n){RA(this,n)}};function RA(n,t){if(n._dragging){Y2(t);var o=n.group.transformCoordToLocal(t.offsetX,t.offsetY),i=PA(n,t,o,!0);n._dragging=!1,n._track=[],n._creatingCover=null,i&&A1(n,i)}}var NM={lineX:OA(0),lineY:OA(1),rect:{createCover:function(n,t){function e(r){return r}return TA({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=MA(n);return DA(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,r){kA(n,t,e,r)},updateCommon:W2,contain:X2},polygon:{createCover:function(n,t){var e=new nr;return e.add(new xs({name:"main",style:G2(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new Ea({name:"main",draggable:!0,drift:Yn(zO,n,t),ondragend:Yn(A1,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,r){t.childAt(0).setShape({points:j2(n,t,e)})},updateCommon:W2,contain:X2}};function OA(n){return{createCover:function(t,e){return TA({toRectRange:function(r){var o=[r,[0,100]];return n&&o.reverse(),o},fromRectRange:function(r){return r[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=MA(t);return[$w(e[0][n],e[1][n]),yx(e[0][n],e[1][n])]},updateCoverShape:function(t,e,r,o){var i,s=CA(t,e);if(s!==D1&&s.getLinearBrushOtherExtent)i=s.getLinearBrushOtherExtent(n);else{var l=t._zr;i=[0,[l.getWidth(),l.getHeight()][1-n]]}var u=[r,i];n&&u.reverse(),kA(t,e,u,o)},updateCommon:W2,contain:X2}}function NA(n){return n=q2(n),function(t){return t0(t,n)}}function EA(n,t){return n=q2(n),function(e){var r=null!=t?t:e,i=r?n.x:n.y;return[i,i+((r?n.width:n.height)||0)]}}function BA(n,t,e){var r=q2(n);return function(o,i){return r.contain(i[0],i[1])&&!io(o,t,e)}}function q2(n){return Lr.create(n)}var FO=["axisLine","axisTickLabel","axisName"],HO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e,r){n.prototype.init.apply(this,arguments),(this._brushController=new B2(r.getZr())).on("brush",xn(this._onBrush,this))},t.prototype.render=function(e,r,o,i){if(x=e,!(C=i)||"axisAreaSelect"!==C.type||r.findComponents({mainType:"parallelAxis",query:C})[0]!==x){this.axisModel=e,this.api=o,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new nr,this.group.add(this._axisGroup),e.get("show")){var l=function(x,S){return S.getComponent("parallel",x.get("parallelIndex"))}(e,r),u=l.coordinateSystem,d=e.getAreaSelectStyle(),f=d.width,v=tt({strokeContainThreshold:f},u.getAxisLayout(e.axis.dim)),y=new B(e,v);ue(FO,y.add,y),this._axisGroup.add(y.getGroup()),this._refreshBrushController(v,d,e,l,f,o),sf(s,this._axisGroup,e)}}var x,C},t.prototype._refreshBrushController=function(e,r,o,i,s,l){var v,y,u=o.axis.getExtent(),d=u[1]-u[0],f=Math.min(30,.1*Math.abs(d)),p=Lr.create({x:u[0],y:-s/2,width:d,height:s});p.x-=f,p.width+=2*f,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:NA(p),isTargetByCursor:BA(p,l,i),getLinearBrushOtherExtent:EA(p,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers((y=(v=o).axis,Ht(v.activeIntervals,function(x){return{brushType:"lineX",panelId:"pl",range:[y.dataToCoord(x[0],!0),y.dataToCoord(x[1],!0)]}})))},t.prototype._onBrush=function(e){var o=this.axisModel,i=o.axis,s=Ht(e.areas,function(l){return[i.coordToData(l.range[0],!0),i.coordToData(l.range[1],!0)]});(!o.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:o.id,intervals:s})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(xi),WO={type:"axisAreaSelect",event:"axisAreaSelected"},GO={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function zA(n){n.registerComponentView(CO),n.registerComponentModel(TO),n.registerCoordinateSystem("parallel",RO),n.registerPreprocessor(SO),n.registerComponentModel(E2),n.registerComponentView(HO),Dy(n,"parallel",E2,GO),function(t){t.registerAction(WO,function(e,r){r.eachComponent({mainType:"parallelAxis",query:e},function(o){o.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,r){r.eachComponent({mainType:"parallel",query:e},function(o){o.setAxisExpand(e)})})}(n)}var UO=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},jO=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultShape=function(){return new UO},t.prototype.buildPath=function(e,r){var o=r.extent;e.moveTo(r.x1,r.y1),e.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),"vertical"===r.orient?(e.lineTo(r.x2+o,r.y2),e.bezierCurveTo(r.cpx2+o,r.cpy2,r.cpx1+o,r.cpy1,r.x1+o,r.y1)):(e.lineTo(r.x2,r.y2+o),e.bezierCurveTo(r.cpx2,r.cpy2+o,r.cpx1,r.cpy1+o,r.x1,r.y1+o)),e.closePath()},t.prototype.highlight=function(){Oa(this)},t.prototype.downplay=function(){Tl(this)},t}(Vr),YO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return We(t,n),t.prototype.render=function(e,r,o){var x,S,k,i=this,s=e.getGraph(),l=this.group,u=e.layoutInfo,d=u.width,f=u.height,p=e.getData(),v=e.getData("edge"),y=e.get("orient");this._model=e,l.removeAll(),l.x=u.x,l.y=u.y,s.eachEdge(function(x){var S=new jO,C=br(S);C.dataIndex=x.dataIndex,C.seriesIndex=e.seriesIndex,C.dataType="edge";var k,I,R,O,V,F,Y,Z,re=x.getModel(),ie=re.getModel("lineStyle"),ae=ie.get("curveness"),ce=x.node1.getLayout(),ve=x.node1.getModel(),be=ve.get("localX"),_e=ve.get("localY"),Ce=x.node2.getLayout(),Pe=x.node2.getModel(),Le=Pe.get("localX"),He=Pe.get("localY"),Je=x.getLayout();switch(S.shape.extent=Math.max(1,Je.dy),S.shape.orient=y,"vertical"===y?(V=k=(null!=be?be*d:ce.x)+Je.sy,F=(I=(null!=_e?_e*f:ce.y)+ce.dy)*(1-ae)+(O=null!=He?He*f:Ce.y)*ae,Y=R=(null!=Le?Le*d:Ce.x)+Je.ty,Z=I*ae+O*(1-ae)):(V=(k=(null!=be?be*d:ce.x)+ce.dx)*(1-ae)+(R=null!=Le?Le*d:Ce.x)*ae,F=I=(null!=_e?_e*f:ce.y)+Je.sy,Y=k*ae+R*(1-ae),Z=O=(null!=He?He*f:Ce.y)+Je.ty),S.setShape({x1:k,y1:I,x2:R,y2:O,cpx1:V,cpy1:F,cpx2:Y,cpy2:Z}),S.useStyle(ie.getItemStyle()),S.style.fill){case"source":S.style.fill=x.node1.getVisual("color"),S.style.decal=x.node1.getVisual("style").decal;break;case"target":S.style.fill=x.node2.getVisual("color"),S.style.decal=x.node2.getVisual("style").decal;break;case"gradient":var vt=x.node1.getVisual("color"),Ct=x.node2.getVisual("color");"string"==typeof vt&&"string"==typeof Ct&&(S.style.fill=new Mp(0,0,+("horizontal"===y),+("vertical"===y),[{color:vt,offset:0},{color:Ct,offset:1}]))}var on=re.getModel("emphasis");as(S,re,"lineStyle",function(Ft){return Ft.getItemStyle()}),l.add(S),v.setItemGraphicEl(x.dataIndex,S);var xt=on.get("focus");Jo(S,"adjacency"===xt?x.getAdjacentDataIndices():xt,on.get("blurScope")),br(S).dataType="edge"}),s.eachNode(function(x){var S=x.getLayout(),C=x.getModel(),k=C.get("localX"),I=C.get("localY"),R=C.getModel("emphasis"),O=new eo({shape:{x:null!=k?k*d:S.x,y:null!=I?I*f:S.y,width:S.dx,height:S.dy},style:C.getModel("itemStyle").getItemStyle(),z2:10});_s(O,ma(C),{labelFetcher:e,labelDataIndex:x.dataIndex,defaultText:x.id}),O.disableLabelAnimation=!0,O.setStyle("fill",x.getVisual("color")),O.setStyle("decal",x.getVisual("style").decal),as(O,C),l.add(O),p.setItemGraphicEl(x.dataIndex,O),br(O).dataType="node";var V=R.get("focus");Jo(O,"adjacency"===V?x.getAdjacentDataIndices():V,R.get("blurScope"))}),p.eachItemGraphicEl(function(x,S){p.getItemModel(S).get("draggable")&&(x.drift=function(C,k){i._focusAdjacencyDisabled=!0,this.shape.x+=C,this.shape.y+=k,this.dirty(),o.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:p.getRawIndex(S),localX:this.shape.x/d,localY:this.shape.y/f})},x.ondragend=function(){i._focusAdjacencyDisabled=!1},x.draggable=!0,x.cursor="move")}),!this._data&&e.isAnimationEnabled()&&l.setClipPath((x=l.getBoundingRect(),S=e,ni(k=new eo({shape:{x:x.x-10,y:x.y-10,width:0,height:x.height+20}}),{shape:{width:x.width+20}},S,function(){l.removeClipPath()}),k)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(zo),XO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.getInitialData=function(e,r){var o=e.edges||e.links,i=e.data||e.nodes,s=e.levels;this.levelModels=[];for(var l=this.levelModels,u=0;u<s.length;u++)null!=s[u].depth&&s[u].depth>=0&&(l[s[u].depth]=new uo(s[u],this,r));if(i&&o)return cA(i,o,this,!0,function(d,f){d.wrapMethod("getItemModel",function(p,v){var y=p.parentModel,x=y.getData().getItemLayout(v);if(x){var C=y.levelModels[x.depth];C&&(p.parentModel=C)}return p}),f.wrapMethod("getItemModel",function(p,v){var y=p.parentModel,x=y.getGraph().getEdgeByIndex(v).node1.getLayout();if(x){var C=y.levelModels[x.depth];C&&(p.parentModel=C)}return p})}).data},t.prototype.setNodePosition=function(e,r){var o=(this.option.data||this.option.nodes)[e];o.localX=r[0],o.localY=r[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,r,o){function i(p){return isNaN(p)||null==p}if("edge"===o){var s=this.getDataParams(e,o),l=s.data,u=s.value;return cs("nameValue",{name:l.source+" -- "+l.target,value:u,noValue:i(u)})}var d=this.getGraph().getNodeByIndex(e).getLayout().value,f=this.getDataParams(e,o).data.name;return cs("nameValue",{name:null!=f?f+"":null,value:d,noValue:i(d)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,r){var o=n.prototype.getDataParams.call(this,e,r);if(null==o.value&&"node"===r){var i=this.getGraph().getNodeByIndex(e).getLayout().value;o.value=i}return o},t.type="series.sankey",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Qo);function qO(n,t){n.eachSeriesByType("sankey",function(e){var v,r=e.get("nodeWidth"),o=e.get("nodeGap"),i=(v=t,va(e.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()}));e.layoutInfo=i;var s=i.width,l=i.height,u=e.getGraph(),d=u.nodes,f=u.edges;ue(d,function(v){var y=Py(v.outEdges,EM),x=Py(v.inEdges,EM),S=v.getValue()||0,C=Math.max(y,x,S);v.setLayout({value:C},!0)}),function(p,v,y,x,S,C,k,I,R){var O,F;(function(O,V,F,Y,Z,re,ie){for(var ae=[],ce=[],ve=[],be=[],_e=0,Ce=0;Ce<V.length;Ce++)ae[Ce]=1;for(Ce=0;Ce<O.length;Ce++)ce[Ce]=O[Ce].inEdges.length,0===ce[Ce]&&ve.push(O[Ce]);for(var Pe=-1;ve.length;){for(var Le=0;Le<ve.length;Le++){var He=ve[Le],Je=He.hostGraph.data.getRawDataItem(He.dataIndex),vt=null!=Je.depth&&Je.depth>=0;vt&&Je.depth>Pe&&(Pe=Je.depth),He.setLayout({depth:vt?Je.depth:_e},!0),He.setLayout("vertical"===re?{dy:F}:{dx:F},!0);for(var Ct=0;Ct<He.outEdges.length;Ct++){var on=He.outEdges[Ct];ae[V.indexOf(on)]=0;var xt=on.node2;0==--ce[O.indexOf(xt)]&&be.indexOf(xt)<0&&be.push(xt)}}++_e,ve=be,be=[]}for(Ce=0;Ce<ae.length;Ce++)if(1===ae[Ce])throw new Error("Sankey is a DAG, the original data has cycle!");var sn,cn,Ft=Pe>_e-1?Pe:_e-1;ie&&"left"!==ie&&function(vn,sn,cn,En){if("right"===sn){for(var Bn=[],mr=vn,Mr=0;mr.length;){for(var Ar=0;Ar<mr.length;Ar++){var la=mr[Ar];la.setLayout({skNodeHeight:Mr},!0);for(var Ji=0;Ji<la.inEdges.length;Ji++){var To=la.inEdges[Ji];Bn.indexOf(To.node1)<0&&Bn.push(To.node1)}}mr=Bn,Bn=[],++Mr}ue(vn,function(_o){VA(_o)||_o.setLayout({depth:Math.max(0,En-_o.getLayout().skNodeHeight)},!0)})}else"justify"===sn&&(_a=En,ue(vn,function(Ni){VA(Ni)||Ni.outEdges.length||Ni.setLayout({depth:_a},!0)}));var _a}(O,ie,0,Ft),sn="vertical"===re?(Z-F)/Ft:(Y-F)/Ft,cn=re,ue(O,function(En){var Bn=En.getLayout().depth*sn;En.setLayout("vertical"===cn?{y:Bn}:{x:Bn},!0)})})(p,v,y,S,C,I,R),function(O,V,F,Y,Z,re,ie){var _e,Ce,Pe,ae=(_e=[],Ce="vertical"===ie?"y":"x",(Pe=$f(O,function(Le){return Le.getLayout()[Ce]})).keys.sort(function(Le,He){return Le-He}),ue(Pe.keys,function(Le){_e.push(Pe.buckets.get(Le))}),_e);(function(ve,be,_e,Ce,Pe,Le){var He=1/0;ue(ve,function(Je){var vt=Je.length,Ct=0;ue(Je,function(xt){Ct+=xt.getLayout().value});var on="vertical"===Le?(Ce-(vt-1)*Pe)/Ct:(_e-(vt-1)*Pe)/Ct;on<He&&(He=on)}),ue(ve,function(Je){ue(Je,function(vt,Ct){var on=vt.getLayout().value*He;"vertical"===Le?(vt.setLayout({x:Ct},!0),vt.setLayout({dx:on},!0)):(vt.setLayout({y:Ct},!0),vt.setLayout({dy:on},!0))})}),ue(be,function(Je){var vt=+Je.getValue()*He;Je.setLayout({dy:vt},!0)})})(ae,V,F,Y,Z,ie),Z2(ae,Z,F,Y,ie);for(var ce=1;re>0;re--)ZO(ae,ce*=.99,ie),Z2(ae,Z,F,Y,ie),eN(ae,ce,ie),Z2(ae,Z,F,Y,ie)}(p,v,C,S,x,k,I),F="vertical"===I?"x":"y",ue(O=p,function(Y){Y.outEdges.sort(function(Z,re){return Z.node2.getLayout()[F]-re.node2.getLayout()[F]}),Y.inEdges.sort(function(Z,re){return Z.node1.getLayout()[F]-re.node1.getLayout()[F]})}),ue(O,function(Y){var Z=0,re=0;ue(Y.outEdges,function(ie){ie.setLayout({sy:Z},!0),Z+=ie.getLayout().dy}),ue(Y.inEdges,function(ie){ie.setLayout({ty:re},!0),re+=ie.getLayout().dy})})}(d,f,r,o,s,l,0!==Un(d,function(p){return 0===p.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function VA(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=t.depth&&t.depth>=0}function Z2(n,t,e,r,o){var i="vertical"===o?"x":"y";ue(n,function(s){var l,u,d;s.sort(function(x,S){return x.getLayout()[i]-S.getLayout()[i]});for(var f=0,p=s.length,v="vertical"===o?"dx":"dy",y=0;y<p;y++)(d=f-(u=s[y]).getLayout()[i])>0&&(l=u.getLayout()[i]+d,u.setLayout("vertical"===o?{x:l}:{y:l},!0)),f=u.getLayout()[i]+u.getLayout()[v]+t;if((d=f-t-("vertical"===o?r:e))>0)for(l=u.getLayout()[i]-d,u.setLayout("vertical"===o?{x:l}:{y:l},!0),f=l,y=p-2;y>=0;--y)(d=(u=s[y]).getLayout()[i]+u.getLayout()[v]+t-f)>0&&(l=u.getLayout()[i]-d,u.setLayout("vertical"===o?{x:l}:{y:l},!0)),f=u.getLayout()[i]})}function ZO(n,t,e){ue(n.slice().reverse(),function(r){ue(r,function(o){if(o.outEdges.length){var i=Py(o.outEdges,KO,e)/Py(o.outEdges,EM);if(isNaN(i)){var s=o.outEdges.length;i=s?Py(o.outEdges,$O,e)/s:0}if("vertical"===e){var l=o.getLayout().x+(i-Iy(o,e))*t;o.setLayout({x:l},!0)}else{var u=o.getLayout().y+(i-Iy(o,e))*t;o.setLayout({y:u},!0)}}})})}function KO(n,t){return Iy(n.node2,t)*n.getValue()}function $O(n,t){return Iy(n.node2,t)}function JO(n,t){return Iy(n.node1,t)*n.getValue()}function QO(n,t){return Iy(n.node1,t)}function Iy(n,t){return"vertical"===t?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function EM(n){return n.getValue()}function Py(n,t,e){for(var r=0,o=n.length,i=-1;++i<o;){var s=+t(n[i],e);isNaN(s)||(r+=s)}return r}function eN(n,t,e){ue(n,function(r){ue(r,function(o){if(o.inEdges.length){var i=Py(o.inEdges,JO,e)/Py(o.inEdges,EM);if(isNaN(i)){var s=o.inEdges.length;i=s?Py(o.inEdges,QO,e)/s:0}if("vertical"===e){var l=o.getLayout().x+(i-Iy(o,e))*t;o.setLayout({x:l},!0)}else{var u=o.getLayout().y+(i-Iy(o,e))*t;o.setLayout({y:u},!0)}}})})}function tN(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var r=1/0,o=-1/0;ue(e,function(i){var s=i.getLayout().value;s<r&&(r=s),s>o&&(o=s)}),ue(e,function(i){var s=new gl({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:t.get("color")}).mapValueToVisual(i.getLayout().value),l=i.getModel().get(["itemStyle","color"]);null!=l?(i.setVisual("color",l),i.setVisual("style",{fill:l})):(i.setVisual("color",s),i.setVisual("style",{fill:s}))})}})}var FA=function(){function n(){}return n.prototype.getInitialData=function(t,e){var r,o,i=e.getComponent("xAxis",this.get("xAxisIndex")),s=e.getComponent("yAxis",this.get("yAxisIndex")),l=i.get("type"),u=s.get("type");"category"===l?(t.layout="horizontal",r=i.getOrdinalMeta(),o=!0):"category"===u?(t.layout="vertical",r=s.getOrdinalMeta(),o=!0):t.layout=t.layout||"horizontal";var d=["x","y"],f="horizontal"===t.layout?0:1,p=this._baseAxisDim=d[f],v=d[1-f],y=[i,s],x=y[f].get("type"),S=y[1-f].get("type"),C=t.data;if(C&&o){var k=[];ue(C,function(O,V){var F;dt(O)?(F=O.slice(),O.unshift(V)):dt(O.value)?((F=tt({},O)).value=F.value.slice(),O.value.unshift(V)):F=O,k.push(F)}),t.data=k}var I=this.defaultValueDimensions,R=[{name:p,type:q0(x),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:v,type:q0(S),dimsDef:I.slice()}];return qh(this,{coordDimensions:R,dimensionsCount:I.length+1,encodeDefaulter:Yn(Lh,R,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),HA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return We(t,n),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Qo);Kn(HA,FA,!0);var nN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){var i=e.getData(),s=this.group,l=this._data;this._data||s.removeAll();var u="horizontal"===e.get("layout")?1:0;i.diff(l).add(function(d){if(i.hasValue(d)){var f=WA(i.getItemLayout(d),i,d,u,!0);i.setItemGraphicEl(d,f),s.add(f)}}).update(function(d,f){var p=l.getItemGraphicEl(f);if(i.hasValue(d)){var v=i.getItemLayout(d);p?(xu(p),GA(v,p,i,d)):p=WA(v,i,d,u),s.add(p),i.setItemGraphicEl(d,p)}else s.remove(p)}).remove(function(d){var f=l.getItemGraphicEl(d);f&&s.remove(f)}).execute(),this._data=i},t.prototype.remove=function(e){var r=this.group,o=this._data;this._data=null,o&&o.eachItemGraphicEl(function(i){i&&r.remove(i)})},t.type="boxplot",t}(zo),rN=function(){},oN=function(n){function t(e){var r=n.call(this,e)||this;return r.type="boxplotBoxPath",r}return We(t,n),t.prototype.getDefaultShape=function(){return new rN},t.prototype.buildPath=function(e,r){var o=r.points,i=0;for(e.moveTo(o[i][0],o[i][1]),i++;i<4;i++)e.lineTo(o[i][0],o[i][1]);for(e.closePath();i<o.length;i++)e.moveTo(o[i][0],o[i][1]),i++,e.lineTo(o[i][0],o[i][1])},t}(Vr);function WA(n,t,e,r,o){var i=n.ends,s=new oN({shape:{points:o?iN(i,r,n):i}});return GA(n,s,t,e,o),s}function GA(n,t,e,r,o){(0,Dg[o?"initProps":"updateProps"])(t,{shape:{points:n.ends}},e.hostModel,r),t.useStyle(e.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=e.getItemModel(r);as(t,s),Jo(t,s.get(["emphasis","focus"]),s.get(["emphasis","blurScope"]))}function iN(n,t,e){return Ht(n,function(r){return(r=r.slice())[t]=e.initBaseline,r})}function aN(n,t){}var Jw=ue;function sN(n){var r,o,t=(r=[],o=[],n.eachSeriesByType("boxplot",function(i){var s=i.getBaseAxis(),l=hn(o,s);l<0&&(o[l=o.length]=s,r[l]={axis:s,seriesModels:[]}),r[l].seriesModels.push(i)}),r);Jw(t,function(e){var r=e.seriesModels;r.length&&(function(o){var i,s,l=o.axis,u=o.seriesModels,d=u.length,f=o.boxWidthList=[],p=o.boxOffsetList=[],v=[];if("category"===l.type)s=l.getBandWidth();else{var y=0;Jw(u,function(I){y=Math.max(y,I.getData().count())}),i=l.getExtent(),Math.abs(i[1]-i[0])}Jw(u,function(I){var R=I.get("boxWidth");dt(R)||(R=[R,R]),v.push([ee(R[0],s)||0,ee(R[1],s)||0])});var x=.8*s-2,S=x/d*.3,C=(x-S*(d-1))/d,k=C/2-x/2;Jw(u,function(I,R){p.push(k),k+=S+C,f.push(Math.min(Math.max(C,v[R][0]),v[R][1]))})}(e),Jw(r,function(o,i){!function(s,l,u){var d=s.coordinateSystem,f=s.getData(),p=u/2,v="horizontal"===s.get("layout")?0:1,y=1-v,x=["x","y"],S=f.mapDimension(x[v]),C=f.mapDimensionsAll(x[y]);if(!(null==S||C.length<5))for(var k=0;k<f.count();k++){var I=f.get(S,k),R=re(I,C[2],k),O=re(I,C[0],k),V=re(I,C[1],k),F=re(I,C[3],k),Y=re(I,C[4],k),Z=[];ie(Z,V,!1),ie(Z,F,!0),Z.push(O,V,Y,F),ae(Z,O),ae(Z,Y),ae(Z,R),f.setItemLayout(k,{initBaseline:R[y],ends:Z})}function re(ce,ve,be){var _e,Ce=f.get(ve,be),Pe=[];return Pe[v]=ce,Pe[y]=Ce,isNaN(ce)||isNaN(Ce)?_e=[NaN,NaN]:(_e=d.dataToPoint(Pe))[v]+=l,_e}function ie(ce,ve,be){var _e=ve.slice(),Ce=ve.slice();_e[v]+=p,Ce[v]-=p,be?ce.push(_e,Ce):ce.push(Ce,_e)}function ae(ce,ve){var be=ve.slice(),_e=ve.slice();be[v]-=p,_e[v]+=p,ce.push(be,_e)}}(o,e.boxOffsetList[i],e.boxWidthList[i])}))})}var lN={type:"echarts:boxplot",transform:function(n){var t=n.upstream;t.sourceFormat!==ac&&Hn("");var r=function(o,i){for(var s=[],l=[],u=(i=i||{}).boundIQR,d="none"===u||0===u,f=0;f<o.length;f++){var p=ye(o[f].slice()),v=Jn(p,.25),y=Jn(p,.5),x=Jn(p,.75),S=p[0],C=p[p.length-1],k=(null==u?1.5:u)*(x-v),I=d?S:Math.max(S,v-k),R=d?C:Math.min(C,x+k),O=i.itemNameFormatter,V=ge(O)?O({value:f}):ir(O)?O.replace("{value}",f+""):f+"";s.push([V,I,v,y,x,R]);for(var F=0;F<p.length;F++){var Y=p[F];(Y<I||Y>R)&&l.push([V,Y])}}return{boxData:s,outliers:l}}(t.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}},uN=["color","borderColor"],cN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,r,o){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,r,o,i){this._isLargeDraw?this._incrementalRenderLarge(e,r):this._incrementalRenderNormal(e,r)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;null!=this._isLargeDraw&&r===this._isLargeDraw||(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e){var r=e.getData(),o=this._data,i=this.group,s=r.getLayout("isSimpleBox"),l=e.get("clip",!0),u=e.coordinateSystem,d=u.getArea&&u.getArea();this._data||i.removeAll(),r.diff(o).add(function(f){if(r.hasValue(f)){var p=r.getItemLayout(f);if(l&&UA(d,p))return;var v=K2(p,0,!0);ni(v,{shape:{points:p.ends}},e,f),$2(v,r,f,s),i.add(v),r.setItemGraphicEl(f,v)}}).update(function(f,p){var v=o.getItemGraphicEl(p);if(r.hasValue(f)){var y=r.getItemLayout(f);l&&UA(d,y)?i.remove(v):(v?(ro(v,{shape:{points:y.ends}},e,f),xu(v)):v=K2(y),$2(v,r,f,s),i.add(v),r.setItemGraphicEl(f,v))}else i.remove(v)}).remove(function(f){var p=o.getItemGraphicEl(f);p&&i.remove(p)}).execute(),this._data=r},t.prototype._renderLarge=function(e){this._clear(),YA(e,this.group);var r=e.get("clip",!0)?ym(e.coordinateSystem,!1,e):null;r?this.group.setClipPath(r):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,r){for(var o,i=r.getData(),s=i.getLayout("isSimpleBox");null!=(o=e.next());){var l=K2(i.getItemLayout(o));$2(l,i,o,s),l.incremental=!0,this.group.add(l)}},t.prototype._incrementalRenderLarge=function(e,r){YA(r,this.group,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(zo),dN=function(){},fN=function(n){function t(e){var r=n.call(this,e)||this;return r.type="normalCandlestickBox",r}return We(t,n),t.prototype.getDefaultShape=function(){return new dN},t.prototype.buildPath=function(e,r){var o=r.points;this.__simpleBox?(e.moveTo(o[4][0],o[4][1]),e.lineTo(o[6][0],o[6][1])):(e.moveTo(o[0][0],o[0][1]),e.lineTo(o[1][0],o[1][1]),e.lineTo(o[2][0],o[2][1]),e.lineTo(o[3][0],o[3][1]),e.closePath(),e.moveTo(o[4][0],o[4][1]),e.lineTo(o[5][0],o[5][1]),e.moveTo(o[6][0],o[6][1]),e.lineTo(o[7][0],o[7][1]))},t}(Vr);function K2(n,t,e){var r=n.ends;return new fN({shape:{points:e?hN(r,n):r},z2:100})}function UA(n,t){for(var e=!0,r=0;r<t.ends.length;r++)if(n.contain(t.ends[r][0],t.ends[r][1])){e=!1;break}return e}function $2(n,t,e,r){var o=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,as(n,o)}function hN(n,t){return Ht(n,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var pN=function(){},jA=function(n){function t(e){var r=n.call(this,e)||this;return r.type="largeCandlestickBox",r}return We(t,n),t.prototype.getDefaultShape=function(){return new pN},t.prototype.buildPath=function(e,r){for(var o=r.points,i=0;i<o.length;)if(this.__sign===o[i++]){var s=o[i++];e.moveTo(s,o[i++]),e.lineTo(s,o[i++])}else i+=3},t}(Vr);function YA(n,t,e){var r=n.getData().getLayout("largePoints"),o=new jA({shape:{points:r},__sign:1});t.add(o);var i=new jA({shape:{points:r},__sign:-1});t.add(i),XA(1,o,n),XA(-1,i,n),e&&(o.incremental=!0,i.incremental=!0)}function XA(n,t,e,r){var o=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]),i=e.getModel("itemStyle").getItemStyle(uN);t.useStyle(i),t.style.fill=null,t.style.stroke=o}var qA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return We(t,n),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,r,o){var i=r.getItemLayout(e);return i&&o.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Qo);function gN(n){n&&dt(n.series)&&ue(n.series,function(t){zn(t)&&"k"===t.type&&(t.type="candlestick")})}Kn(qA,FA,!0);var mN=["itemStyle","borderColor"],vN=["itemStyle","borderColor0"],yN=["itemStyle","color"],bN=["itemStyle","color0"],xN={seriesType:"candlestick",plan:Pv(),performRawSeries:!0,reset:function(n,t){function e(o,i){return i.get(o>0?yN:bN)}function r(o,i){return i.get(o>0?mN:vN)}if(!t.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(o,i){for(var s;null!=(s=o.next());){var l=i.getItemModel(s),u=i.getItemLayout(s).sign,d=l.getItemStyle();d.fill=e(u,l),d.stroke=r(u,l)||d.fill,tt(i.ensureUniqueItemVisual(s,"style"),d)}}}}},_N="undefined"!=typeof Float32Array?Float32Array:Array,wN={seriesType:"candlestick",plan:Pv(),reset:function(n){var p,v,y,x,S,C,k,I,t=n.coordinateSystem,e=n.getData(),r=(v=e,S="category"===(x=(p=n).getBaseAxis()).type?x.getBandWidth():(y=x.getExtent(),Math.abs(y[1]-y[0])/v.count()),C=ee(At(p.get("barMaxWidth"),S),S),k=ee(At(p.get("barMinWidth"),1),S),null!=(I=p.get("barWidth"))?ee(I,S):Math.max(Math.min(S/2,C),k)),o=["x","y"],i=e.getDimensionIndex(e.mapDimension(o[0])),s=Ht(e.mapDimensionsAll(o[1]),e.getDimensionIndex,e),l=s[0],u=s[1],d=s[2],f=s[3];if(e.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(i<0||s.length<4))return{progress:n.pipelineContext.large?function(p,v){for(var y,x,S=new _N(4*p.count),C=0,k=[],I=[],R=v.getStore();null!=(x=p.next());){var O=R.get(i,x),V=R.get(l,x),F=R.get(u,x),Y=R.get(d,x),Z=R.get(f,x);isNaN(O)||isNaN(Y)||isNaN(Z)?(S[C++]=NaN,C+=3):(S[C++]=ZA(R,x,V,F,u),k[0]=O,k[1]=Y,y=t.dataToPoint(k,null,I),S[C++]=y?y[0]:NaN,S[C++]=y?y[1]:NaN,k[1]=Z,y=t.dataToPoint(k,null,I),S[C++]=y?y[1]:NaN)}v.setLayout("largePoints",S)}:function(p,v){for(var y,x=v.getStore();null!=(y=p.next());){var S=x.get(i,y),C=x.get(l,y),k=x.get(u,y),I=x.get(d,y),R=x.get(f,y),O=Math.min(C,k),V=Math.max(C,k),F=ae(O,S),Y=ae(V,S),Z=ae(I,S),re=ae(R,S),ie=[];ce(ie,Y,0),ce(ie,F,1),ie.push(be(re),be(Y),be(Z),be(F)),v.setItemLayout(y,{sign:ZA(x,y,C,k,u),initBaseline:C>k?Y[1]:F[1],ends:ie,brushRect:(_e=I,Ce=R,Pe=S,Le=void 0,He=void 0,Le=ae(_e,Pe),He=ae(Ce,Pe),Le[0]-=r/2,He[0]-=r/2,{x:Le[0],y:Le[1],width:r,height:He[1]-Le[1]})})}var _e,Ce,Pe,Le,He;function ae(_e,Ce){var Pe=[];return Pe[0]=Ce,Pe[1]=_e,isNaN(Ce)||isNaN(_e)?[NaN,NaN]:t.dataToPoint(Pe)}function ce(_e,Ce,Pe){var Le=Ce.slice(),He=Ce.slice();Le[0]=_u(Le[0]+r/2,1,!1),He[0]=_u(He[0]-r/2,1,!0),Pe?_e.push(Le,He):_e.push(He,Le)}function be(_e){return _e[0]=_u(_e[0],1),_e}}}}};function ZA(n,t,e,r,o){return e>r?-1:e<r?1:t>0?n.get(o,t-1)<=r?1:-1:1}function KA(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(r){r.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var SN=function(n){function t(e,r){var o=n.call(this)||this,i=new vy(e,r),s=new nr;return o.add(i),o.add(s),o.updateData(e,r),o}return We(t,n),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var r=e.symbolType,o=e.color,i=e.rippleNumber,s=this.childAt(1),l=0;l<i;l++){var u=qi(r,-1,-1,2,2,o);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var d=-l/i*e.period+e.effectOffset;u.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(d).start(),u.animateStyle(!0).when(e.period,{opacity:0}).delay(d).start(),s.add(u)}KA(s,e)},t.prototype.updateEffectAnimation=function(e){for(var r=this._effectCfg,o=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],s=0;s<i.length;s++){var l=i[s];if(r[l]!==e[l])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}KA(o,e)},t.prototype.highlight=function(){Oa(this)},t.prototype.downplay=function(){Tl(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,r){var o=this,i=e.hostModel;this.childAt(0).updateData(e,r);var s=this.childAt(1),l=e.getItemModel(r),u=e.getItemVisual(r,"symbol"),d=Fv(e.getItemVisual(r,"symbolSize")),f=e.getItemVisual(r,"style"),p=f&&f.fill;s.setScale(d),s.traverse(function(S){S.setStyle("fill",p)});var v=rm(e.getItemVisual(r,"symbolOffset"),d);v&&(s.x=v[0],s.y=v[1]);var y=e.getItemVisual(r,"symbolRotate");s.rotation=(y||0)*Math.PI/180||0;var x={};x.showEffectOn=i.get("showEffectOn"),x.rippleScale=l.get(["rippleEffect","scale"]),x.brushType=l.get(["rippleEffect","brushType"]),x.period=1e3*l.get(["rippleEffect","period"]),x.effectOffset=r/e.count(),x.z=i.getShallow("z")||0,x.zlevel=i.getShallow("zlevel")||0,x.symbolType=u,x.color=p,x.rippleEffectColor=l.get(["rippleEffect","color"]),x.rippleNumber=l.get(["rippleEffect","number"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===x.showEffectOn?(this._effectCfg?this.updateEffectAnimation(x):this.startEffectAnimation(x),this._effectCfg=x):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(S){"emphasis"===S?"render"!==x.showEffectOn&&o.startEffectAnimation(x):"normal"===S&&"render"!==x.showEffectOn&&o.stopEffectAnimation()}),this._effectCfg=x,Jo(this)},t.prototype.fadeOut=function(e){this.off("mouseover").off("mouseout"),e&&e()},t}(nr),CN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(){this._symbolDraw=new Dd(SN)},t.prototype.render=function(e,r,o){var i=e.getData(),s=this._symbolDraw;s.updateData(i,{clipShape:this._getClipShape(e)}),this.group.add(s.group)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,o=r&&r.getArea&&r.getArea();return e.get("clip",!0)?o:null},t.prototype.updateTransform=function(e,r,o){var i=e.getData();this.group.dirty();var s=h1("").reset(e,r,o);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var r=e.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=Dr(r.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(zo),MN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return We(t,n),t.prototype.getInitialData=function(e,r){return Td(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,r,o){return o.point(r.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Qo),$A=function(n){function t(e,r,o){var i=n.call(this)||this;return i.add(i.createLine(e,r,o)),i._updateEffectSymbol(e,r),i}return We(t,n),t.prototype.createLine=function(e,r,o){return new S2(e,r,o)},t.prototype._updateEffectSymbol=function(e,r){var o=e.getItemModel(r).getModel("effect"),i=o.get("symbolSize"),s=o.get("symbol");dt(i)||(i=[i,i]);var l=e.getItemVisual(r,"style"),u=o.get("color")||l&&l.stroke,d=this.childAt(1);this._symbolType!==s&&(this.remove(d),(d=qi(s,-.5,-.5,1,1,u)).z2=100,d.culling=!0,this.add(d)),d&&(d.setStyle("shadowColor",u),d.setStyle(o.getItemStyle(["color"])),d.scaleX=i[0],d.scaleY=i[1],d.setColor(u),this._symbolType=s,this._symbolScale=i,this._updateEffectAnimation(e,o,r))},t.prototype._updateEffectAnimation=function(e,r,o){var i=this.childAt(1);if(i){var s=this,l=e.getItemLayout(o),u=1e3*r.get("period"),d=r.get("loop"),f=r.get("constantSpeed"),p=ut(r.get("delay"),function(x){return x/e.count()*u/3});if(i.ignore=!0,this._updateAnimationPoints(i,l),f>0&&(u=this._getLineLength(i)/f*1e3),(u!==this._period||d!==this._loop)&&(i.stopAnimation(),u>0)){var v=void 0;v="function"==typeof p?p(o):p,i.__t>0&&(v=-u*i.__t),i.__t=0;var y=i.animate("",d).when(u,{__t:1}).delay(v).during(function(){s._updateSymbolPosition(i)});d||y.done(function(){s.remove(i)}),y.start()}this._period=u,this._loop=d}},t.prototype._getLineLength=function(e){return Ue(e.__p1,e.__cp1)+Ue(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,r){e.__p1=r[0],e.__p2=r[1],e.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},t.prototype.updateData=function(e,r,o){this.childAt(0).updateData(e,r,o),this._updateEffectSymbol(e,r)},t.prototype._updateSymbolPosition=function(e){var r=e.__p1,o=e.__p2,i=e.__cp1,s=e.__t,l=[e.x,e.y],u=l.slice(),d=Sa,f=zm;l[0]=d(r[0],i[0],o[0],s),l[1]=d(r[1],i[1],o[1],s);var p=f(r[0],i[0],o[0],s),v=f(r[1],i[1],o[1],s);e.rotation=-Math.atan2(v,p)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Ue(u,l),1===s&&(l[0]=u[0]+(l[0]-u[0])/2,l[1]=u[1]+(l[1]-u[1])/2)):e.scaleY=1===e.__lastT?2*Ue(r,l):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=l[0],e.y=l[1]},t.prototype.updateLayout=function(e,r){this.childAt(0).updateLayout(e,r);var o=e.getItemModel(r).getModel("effect");this._updateEffectAnimation(e,o,r)},t}(nr),JA=function(n){function t(e,r,o){var i=n.call(this)||this;return i._createPolyline(e,r,o),i}return We(t,n),t.prototype._createPolyline=function(e,r,o){var i=e.getItemLayout(r),s=new xs({shape:{points:i}});this.add(s),this._updateCommonStl(e,r,o)},t.prototype.updateData=function(e,r,o){var i=e.hostModel;ro(this.childAt(0),{shape:{points:e.getItemLayout(r)}},i,r),this._updateCommonStl(e,r,o)},t.prototype._updateCommonStl=function(e,r,o){var i=this.childAt(0),s=e.getItemModel(r),l=o&&o.emphasisLineStyle;o&&!e.hasItemOption||(l=s.getModel(["emphasis","lineStyle"]).getLineStyle()),i.useStyle(e.getItemVisual(r,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=l,Jo(this)},t.prototype.updateLayout=function(e,r){this.childAt(0).setShape("points",e.getItemLayout(r))},t}(nr),TN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return We(t,n),t.prototype.createLine=function(e,r,o){return new JA(e,r,o)},t.prototype._updateAnimationPoints=function(e,r){this._points=r;for(var o=[0],i=0,s=1;s<r.length;s++)i+=Ue(r[s-1],r[s]),o.push(i);if(0!==i){for(s=0;s<o.length;s++)o[s]/=i;this._offsets=o,this._length=i}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var r=e.__t,o=this._points,i=this._offsets,s=o.length;if(i){var l,u=this._lastFrame;if(r<this._lastFramePercent){for(l=Math.min(u+1,s-1);l>=0&&!(i[l]<=r);l--);l=Math.min(l,s-2)}else{for(l=u;l<s&&!(i[l]>r);l++);l=Math.min(l-1,s-2)}var d=(r-i[l])/(i[l+1]-i[l]),f=o[l],p=o[l+1];e.x=f[0]*(1-d)+d*p[0],e.y=f[1]*(1-d)+d*p[1],e.rotation=-Math.atan2(p[1]-f[1],p[0]-f[0])-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,e.ignore=!1}},t}($A),kN=function(){this.polyline=!1,this.curveness=0,this.segs=[]},QA=function(n){function t(e){return n.call(this,e)||this}return We(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kN},t.prototype.buildPath=function(e,r){var o=r.segs,i=r.curveness;if(r.polyline)for(var s=0;s<o.length;){var l=o[s++];if(l>0){e.moveTo(o[s++],o[s++]);for(var u=1;u<l;u++)e.lineTo(o[s++],o[s++])}}else for(s=0;s<o.length;){var d=o[s++],f=o[s++],p=o[s++],v=o[s++];e.moveTo(d,f),i>0?e.quadraticCurveTo((d+p)/2-(f-v)*i,(f+v)/2-(p-d)*i,p,v):e.lineTo(p,v)}},t.prototype.findDataIndex=function(e,r){var o=this.shape,i=o.segs,s=o.curveness,l=this.style.lineWidth;if(o.polyline)for(var u=0,d=0;d<i.length;){var f=i[d++];if(f>0)for(var p=i[d++],v=i[d++],y=1;y<f;y++)if(Tc(p,v,x=i[d++],S=i[d++],l,e,r))return u;u++}else for(u=0,d=0;d<i.length;){p=i[d++],v=i[d++];var x=i[d++],S=i[d++];if(s>0){if(pa(p,v,(p+x)/2-(v-S)*s,(v+S)/2-(x-p)*s,x,S,l,e,r))return u}else if(Tc(p,v,x,S,l,e,r))return u;u++}return-1},t}(Vr),DN=function(){function n(){this.group=new nr}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(t){this.group.removeAll();var e=new QA({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new bh({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(t,e){var r=new QA;r.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(r,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(r,!0):(r.rectHover=!0,r.cursor="default",r.__startIndex=t.start,this.group.add(r))},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._setCommon=function(t,e,r){var o=e.hostModel;t.setShape({polyline:o.get("polyline"),curveness:o.get(["lineStyle","curveness"])}),t.useStyle(o.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var i=e.getVisual("style");if(i&&i.stroke&&t.setStyle("stroke",i.stroke),t.setStyle("fill",null),!r){var s=br(t);s.seriesIndex=o.seriesIndex,t.on("mousemove",function(l){s.dataIndex=null;var u=t.findDataIndex(l.offsetX,l.offsetY);u>0&&(s.dataIndex=u+t.__startIndex)})}},n.prototype._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},n}(),eI={seriesType:"lines",plan:Pv(),reset:function(n){var t=n.coordinateSystem,e=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(o,i){var s=[];if(r){var l=void 0,u=o.end-o.start;if(e){for(var d=0,f=o.start;f<o.end;f++)d+=n.getLineCoordsCount(f);l=new Float32Array(u+2*d)}else l=new Float32Array(4*u);var p=0,v=[];for(f=o.start;f<o.end;f++){var y=n.getLineCoords(f,s);e&&(l[p++]=y);for(var x=0;x<y;x++)v=t.dataToPoint(s[x],!1,v),l[p++]=v[0],l[p++]=v[1]}i.setLayout("linesPoints",l)}else for(f=o.start;f<o.end;f++){var S=i.getItemModel(f),C=(y=n.getLineCoords(f,s),[]);if(e)for(var k=0;k<y;k++)C.push(t.dataToPoint(s[k]));else{C[0]=t.dataToPoint(s[0]),C[1]=t.dataToPoint(s[1]);var I=S.get(["lineStyle","curveness"]);+I&&(C[2]=[(C[0][0]+C[1][0])/2-(C[0][1]-C[1][1])*I,(C[0][1]+C[1][1])/2-(C[1][0]-C[0][0])*I])}i.setItemLayout(f,C)}}}}},AN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){var i=e.getData(),s=this._updateLineDraw(i,e),l=e.get("zlevel"),u=e.get(["effect","trailLength"]),d=o.getZr(),f="svg"===d.painter.getType();f||d.painter.getLayer(l).clear(!0),null==this._lastZlevel||f||d.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&u&&(f||d.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),s.updateData(i);var p=e.get("clip",!0)&&ym(e.coordinateSystem,!1,e);p?this.group.setClipPath(p):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,o){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(o),this._finished=!1},t.prototype.incrementalRender=function(e,r,o){this._lineDraw.incrementalUpdate(e,r.getData()),this._finished=e.end===r.getData().count()},t.prototype.updateTransform=function(e,r,o){var i=e.getData(),s=e.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var l=eI.reset(e,r,o);l.progress&&l.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(o)},t.prototype._updateLineDraw=function(e,r){var o=this._lineDraw,i=this._showEffect(r),s=!!r.get("polyline"),l=r.pipelineContext.large;return o&&i===this._hasEffet&&s===this._isPolyline&&l===this._isLargeDraw||(o&&o.remove(),o=this._lineDraw=l?new DN:new C2(s?i?TN:JA:i?$A:S2),this._hasEffet=i,this._isPolyline=s,this._isLargeDraw=l),this.group.add(o.group),o},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var r=e.getZr();"svg"===r.painter.getType()||null==this._lastZlevel||r.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.type="lines",t}(zo),IN="undefined"==typeof Uint32Array?Array:Uint32Array,PN="undefined"==typeof Float64Array?Array:Float64Array;function tI(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=Ht(t,function(e){var r={coords:[e[0].coord,e[1].coord]};return e[0].name&&(r.fromName=e[0].name),e[1].name&&(r.toName=e[1].name),jt([r,e[0],e[1]])}))}var LN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return We(t,n),t.prototype.init=function(e){e.data=e.data||[],tI(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(tI(e),e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var r=this._processFlatCoordsArray(e.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=Ta(this._flatCoords,r.flatCoords),this._flatCoordsOffset=Ta(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),e.data=new Float32Array(r.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var r=this.getData().getItemModel(e);return r.option instanceof Array?r.option:r.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,r){if(this._flatCoordsOffset){for(var o=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],s=0;s<i;s++)r[s]=r[s]||[],r[s][0]=this._flatCoords[o+2*s],r[s][1]=this._flatCoords[o+2*s+1];return i}var l=this._getCoordsFromItemModel(e);for(s=0;s<l.length;s++)r[s]=r[s]||[],r[s][0]=l[s][0],r[s][1]=l[s][1];return l.length},t.prototype._processFlatCoordsArray=function(e){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),"number"==typeof e[0]){for(var o=e.length,i=new IN(o),s=new PN(o),l=0,u=0,d=0,f=0;f<o;){d++;var p=e[f++];i[u++]=l+r,i[u++]=p;for(var v=0;v<p;v++){var y=e[f++],x=e[f++];s[l++]=y,s[l++]=x}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,u),flatCoords:s,count:d}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,r){var o=new ba(["value"],this);return o.hasItemOption=!1,o.initData(e.data,[],function(i,s,l,u){if(i instanceof Array)return NaN;o.hasItemOption=!0;var d=i.value;return null!=d?d instanceof Array?d[u]:d:void 0}),o},t.prototype.formatTooltip=function(e,r,o){var i=this.getData().getItemModel(e),s=i.get("name");if(s)return s;var l=i.get("fromName"),u=i.get("toName"),d=[];return null!=l&&d.push(l),null!=u&&d.push(u),cs("nameValue",{name:d.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Qo);function BM(n){return n instanceof Array||(n=[n,n]),n}var RN={seriesType:"lines",reset:function(n){var t=BM(n.get("symbol")),e=BM(n.get("symbolSize")),r=n.getData();return r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",e&&e[0]),r.setVisual("toSymbolSize",e&&e[1]),{dataEach:r.hasItemOption?function(o,i){var s=o.getItemModel(i),l=BM(s.getShallow("symbol",!0)),u=BM(s.getShallow("symbolSize",!0));l[0]&&o.setItemVisual(i,"fromSymbol",l[0]),l[1]&&o.setItemVisual(i,"toSymbol",l[1]),u[0]&&o.setItemVisual(i,"fromSymbolSize",u[0]),u[1]&&o.setItemVisual(i,"toSymbolSize",u[1])}:null}}},ON=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=vo();this.canvas=t}return n.prototype.update=function(t,e,r,o,i,s){var l=this._getBrush(),u=this._getGradient(i,"inRange"),d=this._getGradient(i,"outOfRange"),f=this.pointSize+this.blurSize,p=this.canvas,v=p.getContext("2d"),y=t.length;p.width=e,p.height=r;for(var x=0;x<y;++x){var S=t[x],C=S[0],k=S[1],I=o(S[2]);v.globalAlpha=I,v.drawImage(l,C-f,k-f)}if(!p.width||!p.height)return p;for(var R=v.getImageData(0,0,p.width,p.height),O=R.data,V=0,F=O.length,Y=this.minOpacity,Z=this.maxOpacity-Y;V<F;){I=O[V+3]/256;var re=4*Math.floor(255*I);if(I>0){var ie=s(I)?u:d;I>0&&(I=I*Z+Y),O[V++]=ie[re],O[V++]=ie[re+1],O[V++]=ie[re+2],O[V++]=ie[re+3]*I*256}else V+=4}return v.putImageData(R,0,0),p},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=vo()),e=this.pointSize+this.blurSize,r=2*e;t.width=r,t.height=r;var o=t.getContext("2d");return o.clearRect(0,0,r,r),o.shadowOffsetX=r,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-e,e,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),t},n.prototype._getGradient=function(t,e){for(var r=this._gradientPixels,o=r[e]||(r[e]=new Uint8ClampedArray(1024)),i=[0,0,0,0],s=0,l=0;l<256;l++)t[e](l/255,!0,i),o[s++]=i[0],o[s++]=i[1],o[s++]=i[2],o[s++]=i[3];return o},n}();function nI(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var NN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){var i;r.eachComponent("visualMap",function(l){l.eachTargetSeries(function(u){u===e&&(i=l)})}),this.group.removeAll(),this._incrementalDisplayable=null;var s=e.coordinateSystem;"cartesian2d"===s.type||"calendar"===s.type?this._renderOnCartesianAndCalendar(e,o,0,e.getData().count()):nI(s)&&this._renderOnGeo(s,e,i,o)},t.prototype.incrementalPrepareRender=function(e,r,o){this.group.removeAll()},t.prototype.incrementalRender=function(e,r,o,i){var s=r.coordinateSystem;s&&(nI(s)?this.render(r,o,i):this._renderOnCartesianAndCalendar(r,i,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,r,o,i,s){var l,u,d,f,p=e.coordinateSystem;if(jh(p,"cartesian2d")){var v=p.getAxis("x"),y=p.getAxis("y");l=v.getBandWidth(),u=y.getBandWidth(),d=v.scale.getExtent(),f=y.scale.getExtent()}for(var x=this.group,S=e.getData(),C=e.getModel(["emphasis","itemStyle"]).getItemStyle(),k=e.getModel(["blur","itemStyle"]).getItemStyle(),I=e.getModel(["select","itemStyle"]).getItemStyle(),R=ma(e),O=e.get(["emphasis","focus"]),V=e.get(["emphasis","blurScope"]),F=jh(p,"cartesian2d")?[S.mapDimension("x"),S.mapDimension("y"),S.mapDimension("value")]:[S.mapDimension("time"),S.mapDimension("value")],Y=o;Y<i;Y++){var Z=void 0,re=S.getItemVisual(Y,"style");if(jh(p,"cartesian2d")){var ie=S.get(F[0],Y),ae=S.get(F[1],Y);if(isNaN(S.get(F[2],Y))||ie<d[0]||ie>d[1]||ae<f[0]||ae>f[1])continue;var ce=p.dataToPoint([ie,ae]);Z=new eo({shape:{x:Math.floor(Math.round(ce[0])-l/2),y:Math.floor(Math.round(ce[1])-u/2),width:Math.ceil(l),height:Math.ceil(u)},style:re})}else{if(isNaN(S.get(F[1],Y)))continue;Z=new eo({z2:1,shape:p.dataToRect([S.get(F[0],Y)]).contentShape,style:re})}var ve=S.getItemModel(Y);if(S.hasItemOption){var be=ve.getModel("emphasis");C=be.getModel("itemStyle").getItemStyle(),k=ve.getModel(["blur","itemStyle"]).getItemStyle(),I=ve.getModel(["select","itemStyle"]).getItemStyle(),O=be.get("focus"),V=be.get("blurScope"),R=ma(ve)}var _e=e.getRawValue(Y),Ce="-";_e&&null!=_e[2]&&(Ce=_e[2]+""),_s(Z,R,{labelFetcher:e,labelDataIndex:Y,defaultOpacity:re.opacity,defaultText:Ce}),Z.ensureState("emphasis").style=C,Z.ensureState("blur").style=k,Z.ensureState("select").style=I,Jo(Z,O,V),Z.incremental=s,s&&(Z.states.emphasis.hoverLayer=!0),x.add(Z),S.setItemGraphicEl(Y,Z)}},t.prototype._renderOnGeo=function(e,r,o,i){var s=o.targetVisuals.inRange,l=o.targetVisuals.outOfRange,u=r.getData(),d=this._hmLayer||this._hmLayer||new ON;d.blurSize=r.get("blurSize"),d.pointSize=r.get("pointSize"),d.minOpacity=r.get("minOpacity"),d.maxOpacity=r.get("maxOpacity");var f=e.getViewRect().clone(),p=e.getRoamTransform();f.applyTransform(p);var Y,Z,re,v=Math.max(f.x,0),y=Math.max(f.y,0),x=Math.min(f.width+f.x,i.getWidth()),S=Math.min(f.height+f.y,i.getHeight()),C=x-v,k=S-y,I=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],R=u.mapArray(I,function(Y,Z,re){var ie=e.dataToPoint([Y,Z]);return ie[0]-=v,ie[1]-=y,ie.push(re),ie}),O=o.getExtent(),V="visualMap.continuous"===o.type?(Z=[((Z=o.option.range)[0]-(Y=O)[0])/(re=Y[1]-Y[0]),(Z[1]-Y[0])/re],function(ie){return ie>=Z[0]&&ie<=Z[1]}):function(Y,Z,re){var ie=Y[1]-Y[0],ae=(Z=Ht(Z,function(ve){return{interval:[(ve.interval[0]-Y[0])/ie,(ve.interval[1]-Y[0])/ie]}})).length,ce=0;return function(ve){var be;for(be=ce;be<ae;be++)if((_e=Z[be].interval)[0]<=ve&&ve<=_e[1]){ce=be;break}if(be===ae)for(be=ce-1;be>=0;be--){var _e;if((_e=Z[be].interval)[0]<=ve&&ve<=_e[1]){ce=be;break}}return be>=0&&be<ae&&re[be]}}(O,o.getPieceList(),o.option.selected);d.update(R,C,k,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},V);var F=new Yi({style:{width:C,height:k,x:v,y,image:d.canvas},silent:!0});this.group.add(F)},t.type="heatmap",t}(zo),EN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.getInitialData=function(e,r){return Td(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=de.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Qo),BN=["itemStyle","borderWidth"],rI=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],J2=new Xl,zN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){var i=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,d=u.getBaseAxis().isHorizontal(),f=u.master.getRect(),p={ecSize:{width:o.getWidth(),height:o.getHeight()},seriesModel:e,coordSys:u,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:d,valueDim:rI[+d],categoryDim:rI[1-+d]};return s.diff(l).add(function(v){if(s.hasValue(v)){var y=cI(s,v),x=oI(s,v,y,p),S=dI(s,p,x);s.setItemGraphicEl(v,S),i.add(S),pI(S,p,x)}}).update(function(v,y){var I,R,O,x=l.getItemGraphicEl(y);if(s.hasValue(v)){var S=cI(s,v),C=oI(s,v,S,p),k=hI(s,C);x&&k!==x.__pictorialShapeStr&&(i.remove(x),s.setItemGraphicEl(v,null),x=null),x?(R=p,ro((I=x).__pictorialBundle,{x:(O=C).bundlePosition[0],y:O.bundlePosition[1]},O.animationModel,O.dataIndex),O.symbolRepeat?aI(I,R,O,!0):sI(I,0,O,!0),lI(I,O,!0),uI(I,R,O,!0)):x=dI(s,p,C,!0),s.setItemGraphicEl(v,x),x.__pictorialSymbolMeta=C,i.add(x),pI(x,p,C)}else i.remove(x)}).remove(function(v){var y=l.getItemGraphicEl(v);y&&fI(l,v,y.__pictorialSymbolMeta.animationModel,y)}).execute(),this._data=s,this.group},t.prototype.remove=function(e,r){var o=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(s){fI(i,br(s).dataIndex,e,s)}):o.removeAll()},t.type="pictorialBar",t}(zo);function oI(n,t,e,r){var x,S,k,R,O,V,F,Y,Z,re,ie,ae,ce,o=n.getItemLayout(t),i=e.get("symbolRepeat"),s=e.get("symbolClip"),l=e.get("symbolPosition")||"start",u=(e.get("symbolRotate")||0)*Math.PI/180||0,d=e.get("symbolPatternSize")||2,f=e.isAnimationEnabled(),p={dataIndex:t,layout:o,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:i,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:u,animationModel:f?e:null,hoverScale:f&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(x,S,C,k,I){var R,O=k.valueDim,V=x.get("symbolBoundingData"),F=k.coordSys.getOtherAxis(k.coordSys.getBaseAxis()),Y=F.toGlobalCoord(F.dataToCoord(0)),Z=1-+(C[O.wh]<=0);if(dt(V)){var re=[Q2(F,V[0])-Y,Q2(F,V[1])-Y];re[1]<re[0]&&re.reverse(),R=re[Z]}else R=null!=V?Q2(F,V)-Y:S?k.coordSysExtent[O.index][Z]-Y:C[O.wh];I.boundingLength=R,S&&(I.repeatCutLength=C[O.wh]),I.pxSign=R>0?1:R<0?-1:0})(e,i,o,r,p),x=n,S=t,k=i,R=p.boundingLength,O=p.pxSign,V=d,Y=p,re=(F=r).valueDim,ie=F.categoryDim,ae=Math.abs(o[ie.wh]),(Z=dt(ce=x.getItemVisual(S,"symbolSize"))?ce.slice():null==ce?["100%","100%"]:[ce,ce])[ie.index]=ee(Z[ie.index],ae),Z[re.index]=ee(Z[re.index],k?ae:Math.abs(R)),Y.symbolSize=Z,(Y.symbolScale=[Z[0]/V,Z[1]/V])[re.index]*=(F.isHorizontal?-1:1)*O,function(x,S,C,k,I){var R=x.get(BN)||0;R&&(J2.attr({scaleX:S[0],scaleY:S[1],rotation:C}),J2.updateTransform(),R/=J2.getLineScale(),R*=S[k.valueDim.index]),I.valueLineWidth=R}(e,p.symbolScale,u,r,p);var v=p.symbolSize,y=rm(e.get("symbolOffset"),v);return function(x,S,C,k,I,R,O,V,F,Y,Z,re){var ie=Z.categoryDim,ae=Z.valueDim,ce=re.pxSign,ve=Math.max(S[ae.index]+V,0),be=ve;if(k){var _e=Math.abs(F),Ce=ut(x.get("symbolMargin"),"15%")+"",Pe=!1;Ce.lastIndexOf("!")===Ce.length-1&&(Pe=!0,Ce=Ce.slice(0,Ce.length-1));var Le=ee(Ce,S[ae.index]),He=Math.max(ve+2*Le,0),Je=Pe?0:2*Le,vt=po(k),Ct=vt?k:gI((_e+Je)/He);He=ve+2*(Le=(_e-Ct*ve)/2/(Pe?Ct:Math.max(Ct-1,1))),Je=Pe?0:2*Le,vt||"fixed"===k||(Ct=Y?gI((Math.abs(Y)+Je)/He):0),be=Ct*He-Je,re.repeatTimes=Ct,re.symbolMargin=Le}var on=ce*(be/2),xt=re.pathPosition=[];xt[ie.index]=C[ie.wh]/2,xt[ae.index]="start"===O?on:"end"===O?F-on:F/2,R&&(xt[0]+=R[0],xt[1]+=R[1]);var Ft=re.bundlePosition=[];Ft[ie.index]=C[ie.xy],Ft[ae.index]=C[ae.xy];var vn=re.barRectShape=tt({},C);vn[ae.wh]=ce*Math.max(Math.abs(C[ae.wh]),Math.abs(xt[ae.index]+on)),vn[ie.wh]=C[ie.wh];var sn=re.clipShape={};sn[ie.xy]=-C[ie.xy],sn[ie.wh]=Z.ecSize[ie.wh],sn[ae.xy]=0,sn[ae.wh]=C[ae.wh]}(e,v,o,i,0,y,l,p.valueLineWidth,p.boundingLength,p.repeatCutLength,r,p),p}function Q2(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function iI(n){var t=n.symbolPatternSize,e=qi(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function aI(n,t,e,r){var o=n.__pictorialBundle,l=e.pathPosition,u=t.valueDim,d=e.repeatTimes||0,f=0,p=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(ek(n,function(S){S.__pictorialAnimationIndex=f,S.__pictorialRepeatTimes=d,f<d?bx(S,null,x(f),e,r):bx(S,null,{scaleX:0,scaleY:0},e,r,function(){o.remove(S)}),f++});f<d;f++){var v=iI(e);v.__pictorialAnimationIndex=f,v.__pictorialRepeatTimes=d,o.add(v);var y=x(f);bx(v,{x:y.x,y:y.y,scaleX:0,scaleY:0},{scaleX:y.scaleX,scaleY:y.scaleY,rotation:y.rotation},e,r)}function x(S){var C=l.slice(),k=e.pxSign,I=S;return("start"===e.symbolRepeatDirection?k>0:k<0)&&(I=d-1-S),C[u.index]=p*(I-d/2+.5)+l[u.index],{x:C[0],y:C[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function sI(n,t,e,r){var o=n.__pictorialBundle,i=n.__pictorialMainPath;i?bx(i,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,r):(i=n.__pictorialMainPath=iI(e),o.add(i),bx(i,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,r))}function lI(n,t,e){var r=tt({},t.barRectShape),o=n.__pictorialBarRect;o?bx(o,null,{shape:r},t,e):((o=n.__pictorialBarRect=new eo({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(o))}function uI(n,t,e,r){if(e.symbolClip){var o=n.__pictorialClipPath,i=tt({},e.clipShape),s=t.valueDim,l=e.animationModel,u=e.dataIndex;if(o)ro(o,{shape:i},l,u);else{i[s.wh]=0,o=new eo({shape:i}),n.__pictorialBundle.setClipPath(o),n.__pictorialClipPath=o;var d={};d[s.wh]=e.clipShape[s.wh],Dg[r?"updateProps":"initProps"](o,{shape:d},l,u)}}}function cI(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=VN,e.isAnimationEnabled=FN,e}function VN(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function FN(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function dI(n,t,e,r){var o=new nr,i=new nr;return o.add(i),o.__pictorialBundle=i,i.x=e.bundlePosition[0],i.y=e.bundlePosition[1],e.symbolRepeat?aI(o,t,e):sI(o,0,e),lI(o,e,r),uI(o,t,e,r),o.__pictorialShapeStr=hI(n,e),o.__pictorialSymbolMeta=e,o}function fI(n,t,e,r){var o=r.__pictorialBarRect;o&&o.removeTextContent();var i=[];ek(r,function(s){i.push(s)}),r.__pictorialMainPath&&i.push(r.__pictorialMainPath),r.__pictorialClipPath&&(e=null),ue(i,function(s){Ba(s,{scaleX:0,scaleY:0},e,t,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(t,null)}function hI(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function ek(n,t,e){ue(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&t.call(e,r)})}function bx(n,t,e,r,o,i){t&&n.attr(t),r.symbolClip&&!o?e&&n.attr(e):e&&Dg[o?"updateProps":"initProps"](n,e,r.animationModel,r.dataIndex,i)}function pI(n,t,e){var r=e.dataIndex,o=e.itemModel,i=o.getModel("emphasis"),s=i.getModel("itemStyle").getItemStyle(),l=o.getModel(["blur","itemStyle"]).getItemStyle(),u=o.getModel(["select","itemStyle"]).getItemStyle(),d=o.getShallow("cursor"),f=i.get("focus"),p=i.get("blurScope"),v=i.get("scale");ek(n,function(x){if(x instanceof Yi){var S=x.style;x.useStyle(tt({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},e.style))}else x.useStyle(e.style);var C=x.ensureState("emphasis");C.style=s,v&&(C.scaleX=1.1*x.scaleX,C.scaleY=1.1*x.scaleY),x.ensureState("blur").style=l,x.ensureState("select").style=u,d&&(x.cursor=d),x.z2=e.z2});var y=t.valueDim.posDesc[+(e.boundingLength>0)];_s(n.__pictorialBarRect,ma(o),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:my(t.seriesModel.getData(),r),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:y}),Jo(n,f,p)}function gI(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}var HN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return We(t,n),t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Su(xy.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(xy),WN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return We(t,n),t.prototype.render=function(e,r,o){var i=e.getData(),s=this,l=this.group,u=e.getLayerSeries(),d=i.getLayout("layoutInfo"),f=d.rect,p=d.boundaryGap;function v(C){return C.name}l.x=0,l.y=f.y+p[0];var y=new Rf(this._layersSeries||[],u,v,v),x=[];function S(C,k,I){var He,Je,Ct,R=s._layers;if("remove"!==C){for(var O,V,F=[],Y=[],Z=u[k].indices,re=0;re<Z.length;re++){var ie=i.getItemLayout(Z[re]),ae=ie.x,ce=ie.y0,ve=ie.y;F.push(ae,ce),Y.push(ae,ce+ve),O=i.getItemVisual(Z[re],"style")}var be=i.getItemLayout(Z[0]),_e=e.getModel("label").get("margin"),Ce=e.getModel("emphasis");if("add"===C){var Pe=x[k]=new nr;V=new pl({shape:{points:F,stackedOnPoints:Y,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Pe.add(V),l.add(Pe),e.isAnimationEnabled()&&V.setClipPath((He=V.getBoundingRect(),Je=e,ni(Ct=new eo({shape:{x:He.x-10,y:He.y-10,width:0,height:He.height+20}}),{shape:{x:He.x-50,width:He.width+100,height:He.height+20}},Je,function(){V.removeClipPath()}),Ct))}else V=(Pe=R[I]).childAt(0),l.add(Pe),x[k]=Pe,ro(V,{shape:{points:F,stackedOnPoints:Y}},e),xu(V);_s(V,ma(e),{labelDataIndex:Z[re-1],defaultText:i.getName(Z[re-1]),inheritColor:O.fill},{normal:{verticalAlign:"middle"}}),V.setTextConfig({position:null,local:!0});var Le=V.getTextContent();Le&&(Le.x=be.x-_e,Le.y=be.y0+be.y/2),V.useStyle(O),i.setItemGraphicEl(k,V),as(V,e),Jo(V,Ce.get("focus"),Ce.get("blurScope"))}else l.remove(R[k])}y.add(xn(S,this,"add")).update(xn(S,this,"update")).remove(xn(S,this,"remove")).execute(),this._layersSeries=u,this._layers=x},t.type="themeRiver",t}(zo),GN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new x1(xn(this.getData,this),xn(this.getRawData,this))},t.prototype.fixData=function(e){var r=e.length,o={},i=$f(e,function(v){return o.hasOwnProperty(v[0]+"")||(o[v[0]+""]=-1),v[2]}),s=[];i.buckets.each(function(v,y){s.push({name:y,dataList:v})});for(var l=s.length,u=0;u<l;++u){for(var d=s[u].name,f=0;f<s[u].dataList.length;++f)o[p=s[u].dataList[f][0]+""]=u;for(var p in o)o.hasOwnProperty(p)&&o[p]!==u&&(o[p]=u,e[r]=[p,0,d],r++)}return e},t.prototype.getInitialData=function(e,r){for(var o=this.getReferringComponents("singleAxis",Fi).models[0].get("type"),i=Un(e.data,function(y){return void 0!==y[2]}),s=this.fixData(i||[]),l=[],u=this.nameMap=bn(),d=0,f=0;f<s.length;++f)l.push(s[f][2]),u.get(s[f][2])||(u.set(s[f][2],d),d++);var p=cm(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:q0(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,v=new ba(p,this);return v.initData(s),v},t.prototype.getLayerSeries=function(){for(var e=this.getData(),r=e.count(),o=[],i=0;i<r;++i)o[i]=i;var s=e.mapDimension("single"),l=$f(o,function(d){return e.get("name",d)}),u=[];return l.buckets.each(function(d,f){d.sort(function(p,v){return e.get(s,p)-e.get(s,v)}),u.push({name:f,indices:d})}),u},t.prototype.getAxisTooltipData=function(e,r,o){dt(e)||(e=e?[e]:[]);for(var i,s=this.getData(),l=this.getLayerSeries(),u=[],d=l.length,f=0;f<d;++f){for(var p=Number.MAX_VALUE,v=-1,y=l[f].indices.length,x=0;x<y;++x){var S=s.get(e[0],l[f].indices[x]),C=Math.abs(S-r);C<=p&&(i=S,p=C,v=l[f].indices[x])}u.push(v)}return{dataIndices:u,nestestValue:i}},t.prototype.formatTooltip=function(e,r,o){var i=this.getData();return cs("nameValue",{name:i.getName(e),value:i.get(i.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Qo);function UN(n,t){n.eachSeriesByType("themeRiver",function(e){var r=e.getData(),o=e.coordinateSystem,i={},s=o.getRect();i.rect=s;var l=e.get("boundaryGap"),u=o.getAxis();i.boundaryGap=l,"horizontal"===u.orient?(l[0]=ee(l[0],s.height),l[1]=ee(l[1],s.height),mI(r,e,s.height-l[0]-l[1])):(l[0]=ee(l[0],s.width),l[1]=ee(l[1],s.width),mI(r,e,s.width-l[0]-l[1])),r.setLayout("layoutInfo",i)})}function mI(n,t,e){if(n.count())for(var r,o=t.coordinateSystem,i=t.getLayerSeries(),s=n.mapDimension("single"),l=n.mapDimension("value"),u=Ht(i,function(C){return Ht(C.indices,function(k){var I=o.dataToPoint(n.get(s,k));return I[1]=n.get(l,k),I})}),d=function(C){for(var k=C.length,I=C[0].length,R=[],O=[],V=0,F=0;F<I;++F){for(var Y=0,Z=0;Z<k;++Z)Y+=C[Z][F][1];Y>V&&(V=Y),R.push(Y)}for(var re=0;re<I;++re)O[re]=(V-R[re])/2;V=0;for(var ie=0;ie<I;++ie){var ae=R[ie]+O[ie];ae>V&&(V=ae)}return{y0:O,max:V}}(u),f=d.y0,p=e/d.max,v=i.length,y=i[0].indices.length,x=0;x<y;++x){n.setItemLayout(i[0].indices[x],{layerIndex:0,x:u[0][x][0],y0:r=f[x]*p,y:u[0][x][1]*p});for(var S=1;S<v;++S)n.setItemLayout(i[S].indices[x],{layerIndex:S,x:u[S][x][0],y0:r+=u[S-1][x][1]*p,y:u[S][x][1]*p})}}var vI=function(n){function t(e,r,o,i){var s=n.call(this)||this;s.z2=2,s.textConfig={inside:!0},br(s).seriesIndex=r.seriesIndex;var l=new Xr({z2:4,silent:e.getModel().get(["label","silent"])});return s.setTextContent(l),s.updateData(!0,e,r,o,i),s}return We(t,n),t.prototype.updateData=function(e,r,o,i,s){this.node=r,r.piece=this,o=o||this._seriesModel,i=i||this._ecModel;var l=this;br(l).dataIndex=r.dataIndex;var u=r.getModel(),d=u.getModel("emphasis"),f=r.getLayout(),p=tt({},f);p.label=null;var v=r.getVisual("style");v.lineJoin="bevel";var y=r.getVisual("decal");y&&(v.decal=Af(y,s));var x=Jp(u.getModel("itemStyle"),p,!0);tt(p,x),ue(bs,function(k){var I=l.ensureState(k),R=u.getModel([k,"itemStyle"]);I.style=R.getItemStyle();var O=Jp(R,p);O&&(I.shape=O)}),e?(l.setShape(p),l.shape.r=f.r0,ro(l,{shape:{r:f.r}},o,r.dataIndex)):(ro(l,{shape:p},o),xu(l)),l.useStyle(v),this._updateLabel(o);var S=u.getShallow("cursor");S&&l.attr("cursor",S),this._seriesModel=o||this._seriesModel,this._ecModel=i||this._ecModel;var C=d.get("focus");Jo(this,"ancestor"===C?r.getAncestorsIndices():"descendant"===C?r.getDescendantIndices():C,d.get("blurScope"))},t.prototype._updateLabel=function(e){var r=this,o=this.node.getModel(),i=o.getModel("label"),s=this.node.getLayout(),l=s.endAngle-s.startAngle,u=(s.startAngle+s.endAngle)/2,d=Math.cos(u),f=Math.sin(u),p=this,v=p.getTextContent(),y=this.node.dataIndex,x=i.get("minAngle")/180*Math.PI,S=i.get("show")&&!(null!=x&&Math.abs(l)<x);function C(k,I){var R=k.get(I);return null==R?i.get(I):R}v.ignore=!S,ue(Qu,function(k){var I=o.getModel("normal"===k?"label":[k,"label"]),R="normal"===k,O=R?v:v.ensureState(k),V=e.getFormattedLabel(y,k);R&&(V=V||r.node.name),O.style=Ri(I,{},null,"normal"!==k,!0),V&&(O.style.text=V);var F=I.get("show");null==F||R||(O.ignore=!F);var Y,Z=C(I,"position"),re=R?p:p.states[k],ie=re.style.fill;re.textConfig={outsideFill:"inherit"===I.get("color")?ie:null,inside:"outside"!==Z};var ae=C(I,"distance")||0,ce=C(I,"align");"outside"===Z?(Y=s.r+ae,ce=u>Math.PI/2?"right":"left"):ce&&"center"!==ce?"left"===ce?(Y=s.r0+ae,u>Math.PI/2&&(ce="right")):"right"===ce&&(Y=s.r-ae,u>Math.PI/2&&(ce="left")):(Y=(s.r+s.r0)/2,ce="center"),O.style.align=ce,O.style.verticalAlign=C(I,"verticalAlign")||"middle",O.x=Y*d+s.cx,O.y=Y*f+s.cy;var ve=C(I,"rotate"),be=0;"radial"===ve?(be=-u)<-Math.PI/2&&(be+=Math.PI):"tangential"===ve?(be=Math.PI/2-u)>Math.PI/2?be-=Math.PI:be<-Math.PI/2&&(be+=Math.PI):"number"==typeof ve&&(be=ve*Math.PI/180),O.rotation=be}),v.dirtyStyle()},t}(Oo),tk="sunburstRootToNode",yI="sunburstHighlight",jN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o,i){var s=this;this.seriesModel=e,this.api=o,this.ecModel=r;var x,S,l=e.getData(),u=l.tree.root,d=e.getViewRoot(),f=this.group,p=e.get("renderLabelForZeroData"),v=[];d.eachNode(function(x){v.push(x)}),function(x,S){function C(I){return I.getId()}function k(I,R){!function(O,V){if(p||!O||O.getValue()||(O=null),O!==u&&V!==u)if(V&&V.piece)O?(V.piece.updateData(!1,O,e,r,o),l.setItemGraphicEl(O.dataIndex,V.piece)):!(Y=V)||Y.piece&&(f.remove(Y.piece),Y.piece=null);else if(O){var F=new vI(O,e,r,o);f.add(F),l.setItemGraphicEl(O.dataIndex,F)}var Y}(null==I?null:x[I],null==R?null:S[R])}0===x.length&&0===S.length||new Rf(S,x,C,C).add(k).update(k).remove(Yn(k,null)).execute()}(v,this._oldChildren||[]),x=u,(S=d).depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,x,e,r,o):(s.virtualPiece=new vI(x,e,r,o),f.add(s.virtualPiece)),S.piece.off("click"),s.virtualPiece.on("click",function(C){s._rootToNode(S.parentNode)})):s.virtualPiece&&(f.remove(s.virtualPiece),s.virtualPiece=null),this._initEvents(),this._oldChildren=v},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(r){var o=!1;e.seriesModel.getViewRoot().eachNode(function(i){if(!o&&i.piece&&i.piece===r.target){var s=i.getModel().get("nodeClick");if("rootToNode"===s)e._rootToNode(i);else if("link"===s){var l=i.getModel(),u=l.get("link");u&&Oc(u,l.get("target",!0)||"_blank")}o=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:tk,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,r){var o=r.getData().getItemLayout(0);if(o){var i=e[0]-o.cx,s=e[1]-o.cy,l=Math.sqrt(i*i+s*s);return l<=o.r&&l>=o.r0}},t.type="sunburst",t}(zo),YN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return We(t,n),t.prototype.getInitialData=function(e,r){var o={name:e.name,children:e.data};bI(o);var i=this._levelModels=Ht(e.levels||[],function(l){return new uo(l,this,r)},this),s=i2.createTree(o,this,function(l){l.wrapMethod("getItemModel",function(u,d){var f=s.getNodeByDataIndex(d),p=i[f.depth];return p&&(u.parentModel=p),u})});return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return r.treePathInfo=TM(o,this),r},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;e&&(e===r||r.contains(e))||(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){ID(this)},t.type="series.sunburst",t.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Qo);function bI(n){var t=0;ue(n.children,function(r){bI(r);var o=r.value;dt(o)&&(o=o[0]),t+=o});var e=n.value;dt(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),dt(n.value)?n.value[0]=e:n.value=e}var xI=Math.PI/180;function XN(n,t,e){t.eachSeriesByType(n,function(r){var o=r.get("center"),i=r.get("radius");dt(i)||(i=[0,i]),dt(o)||(o=[o,o]);var s=e.getWidth(),l=e.getHeight(),u=Math.min(s,l),d=ee(o[0],s),f=ee(o[1],l),p=ee(i[0],u/2),v=ee(i[1],u/2),y=-r.get("startAngle")*xI,x=r.get("minAngle")*xI,S=r.getData().tree.root,C=r.getViewRoot(),k=C.depth,I=r.get("sort");null!=I&&_I(C,I);var R=0;ue(C.children,function(Ce){!isNaN(Ce.getValue())&&R++});var O=C.getValue(),V=Math.PI/(O||R)*2,F=C.depth>0,Z=(v-p)/(C.height-(F?-1:1)||1),re=r.get("clockwise"),ie=r.get("stillShowZeroSum"),ae=re?1:-1,ce=function(Ce,Pe){if(Ce){var Le=Pe;if(Ce!==S){var He=Ce.getValue(),Je=0===O&&ie?V:He*V;Je<x&&(Je=x),Le=Pe+ae*Je;var vt=Ce.depth-k-(F?-1:1),Ct=p+Z*vt,on=p+Z*(vt+1),xt=r.getLevelModel(Ce);if(xt){var Ft=xt.get("r0",!0),vn=xt.get("r",!0),sn=xt.get("radius",!0);null!=sn&&(Ft=sn[0],vn=sn[1]),null!=Ft&&(Ct=ee(Ft,u/2)),null!=vn&&(on=ee(vn,u/2))}Ce.setLayout({angle:Je,startAngle:Pe,endAngle:Le,clockwise:re,cx:d,cy:f,r0:Ct,r:on})}if(Ce.children&&Ce.children.length){var cn=0;ue(Ce.children,function(En){cn+=ce(En,Pe+cn)})}return Le-Pe}};if(F){var _e=2*Math.PI;S.setLayout({angle:_e,startAngle:y,endAngle:y+_e,clockwise:re,cx:d,cy:f,r0:p,r:p+Z})}ce(C,y)})}function _I(n,t){var e=n.children||[];n.children=function(r,o){if("function"==typeof o){var i=Ht(r,function(l,u){var d=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return d}},index:u}});return i.sort(function(l,u){return o(l.params,u.params)}),Ht(i,function(l){return r[l.index]})}var s="asc"===o;return r.sort(function(l,u){var d=(l.getValue()-u.getValue())*(s?1:-1);return 0===d?(l.dataIndex-u.dataIndex)*(s?-1:1):d})}(e,t),e.length&&ue(n.children,function(r){_I(r,t)})}function qN(n){var t={};n.eachSeriesByType("sunburst",function(e){var r=e.getData(),o=r.tree;o.eachNode(function(i){var s=i.getModel().getModel("itemStyle").getItemStyle();s.fill||(s.fill=function(l,u,d){for(var f=l;f&&f.depth>1;)f=f.parentNode;var p=u.getColorFromPalette(f.name||f.dataIndex+"",t);return l.depth>1&&"string"==typeof p&&(p=Ps(p,(l.depth-1)/(d-1)*.5)),p}(i,e,o.root.height)),tt(r.ensureUniqueItemVisual(i.dataIndex,"style"),s)})})}var wI={color:"fill",borderColor:"stroke"},KN={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Kh=go(),$N=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,r){return Td(null,this)},t.prototype.getDataParams=function(e,r,o){var i=n.prototype.getDataParams.call(this,e,r);return o&&(i.info=Kh(o).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},t}(Qo);function JN(n,t){return t=t||[0,0],Ht(["x","y"],function(e,r){var o=this.getAxis(e),i=t[r],s=n[r]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(i-s)-o.dataToCoord(i+s))},this)}function QN(n,t){return t=t||[0,0],Ht([0,1],function(e){var r=t[e],o=n[e]/2,i=[],s=[];return i[e]=r-o,s[e]=r+o,i[1-e]=s[1-e]=t[1-e],Math.abs(this.dataToPoint(i)[e]-this.dataToPoint(s)[e])},this)}function eE(n,t){var e=this.getAxis(),r=t instanceof Array?t[0]:t,o=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(r-o)-e.dataToCoord(r+o))}function tE(n,t){return t=t||[0,0],Ht(["Radius","Angle"],function(e,r){var o=this["get"+e+"Axis"](),i=t[r],s=n[r]/2,l="category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(i-s)-o.dataToCoord(i+s));return"Angle"===e&&(l=l*Math.PI/180),l},this)}function SI(n,t,e,r){return n&&(n.legacy||!1!==n.legacy&&!e&&!r&&"tspan"!==t&&("text"===t||_n(n,"text")))}function CI(n,t,e){var r,o,i,s=n;if("text"===t)i=s;else{i={},_n(s,"text")&&(i.text=s.text),_n(s,"rich")&&(i.rich=s.rich),_n(s,"textFill")&&(i.fill=s.textFill),_n(s,"textStroke")&&(i.stroke=s.textStroke),_n(s,"fontFamily")&&(i.fontFamily=s.fontFamily),_n(s,"fontSize")&&(i.fontSize=s.fontSize),_n(s,"fontStyle")&&(i.fontStyle=s.fontStyle),_n(s,"fontWeight")&&(i.fontWeight=s.fontWeight),o={type:"text",style:i,silent:!0},r={};var l=_n(s,"textPosition");e?r.position=l?s.textPosition:"inside":l&&(r.position=s.textPosition),_n(s,"textPosition")&&(r.position=s.textPosition),_n(s,"textOffset")&&(r.offset=s.textOffset),_n(s,"textRotation")&&(r.rotation=s.textRotation),_n(s,"textDistance")&&(r.distance=s.textDistance)}return MI(i,n),ue(i.rich,function(u){MI(u,u)}),{textConfig:r,textContent:o}}function MI(n,t){t&&(t.font=t.textFont||t.font,_n(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),_n(t,"textAlign")&&(n.align=t.textAlign),_n(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),_n(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),_n(t,"textWidth")&&(n.width=t.textWidth),_n(t,"textHeight")&&(n.height=t.textHeight),_n(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),_n(t,"textPadding")&&(n.padding=t.textPadding),_n(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),_n(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),_n(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),_n(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),_n(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),_n(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),_n(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function TI(n,t,e){var r=n;r.textPosition=r.textPosition||e.position||"inside",null!=e.offset&&(r.textOffset=e.offset),null!=e.rotation&&(r.textRotation=e.rotation),null!=e.distance&&(r.textDistance=e.distance);var o=r.textPosition.indexOf("inside")>=0,i=n.fill||"#000";kI(r,t);var s=null==r.textFill;return o?s&&(r.textFill=e.insideFill||"#fff",!r.textStroke&&e.insideStroke&&(r.textStroke=e.insideStroke),!r.textStroke&&(r.textStroke=i),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(s&&(r.textFill=n.fill||e.outsideFill||"#000"),!r.textStroke&&e.outsideStroke&&(r.textStroke=e.outsideStroke)),r.text=t.text,r.rich=t.rich,ue(t.rich,function(l){kI(l,l)}),r}function kI(n,t){t&&(_n(t,"fill")&&(n.textFill=t.fill),_n(t,"stroke")&&(n.textStroke=t.fill),_n(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),_n(t,"font")&&(n.font=t.font),_n(t,"fontStyle")&&(n.fontStyle=t.fontStyle),_n(t,"fontWeight")&&(n.fontWeight=t.fontWeight),_n(t,"fontSize")&&(n.fontSize=t.fontSize),_n(t,"fontFamily")&&(n.fontFamily=t.fontFamily),_n(t,"align")&&(n.textAlign=t.align),_n(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),_n(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),_n(t,"width")&&(n.textWidth=t.width),_n(t,"height")&&(n.textHeight=t.height),_n(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),_n(t,"padding")&&(n.textPadding=t.padding),_n(t,"borderColor")&&(n.textBorderColor=t.borderColor),_n(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),_n(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),_n(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),_n(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),_n(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),_n(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),_n(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),_n(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),_n(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),_n(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}var nE={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};function nk(n,t,e){var r=n[e],o=nE[e];r&&(t[o[0]]=r[0],t[o[1]]=r[1])}function I1(n,t,e){null!=n[e]&&(t[e]=n[e])}function DI(n,t,e){e&&(n[t]=e[t])}function AI(n,t,e,r,o){var i=e[n];if(i){var s,l=t[n],u=i.enterFrom;if(o&&u){!s&&(s=r[n]={});for(var d=It(u),f=0;f<d.length;f++)s[I=d[f]]=u[I]}if(!o&&l)if(i.transition){!s&&(s=r[n]={});var p=no(i.transition);for(f=0;f<p.length;f++){var v=l[I=p[f]];s[I]=v}}else if(hn(e.transition,n)>=0){!s&&(s=r[n]={});var y=It(l);for(f=0;f<y.length;f++)v=l[I=y[f]],rE(i[I],v)&&(s[I]=v)}var x=i.leaveTo;if(x){var S=rk(t),C=S[n]||(S[n]={}),k=It(x);for(f=0;f<k.length;f++){var I;C[I=k[f]]=x[I]}}}}function II(n,t,e){var r=t[n];if(r)for(var o=e[n]={},i=It(r),s=0;s<i.length;s++){var l=i[s];o[l]=Eo(r[l])}}function rE(n,t){return Yr(n)?n!==t:null!=n&&isFinite(n)}function rk(n){var t=Kh(n);return t.leaveToProps||(t.leaveToProps={})}It({x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1}).join(", ");var Cm="emphasis",Ly="normal",ok="blur",ik="select",Ry=[Ly,Cm,ok,ik],ak={normal:["itemStyle"],emphasis:[Cm,"itemStyle"],blur:[ok,"itemStyle"],select:[ik,"itemStyle"]},sk={normal:["label"],emphasis:[Cm,"label"],blur:[ok,"label"],select:[ik,"label"]},Ff={normal:{},emphasis:{},blur:{},select:{}},oE={cartesian2d:function(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:xn(JN,n)}}},geo:function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:xn(QN,n)}}},singleAxis:function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:xn(eE,n)}}},polar:function(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(o){var i=t.dataToRadius(o[0]),s=e.dataToAngle(o[1]),l=n.coordToPoint([i,s]);return l.push(i,s*Math.PI/180),l},size:xn(tE,n)}}},calendar:function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(r,o){return n.dataToPoint(r,o)}}}}};function zM(n){return n instanceof Vr}function lk(n){return n instanceof mi}var iE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o,i){var s=this._data,l=e.getData(),u=this.group,d=LI(e,l,r,o);s||u.removeAll(),l.diff(s).add(function(p){dk(o,null,p,d(p,i),e,u,l)}).remove(function(p){pk(s.getItemGraphicEl(p),e,u)}).update(function(p,v){var y=s.getItemGraphicEl(v);dk(o,y,p,d(p,i),e,u,l)}).execute();var f=e.get("clip",!0)?ym(e.coordinateSystem,!1,e):null;f?u.setClipPath(f):u.removeClipPath(),this._data=l},t.prototype.incrementalPrepareRender=function(e,r,o){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,r,o,i,s){var l=r.getData(),u=LI(r,l,o,i);function d(v){v.isGroup||(v.incremental=!0,v.ensureState("emphasis").hoverLayer=!0)}for(var f=e.start;f<e.end;f++){var p=dk(null,null,f,u(f,s),r,this.group,l);p&&p.traverse(d)}},t.prototype.filterForExposedEvent=function(e,r,o,i){var s=r.element;if(null==s||o.name===s)return!0;for(;(o=o.__hostTarget||o.parent)&&o!==this.group;)if(o.name===s)return!0;return!1},t.type="custom",t}(zo);function uk(n){var t,e=n.type;if("path"===e){var r=n.shape,o=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,i=BI(r);t=of(i,null,o,r.layout||"center"),Kh(t).customPathData=i}else if("image"===e)t=new Yi({}),Kh(t).customImagePath=n.style.image;else if("text"===e)t=new Xr({});else if("group"===e)t=new nr;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var s=Ap(e);s||Hn(""),t=new s}return Kh(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function ck(n,t,e,r,o,i,s,l){var u=o&&o.normal.cfg;u&&t.setTextConfig(u);var d=r&&r.style;if(d){if("text"===t.type){var f=d;_n(f,"textFill")&&(f.fill=f.textFill),_n(f,"textStroke")&&(f.stroke=f.textStroke)}var p=void 0,v=zM(t)?d.decal:null;n&&v&&(v.dirty=!0,p=Af(v,n)),d.__decalPattern=p}Kh(t).userDuring=r.during;var C,k,y={},x={};AI("shape",t,r,y,s),II("shape",r,x),function(S,C,k,I){var R=C.enterFrom;if(I&&R)for(var O=It(R),V=0;V<O.length;V++)k[ae=O[V]]=R[ae];if(!I)if(C.transition){var F=no(C.transition);for(V=0;V<F.length;V++)"style"!==(ae=F[V])&&"shape"!==ae&&"extra"!==ae&&(k[ae]=S[ae])}else DI(k,"x",S),DI(k,"y",S);var Z=C.leaveTo;if(Z){var re=rk(S),ie=It(Z);for(V=0;V<ie.length;V++){var ae;re[ae=ie[V]]=Z[ae]}}}(t,r,y,s),nk(C=r,k=x,"position"),nk(C,k,"scale"),nk(C,k,"origin"),I1(C,k,"x"),I1(C,k,"y"),I1(C,k,"scaleX"),I1(C,k,"scaleY"),I1(C,k,"originX"),I1(C,k,"originY"),I1(C,k,"rotation"),AI("extra",t,r,y,s),II("extra",r,x),function(S,C,k,I,R){if(k){var O,V=S.style,F=k.enterFrom;if(R&&F){var Y=It(F);!O&&(O=I.style={});for(var Z=0;Z<Y.length;Z++)O[Le=Y[Z]]=F[Le]}if(!R&&V)if(k.transition){var re=no(k.transition);for(!O&&(O=I.style={}),Z=0;Z<re.length;Z++){var ie=V[Le=re[Z]];O[Le]=ie}}else if(S.getAnimationStyleProps&&hn(C.transition,"style")>=0){var ae=S.getAnimationStyleProps(),ce=ae?ae.style:null;if(ce){!O&&(O=I.style={});var ve=It(k);for(Z=0;Z<ve.length;Z++)ce[Le=ve[Z]]&&(O[Le]=ie=V[Le])}}var be=k.leaveTo;if(be){var _e=It(be),Ce=rk(S),Pe=Ce.style||(Ce.style={});for(Z=0;Z<_e.length;Z++){var Le;Pe[Le=_e[Z]]=be[Le]}}}}(t,r,d,y,s),x.style=d,function(S,C){var k=S.isGroup?null:S,I=C.style;if(k&&I){k.useStyle(I);var R=I.__decalPattern;R&&(k.style.decal=R);for(var O=k.animators,V=0;V<O.length;V++){var F=O[V];"style"===F.targetName&&F.changeTarget(k.style)}}C&&(C.style=null,C&&S.attr(C),C.style=I)}(t,x),function(S,C,k,I,R){if(I){var O=Kh(S).userDuring,V={dataIndex:C,isFrom:!0,during:O?xn(sE,{el:S,userDuring:O}):null};R?ni(S,I,k,V):ro(S,I,k,V)}}(t,e,i,y,s),function(S,C,k){_n(C,"silent")&&(S.silent=C.silent),_n(C,"ignore")&&(S.ignore=C.ignore),lk(S)&&_n(C,"invisible")&&(S.invisible=C.invisible),zM(S)&&_n(C,"autoBatch")&&(S.autoBatch=C.autoBatch),k||_n(C,"info")&&(Kh(S).info=C.info)}(t,r,l),d?t.dirty():t.markRedraw()}var ou={},aE={setTransform:function(n,t){return ou.el[n]=t,this},getTransform:function(n){return ou.el[n]},setShape:function(n,t){return(ou.el.shape||(ou.el.shape={}))[n]=t,ou.isShapeDirty=!0,this},getShape:function(n){var t=ou.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=ou.el.style;return e&&(e[n]=t,ou.isStyleDirty=!0),this},getStyle:function(n){var t=ou.el.style;if(t)return t[n]},setExtra:function(n,t){return(ou.el.extra||(ou.el.extra={}))[n]=t,this},getExtra:function(n){var t=ou.el.extra;if(t)return t[n]}};function sE(){var n=this,t=n.el;if(t){var e=Kh(t).userDuring,r=n.userDuring;e===r?(ou.el=t,ou.isShapeDirty=!1,ou.isStyleDirty=!1,r(aE),ou.isShapeDirty&&t.dirtyShape&&t.dirtyShape(),ou.isStyleDirty&&t.dirtyStyle&&t.dirtyStyle()):n.el=n.userDuring=null}}function PI(n,t,e,r,o,i,s){var l=t.isGroup?null:t,u=o&&o[n].cfg;if(l){var d=l.ensureState(n);if(!1===r){var f=l.getState(n);f&&(f.style=null)}else d.style=r||null;u&&(d.textConfig=u),Kd(l)}}function lE(n,t,e){var r=e===Ly,o=r?t:VM(t,e),i=o?o.z2:null;null!=i&&((r?n:n.ensureState(e)).z2=i||0)}function LI(n,t,e,r){var o=n.get("renderItem"),i=n.coordinateSystem,s={};i&&(s=i.prepareCustoms?i.prepareCustoms(i):oE[i.type](i));for(var l,u,d=Gt({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(F,Y){return null==Y&&(Y=l),t.getStore().get(t.getDimensionIndex(F||0),Y)},style:function(F,Y){null==Y&&(Y=l);var Z=t.getItemVisual(Y,"style"),re=Z&&Z.fill,ie=Z&&Z.opacity,ae=I(Y,Ly).getItemStyle();null!=re&&(ae.fill=re),null!=ie&&(ae.opacity=ie);var ce={inheritColor:ir(re)?re:"#000"},ve=R(Y,Ly),be=Ri(ve,null,ce,!1,!0);be.text=ve.getShallow("show")?At(n.getFormattedLabel(Y,Ly),my(t,Y)):null;var _e=pd(ve,ce,!1);return V(F,ae),ae=TI(ae,be,_e),F&&O(ae,F),ae.legacy=!0,ae},ordinalRawValue:function(F,Y){null==Y&&(Y=l);var Z=t.getDimensionInfo(F=F||0);if(!Z){var re=t.getDimensionIndex(F);return re>=0?t.getStore().get(re,Y):void 0}var ie=t.get(Z.name,Y),ae=Z&&Z.ordinalMeta;return ae?ae.categories[ie]:ie},styleEmphasis:function(F,Y){null==Y&&(Y=l);var Z=I(Y,Cm).getItemStyle(),re=R(Y,Cm),ie=Ri(re,null,null,!0,!0);ie.text=re.getShallow("show")?Nt(n.getFormattedLabel(Y,Cm),n.getFormattedLabel(Y,Ly),my(t,Y)):null;var ae=pd(re,null,!0);return V(F,Z),Z=TI(Z,ie,ae),F&&O(Z,F),Z.legacy=!0,Z},visual:function(F,Y){if(null==Y&&(Y=l),_n(wI,F)){var Z=t.getItemVisual(Y,"style");return Z?Z[wI[F]]:null}if(_n(KN,F))return t.getItemVisual(Y,F)},barLayout:function(F){if("cartesian2d"===i.type)return function(Y){var Z=[],re=Y.axis;if("category"===re.type){for(var ae=re.getBandWidth(),ce=0;ce<Y.count;ce++)Z.push(Gt({bandWidth:ae,axisKey:"axis0",stackId:J_+ce},Y));var ve=xC(Z),be=[];for(ce=0;ce<Y.count;ce++){var _e=ve.axis0[J_+ce];_e.offsetCenter=_e.offset+_e.width/2,be.push(_e)}return be}}(Gt({axis:i.getBaseAxis()},F))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(F){return Lp(F,e)}},s.api||{}),f={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:uE(n.getData())},p={},v={},y={},x={},S=0;S<Ry.length;S++){var C=Ry[S];y[C]=n.getModel(ak[C]),x[C]=n.getModel(sk[C])}function k(F){return F===l?u||(u=t.getItemModel(F)):t.getItemModel(F)}function I(F,Y){return t.hasItemOption?F===l?p[Y]||(p[Y]=k(F).getModel(ak[Y])):k(F).getModel(ak[Y]):y[Y]}function R(F,Y){return t.hasItemOption?F===l?v[Y]||(v[Y]=k(F).getModel(sk[Y])):k(F).getModel(sk[Y]):x[Y]}return function(F,Y){return l=F,u=null,p={},v={},o&&o(Gt({dataIndexInside:F,dataIndex:t.getRawIndex(F),actionType:Y?Y.type:null},f),d)};function O(F,Y){for(var Z in Y)_n(Y,Z)&&(F[Z]=Y[Z])}function V(F,Y){F&&(F.textFill&&(Y.textFill=F.textFill),F.textPosition&&(Y.textPosition=F.textPosition))}}function uE(n){var t={};return ue(n.dimensions,function(e){var r=n.getDimensionInfo(e);if(!r.isExtraCoord){var o=r.coordDim;(t[o]=t[o]||[])[r.coordDimIndex]=n.getDimensionIndex(e)}}),t}function dk(n,t,e,r,o,i,s){if(r){var l=fk(n,t,e,r,o,i);return l&&s.setItemGraphicEl(e,l),l&&Jo(l,r.focus,r.blurScope),l}i.remove(t)}function fk(n,t,e,r,o,i,s){var l=-1,u=t;t&&RI(t,r,o)&&(l=hn(i.childrenRef(),t),t=null);var d,f,p=!t,v=t;v?v.clearStates():(v=uk(r),u&&((f=v).copyTransform(d=u),lk(f)&&lk(d)&&(f.setStyle(d.style),f.z=d.z,f.z2=d.z2,f.zlevel=d.zlevel,f.invisible=d.invisible,f.ignore=d.ignore,zM(f)&&zM(d)&&f.setShape(d.shape)))),!1===r.morph?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),Ff.normal.cfg=Ff.normal.conOpt=Ff.emphasis.cfg=Ff.emphasis.conOpt=Ff.blur.cfg=Ff.blur.conOpt=Ff.select.cfg=Ff.select.conOpt=null,Ff.isLegacy=!1,function(C,k,I,R,O,V){if(!C.isGroup){OI(I,null,V),OI(I,Cm,V);var F=V.normal.conOpt;if(null!=F||null!=V.emphasis.conOpt||null!=V.select.conOpt||null!=V.blur.conOpt){var ie=C.getTextContent();if(!1===F)ie&&C.removeTextContent();else{F=V.normal.conOpt=F||{type:"text"},ie?ie.clearStates():(ie=uk(F),C.setTextContent(ie)),ck(null,ie,k,F,null,R,O,!0);for(var ae=F&&F.style,ce=0;ce<Ry.length;ce++){var ve=Ry[ce];ve!==Ly&&PI(ve,ie,0,hk(F,V[ve].conOpt,ve),null)}ae?ie.dirty():ie.markRedraw()}}}}(v,e,r,o,p,Ff),function(C,k,I,R,O){var V=I.clipPath;if(!1===V)C&&C.getClipPath()&&C.removeClipPath();else if(V){var F=C.getClipPath();F&&RI(F,V,R)&&(F=null),F||(F=uk(V),C.setClipPath(F)),ck(null,F,k,V,null,R,O,!1)}}(v,e,r,o,p),ck(n,v,e,r,Ff,o,p,!1);for(var y=0;y<Ry.length;y++){var x=Ry[y];x!==Ly&&PI(x,v,0,hk(r,VM(r,x),x),Ff)}return function(C,k,I){if(!C.isGroup){var R=C,V=I.currentZLevel;R.z=I.currentZ,R.zlevel=V;var F=k.z2;null!=F&&(R.z2=F||0);for(var Y=0;Y<Ry.length;Y++)lE(R,k,Ry[Y])}}(v,r,o),"group"===r.type&&function(C,k,I,R,O){var V=R.children,F=V?V.length:0,Y=R.$mergeChildren,Z="byName"===Y||R.diffChildrenByName,re=!1===Y;if(F||Z||re){if(Z)return ie={api:C,oldChildren:k.children()||[],newChildren:V||[],dataIndex:I,seriesModel:O,group:k},void new Rf(ie.oldChildren,ie.newChildren,NI,NI,ie).add(EI).update(EI).remove(cE).execute();var ie;re&&k.removeAll();for(var ae=0;ae<F;ae++)V[ae]&&fk(C,k.childAt(ae),I,V[ae],O,k);for(var ce=k.childCount()-1;ce>=ae;ce--)pk(k.childAt(ce),O,k)}}(n,v,e,r,o),l>=0?i.replaceAt(v,l):i.add(v),v}function RI(n,t,e){var r,o=Kh(n),i=t.type,s=t.shape,l=t.style;return e.isUniversalTransitionEnabled()||null!=i&&i!==o.customGraphicType||"path"===i&&(r=s)&&(_n(r,"pathData")||_n(r,"d"))&&BI(s)!==o.customPathData||"image"===i&&_n(l,"image")&&l.image!==o.customImagePath}function OI(n,t,e){var r=t?VM(n,t):n,o=t?hk(n,r,Cm):n.style,i=n.type,s=r?r.textConfig:null,l=n.textContent,u=l?t?VM(l,t):l:null;if(o&&(e.isLegacy||SI(o,i,!!s,!!u))){e.isLegacy=!0;var d=CI(o,i,!t);!s&&d.textConfig&&(s=d.textConfig),!u&&d.textContent&&(u=d.textContent)}!t&&u&&!u.type&&(u.type="text");var p=t?e[t]:e.normal;p.cfg=s,p.conOpt=u}function VM(n,t){return t?n?n[t]:null:n}function hk(n,t,e){var r=t&&t.style;return null==r&&e===Cm&&n&&(r=n.styleEmphasis),r}function NI(n,t){var e=n&&n.name;return null!=e?e:"e\0\0"+t}function EI(n,t){var e=this.context;fk(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function cE(n){var t=this.context;pk(t.oldChildren[n],t.seriesModel,t.group)}function pk(n,t,e){if(n){var r=Kh(n).leaveToProps;r?ro(n,r,t,{cb:function(){e.remove(n)}}):e.remove(n)}}function BI(n){return n&&(n.pathData||n.d)}var P1=go(),zI=Qt,gk=xn,mk=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,r,o){var i=e.get("value"),s=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=r,o||this._lastValue!==i||this._lastStatus!==s){this._lastValue=i,this._lastStatus=s;var l=this._group,u=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(u&&u.hide());l&&l.show(),u&&u.show();var d={};this.makeElOption(d,i,t,e,r);var f=d.graphicKey;f!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=f;var p=this._moveAnimation=this.determineAnimation(t,e);if(l){var v=Yn(VI,e,p);this.updatePointerEl(l,d,v),this.updateLabelEl(l,d,v,e)}else l=this._group=new nr,this.createPointerEl(l,d,t,e),this.createLabelEl(l,d,t,e),r.getZr().add(l);WI(l,e,!0),this._renderHandle(i)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var r=e.get("animation"),o=t.axis,i="category"===o.type,s=e.get("snap");if(!s&&!i)return!1;if("auto"===r||null==r){var l=this.animationThreshold;if(i&&o.getBandWidth()>l)return!0;if(s){var u=se(t).seriesDataCount,d=o.getExtent();return Math.abs(d[0]-d[1])/u>l}return!1}return!0===r},n.prototype.makeElOption=function(t,e,r,o,i){},n.prototype.createPointerEl=function(t,e,r,o){var i=e.pointer;if(i){var s=P1(t).pointerEl=new Dg[i.type](zI(e.pointer));t.add(s)}},n.prototype.createLabelEl=function(t,e,r,o){if(e.label){var i=P1(t).labelEl=new Xr(zI(e.label));t.add(i),HI(i,o)}},n.prototype.updatePointerEl=function(t,e,r){var o=P1(t).pointerEl;o&&e.pointer&&(o.setStyle(e.pointer.style),r(o,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,r,o){var i=P1(t).labelEl;i&&(i.setStyle(e.label.style),r(i,{x:e.label.x,y:e.label.y}),HI(i,o))},n.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,r=this._axisPointerModel,o=this._api.getZr(),i=this._handle,s=r.getModel("handle"),l=r.get("status");if(!s.get("show")||!l||"hide"===l)return i&&o.remove(i),void(this._handle=null);this._handle||(e=!0,i=this._handle=Va(s.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(d){Ho(d.event)},onmousedown:gk(this._onHandleDragMove,this,0,0),drift:gk(this._onHandleDragMove,this),ondragend:gk(this._onHandleDragEnd,this)}),o.add(i)),WI(i,r,!1),i.setStyle(s.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=s.get("size");dt(u)||(u=[u,u]),i.scaleX=u[0]/2,i.scaleY=u[1]/2,tm(this,"_doDispatchAxisPointer",s.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},n.prototype._moveHandleToValue=function(t,e){VI(this._axisPointerModel,!e&&this._moveAnimation,this._handle,vk(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var r=this._handle;if(r){this._dragging=!0;var o=this.updateHandleTransform(vk(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=o,r.stopAnimation(),r.attr(vk(o)),P1(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),r=this._group,o=this._handle;e&&r&&(this._lastGraphicKey=null,r&&e.remove(r),o&&e.remove(o),this._group=null,this._handle=null,this._payloadInfo=null)},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,r){return{x:t[r=r||0],y:t[1-r],width:e[r],height:e[1-r]}},n}();function VI(n,t,e,r){FI(P1(e).lastProp,r)||(P1(e).lastProp=r,t?ro(e,r,n):(e.stopAnimation(),e.attr(r)))}function FI(n,t){if(zn(n)&&zn(t)){var e=!0;return ue(t,function(r,o){e=e&&FI(n[o],r)}),!!e}return n===t}function HI(n,t){n[t.get(["label","show"])?"show":"hide"]()}function vk(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function WI(n,t,e){var r=t.get("z"),o=t.get("zlevel");n&&n.traverse(function(i){"group"!==i.type&&(null!=r&&(i.z=r),null!=o&&(i.zlevel=o),i.silent=e)})}function yk(n){var t,e=n.get("type"),r=n.getModel(e+"Style");return"line"===e?(t=r.getLineStyle()).fill=null:"shadow"===e&&((t=r.getAreaStyle()).stroke=null),t}function GI(n,t,e,r,o){var i=UI(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=Gn(s.get("padding")||0),u=s.getFont(),d=Hu(i,u),f=o.position,p=d.width+l[1]+l[3],v=d.height+l[0]+l[2],y=o.align;"right"===y&&(f[0]-=p),"center"===y&&(f[0]-=p/2);var C,k,I,R,O,V,x=o.verticalAlign;"bottom"===x&&(f[1]-=v),"middle"===x&&(f[1]-=v/2),C=f,k=p,I=v,O=(R=r).getWidth(),V=R.getHeight(),C[0]=Math.min(C[0]+k,O)-k,C[1]=Math.min(C[1]+I,V)-I,C[0]=Math.max(C[0],0),C[1]=Math.max(C[1],0);var S=s.get("backgroundColor");S&&"auto"!==S||(S=t.get(["axisLine","lineStyle","color"])),n.label={x:f[0],y:f[1],style:Ri(s,{text:i,font:u,fill:s.getTextColor(),padding:l,backgroundColor:S}),z2:10}}function UI(n,t,e,r,o){n=t.scale.parse(n);var i=t.scale.getLabel({value:n},{precision:o.precision}),s=o.formatter;if(s){var l={value:Gb(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};ue(r,function(u){var d=e.getSeriesByIndex(u.seriesIndex),p=d&&d.getDataParams(u.dataIndexInside);p&&l.seriesData.push(p)}),ir(s)?i=s.replace("{value}",i):ge(s)&&(i=s(l))}return i}function bk(n,t,e){var r=[1,0,0,1,0,0];return Po(r,r,e.rotation),Ns(r,r,e.position),Zl([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],r)}function jI(n,t,e,r,o,i){var s=B.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=o.get(["label","margin"]),GI(t,r,o,i,{position:bk(r.axis,n,e),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function xk(n,t,e){return{x1:n[e=e||0],y1:n[1-e],x2:t[e],y2:t[1-e]}}function YI(n,t,e){return{x:n[e=e||0],y:n[1-e],width:t[e],height:t[1-e]}}function XI(n,t,e,r,o,i){return{cx:n,cy:t,r0:e,r,startAngle:o,endAngle:i,clockwise:!0}}var dE=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.makeElOption=function(e,r,o,i,s){var l=o.axis,u=l.grid,d=i.get("type"),f=qI(u,l).getOtherAxis(l).getGlobalExtent(),p=l.toGlobalCoord(l.dataToCoord(r,!0));if(d&&"none"!==d){var v=yk(i),y=fE[d](l,p,f);y.style=v,e.graphicKey=y.type,e.pointer=y}jI(r,e,a(u.model,o),o,i,s)},t.prototype.getHandleTransform=function(e,r,o){var i=a(r.axis.grid.model,r,{labelInside:!1});i.labelMargin=o.get(["handle","margin"]);var s=bk(r.axis,e,i);return{x:s[0],y:s[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,o,i){var s=o.axis,l=s.grid,u=s.getGlobalExtent(!0),d=qI(l,s).getOtherAxis(s).getGlobalExtent(),f="x"===s.dim?0:1,p=[e.x,e.y];p[f]+=r[f],p[f]=Math.min(u[1],p[f]),p[f]=Math.max(u[0],p[f]);var v=(d[1]+d[0])/2,y=[v,v];return y[f]=p[f],{x:p[0],y:p[1],rotation:e.rotation,cursorPoint:y,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][f]}},t}(mk);function qI(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var fE={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:xk([t,e[0]],[t,e[1]],ZI(n))}},shadow:function(n,t,e){var r=Math.max(1,n.getBandWidth());return{type:"Rect",shape:YI([t-r/2,e[0]],[r,e[1]-e[0]],ZI(n))}}};function ZI(n){return"x"===n.dim?0:1}var hE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="axisPointer",t.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Hr),Mm=go(),pE=ue;function KI(n,t,e){if(!Tt.node){var r=t.getZr();Mm(r).records||(Mm(r).records={}),function(o,i){function s(l,u){o.on(l,function(d){var p,v,y,f=(p=i,{dispatchAction:y=function(x){var S=v[x.type];S?S.push(x):(x.dispatchAction=y,p.dispatchAction(x))},pendings:v={showTip:[],hideTip:[]}});pE(Mm(o).records,function(p){p&&u(p,d,f.dispatchAction)}),function(p,v){var y,x=p.showTip.length,S=p.hideTip.length;x?y=p.showTip[x-1]:S&&(y=p.hideTip[S-1]),y&&(y.dispatchAction=null,v.dispatchAction(y))}(f.pendings,i)})}Mm(o).initialized||(Mm(o).initialized=!0,s("click",Yn($I,"click")),s("mousemove",Yn($I,"mousemove")),s("globalout",gE))}(r,t),(Mm(r).records[n]||(Mm(r).records[n]={})).handler=e}}function gE(n,t,e){n.handler("leave",null,e)}function $I(n,t,e,r){t.handler(n,e,r)}function _k(n,t){if(!Tt.node){var e=t.getZr();(Mm(e).records||{})[n]&&(Mm(e).records[n]=null)}}var mE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){var i=r.getComponent("tooltip"),s=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";KI("axisPointer",o,function(l,u,d){"none"!==s&&("leave"===l||s.indexOf(l)>=0)&&d({type:"updateAxisPointer",currTrigger:l,x:u&&u.offsetX,y:u&&u.offsetY})})},t.prototype.remove=function(e,r){_k("axisPointer",r)},t.prototype.dispose=function(e,r){_k("axisPointer",r)},t.type="axisPointer",t}(xi);function JI(n,t){var e,r=[],o=n.seriesIndex;if(null==o||!(e=t.getSeriesByIndex(o)))return{point:[]};var i=e.getData(),s=zd(i,n);if(null==s||s<0||dt(s))return{point:[]};var l=i.getItemGraphicEl(s),u=e.coordinateSystem;if(e.getTooltipPosition)r=e.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)if(n.isStacked){var d=u.getBaseAxis(),f=u.getOtherAxis(d).dim,v="x"===f||"radius"===f?1:0,y=i.mapDimension(d.dim),x=[];x[v]=i.get(y,s),x[1-v]=i.get(i.getCalculationInfo("stackResultDimension"),s),r=u.dataToPoint(x)||[]}else r=u.dataToPoint(i.getValues(Ht(u.dimensions,function(C){return i.mapDimension(C)}),s))||[];else if(l){var S=l.getBoundingRect().clone();S.applyTransform(l.transform),r=[S.x+S.width/2,S.y+S.height/2]}return{point:r,el:l}}var QI=go();function vE(n,t,e){var k,I,O,r=n.currTrigger,o=[n.x,n.y],i=n,s=n.dispatchAction||xn(e.dispatchAction,e),l=t.getComponent("axisPointer").coordSysAxesInfo;if(l){FM(o)&&(o=JI({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var u=FM(o),d=i.axesInfo,f=l.axesInfo,p="leave"===r||FM(o),v={},y={},x={list:[],map:{}},S={showPointer:Yn(yE,y),showTooltip:Yn(bE,x)};ue(l.coordSysMap,function(k,I){var R=u||k.containPoint(o);ue(l.coordSysAxesInfo[I],function(O,V){var F=O.axis,Y=function(re,ie){for(var ae=0;ae<(re||[]).length;ae++){var ce=re[ae];if(ie.axis.dim===ce.axisDim&&ie.axis.model.componentIndex===ce.axisIndex)return ce}}(d,O);if(!p&&R&&(!d||Y)){var Z=Y&&Y.value;null!=Z||u||(Z=F.pointToData(o)),null!=Z&&eP(O,Z,S,!1,v)}})});var C={};return ue(f,function(k,I){var R=k.linkGroup;R&&!y[I]&&ue(R.axesInfo,function(O,V){var F=y[V];if(O!==k&&F){var Y=F.value;R.mapper&&(Y=k.axis.scale.parse(R.mapper(Y,tP(O),tP(k)))),C[k.key]=Y}})}),ue(C,function(k,I){eP(f[I],k,S,!0,v)}),k=y,I=f,O=v.axesInfo=[],ue(I,function(V,F){var Y=V.axisPointerModel.option,Z=k[F];Z?(!V.useHandle&&(Y.status="show"),Y.value=Z.value,Y.seriesDataIndices=(Z.payloadBatch||[]).slice()):!V.useHandle&&(Y.status="hide"),"show"===Y.status&&O.push({axisDim:V.axis.dim,axisIndex:V.axis.model.componentIndex,value:Y.value})}),function(k,I,R,O){if(!FM(I)&&k.list.length){var V=((k.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};O({type:"showTip",escapeConnect:!0,x:I[0],y:I[1],tooltipOption:R.tooltipOption,position:R.position,dataIndexInside:V.dataIndexInside,dataIndex:V.dataIndex,seriesIndex:V.seriesIndex,dataByCoordSys:k.list})}else O({type:"hideTip"})}(x,o,n,s),function(k,I,R){var O=R.getZr(),V="axisPointerLastHighlights",F=QI(O)[V]||{},Y=QI(O)[V]={};ue(k,function(ie,ae){var ce=ie.axisPointerModel.option;"show"===ce.status&&ue(ce.seriesDataIndices,function(ve){Y[ve.seriesIndex+" | "+ve.dataIndex]=ve})});var Z=[],re=[];ue(F,function(ie,ae){!Y[ae]&&re.push(ie)}),ue(Y,function(ie,ae){!F[ae]&&Z.push(ie)}),re.length&&R.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:re}),Z.length&&R.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:Z})}(f,0,e),v}}function eP(n,t,e,r,o){var d,f,p,v,y,x,S,C,i=n.axis;if(!i.scale.isBlank()&&i.containData(t))if(n.involveSeries){var s=(v=(p=(f=n).axis).dim,y=d=t,x=[],S=Number.MAX_VALUE,C=-1,ue(f.seriesModels,function(k,I){var R,O,V=k.getData().mapDimensionsAll(v);if(k.getAxisTooltipData){var F=k.getAxisTooltipData(V,d,p);O=F.dataIndices,R=F.nestestValue}else{if(!(O=k.getData().indicesOfNearest(V[0],d,"category"===p.type?.5:null)).length)return;R=k.getData().get(V[0],O[0])}if(null!=R&&isFinite(R)){var Y=d-R,Z=Math.abs(Y);Z<=S&&((Z<S||Y>=0&&C<0)&&(S=Z,C=Y,y=R,x.length=0),ue(O,function(re){x.push({seriesIndex:k.seriesIndex,dataIndexInside:re,dataIndex:k.getData().getRawIndex(re)})}))}}),{payloadBatch:x,snapToValue:y}),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==o.seriesIndex&&tt(o,l[0]),!r&&n.snap&&i.containData(u)&&null!=u&&(t=u),e.showPointer(n,t,l),e.showTooltip(n,s,u)}else e.showPointer(n,t)}function yE(n,t,e,r){n[t.key]={value:e,payloadBatch:r}}function bE(n,t,e,r){var o=e.payloadBatch,i=t.axis,s=i.model,l=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,d=pe(u),f=n.map[d];f||(f=n.map[d]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(f)),f.dataByAxis.push({axisDim:i.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function tP(n){var t=n.axis.model,e={},r=e.axisDim=n.axis.dim;return e.axisIndex=e[r+"AxisIndex"]=t.componentIndex,e.axisName=e[r+"AxisName"]=t.name,e.axisId=e[r+"AxisId"]=t.id,e}function FM(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function Qw(n){ze.registerAxisPointerClass("CartesianAxisPointer",dE),n.registerComponentModel(hE),n.registerComponentView(mE),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!dt(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function ne(n,t){var r,o,i,s,l,u,d,e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return r=e,i=t,s=(o=n).getComponent("tooltip"),l=o.getComponent("axisPointer"),u=l.get("link",!0)||[],d=[],ue(i.getCoordinateSystems(),function(f){if(f.axisPointerEnabled){var p=pe(f.model),v=r.coordSysAxesInfo[p]={};r.coordSysMap[p]=f;var y=f.model.getModel("tooltip",s);if(ue(f.getAxes(),Yn(k,!1,null)),f.getTooltipAxes&&s&&y.get("show")){var x="axis"===y.get("trigger"),S="cross"===y.get(["axisPointer","type"]),C=f.getTooltipAxes(y.get(["axisPointer","axis"]));(x||S)&&ue(C.baseAxes,Yn(k,!S||"cross",x)),S&&ue(C.otherAxes,Yn(k,"cross",!1))}}function k(I,R,O){var V=O.model.getModel("axisPointer",l),F=V.get("show");if(F&&("auto"!==F||I||fe(V))){null==R&&(R=V.get("triggerTooltip"));var Y=(V=I?function(ve,be,_e,Ce,Pe,Le){var He=be.getModel("axisPointer"),Je={};ue(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(xt){Je[xt]=Qt(He.get(xt))}),Je.snap="category"!==ve.type&&!!Le,"cross"===He.get("type")&&(Je.type="line");var vt=Je.label||(Je.label={});if(null==vt.show&&(vt.show=!1),"cross"===Pe){var Ct=He.get(["label","show"]);if(vt.show=null==Ct||Ct,!Le){var on=Je.lineStyle=He.get("crossStyle");on&&Gt(vt,on.textStyle)}}return ve.model.getModel("axisPointer",new uo(Je,_e,Ce))}(O,y,l,o,I,R):V).get("snap"),Z=pe(O.model),re=R||Y||"category"===O.type,ie=r.axesInfo[Z]={key:Z,axis:O,coordSys:f,axisPointerModel:V,triggerTooltip:R,involveSeries:re,snap:Y,useHandle:fe(V),seriesModels:[],linkGroup:null};v[Z]=ie,r.seriesInvolved=r.seriesInvolved||re;var ae=function(ve,be){for(var _e=be.model,Ce=be.dim,Pe=0;Pe<ve.length;Pe++){var Le=ve[Pe]||{};if(te(Le[Ce+"AxisId"],_e.id)||te(Le[Ce+"AxisIndex"],_e.componentIndex)||te(Le[Ce+"AxisName"],_e.name))return Pe}}(u,O);if(null!=ae){var ce=d[ae]||(d[ae]={axesInfo:{}});ce.axesInfo[Z]=ie,ce.mapper=u[ae].mapper,ie.linkGroup=ce}}}}),e.seriesInvolved&&function(r,o){o.eachSeries(function(i){var s=i.coordinateSystem,l=i.get(["tooltip","trigger"],!0),u=i.get(["tooltip","show"],!0);s&&"none"!==l&&!1!==l&&"item"!==l&&!1!==u&&!1!==i.get(["axisPointer","show"],!0)&&ue(r.coordSysAxesInfo[pe(s.model)],function(d){var f=d.axis;s.getAxis(f.dim)===f&&(d.seriesModels.push(i),null==d.seriesDataCount&&(d.seriesDataCount=0),d.seriesDataCount+=i.getData().count())})})}(e,n),e}(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},vE)}var xE=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.makeElOption=function(e,r,o,i,s){var l=o.axis;"angle"===l.dim&&(this.animationThreshold=Math.PI/18);var u=l.polar,d=u.getOtherAxis(l).getExtent(),f=l.dataToCoord(r),p=i.get("type");if(p&&"none"!==p){var v=yk(i),y=_E[p](l,u,f,d);y.style=v,e.graphicKey=y.type,e.pointer=y}var x=function(S,C,k,I,R){var O=C.axis,V=O.dataToCoord(S),F=I.getAngleAxis().getExtent()[0];F=F/180*Math.PI;var Y,Z,re,ie=I.getRadiusAxis().getExtent();if("radius"===O.dim){var ae=[1,0,0,1,0,0];Po(ae,ae,F),Ns(ae,ae,[I.cx,I.cy]),Y=Zl([V,-R],ae);var ce=C.getModel("axisLabel").get("rotate")||0,ve=B.innerTextLayout(F,ce*Math.PI/180,-1);Z=ve.textAlign,re=ve.textVerticalAlign}else{var be=ie[1];Y=I.coordToPoint([be+R,V]);var _e=I.cx,Ce=I.cy;Z=Math.abs(Y[0]-_e)/be<.3?"center":Y[0]>_e?"left":"right",re=Math.abs(Y[1]-Ce)/be<.3?"middle":Y[1]>Ce?"top":"bottom"}return{position:Y,align:Z,verticalAlign:re}}(r,o,0,u,i.get(["label","margin"]));GI(e,o,i,s,x)},t}(mk),_E={line:function(n,t,e,r){return"angle"===n.dim?{type:"Line",shape:xk(t.coordToPoint([r[0],e]),t.coordToPoint([r[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,r){var o=Math.max(1,n.getBandWidth()),i=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:XI(t.cx,t.cy,r[0],r[1],(-e-o/2)*i,(o/2-e)*i)}:{type:"Sector",shape:XI(t.cx,t.cy,e-o/2,e+o/2,0,2*Math.PI)}}},wE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.findAxisModel=function(e){var r;return this.ecModel.eachComponent(e,function(o){o.getCoordSysModel()===this&&(r=o)},this),r},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},t}(Hr),wk=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Fi).models[0]},t.type="polarAxis",t}(Hr);Kn(wk,pm);var SE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="angleAxis",t}(wk),CE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="radiusAxis",t}(wk),Sk=function(n){function t(e,r){return n.call(this,"radius",e,r)||this}return We(t,n),t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)["radius"===this.dim?0:1]},t}(hc);Sk.prototype.dataToRadius=hc.prototype.dataToCoord,Sk.prototype.radiusToData=hc.prototype.coordToData;var ME=go(),Ck=function(n){function t(e,r){return n.call(this,"angle",e,r||[0,360])||this}return We(t,n),t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,r=e.getLabelModel(),o=e.scale,i=o.getExtent(),s=o.count();if(i[1]-i[0]<1)return 0;var l=i[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),d=Math.abs(u),f=Hu(null==l?"":l+"",r.getFont(),"center","top"),p=Math.max(f.height,7)/d;isNaN(p)&&(p=1/0);var v=Math.max(0,Math.floor(p)),y=ME(e.model),x=y.lastAutoInterval,S=y.lastTickCount;return null!=x&&null!=S&&Math.abs(x-v)<=1&&Math.abs(S-s)<=1&&x>v?v=x:(y.lastTickCount=s,y.lastAutoInterval=v),v},t}(hc);Ck.prototype.dataToAngle=hc.prototype.dataToCoord,Ck.prototype.angleToData=hc.prototype.coordToData;var nP=["radius","angle"],TE=function(){function n(t){this.dimensions=nP,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Sk,this._angleAxis=new Ck,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){return this["_"+t+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],r=this._angleAxis,o=this._radiusAxis;return r.scale.type===t&&e.push(r),o.scale.type===t&&e.push(o),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,o=this.getAngleAxis(),i=o.getExtent(),s=Math.min(i[0],i[1]),l=Math.max(i[0],i[1]);o.inverse?s=l-360:l=s+360;var u=Math.sqrt(e*e+r*r);e/=u,r/=u;for(var d=Math.atan2(-r,e)/Math.PI*180,f=d<s?1:-1;d<s||d>l;)d+=360*f;return[u,d]},n.prototype.coordToPoint=function(t){var e=t[0],r=t[1]/180*Math.PI;return[Math.cos(r)*e+this.cx,-Math.sin(r)*e+this.cy]},n.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var r=t.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-r[0]*o,endAngle:-r[1]*o,clockwise:t.inverse,contain:function(i,s){var l=i-this.cx,u=s-this.cy,d=l*l+u*u,f=this.r,p=this.r0;return d<=f*f&&d>=p*p}}},n.prototype.convertToPixel=function(t,e,r){return rP(e)===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){return rP(e)===this?this.pointToData(r):null},n}();function rP(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function kE(n,t){var e=this,r=e.getAngleAxis(),o=e.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),n.eachSeries(function(l){if(l.coordinateSystem===e){var u=l.getData();ue(o1(u,"radius"),function(d){o.scale.unionExtentFromData(u,d)}),ue(o1(u,"angle"),function(d){r.scale.unionExtentFromData(u,d)})}}),kd(r.scale,r.model),kd(o.scale,o.model),"category"===r.type&&!r.onBand){var i=r.getExtent(),s=360/r.scale.count();r.inverse?i[1]+=s:i[1]-=s,r.setExtent(i[0],i[1])}}function oP(n,t){if(n.type=t.get("type"),n.scale=hm(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),"angleAxis"===t.mainType){n.inverse=n.inverse!==t.get("clockwise");var e=t.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}t.axis=n,n.model=t}var DE={dimensions:nP,create:function(n,t){var e=[];return n.eachComponent("polar",function(r,o){var i=new TE(o+"");i.update=kE;var s=i.getRadiusAxis(),l=i.getAngleAxis(),u=r.findAxisModel("radiusAxis"),d=r.findAxisModel("angleAxis");oP(s,u),oP(l,d),function(f,p,v){var y=p.get("center"),x=v.getWidth(),S=v.getHeight();f.cx=ee(y[0],x),f.cy=ee(y[1],S);var C=f.getRadiusAxis(),k=Math.min(x,S)/2,I=p.get("radius");null==I?I=[0,"100%"]:dt(I)||(I=[0,I]);var R=[ee(I[0],k),ee(I[1],k)];C.inverse?C.setExtent(R[1],R[0]):C.setExtent(R[0],R[1])}(i,r,t),e.push(i),r.coordinateSystem=i,i.model=r}),n.eachSeries(function(r){if("polar"===r.get("coordinateSystem")){var o=r.getReferringComponents("polar",Fi).models[0];r.coordinateSystem=o.coordinateSystem}}),e}},AE=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function HM(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var r=n.coordToPoint([t[0],e]),o=n.coordToPoint([t[1],e]);return{x1:r[0],y1:r[1],x2:o[0],y2:o[1]}}function WM(n){return n.getRadiusAxis().inverse?0:1}function iP(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var IE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return We(t,n),t.prototype.render=function(e,r){if(this.group.removeAll(),e.get("show")){var o=e.axis,i=o.polar,s=i.getRadiusAxis().getExtent(),l=o.getTicksCoords(),u=o.getMinorTicksCoords(),d=Ht(o.getViewLabels(),function(f){f=Qt(f);var p=o.scale,v="ordinal"===p.type?p.getRawOrdinalNumber(f.tickValue):f.tickValue;return f.coord=o.dataToCoord(v),f});iP(d),iP(l),ue(AE,function(f){!e.get([f,"show"])||o.scale.isBlank()&&"axisLine"!==f||PE[f](this.group,e,i,l,u,s,d)},this)}},t.type="angleAxis",t}(ze),PE={axisLine:function(n,t,e,r,o,i){var s,l=t.getModel(["axisLine","lineStyle"]),u=WM(e),d=u?0:1;(s=0===i[d]?new Xl({shape:{cx:e.cx,cy:e.cy,r:i[u]},style:l.getLineStyle(),z2:1,silent:!0}):new js({shape:{cx:e.cx,cy:e.cy,r:i[u],r0:i[d]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(s)},axisTick:function(n,t,e,r,o,i){var s=t.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),u=i[WM(e)],d=Ht(r,function(f){return new Hi({shape:HM(e,[u,u+l],f.coord)})});n.add(ls(d,{style:Gt(s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,r,o,i){if(o.length){for(var s=t.getModel("axisTick"),l=t.getModel("minorTick"),u=(s.get("inside")?-1:1)*l.get("length"),d=i[WM(e)],f=[],p=0;p<o.length;p++)for(var v=0;v<o[p].length;v++)f.push(new Hi({shape:HM(e,[d,d+u],o[p][v].coord)}));n.add(ls(f,{style:Gt(l.getModel("lineStyle").getLineStyle(),Gt(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,r,o,i,s){var l=t.getCategories(!0),u=t.getModel("axisLabel"),d=u.get("margin"),f=t.get("triggerEvent");ue(s,function(p,v){var y=u,x=p.tickValue,S=i[WM(e)],C=e.coordToPoint([S+d,p.coord]),k=e.cx,I=e.cy,R=Math.abs(C[0]-k)/S<.3?"center":C[0]>k?"left":"right",O=Math.abs(C[1]-I)/S<.3?"middle":C[1]>I?"top":"bottom";if(l&&l[x]){var V=l[x];zn(V)&&V.textStyle&&(y=new uo(V.textStyle,u,u.ecModel))}var F=new Xr({silent:B.isLabelSilent(t),style:Ri(y,{x:C[0],y:C[1],fill:y.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:p.formattedLabel,align:R,verticalAlign:O})});if(n.add(F),f){var Y=B.makeAxisEventDataBase(t);Y.targetType="axisLabel",Y.value=p.rawLabel,br(F).eventData=Y}},this)},splitLine:function(n,t,e,r,o,i){var s=t.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var d=[],f=0;f<r.length;f++){var p=u++%l.length;d[p]=d[p]||[],d[p].push(new Hi({shape:HM(e,i,r[f].coord)}))}for(f=0;f<d.length;f++)n.add(ls(d[f],{style:Gt({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,r,o,i){if(o.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<o.length;u++)for(var d=0;d<o[u].length;d++)l.push(new Hi({shape:HM(e,i,o[u][d].coord)}));n.add(ls(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,r,o,i){if(r.length){var s=t.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var d=[],f=Math.PI/180,p=-r[0].coord*f,v=Math.min(i[0],i[1]),y=Math.max(i[0],i[1]),x=t.get("clockwise"),S=1,C=r.length;S<=C;S++){var k=S===C?r[0].coord:r[S].coord,I=u++%l.length;d[I]=d[I]||[],d[I].push(new Oo({shape:{cx:e.cx,cy:e.cy,r0:v,r:y,startAngle:p,endAngle:-k*f,clockwise:x},silent:!0})),p=-k*f}for(S=0;S<d.length;S++)n.add(ls(d[S],{style:Gt({fill:l[S%l.length]},s.getAreaStyle()),silent:!0}))}}},LE=["axisLine","axisTickLabel","axisName"],RE=["splitLine","splitArea","minorSplitLine"],OE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return We(t,n),t.prototype.render=function(e,r){if(this.group.removeAll(),e.get("show")){var o=this._axisGroup,i=this._axisGroup=new nr;this.group.add(i);var s=e.axis,l=s.polar,u=l.getAngleAxis(),d=s.getTicksCoords(),f=s.getMinorTicksCoords(),p=u.getExtent()[0],v=s.getExtent(),y={position:[(S=l).cx,S.cy],rotation:p/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},x=new B(e,y);ue(LE,x.add,x),i.add(x.getGroup()),sf(o,i,e),ue(RE,function(S){e.get([S,"show"])&&!s.scale.isBlank()&&NE[S](this.group,e,l,p,v,d,f)},this)}var S},t.type="radiusAxis",t}(ze),NE={splitLine:function(n,t,e,r,o,i){var s=t.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var d=[],f=0;f<i.length;f++){var p=u++%l.length;d[p]=d[p]||[],d[p].push(new Xl({shape:{cx:e.cx,cy:e.cy,r:i[f].coord}}))}for(f=0;f<d.length;f++)n.add(ls(d[f],{style:Gt({stroke:l[f%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,r,o,i,s){if(s.length){for(var l=t.getModel("minorSplitLine").getModel("lineStyle"),u=[],d=0;d<s.length;d++)for(var f=0;f<s[d].length;f++)u.push(new Xl({shape:{cx:e.cx,cy:e.cy,r:s[d][f].coord}}));n.add(ls(u,{style:Gt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,r,o,i){if(i.length){var s=t.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var d=[],f=i[0].coord,p=1;p<i.length;p++){var v=u++%l.length;d[v]=d[v]||[],d[v].push(new Oo({shape:{cx:e.cx,cy:e.cy,r0:f,r:i[p].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),f=i[p].coord}for(p=0;p<d.length;p++)n.add(ls(d[p],{style:Gt({fill:l[p%l.length]},s.getAreaStyle()),silent:!0}))}}};function aP(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function sP(n,t){return t.dim+n.model.componentIndex}function EE(n,t,e){var r={},o=function(i){var s={};ue(i,function(u,d){var f=u.getData(),p=u.coordinateSystem,v=p.getBaseAxis(),y=sP(p,v),x=v.getExtent(),S="category"===v.type?v.getBandWidth():Math.abs(x[1]-x[0])/f.count(),C=s[y]||{bandWidth:S,remainedWidth:S,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},k=C.stacks;s[y]=C;var I=aP(u);k[I]||C.autoWidthCount++,k[I]=k[I]||{width:0,maxWidth:0};var R=ee(u.get("barWidth"),S),O=ee(u.get("barMaxWidth"),S),V=u.get("barGap"),F=u.get("barCategoryGap");R&&!k[I].width&&(R=Math.min(C.remainedWidth,R),k[I].width=R,C.remainedWidth-=R),O&&(k[I].maxWidth=O),null!=V&&(C.gap=V),null!=F&&(C.categoryGap=F)});var l={};return ue(s,function(u,d){l[d]={};var f=u.stacks,v=ee(u.categoryGap,u.bandWidth),y=ee(u.gap,1),x=u.remainedWidth,S=u.autoWidthCount,C=(x-v)/(S+(S-1)*y);C=Math.max(C,0),ue(f,function(O,V){var F=O.maxWidth;F&&F<C&&(F=Math.min(F,x),O.width&&(F=Math.min(F,O.width)),x-=F,O.width=F,S--)}),C=(x-v)/(S+(S-1)*y),C=Math.max(C,0);var k,I=0;ue(f,function(O,V){O.width||(O.width=C),k=O,I+=O.width*(1+y)}),k&&(I-=k.width*y);var R=-I/2;ue(f,function(O,V){l[d][V]=l[d][V]||{offset:R,width:O.width},R+=O.width*(1+y)})}),l}(Un(t.getSeriesByType(n),function(i){return!t.isSeriesFiltered(i)&&i.coordinateSystem&&"polar"===i.coordinateSystem.type}));t.eachSeriesByType(n,function(i){if("polar"===i.coordinateSystem.type){var s=i.getData(),l=i.coordinateSystem,u=l.getBaseAxis(),d=sP(l,u),f=aP(i),p=o[d][f],v=p.offset,y=p.width,x=l.getOtherAxis(u),S=i.coordinateSystem.cx,C=i.coordinateSystem.cy,k=i.get("barMinHeight")||0,I=i.get("barMinAngle")||0;r[f]=r[f]||[];for(var R=s.mapDimension(x.dim),O=s.mapDimension(u.dim),V=Fh(s,R),F="radius"!==u.dim||!i.get("roundCap",!0),Y=x.dataToCoord(0),Z=0,re=s.count();Z<re;Z++){var ie=s.get(R,Z),ae=s.get(O,Z),ce=ie>=0?"p":"n",ve=Y;V&&(r[f][ae]||(r[f][ae]={p:Y,n:Y}),ve=r[f][ae][ce]);var be=void 0,_e=void 0,Ce=void 0,Pe=void 0;if("radius"===x.dim){var Le=x.dataToCoord(ie)-Y,He=u.dataToCoord(ae);Math.abs(Le)<k&&(Le=(Le<0?-1:1)*k),be=ve,_e=ve+Le,Pe=(Ce=He-v)-y,V&&(r[f][ae][ce]=_e)}else{var Je=x.dataToCoord(ie,F)-Y,vt=u.dataToCoord(ae);Math.abs(Je)<I&&(Je=(Je<0?-1:1)*I),_e=(be=vt+v)+y,Ce=ve,Pe=ve+Je,V&&(r[f][ae][ce]=Pe)}s.setItemLayout(Z,{cx:S,cy:C,r0:be,r:_e,startAngle:-Ce*Math.PI/180,endAngle:-Pe*Math.PI/180,clockwise:Ce>=Pe})}}})}var BE={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},zE={splitNumber:5},VE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="polar",t}(xi);function Mk(n,t){t=t||{};var r=n.axis,o={},i=r.position,s=r.orient,l=n.coordinateSystem.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],d={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};o.position=["vertical"===s?d.vertical[i]:u[0],"horizontal"===s?d.horizontal[i]:u[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[i],n.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),ut(t.labelInside,n.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var f=t.rotate;return null==f&&(f=n.get(["axisLabel","rotate"])),o.labelRotation="top"===i?-f:f,o.z2=1,o}var FE=["axisLine","axisTickLabel","axisName"],HE=["splitArea","splitLine"],WE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return We(t,n),t.prototype.render=function(e,r,o,i){var s=this.group;s.removeAll();var l=this._axisGroup;this._axisGroup=new nr;var u=Mk(e),d=new B(e,u);ue(FE,d.add,d),s.add(this._axisGroup),s.add(d.getGroup()),ue(HE,function(f){e.get([f,"show"])&&GE[f](this,this.group,this._axisGroup,e)},this),sf(l,this._axisGroup,e),n.prototype.render.call(this,e,r,o,i)},t.prototype.remove=function(){Ie(this)},t.type="singleAxis",t}(ze),GE={splitLine:function(n,t,e,r){var o=r.axis;if(!o.scale.isBlank()){var i=r.getModel("splitLine"),s=i.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=r.coordinateSystem.getRect(),d=o.isHorizontal(),f=[],p=0,v=o.getTicksCoords({tickModel:i}),y=[],x=[],S=0;S<v.length;++S){var C=o.toGlobalCoord(v[S].coord);d?(y[0]=C,y[1]=u.y,x[0]=C,x[1]=u.y+u.height):(y[0]=u.x,y[1]=C,x[0]=u.x+u.width,x[1]=C);var k=p++%l.length;f[k]=f[k]||[],f[k].push(new Hi({subPixelOptimize:!0,shape:{x1:y[0],y1:y[1],x2:x[0],y2:x[1]},silent:!0}))}var I=s.getLineStyle(["color"]);for(S=0;S<f.length;++S)t.add(ls(f[S],{style:Gt({stroke:l[S%l.length]},I),silent:!0}))}},splitArea:function(n,t,e,r){we(n,e,r,r)}},GM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Hr);Kn(GM,pm.prototype);var UE=function(n){function t(e,r,o,i,s){var l=n.call(this,e,r,o)||this;return l.type=i||"value",l.position=s||"bottom",l}return We(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,r){return this.coordinateSystem.pointToData(e)[0]},t}(hc),lP=["single"],jE=function(){function n(t,e,r){this.type="single",this.dimension="single",this.dimensions=lP,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,r)}return n.prototype._init=function(t,e,r){var i=new UE(this.dimension,hm(t),[0,0],t.get("type"),t.get("position"));i.onBand="category"===i.type&&t.get("boundaryGap"),i.inverse=t.get("inverse"),i.orient=t.get("orient"),t.axis=i,i.model=t,i.coordinateSystem=this,this._axis=i},n.prototype.update=function(t,e){t.eachSeries(function(r){if(r.coordinateSystem===this){var o=r.getData();ue(o.mapDimensionsAll(this.dimension),function(i){this._axis.scale.unionExtentFromData(o,i)},this),kd(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=va({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,r=e.isHorizontal(),o=r?[0,t.width]:[0,t.height],i=e.reverse?1:0;e.setExtent(o[i],o[1-i]),this._updateAxisTransform(e,r?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var r=t.getExtent(),o=r[0]+r[1],i=t.isHorizontal();t.toGlobalCoord=i?function(s){return s+e}:function(s){return o-s+e},t.toLocalCoord=i?function(s){return s-e}:function(s){return o-s+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),r=this.getAxis();return"horizontal"===r.orient?r.contain(r.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:r.contain(r.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),r=this.getRect(),o=[],i="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),o[i]=e.toGlobalCoord(e.dataToCoord(+t)),o[1-i]=0===i?r.y+r.height/2:r.x+r.width/2,o},n.prototype.convertToPixel=function(t,e,r){return uP(e)===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){return uP(e)===this?this.pointToData(r):null},n}();function uP(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var YE={create:function(n,t){var e=[];return n.eachComponent("singleAxis",function(r,o){var i=new jE(r,n,t);i.name="single_"+o,i.resize(r,t),r.coordinateSystem=i,e.push(i)}),n.eachSeries(function(r){if("singleAxis"===r.get("coordinateSystem")){var o=r.getReferringComponents("singleAxis",Fi).models[0];r.coordinateSystem=o&&o.coordinateSystem}}),e},dimensions:lP},cP=["x","y"],XE=["width","height"],qE=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.makeElOption=function(e,r,o,i,s){var l=o.axis,u=l.coordinateSystem,d=Tk(u,1-UM(l)),f=u.dataToPoint(r)[0],p=i.get("type");if(p&&"none"!==p){var v=yk(i),y=ZE[p](l,f,d);y.style=v,e.graphicKey=y.type,e.pointer=y}jI(r,e,Mk(o),o,i,s)},t.prototype.getHandleTransform=function(e,r,o){var i=Mk(r,{labelInside:!1});i.labelMargin=o.get(["handle","margin"]);var s=bk(r.axis,e,i);return{x:s[0],y:s[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,o,i){var s=o.axis,l=s.coordinateSystem,u=UM(s),d=Tk(l,u),f=[e.x,e.y];f[u]+=r[u],f[u]=Math.min(d[1],f[u]),f[u]=Math.max(d[0],f[u]);var p=Tk(l,1-u),v=(p[1]+p[0])/2,y=[v,v];return y[u]=f[u],{x:f[0],y:f[1],rotation:e.rotation,cursorPoint:y,tooltipOption:{verticalAlign:"middle"}}},t}(mk),ZE={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:xk([t,e[0]],[t,e[1]],UM(n))}},shadow:function(n,t,e){var r=n.getBandWidth();return{type:"Rect",shape:YI([t-r/2,e[0]],[r,e[1]-e[0]],UM(n))}}};function UM(n){return n.isHorizontal()?0:1}function Tk(n,t){var e=n.getRect();return[e[cP[t]],e[cP[t]]+e[XE[t]]]}var KE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="single",t}(xi),$E=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e,r,o){var i=ic(e);n.prototype.init.apply(this,arguments),dP(e,i)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),dP(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Hr);function dP(n,t){var e,r=n.cellSize;1===(e=dt(r)?r:n.cellSize=[r,r]).length&&(e[1]=e[0]);var o=Ht([0,1],function(i){return(null!=(s=t)[$l[l=i][0]]||null!=s[$l[l][1]]&&null!=s[$l[l][2]])&&(e[i]="auto"),null!=e[i]&&"auto"!==e[i];var s,l});bf(n,t,{type:"box",ignoreSize:o})}var JE={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},QE={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},e5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){var i=this.group;i.removeAll();var s=e.coordinateSystem,l=s.getRangeInfo(),u=s.getOrient();this._renderDayRect(e,l,i),this._renderLines(e,l,u,i),this._renderYearText(e,l,u,i),this._renderMonthText(e,u,i),this._renderWeekText(e,l,u,i)},t.prototype._renderDayRect=function(e,r,o){for(var i=e.coordinateSystem,s=e.getModel("itemStyle").getItemStyle(),l=i.getCellWidth(),u=i.getCellHeight(),d=r.start.time;d<=r.end.time;d=i.getNextNDay(d,1).time){var f=i.dataToRect([d],!1).tl,p=new eo({shape:{x:f[0],y:f[1],width:l,height:u},cursor:"default",style:s});o.add(p)}},t.prototype._renderLines=function(e,r,o,i){var s=this,l=e.coordinateSystem,u=e.getModel(["splitLine","lineStyle"]).getLineStyle(),d=e.get(["splitLine","show"]),f=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var p=r.start,v=0;p.time<=r.end.time;v++){x(p.formatedDate),0===v&&(p=l.getDateInfo(r.start.y+"-"+r.start.m));var y=p.date;y.setMonth(y.getMonth()+1),p=l.getDateInfo(y)}function x(S){s._firstDayOfMonth.push(l.getDateInfo(S)),s._firstDayPoints.push(l.dataToRect([S],!1).tl);var C=s._getLinePointsOfOneWeek(e,S,o);s._tlpoints.push(C[0]),s._blpoints.push(C[C.length-1]),d&&s._drawSplitline(C,u,i)}x(l.getNextNDay(r.end.time,1).formatedDate),d&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,f,o),u,i),d&&this._drawSplitline(s._getEdgesPoints(s._blpoints,f,o),u,i)},t.prototype._getEdgesPoints=function(e,r,o){var i=[e[0].slice(),e[e.length-1].slice()],s="horizontal"===o?0:1;return i[0][s]=i[0][s]-r/2,i[1][s]=i[1][s]+r/2,i},t.prototype._drawSplitline=function(e,r,o){var i=new xs({z2:20,shape:{points:e},style:r});o.add(i)},t.prototype._getLinePointsOfOneWeek=function(e,r,o){for(var i=e.coordinateSystem,s=i.getDateInfo(r),l=[],u=0;u<7;u++){var d=i.getNextNDay(s.time,u),f=i.dataToRect([d.time],!1);l[2*d.day]=f.tl,l[2*d.day+1]=f["horizontal"===o?"bl":"tr"]}return l},t.prototype._formatterLabel=function(e,r){return"string"==typeof e&&e?(o=e,ue(r,function(s,l){o=o.replace("{"+l+"}",s)}),o):"function"==typeof e?e(r):r.nameMap;var o},t.prototype._yearTextPositionControl=function(e,r,o,i,s){var l=r[0],u=r[1],d=["center","bottom"];"bottom"===i?(u+=s,d=["center","top"]):"left"===i?l-=s:"right"===i?(l+=s,d=["center","top"]):u-=s;var f=0;return"left"!==i&&"right"!==i||(f=Math.PI/2),{rotation:f,x:l,y:u,style:{align:d[0],verticalAlign:d[1]}}},t.prototype._renderYearText=function(e,r,o,i){var s=e.getModel("yearLabel");if(s.get("show")){var l=s.get("margin"),u=s.get("position");u||(u="horizontal"!==o?"top":"left");var d=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],f=(d[0][0]+d[1][0])/2,p=(d[0][1]+d[1][1])/2,v="horizontal"===o?0:1,y={top:[f,d[v][1]],bottom:[f,d[1-v][1]],left:[d[1-v][0],p],right:[d[v][0],p]},x=r.start.y;+r.end.y>+r.start.y&&(x=x+"-"+r.end.y);var S=s.get("formatter"),k=this._formatterLabel(S,{start:r.start.y,end:r.end.y,nameMap:x}),I=new Xr({z2:30,style:Ri(s,{text:k})});I.attr(this._yearTextPositionControl(I,y[u],o,u,l)),i.add(I)}},t.prototype._monthTextPositionControl=function(e,r,o,i,s){var l="left",u="top",d=e[0],f=e[1];return"horizontal"===o?(f+=s,r&&(l="center"),"start"===i&&(u="bottom")):(d+=s,r&&(u="middle"),"start"===i&&(l="right")),{x:d,y:f,align:l,verticalAlign:u}},t.prototype._renderMonthText=function(e,r,o){var i=e.getModel("monthLabel");if(i.get("show")){var s=i.get("nameMap"),l=i.get("margin"),u=i.get("position"),d=i.get("align"),f=[this._tlpoints,this._blpoints];ir(s)&&(s=JE[s.toUpperCase()]||[]);var p="start"===u?0:1,v="horizontal"===r?0:1;l="start"===u?-l:l;for(var y="center"===d,x=0;x<f[p].length-1;x++){var S=f[p][x].slice(),C=this._firstDayOfMonth[x];y&&(S[v]=(this._firstDayPoints[x][v]+f[0][x+1][v])/2);var I=i.get("formatter"),R=s[+C.m-1],O={yyyy:C.y,yy:(C.y+"").slice(2),MM:C.m,M:+C.m,nameMap:R},V=this._formatterLabel(I,O),F=new Xr({z2:30,style:tt(Ri(i,{text:V}),this._monthTextPositionControl(S,y,r,u,l))});o.add(F)}}},t.prototype._weekTextPositionControl=function(e,r,o,i,s){var l="center",u="middle",d=e[0],f=e[1],p="start"===o;return"horizontal"===r?(d=d+i+(p?1:-1)*s[0]/2,l=p?"right":"left"):(f=f+i+(p?1:-1)*s[1]/2,u=p?"bottom":"top"),{x:d,y:f,align:l,verticalAlign:u}},t.prototype._renderWeekText=function(e,r,o,i){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),d=s.get("nameMap"),f=s.get("margin"),p=l.getFirstDayOfWeek();ir(d)&&(d=QE[d.toUpperCase()]||[]);var v=l.getNextNDay(r.end.time,7-r.lweek).time,y=[l.getCellWidth(),l.getCellHeight()];f=ee(f,Math.min(y[1],y[0])),"start"===u&&(v=l.getNextNDay(r.start.time,-(7+r.fweek)).time,f=-f);for(var x=0;x<7;x++){var S,C=l.getNextNDay(v,x),k=l.dataToRect([C.time],!1).center;S=Math.abs((x+p)%7);var I=new Xr({z2:30,style:tt(Ri(s,{text:d[S]}),this._weekTextPositionControl(k,o,u,f,y))});i.add(I)}}},t.type="calendar",t}(xi),kk=864e5,t5=function(){function n(t,e,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){var e=(t=gn(t)).getFullYear(),r=t.getMonth()+1,o=r<10?"0"+r:""+r,i=t.getDate(),s=i<10?"0"+i:""+i,l=t.getDay();return{y:e+"",m:o,d:s,day:l=Math.abs((l+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+o+"-"+s,date:t}},n.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,o=["width","height"],i=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[r,7]:[7,r];ue([0,1],function(p){f(i,p)&&(s[o[p]]=i[p]*l[p])});var u={width:e.getWidth(),height:e.getHeight()},d=this._rect=va(s,u);function f(p,v){return null!=p[v]&&"auto"!==p[v]}ue([0,1],function(p){f(i,p)||(i[p]=d[o[p]]/l[p])}),this._sw=i[0],this._sh=i[1]},n.prototype.dataToPoint=function(t,e){dt(t)&&(t=t[0]),null==e&&(e=!0);var r=this.getDateInfo(t),o=this._rangeInfo;if(e&&!(r.time>=o.start.time&&r.time<o.end.time+kk))return[NaN,NaN];var s=r.day,l=this._getRangeInfo([o.start.time,r.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]:[this._rect.x+l*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(r,e-1,o):this._getDateByWeeksAndDay(e,r-1,o)},n.prototype.convertToPixel=function(t,e,r){var o=fP(e);return o===this?o.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){var o=fP(e);return o===this?o.pointToData(r):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(dt(e)&&1===e.length&&(e=e[0]),dt(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var o=this.getDateInfo(r),i=o.date;i.setMonth(i.getMonth()+1);var s=this.getNextNDay(i,-1);t=[o.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var l=this._getRangeInfo(t);return l.start.time>l.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(t){var e,r=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];r[0].time>r[1].time&&(e=!0,r.reverse());var o=Math.floor(r[1].time/kk)-Math.floor(r[0].time/kk)+1,i=new Date(r[0].time),s=i.getDate(),l=r[1].date.getDate();i.setDate(s+o-1);var u=i.getDate();if(u!==l)for(var d=i.getTime()-r[1].time>0?1:-1;(u=i.getDate())!==l&&(i.getTime()-r[1].time)*d>0;)o-=d,i.setDate(u-d);var f=Math.floor((o+r[0].day+6)/7),p=e?1-f:f-1;return e&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:o,weeks:f,nthWeek:p,fweek:r[0].day,lweek:r[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,r){var o=this._getRangeInfo(r);if(t>o.weeks||0===t&&e<o.fweek||t===o.weeks&&e>o.lweek)return null;var i=7*(t-1)-o.fweek+e,s=new Date(o.start.time);return s.setDate(+o.start.d+i),this.getDateInfo(s)},n.create=function(t,e){var r=[];return t.eachComponent("calendar",function(o){var i=new n(o,t,e);r.push(i),o.coordinateSystem=i}),t.eachSeries(function(o){"calendar"===o.get("coordinateSystem")&&(o.coordinateSystem=r[o.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n}();function fP(n){var t=n.calendarModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}var xx=go(),hP={path:null,compoundPath:null,group:nr,image:Yi,text:Xr},n5=function(n){var t=n.graphic;dt(t)?n.graphic=t[0]&&t[0].elements?[n.graphic[0]]:[{elements:t}]:t&&!t.elements&&(n.graphic=[{elements:[t]}])},r5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return We(t,n),t.prototype.mergeOption=function(e,r){var o=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,r),this.option.elements=o},t.prototype.optionUpdated=function(e,r){var o=this.option,i=(r?o:e).elements,s=o.elements=r?[]:o.elements,l=[];this._flatten(i,l,null);var u=Im(s,l,"normalMerge"),d=this._elOptionsToUpdate=[];ue(u,function(p,v){var x,S,C,k,I,R,y=p.newOption;y&&(d.push(y),function(x,S){var C=x.existing;if(S.id=x.keyInfo.id,!S.type&&C&&(S.type=C.type),null==S.parentId){var k=S.parentOption;k?S.parentId=k.id:C&&(S.parentId=C.parentId)}S.parentOption=null}(p,y),x=s,S=v,k=tt({},C=y),I=x[S],"merge"===(R=C.$action||"merge")?I?(en(I,k,!0),bf(I,k,{ignoreSize:!0}),u0(C,I)):x[S]=k:"replace"===R?x[S]=k:"remove"===R&&I&&(x[S]=null),function(x,S){if(x&&(x.hv=S.hv=[gP(S,["left","right"]),gP(S,["top","bottom"])],"group"===x.type)){var C=x,k=S;null==C.width&&(C.width=k.width=0),null==C.height&&(C.height=k.height=0)}}(s[v],y))},this);for(var f=s.length-1;f>=0;f--)null==s[f]?s.splice(f,1):delete s[f].$action},t.prototype._flatten=function(e,r,o){ue(e,function(i){if(i){o&&(i.parentOption=o),r.push(i);var s=i.children;"group"===i.type&&s&&this._flatten(s,r,i),delete i.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Hr),o5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(){this._elMap=bn()},t.prototype.render=function(e,r,o){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,o)},t.prototype._updateElements=function(e){var r=e.useElOptionsToUpdate();if(r){var o=this._elMap,i=this.group;ue(r,function(s){var l=ia(s.id,null),u=null!=l?o.get(l):null,d=ia(s.parentId,null),f=null!=d?o.get(d):i,p=s.type,v=s.style;"text"===p&&v&&s.hv&&s.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var y=s.textContent,x=s.textConfig;if(v&&SI(v,p,!!x,!!y)){var S=CI(v,p,!0);!x&&S.textConfig&&(x=s.textConfig=S.textConfig),!y&&S.textContent&&(y=S.textContent)}var V,C=(V=tt({},V=s),ue(["id","parentId","$action","hv","bounding","textContent"].concat(zp),function(F){delete V[F]}),V),k=s.$action||"merge";"merge"===k?u?u.attr(C):pP(l,f,C,o):"replace"===k?(jM(u,o),pP(l,f,C,o)):"remove"===k&&jM(u,o);var I=o.get(l);if(I&&y)if("merge"===k){var R=I.getTextContent();R?R.attr(y):I.setTextContent(new Xr(y))}else"replace"===k&&I.setTextContent(new Xr(y));if(I){var O=xx(I);O.__ecGraphicWidthOption=s.width,O.__ecGraphicHeightOption=s.height,function(V,F,Y){var Z=br(V).eventData;V.silent||V.ignore||Z||(Z=br(V).eventData={componentType:"graphic",componentIndex:F.componentIndex,name:V.name}),Z&&(Z.info=Y.info)}(I,e,s),_h({el:I,componentModel:e,itemName:I.name,itemTooltipOption:s.tooltip})}})}},t.prototype._relocate=function(e,r){for(var o=e.option.elements,i=this.group,s=this._elMap,l=r.getWidth(),u=r.getHeight(),d=0;d<o.length;d++)if((S=null!=(x=ia((y=o[d]).id,null))?s.get(x):null)&&S.isGroup){var f=(C=S.parent)===i,p=xx(S),v=xx(C);p.__ecGraphicWidth=ee(p.__ecGraphicWidthOption,f?l:v.__ecGraphicWidth)||0,p.__ecGraphicHeight=ee(p.__ecGraphicHeightOption,f?u:v.__ecGraphicHeight)||0}for(d=o.length-1;d>=0;d--){var y,x,S;if(S=null!=(x=ia((y=o[d]).id,null))?s.get(x):null){var C=S.parent;v=xx(C),Vg(S,y,C===i?{width:l,height:u}:{width:v.__ecGraphicWidth,height:v.__ecGraphicHeight},null,{hv:y.hv,boundingMode:y.bounding})}}},t.prototype._clear=function(){var e=this._elMap;e.each(function(r){jM(r,e)}),this._elMap=bn()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(xi);function pP(n,t,e,r){var o=e.type,s=new(_n(hP,o)?hP[o]:Ap(o))(e);t.add(s),r.set(n,s),xx(s).__ecGraphicId=n}function jM(n,t){var e=n&&n.parent;e&&("group"===n.type&&n.traverse(function(r){jM(r,t)}),t.removeKey(xx(n).__ecGraphicId),e.remove(n))}function gP(n,t){var e;return ue(t,function(r){null!=n[r]&&"auto"!==n[r]&&(e=!0)}),e}var mP=["x","y","radius","angle","single"],i5=["cartesian2d","polar","singleAxis"];function Oy(n){return n+"Axis"}function vP(n){var t=n.ecModel,e={infoList:[],infoMap:bn()};return n.eachTargetAxis(function(r,o){var i=t.getComponent(Oy(r),o);if(i){var s=i.getCoordSysModel();if(s){var l=s.uid,u=e.infoMap.get(l);u||(e.infoList.push(u={model:s,axisModels:[]}),e.infoMap.set(l,u)),u.axisModels.push(i)}}}),e}var Dk=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),eS=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return We(t,n),t.prototype.init=function(e,r,o){var i=yP(e);this.settledOption=i,this.mergeDefaultAndTheme(e,o),this._doInit(i)},t.prototype.mergeOption=function(e){var r=yP(e);en(this.option,e,!0),en(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var o=this.settledOption;ue([["start","startValue"],["end","endValue"]],function(i,s){"value"===this._rangePropMode[s]&&(r[i[0]]=o[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=bn();this._fillSpecifiedTargetAxis(r)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return ue(mP,function(o){var i=this.getReferringComponents(Oy(o),sg);if(i.specified){r=!0;var s=new Dk;ue(i.models,function(l){s.add(l.componentIndex)}),e.set(o,s)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var o=this.ecModel,i=!0;if(i){var s="vertical"===r?"y":"x";l(o.findComponents({mainType:s+"Axis"}),s)}function l(u,d){var f=u[0];if(f){var p=new Dk;if(p.add(f.componentIndex),e.set(d,p),i=!1,"x"===d||"y"===d){var v=f.getReferringComponents("grid",Fi).models[0];v&&ue(u,function(y){f.componentIndex!==y.componentIndex&&v===y.getReferringComponents("grid",Fi).models[0]&&p.add(y.componentIndex)})}}}i&&l(o.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===r}}),"single"),i&&ue(mP,function(u){if(i){var d=o.findComponents({mainType:Oy(u),filter:function(p){return"category"===p.get("type",!0)}});if(d[0]){var f=new Dk;f.add(d[0].componentIndex),e.set(u,f),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,o=this.get("rangeMode");ue([["start","startValue"],["end","endValue"]],function(i,s){var l=null!=e[i[0]],u=null!=e[i[1]];l&&!u?r[s]="percent":!l&&u?r[s]="value":o?r[s]=o[s]:l&&(r[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,o){null==e&&(e=this.ecModel.getComponent(Oy(r),o))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(o,i){ue(o.indexList,function(s){e.call(r,i,s)})})},t.prototype.getAxisProxy=function(e,r){var o=this.getAxisModel(e,r);if(o)return o.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var o=this._targetAxisInfoMap.get(e);if(o&&o.indexMap[r])return this.ecModel.getComponent(Oy(e),r)},t.prototype.setRawRange=function(e){var r=this.option,o=this.settledOption;ue([["start","startValue"],["end","endValue"]],function(i){null==e[i[0]]&&null==e[i[1]]||(r[i[0]]=o[i[0]]=e[i[0]],r[i[1]]=o[i[1]]=e[i[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;ue(["start","startValue","end","endValue"],function(o){r[o]=e[o]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(null!=e||null!=r)return this.getAxisProxy(e,r).getDataValueWindow();var o=this.findRepresentativeAxisProxy();return o?o.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,o=this._targetAxisInfoMap.keys(),i=0;i<o.length;i++)for(var s=o[i],l=this._targetAxisInfoMap.get(s),u=0;u<l.indexList.length;u++){var d=this.getAxisProxy(s,l.indexList[u]);if(d.hostedBy(this))return d;r||(r=d)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},t}(Hr);function yP(n){var t={};return ue(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var s5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="dataZoom.select",t}(eS),Ak=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o,i){this.dataZoomModel=e,this.ecModel=r,this.api=o},t.type="dataZoom",t}(xi),l5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="dataZoom.select",t}(Ak),_x=ue,bP=ye,u5=function(){function n(t,e,r,o){this._dimName=t,this._axisIndex=e,this.ecModel=o,this._dataZoomModel=r}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(s=e.get("coordinateSystem"),hn(i5,s)>=0){var r=Oy(this._dimName),o=e.getReferringComponents(r,Fi).models[0];o&&this._axisIndex===o.componentIndex&&t.push(e)}var s},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Qt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e,r=this._dataExtent,o=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),s=[0,100],l=[],u=[];_x(["start","end"],function(p,v){var y=t[p],x=t[p+"Value"];"percent"===i[v]?(null==y&&(y=s[v]),x=o.parse($(y,s,r))):(e=!0,y=$(x=null==x?r[v]:o.parse(x),r,s)),u[v]=x,l[v]=y}),bP(u),bP(l);var d=this._minMaxSpan;function f(p,v,y,x,S){var C=S?"Span":"ValueSpan";k1(0,p,y,"all",d["min"+C],d["max"+C]);for(var k=0;k<2;k++)v[k]=$(p[k],y,x,!0),S&&(v[k]=o.parse(v[k]))}return e?f(u,l,r,s,!1):f(l,u,s,r,!0),{valueWindow:u,percentWindow:l}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(o,i,s){var l=[1/0,-1/0];_x(s,function(f){var p,v;p=l,(v=f.getData())&&ue(o1(v,i),function(x){var S=v.getApproximateExtent(x);S[0]<p[0]&&(p[0]=S[0]),S[1]>p[1]&&(p[1]=S[1])})});var u=o.getAxisModel(),d=DC(u.axis.scale,u,l).calculate();return[d.min,d.max]}(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var r=this._dimName,o=this.getTargetSeriesModels(),i=t.get("filterMode"),s=this._valueWindow;"none"!==i&&_x(o,function(l){var u=l.getData(),d=u.mapDimensionsAll(r);if(d.length){if("weakFilter"===i){var f=u.getStore(),p=Ht(d,function(v){return u.getDimensionIndex(v)},u);u.filterSelf(function(v){for(var y,x,S,C=0;C<d.length;C++){var k=f.get(p[C],v),I=!isNaN(k),R=k<s[0],O=k>s[1];if(I&&!R&&!O)return!0;I&&(S=!0),R&&(y=!0),O&&(x=!0)}return S&&y&&x})}else _x(d,function(v){if("empty"===i)l.setData(u=u.map(v,function(x){return(S=x)>=s[0]&&S<=s[1]?x:NaN;var S}));else{var y={};y[v]=s,u.selectRange(y)}});_x(d,function(v){u.setApproximateExtent(s,v)})}})}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;_x(["min","max"],function(o){var i=e.get(o+"Span"),s=e.get(o+"ValueSpan");null!=s&&(s=this.getAxisModel().axis.scale.parse(s)),null!=s?i=$(r[0]+s,r,[0,100],!0):null!=i&&(s=$(i,[0,100],r,!0)-r[0]),t[o+"Span"]=i,t[o+"ValueSpan"]=s},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var o=Be(r,[0,500]);o=Math.min(o,20);var i=t.axis.scale.rawExtentInfo;0!==e[0]&&i.setDeterminedMinMax("min",+r[0].toFixed(o)),100!==e[1]&&i.setDeterminedMinMax("max",+r[1].toFixed(o)),i.freeze()}},n}(),c5={getTargetSeries:function(n){function t(o){n.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(s,l){var u=n.getComponent(Oy(s),l);o(s,l,u,i)})})}t(function(o,i,s,l){s.__dzAxisProxy=null});var e=[];t(function(o,i,s,l){s.__dzAxisProxy||(s.__dzAxisProxy=new u5(o,i,l,n),e.push(s.__dzAxisProxy))});var r=bn();return ue(e,function(o){ue(o.getTargetSeriesModels(),function(i){r.set(i.uid,i)})}),r},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,o){e.getAxisProxy(r,o).reset(e)}),e.eachTargetAxis(function(r,o){e.getAxisProxy(r,o).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var o=r.getDataPercentWindow(),i=r.getDataValueWindow();e.setCalculatedRange({start:o[0],end:o[1],startValue:i[0],endValue:i[1]})}})}},xP=!1;function Ik(n){xP||(xP=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,c5),function(t){t.registerAction("dataZoom",function(e,r){ue(function a5(n,t){var e,r=bn(),o=[],i=bn();n.eachComponent({mainType:"dataZoom",query:t},function(u){i.get(u.uid)||l(u)});do{e=!1,n.eachComponent("dataZoom",s)}while(e);function s(u){var f;!i.get(u.uid)&&(f=!1,u.eachTargetAxis(function(p,v){var y=r.get(p);y&&y[v]&&(f=!0)}),f)&&(l(u),e=!0)}function l(u){i.set(u.uid,!0),o.push(u),u.eachTargetAxis(function(d,f){(r.get(d)||r.set(d,[]))[f]=!0})}return o}(r,e),function(o){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function d5(n){n.registerComponentModel(s5),n.registerComponentView(l5),Ik(n)}var Hf=function(){},_P={};function Sx(n,t){_P[n]=t}function wP(n){return _P[n]}var f5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;ue(this.option.feature,function(r,o){var i=wP(o);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),en(r,i.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Hr);function SP(n,t){var e=Gn(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),new eo({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}var h5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.render=function(e,r,o,i){var v,y,x,S,C,k,I,s=this.group;if(s.removeAll(),e.get("show")){var l=+e.get("itemSize"),u=e.get("feature")||{},d=this._features||(this._features={}),f=[];ue(u,function(v,y){f.push(y)}),new Rf(this._featureNames||[],f).add(p).update(p).remove(Yn(p,null)).execute(),this._featureNames=f,v=s,x=o,S=(y=e).getBoxLayoutParams(),C=y.get("padding"),I=va(S,k={width:x.getWidth(),height:x.getHeight()},C),Jl(y.get("orient"),v,y.get("itemGap"),I.width,I.height),Vg(v,S,k,C),s.add(SP(s.getBoundingRect(),e)),s.eachChild(function(v){var y=v.__title,x=v.ensureState("emphasis"),S=x.textConfig||(x.textConfig={}),C=v.getTextContent(),k=C&&C.states.emphasis;if(k&&!ge(k)&&y){var I=k.style||(k.style={}),R=Hu(y,Xr.makeFont(I)),O=v.x+s.x,V=!1;v.y+s.y+l+R.height>o.getHeight()&&(S.position="top",V=!0);var F=V?-5-R.height:l+8;O+R.width/2>o.getWidth()?(S.position=["100%",F],I.align="right"):O-R.width/2<0&&(S.position=[0,F],I.align="left")}})}function p(v,y){var x,S=f[v],C=f[y],k=u[S],I=new uo(k,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===S&&(k.title=i.newTitle),S&&!C){if(0===S.indexOf("my"))x={onclick:I.option.onclick,featureName:S};else{var R=wP(S);if(!R)return;x=new R}d[S]=x}else if(!(x=d[C]))return;x.uid=oc("toolbox-feature"),x.model=I,x.ecModel=r,x.api=o;var O=x instanceof Hf;S||!C?!I.get("show")||O&&x.unusable?O&&x.remove&&x.remove(r,o):(function(V,F,Y){var Z,re,ie=V.getModel("iconStyle"),ae=V.getModel(["emphasis","iconStyle"]),ce=F instanceof Hf&&F.getIcons?F.getIcons():V.get("icon"),ve=V.get("title")||{};"string"==typeof ce?(Z={})[Y]=ce:Z=ce,"string"==typeof ve?(re={})[Y]=ve:re=ve;var be=V.iconPaths={};ue(Z,function(_e,Ce){var Pe=Va(_e,{},{x:-l/2,y:-l/2,width:l,height:l});Pe.setStyle(ie.getItemStyle()),Pe.ensureState("emphasis").style=ae.getItemStyle();var Le=new Xr({style:{text:re[Ce],align:ae.get("textAlign"),borderRadius:ae.get("textBorderRadius"),padding:ae.get("textPadding"),fill:null},ignore:!0});Pe.setTextContent(Le),_h({el:Pe,componentModel:e,itemName:Ce,formatterParamsExtra:{title:re[Ce]}}),Pe.__title=re[Ce],Pe.on("mouseover",function(){var He=ae.getItemStyle(),Je="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";Le.setStyle({fill:ae.get("textFill")||He.fill||He.stroke||"#000",backgroundColor:ae.get("textBackgroundColor")}),Pe.setTextConfig({position:ae.get("textPosition")||Je}),Le.ignore=!e.get("showTitle"),Oa(this)}).on("mouseout",function(){"emphasis"!==V.get(["iconStatus",Ce])&&Tl(this),Le.hide()}),("emphasis"===V.get(["iconStatus",Ce])?Oa:Tl)(Pe),s.add(Pe),Pe.on("click",xn(F.onclick,F,r,o,Ce)),be[Ce]=Pe})}(I,x,S),I.setIconStatus=function(V,F){var Y=this.option,Z=this.iconPaths;Y.iconStatus=Y.iconStatus||{},Y.iconStatus[V]=F,Z[V]&&("emphasis"===F?Oa:Tl)(Z[V])},x instanceof Hf&&x.render&&x.render(I,r,o,i)):O&&x.dispose&&x.dispose(r,o)}},t.prototype.updateView=function(e,r,o,i){ue(this._features,function(s){s instanceof Hf&&s.updateView&&s.updateView(s.model,r,o,i)})},t.prototype.remove=function(e,r){ue(this._features,function(o){o instanceof Hf&&o.remove&&o.remove(e,r)}),this.group.removeAll()},t.prototype.dispose=function(e,r){ue(this._features,function(o){o instanceof Hf&&o.dispose&&o.dispose(e,r)})},t.type="toolbox",t}(xi),CP=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.onclick=function(e,r){var o=this.model,i=o.get("name")||e.get("title.0.text")||"echarts",s="svg"===r.getZr().painter.getType(),l=s?"svg":o.get("type",!0)||"png",u=r.getConnectedDataURL({type:l,backgroundColor:o.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")});if("function"!=typeof MouseEvent||!Tt.browser.newEdge&&(Tt.browser.ie||Tt.browser.edge))if(window.navigator.msSaveOrOpenBlob||s){var d=u.split(","),f=d[0].indexOf("base64")>-1,p=s?decodeURIComponent(d[1]):d[1];f&&(p=window.atob(p));var v=i+"."+l;if(window.navigator.msSaveOrOpenBlob){for(var y=p.length,x=new Uint8Array(y);y--;)x[y]=p.charCodeAt(y);var S=new Blob([x]);window.navigator.msSaveOrOpenBlob(S,v)}else{var C=document.createElement("iframe");document.body.appendChild(C);var k=C.contentWindow,I=k.document;I.open("image/svg+xml","replace"),I.write(p),I.close(),k.focus(),I.execCommand("SaveAs",!0,v),document.body.removeChild(C)}}else{var R=o.get("lang"),O='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(R&&R[0]||"")+'" /></body>',V=window.open();V.document.write(O),V.document.title=i}else{var F=document.createElement("a");F.download=i+"."+l,F.target="_blank",F.href=u;var Y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});F.dispatchEvent(Y)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(Hf);CP.prototype.unusable=!Tt.canvasSupported;var MP="__ec_magicType_stack__",p5=[["line","bar"],["stack"]],g5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.getIcons=function(){var e=this.model,r=e.get("icon"),o={};return ue(e.get("type"),function(i){r[i]&&(o[i]=r[i])}),o},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,r,o){var i=this.model,s=i.get(["seriesIndex",o]);if(TP[o]){var l,u={series:[]};ue(p5,function(f){hn(f,o)>=0&&ue(f,function(p){i.setIconStatus(p,"normal")})}),i.setIconStatus(o,"emphasis"),e.eachComponent({mainType:"series",query:null==s?null:{seriesIndex:s}},function(f){var y=TP[o](f.subType,f.id,f,i);y&&(Gt(y,f.option),u.series.push(y));var x=f.coordinateSystem;if(x&&"cartesian2d"===x.type&&("line"===o||"bar"===o)){var S=x.getAxesByScale("ordinal")[0];if(S){var C=S.dim+"Axis",k=f.getReferringComponents(C,Fi).models[0].componentIndex;u[C]=u[C]||[];for(var I=0;I<=k;I++)u[C][k]=u[C][k]||{};u[C][k].boundaryGap="bar"===o}}});var d=o;"stack"===o&&(l=en({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",o])&&(d="tiled")),r.dispatchAction({type:"changeMagicType",currentType:d,newOption:u,newTitle:l,featureName:"magicType"})}},t}(Hf),TP={line:function(n,t,e,r){if("bar"===n)return en({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,t,e,r){if("line"===n)return en({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,t,e,r){var o=e.get("stack")===MP;if("line"===n||"bar"===n)return r.setIconStatus("stack",o?"normal":"emphasis"),en({id:t,stack:o?"":MP},r.get(["option","stack"])||{},!0)}};dc({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var YM=new Array(60).join("-");function XM(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Pk=new RegExp("[\t]+","g"),v5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.onclick=function(e,r){var o=r.getDom(),i=this.model;this._dom&&o.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",s.style.backgroundColor=i.get("backgroundColor")||"#fff";var l=document.createElement("h4"),u=i.get("lang")||[];l.innerHTML=u[0]||i.get("title"),l.style.cssText="margin: 10px 20px;",l.style.color=i.get("textColor");var d=document.createElement("div"),f=document.createElement("textarea");d.style.cssText="display:block;width:100%;overflow:auto;";var Y,Z,re,ce,ve,be,ie,p=i.get("optionToContent"),v=i.get("contentToOption"),y=(ce={},ve=[],be=[],e.eachRawSeries(function(_e){var Ce=_e.coordinateSystem;if(!Ce||"cartesian2d"!==Ce.type&&"polar"!==Ce.type)ve.push(_e);else{var Pe=Ce.getBaseAxis();if("category"===Pe.type){var Le=Pe.dim+"_"+Pe.index;ce[Le]||(ce[Le]={categoryAxis:Pe,valueAxis:Ce.getOtherAxis(Pe),series:[]},be.push({axisDim:Pe.dim,axisIndex:Pe.index})),ce[Le].series.push(_e)}else ve.push(_e)}}),{value:Un([(Z=(ie={seriesGroupByCategoryAxis:ce,other:ve,meta:be}).seriesGroupByCategoryAxis,re=[],ue(Z,function(ae,ce){var ve=ae.categoryAxis,be=ae.valueAxis.dim,_e=[" "].concat(Ht(ae.series,function(vt){return vt.name})),Ce=[ve.model.getCategories()];ue(ae.series,function(vt){var Ct=vt.getRawData();Ce.push(vt.getRawData().mapArray(Ct.mapDimension(be),function(on){return on}))});for(var Pe=[_e.join("\t")],Le=0;Le<Ce[0].length;Le++){for(var He=[],Je=0;Je<Ce.length;Je++)He.push(Ce[Je][Le]);Pe.push(He.join("\t"))}re.push(Pe.join("\n"))}),re.join("\n\n"+YM+"\n\n")),(Y=ie.other,Ht(Y,function(ae){var ce=ae.getRawData(),ve=[ae.name],be=[];return ce.each(ce.dimensions,function(){for(var _e=arguments.length,Ce=arguments[_e-1],Pe=ce.getName(Ce),Le=0;Le<_e-1;Le++)be[Le]=arguments[Le];ve.push((Pe?Pe+"\t":"")+be.join("\t"))}),ve.join("\n")}).join("\n\n"+YM+"\n\n"))],function(ae){return!!ae.replace(/[\n\t\s]/g,"")}).join("\n\n"+YM+"\n\n"),meta:ie.meta});if("function"==typeof p){var x=p(r.getOption());"string"==typeof x?d.innerHTML=x:ko(x)&&d.appendChild(x)}else d.appendChild(f),f.readOnly=i.get("readOnly"),f.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",f.style.color=i.get("textColor"),f.style.borderColor=i.get("textareaBorderColor"),f.style.backgroundColor=i.get("textareaColor"),f.value=y.value;var S=y.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:0;left:0;right:0;";var k="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",I=document.createElement("div"),R=document.createElement("div");k+=";background-color:"+i.get("buttonColor"),k+=";color:"+i.get("buttonTextColor");var O=this;function V(){o.removeChild(s),O._dom=null}pi(I,"click",V),pi(R,"click",function(){if(null==v&&null!=p||null!=v&&null==p)V();else{var F;try{F="function"==typeof v?v(d,r.getOption()):function m5(n,t){var e=n.split(new RegExp("\n*"+YM+"\n*","g")),r={series:[]};return ue(e,function(o,i){if(function(d){if(d.slice(0,d.indexOf("\n")).indexOf("\t")>=0)return!0}(o)){var s=function(d){for(var f=d.split(/\n+/g),p=[],v=Ht(XM(f.shift()).split(Pk),function(C){return{name:C,data:[]}}),y=0;y<f.length;y++){var x=XM(f[y]).split(Pk);p.push(x.shift());for(var S=0;S<x.length;S++)v[S]&&(v[S].data[y]=x[S])}return{series:v,categories:p}}(o),l=t[i],u=l.axisDim+"Axis";l&&(r[u]=r[u]||[],r[u][l.axisIndex]={data:s.categories},r.series=r.series.concat(s.series))}else s=function(d){for(var f=d.split(/\n+/g),p=XM(f.shift()),v=[],y=0;y<f.length;y++){var x=XM(f[y]);if(x){var S=x.split(Pk),C="",k=void 0,I=!1;isNaN(S[0])?(I=!0,C=S[0],S=S.slice(1),v[y]={name:C,value:[]},k=v[y].value):k=v[y]=[];for(var R=0;R<S.length;R++)k.push(+S[R]);1===k.length&&(I?v[y].value=k[0]:v[y]=k[0])}}return{name:p,data:v}}(o),r.series.push(s)}),r}(f.value,S)}catch(Y){throw V(),new Error("Data view format error "+Y)}F&&r.dispatchAction({type:"changeDataView",newOption:F}),V()}}),I.innerHTML=u[1],R.innerHTML=u[2],R.style.cssText=k,I.style.cssText=k,!i.get("readOnly")&&C.appendChild(R),C.appendChild(I),s.appendChild(l),s.appendChild(d),s.appendChild(C),d.style.height=o.clientHeight-80+"px",o.appendChild(s),this._dom=s},t.prototype.remove=function(e,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(Hf);function y5(n,t){return Ht(n,function(e,r){var o=t&&t[r];if(zn(o)&&!dt(o)){zn(e)&&!dt(e)||(e={value:e});var i=null!=o.name&&null==e.name;return e=Gt(e,o),i&&delete e.name,e}return e})}dc({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];ue(n.newOption.series,function(r){var o=t.getSeriesByName(r.name)[0];if(o){var i=o.get("data");e.push({name:r.name,data:y5(r.data,i)})}else e.push(tt({type:"scatter"},r))}),t.mergeOption(Gt({series:e},n.newOption))});var kP=ue,DP=go();function Lk(n){var t=DP(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var b5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.onclick=function(e,r){DP(e).snapshots=null,r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(Hf);dc({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var x5=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Rk=function(){function n(t,e,r){var o=this;this._targetInfoList=[];var i=AP(e,t);ue(_5,function(s,l){(!r||!r.include||hn(r.include,l)>=0)&&s(i,o._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(r,o,i){if((r.coordRanges||(r.coordRanges=[])).push(o),!r.coordRange){r.coordRange=o;var s=Nk[r.brushType](0,i,o);r.__rangeOffset={offset:RP[r.brushType](s.values,r.range,[1,1]),xyMinMax:s.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,r){ue(t,function(o){var i=this.findTargetInfo(o,e);i&&!0!==i&&ue(i.coordSyses,function(s){var l=Nk[o.brushType](1,s,o.range,!0);r(o,l.values,s,e)})},this)},n.prototype.setInputRanges=function(t,e){ue(t,function(r){var i,s,l,u,d=this.findTargetInfo(r,e);if(r.range=r.range||[],d&&!0!==d){r.panelId=d.panelId;var f=Nk[r.brushType](0,d.coordSys,r.coordRange),p=r.__rangeOffset;r.range=p?RP[r.brushType](f.values,p.offset,(i=p.xyMinMax,s=NP(f.xyMinMax),l=NP(i),u=[s[0]/l[0],s[1]/l[1]],isNaN(u[0])&&(u[0]=1),isNaN(u[1])&&(u[1]=1),u)):f.values}},this)},n.prototype.makePanelOpts=function(t,e){return Ht(this._targetInfoList,function(r){var o=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:NA(o),isTargetByCursor:BA(o,t,r.coordSysModel),getLinearBrushOtherExtent:EA(o)}})},n.prototype.controlSeries=function(t,e,r){var o=this.findTargetInfo(t,r);return!0===o||o&&hn(o.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var r=this._targetInfoList,o=AP(e,t),i=0;i<r.length;i++){var s=r[i],l=t.panelId;if(l){if(s.panelId===l)return s}else for(var u=0;u<IP.length;u++)if(IP[u](o,s))return s}return!0},n}();function Ok(n){return n[0]>n[1]&&n.reverse(),n}function AP(n,t){return hu(n,t,{includeMainTypes:x5})}var _5={grid:function(n,t){var e=n.xAxisModels,r=n.yAxisModels,o=n.gridModels,i=bn(),s={},l={};(e||r||o)&&(ue(e,function(u){var d=u.axis.grid.model;i.set(d.id,d),s[d.id]=!0}),ue(r,function(u){var d=u.axis.grid.model;i.set(d.id,d),l[d.id]=!0}),ue(o,function(u){i.set(u.id,u),s[u.id]=!0,l[u.id]=!0}),i.each(function(u){var f=[];ue(u.coordinateSystem.getCartesians(),function(p,v){(hn(e,p.getAxis("x").model)>=0||hn(r,p.getAxis("y").model)>=0)&&f.push(p)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:f[0],coordSyses:f,getPanelRect:PP.grid,xAxisDeclared:s[u.id],yAxisDeclared:l[u.id]})}))},geo:function(n,t){ue(n.geoModels,function(e){var r=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:PP.geo})})}},IP=[function(n,t){var e=n.xAxisModel,r=n.yAxisModel,o=n.gridModel;return!o&&e&&(o=e.axis.grid.model),!o&&r&&(o=r.axis.grid.model),o&&o===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],PP={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(Lc(n)),t}},Nk={lineX:Yn(LP,0),lineY:Yn(LP,1),rect:function(n,t,e,r){var o=n?t.pointToData([e[0][0],e[1][0]],r):t.dataToPoint([e[0][0],e[1][0]],r),i=n?t.pointToData([e[0][1],e[1][1]],r):t.dataToPoint([e[0][1],e[1][1]],r),s=[Ok([o[0],i[0]]),Ok([o[1],i[1]])];return{values:s,xyMinMax:s}},polygon:function(n,t,e,r){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:Ht(e,function(i){var s=n?t.pointToData(i,r):t.dataToPoint(i,r);return o[0][0]=Math.min(o[0][0],s[0]),o[1][0]=Math.min(o[1][0],s[1]),o[0][1]=Math.max(o[0][1],s[0]),o[1][1]=Math.max(o[1][1],s[1]),s}),xyMinMax:o}}};function LP(n,t,e,r){var o=e.getAxis(["x","y"][n]),i=Ok(Ht([0,1],function(l){return t?o.coordToData(o.toLocalCoord(r[l]),!0):o.toGlobalCoord(o.dataToCoord(r[l]))})),s=[];return s[n]=i,s[1-n]=[NaN,NaN],{values:i,xyMinMax:s}}var RP={lineX:Yn(OP,0),lineY:Yn(OP,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return Ht(n,function(r,o){return[r[0]-e[0]*t[o][0],r[1]-e[1]*t[o][1]]})}};function OP(n,t,e,r){return[t[0]-r[n]*e[0],t[1]-r[n]*e[1]]}function NP(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var Bk,zk=ue,S5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.render=function(e,r,o,i){this._brushController||(this._brushController=new B2(o.getZr()),this._brushController.on("brush",xn(this._onBrush,this)).mount()),function(s,l,u,d,f){var p=u._isZoomActive;d&&"takeGlobalCursor"===d.type&&(p="dataZoomSelect"===d.key&&d.dataZoomSelectActive),u._isZoomActive=p,s.setIconStatus("zoom",p?"emphasis":"normal");var v=new Rk(Vk(s),l,{include:["grid"]}).makePanelOpts(f,function(y){return y.xAxisDeclared&&!y.yAxisDeclared?"lineX":!y.xAxisDeclared&&y.yAxisDeclared?"lineY":"rect"});u._brushController.setPanels(v).enableBrush(!(!p||!v.length)&&{brushType:"auto",brushStyle:s.getModel("brushStyle").getItemStyle()})}(e,r,this,i,o),e.setIconStatus("back",Lk(r).length>1?"emphasis":"normal")},t.prototype.onclick=function(e,r,o){C5[o].call(this)},t.prototype.remove=function(e,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var l,u,d,r=e.areas;if(e.isEnd&&r.length){var o={},i=this.ecModel;this._brushController.updateCovers([]),new Rk(Vk(this.model),i,{include:["grid"]}).matchOutputRanges(r,i,function(l,u,d){if("cartesian2d"===d.type){var f=l.brushType;"rect"===f?(s("x",d,u[0]),s("y",d,u[1])):s({lineX:"x",lineY:"y"}[f],d,u)}}),u=o,d=Lk(l=i),kP(u,function(f,p){for(var v=d.length-1;v>=0&&!d[v][p];v--);if(v<0){var y=l.queryComponents({mainType:"dataZoom",subType:"select",id:p})[0];if(y){var x=y.getPercentRange();d[0][p]={dataZoomId:p,start:x[0],end:x[1]}}}}),d.push(u),this._dispatchZoomAction(o)}function s(l,u,d){var x,S,k,f=u.getAxis(l),p=f.model,v=(x=l,S=p,i.eachComponent({mainType:"dataZoom",subType:"select"},function(I){I.getAxisModel(x,S.componentIndex)&&(k=I)}),k),y=v.findRepresentativeAxisProxy(p).getMinMaxSpan();null==y.minValueSpan&&null==y.maxValueSpan||(d=k1(0,d.slice(),f.scale.getExtent(),0,y.minValueSpan,y.maxValueSpan)),v&&(o[v.id]={dataZoomId:v.id,startValue:d[0],endValue:d[1]})}},t.prototype._dispatchZoomAction=function(e){var r=[];zk(e,function(o,i){r.push(Qt(o))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(Hf),C5={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var t=Lk(n),e=t[t.length-1];t.length>1&&t.pop();var r={};return kP(e,function(o,i){for(var s=t.length-1;s>=0;s--)if(o=t[s][i]){r[i]=o;break}}),r}(this.ecModel))}};function Vk(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}Bk=function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var r=t.getModel(e),o=[],i=hu(n,Vk(r));return zk(i.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),zk(i.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")}),o}function s(l,u,d){var f=l.componentIndex,p={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+u+f};p[d]=f,o.push(p)}},yn(null==Yg.get("dataZoom")&&Bk),Yg.set("dataZoom",Bk);var M5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Hr);function EP(n){var t=n.get("confine");return null!=t?!!t:"richText"===n.get("renderMode")}function BP(n){if(Tt.domSupported)for(var t=document.documentElement.style,e=0,r=n.length;e<r;e++)if(n[e]in t)return n[e]}var zP=BP(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function VP(n,t){if(!n)return t;t=vf(t,!0);var e=n.indexOf(t);return(n=-1===e?t:"-"+n.slice(0,e)+"-"+t).toLowerCase()}var T5=VP(BP(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Fk=VP(zP,"transform"),k5="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Tt.transform3dSupported?"will-change:transform;":"");function FP(n,t,e){var r=n.toFixed(0)+"px",o=t.toFixed(0)+"px";if(!Tt.transformSupported)return e?"top:"+o+";left:"+r+";":[["top",o],["left",r]];var i=Tt.transform3dSupported,s="translate"+(i?"3d":"")+"("+r+","+o+(i?",0":"")+")";return e?"top:0;left:0;"+Fk+":"+s+";":[["top",0],["left",0],[zP,s]]}function HP(n,t,e,r,o){var u,f,i=t&&t.painter;if(e){var s=i&&i.getViewportRoot();s&&(u=n,f=document.body,ar(tr,s,r,o,!0)&&ar(u,f,tr[0],tr[1]))}else{n[0]=r,n[1]=o;var l=i&&i.getViewportRootOffset();l&&(n[0]+=l.offsetLeft,n[1]+=l.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var A5=function(){function n(t,e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Tt.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var i=this._zr=e.getZr(),s=this._appendToBody=r&&r.appendToBody;HP(this._styleCoord,i,s,e.getWidth()/2,e.getHeight()/2),s?document.body.appendChild(o):t.appendChild(o),this._container=t;var l=this;o.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},o.onmousemove=function(u){if(u=u||window.event,!l._enterable){var d=i.handler;$r(i.painter.getViewportRoot(),u,!0),d.dispatch("mousemove",u)}},o.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return n.prototype.update=function(t){var e,o,i=this._container,s=("position",(o=(e=i).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?o.position:null),l=i.style;"absolute"!==l.position&&"absolute"!==s&&(l.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,o=r.style,i=this._styleCoord;r.innerHTML?o.cssText=k5+function D5(n,t,e){var y,C,k,r=[],o=n.get("transitionDuration"),i=n.get("backgroundColor"),s=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),d=n.get("shadowOffsetY"),f=n.getModel("textStyle"),p=qx(n,"html");return r.push("box-shadow:"+u+"px "+d+"px "+s+"px "+l),t&&o&&r.push((k="opacity"+(C=" "+(y=o)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+C,e||(C=" "+y+"s cubic-bezier(0.23,1,0.32,1)",k+=Tt.transformSupported?","+Fk+C:",left"+C+",top"+C),T5+":"+k)),i&&(Tt.canvasSupported?r.push("background-color:"+i):(r.push("background-color:#"+el(i)),r.push("filter:alpha(opacity=70)"))),ue(["width","color","radius"],function(y){var x="border-"+y,S=vf(x),C=n.get(S);null!=C&&r.push(x+":"+C+("color"===y?"":"px"))}),r.push(function(y){var x=[],S=y.get("fontSize"),C=y.getTextColor();C&&x.push("color:"+C),x.push("font:"+y.getFont()),S&&x.push("line-height:"+Math.round(3*S/2)+"px");var k=y.get("textShadowColor"),I=y.get("textShadowBlur")||0,R=y.get("textShadowOffsetX")||0,O=y.get("textShadowOffsetY")||0;return k&&I&&x.push("text-shadow:"+R+"px "+O+"px "+I+"px "+k),ue(["decoration","align"],function(V){var F=y.get(V);F&&x.push("text-"+V+":"+F)}),x.join(";")}(f)),null!=p&&r.push("padding:"+Gn(p).join("px ")+"px"),r.join(";")+";"}(t,!this._firstShow,this._longHide)+FP(i[0],i[1],!0)+"border-color:"+xd(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):o.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,r,o,i){var s=this.el;if(null!=t){var l="";if(ir(i)&&"item"===r.get("trigger")&&!EP(r)&&(l=function(f,p,v){if(!ir(v)||"inside"===v)return"";var y=f.get("backgroundColor"),x=f.get("borderWidth");p=xd(p);var S,C,k="left"===(S=v)?"right":"right"===S?"left":"top"===S?"bottom":"top",I=Math.max(1.5*Math.round(x),6),R="",O=Fk+":";hn(["left","right"],k)>-1?(R+="top:50%",O+="translateY(-50%) rotate("+(C="left"===k?-225:-45)+"deg)"):(R+="left:50%",O+="translateX(-50%) rotate("+(C="top"===k?225:45)+"deg)");var V=C*Math.PI/180,F=I+x,Y=F*Math.abs(Math.cos(V))+F*Math.abs(Math.sin(V)),Z=p+" solid "+x+"px;";return'<div style="'+["position:absolute;width:"+I+"px;height:"+I+"px;",(R+=";"+k+":-"+Math.round(100*((Y-Math.SQRT2*x)/2+Math.SQRT2*x-(Y-F)/2))/100+"px")+";"+O+";","border-bottom:"+Z,"border-right:"+Z,"background-color:"+y+";"].join("")+'"></div>'}(r,o,i)),ir(t))s.innerHTML=t+l;else if(t){s.innerHTML="",dt(t)||(t=[t]);for(var u=0;u<t.length;u++)ko(t[u])&&t[u].parentNode!==s&&s.appendChild(t[u]);if(l&&s.childNodes.length){var d=document.createElement("div");d.innerHTML=l,s.appendChild(d)}}}else s.innerHTML=""},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},n.prototype.moveTo=function(t,e){var r=this._styleCoord;if(HP(r,this._zr,this._appendToBody,t,e),null!=r[0]&&null!=r[1]){var o=this.el.style;ue(FP(r[0],r[1]),function(i){o[i[0]]=i[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Tt.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(xn(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),I5=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),GP(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,r,o,i){zn(t)&&Hn(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new Xr({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:r.get("backgroundColor"),borderRadius:r.get("borderRadius"),borderWidth:1,borderColor:o,shadowColor:r.get("shadowColor"),shadowBlur:r.get("shadowBlur"),shadowOffsetX:r.get("shadowOffsetX"),shadowOffsetY:r.get("shadowOffsetY"),textShadowColor:s.get("textShadowColor"),textShadowBlur:s.get("textShadowBlur")||0,textShadowOffsetX:s.get("textShadowOffsetX")||0,textShadowOffsetY:s.get("textShadowOffsetY")||0,fill:r.get(["textStyle","color"]),padding:qx(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),r=WP(t.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]},n.prototype.moveTo=function(t,e){var r=this.el;if(r){var o=this._styleCoord;GP(o,this._zr,t,e),t=o[0],e=o[1];var i=r.style,s=Ny(i.borderWidth||0),l=WP(i);r.x=t+s+l.left,r.y=e+s+l.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(xn(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Ny(n){return Math.max(0,n)}function WP(n){var t=Ny(n.shadowBlur||0),e=Ny(n.shadowOffsetX||0),r=Ny(n.shadowOffsetY||0);return{left:Ny(t-e),right:Ny(t+e),top:Ny(t-r),bottom:Ny(t+r)}}function GP(n,t,e,r){n[0]=e,n[1]=r,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var Hk=xn,nS=ue,UP=ee,P5=new eo({shape:{x:-1,y:-1,width:2,height:2}}),L5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e,r){if(!Tt.node){var o,i=e.getComponent("tooltip"),s=i.get("renderMode");this._renderMode="auto"===(o=s)?Tt.domSupported?"html":"richText":o||"html",this._tooltipContent="richText"===this._renderMode?new I5(r):new A5(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},t.prototype.render=function(e,r,o){if(!Tt.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=r,this._api=o,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?zc(Hk(this._doUpdatePosition,this),50):this._doUpdatePosition}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");KI("itemTooltip",this._api,Hk(function(r,o,i){"none"!==e&&(e.indexOf(r)>=0?this._tryShow(o,i):"leave"===r&&this._hide(i))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,r=this._ecModel,o=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!o.isDisposed()&&i.manuallyShowTip(e,r,o,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,r,o,i){if(i.from!==this.uid&&!Tt.node){var s=jP(i,o);this._ticket="";var l=i.dataByCoordSys,u=function(x,S,C){var k=Lm(x).queryOptionMap,I=k.keys()[0];if(I&&"series"!==I){var R,O=Zf(S,I,k.get(I),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(O&&(C.getViewOfComponentModel(O).group.traverse(function(V){var F=br(V).tooltipConfig;if(F&&F.name===x.name)return R=V,!0}),R))return{componentMainType:I,componentIndex:O.componentIndex,el:R}}}(i,r,o);if(u){var d=u.el.getBoundingRect().clone();d.applyTransform(u.el.transform),this._tryShow({offsetX:d.x+d.width/2,offsetY:d.y+d.height/2,target:u.el,position:i.position,positionDefault:"bottom"},s)}else if(i.tooltip&&null!=i.x&&null!=i.y){var f=P5;f.x=i.x,f.y=i.y,f.update(),br(f).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:f},s)}else if(l)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:l,tooltipOption:i.tooltipOption},s);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,r,o,i))return;var p=JI(i,r),v=p.point[0],y=p.point[1];null!=v&&null!=y&&this._tryShow({offsetX:v,offsetY:y,target:p.el,position:i.position,positionDefault:"bottom"},s)}else null!=i.x&&null!=i.y&&(o.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:o.getZr().findHover(i.x,i.y).target},s))}},t.prototype.manuallyHideTip=function(e,r,o,i){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(jP(i,o))},t.prototype._manuallyAxisShowTip=function(e,r,o,i){var s=i.seriesIndex,l=i.dataIndex,u=r.getComponent("axisPointer").coordSysAxesInfo;if(null!=s&&null!=l&&null!=u){var d=r.getSeriesByIndex(s);if(d&&"axis"===qM([d.getData().getItemModel(l),d,(d.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return o.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:l,position:i.position}),!0}},t.prototype._tryShow=function(e,r){var o=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,e);else if(o){var s,l;this._lastDataByCoordSys=null,Gp(o,function(u){return null!=br(u).dataIndex?(s=u,!0):null!=br(u).tooltipConfig?(l=u,!0):void 0},!0),s?this._showSeriesItemTooltip(e,s,r):l?this._showComponentItemTooltip(e,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(e,r){var o=e.get("showDelay");r=xn(r,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(r,o):r()},t.prototype._showAxisTooltip=function(e,r){var o=this._ecModel,s=[r.offsetX,r.offsetY],l=qM([r.tooltipOption],this._tooltipModel),u=this._renderMode,d=[],f=cs("section",{blocks:[],noHeader:!0}),p=[],v=new v0;nS(e,function(I){nS(I.dataByAxis,function(R){var O=o.getComponent(R.axisDim+"Axis",R.axisIndex),V=R.value;if(O&&null!=V){var F=UI(V,O.axis,o,R.seriesDataIndices,R.valueLabelOpt),Y=cs("section",{header:F,noHeader:!Nr(F),sortBlocks:!0,blocks:[]});f.blocks.push(Y),ue(R.seriesDataIndices,function(Z){var re=o.getSeriesByIndex(Z.seriesIndex),ie=Z.dataIndexInside,ae=re.getDataParams(ie);if(!(ae.dataIndex<0)){ae.axisDim=R.axisDim,ae.axisIndex=R.axisIndex,ae.axisType=R.axisType,ae.axisId=R.axisId,ae.axisValue=Gb(O.axis,{value:V}),ae.axisValueLabel=F,ae.marker=v.makeTooltipMarker("item",xd(ae.color),u);var ce=h0(re.formatTooltip(ie,!0,null));ce.markupFragment&&Y.blocks.push(ce.markupFragment),ce.markupText&&p.push(ce.markupText),d.push(ae)}})}})}),f.blocks.reverse(),p.reverse();var y=r.position,x=l.get("order"),S=eb(f,v,u,x,o.get("useUTC"),l.get("textStyle"));S&&p.unshift(S);var k=p.join("richText"===u?"\n\n":"<br/>");this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e,d)?this._updatePosition(l,y,s[0],s[1],this._tooltipContent,d):this._showTooltipContent(l,k,d,Math.random()+"",s[0],s[1],y,null,v)})},t.prototype._showSeriesItemTooltip=function(e,r,o){var i=this._ecModel,s=br(r),l=s.seriesIndex,u=i.getSeriesByIndex(l),d=s.dataModel||u,f=s.dataIndex,p=s.dataType,v=d.getData(p),y=this._renderMode,x=e.positionDefault,S=qM([v.getItemModel(f),d,u&&(u.coordinateSystem||{}).model],this._tooltipModel,x?{position:x}:null),C=S.get("trigger");if(null==C||"item"===C){var k=d.getDataParams(f,p),I=new v0;k.marker=I.makeTooltipMarker("item",xd(k.color),y);var R=h0(d.formatTooltip(f,!1,p)),O=S.get("order"),V=R.markupFragment?eb(R.markupFragment,I,y,O,i.get("useUTC"),S.get("textStyle")):R.markupText,F="item_"+d.name+"_"+f;this._showOrMove(S,function(){this._showTooltipContent(S,V,k,F,e.offsetX,e.offsetY,e.position,e.target,I)}),o({type:"showTip",dataIndexInside:f,dataIndex:v.getRawIndex(f),seriesIndex:l,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,r,o){var i=br(r),s=i.tooltipConfig.option||{};ir(s)&&(s={content:s,formatter:s});var l=[s],u=this._ecModel.getComponent(i.componentMainType,i.componentIndex);u&&l.push(u),l.push({formatter:s.content});var d=e.positionDefault,f=qM(l,this._tooltipModel,d?{position:d}:null),p=f.get("content"),v=Math.random()+"",y=new v0;this._showOrMove(f,function(){var x=Qt(f.get("formatterParams")||{});this._showTooltipContent(f,p,x,v,e.offsetX,e.offsetY,e.position,r,y)}),o({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,r,o,i,s,l,u,d,f){if(this._ticket="",e.get("showContent")&&e.get("show")){var p=this._tooltipContent,v=e.get("formatter");u=u||e.get("position");var y=r,x=this._getNearestPoint([s,l],o,e.get("trigger"),e.get("borderColor")).color;if(v)if(ir(v)){var S=e.ecModel.get("useUTC"),C=dt(o)?o[0]:o;y=v,C&&C.axisType&&C.axisType.indexOf("time")>=0&&(y=Np(C.axisValue,y,S)),y=zg(y,o,!0)}else if(ge(v)){var k=Hk(function(I,R){I===this._ticket&&(p.setContent(R,f,e,x,u),this._updatePosition(e,u,s,l,p,o,d))},this);this._ticket=i,y=v(o,i,k)}else y=v;p.setContent(y,f,e,x,u),p.show(e,x),this._updatePosition(e,u,s,l,p,o,d)}},t.prototype._getNearestPoint=function(e,r,o,i){return"axis"===o||dt(r)?{color:i||("html"===this._renderMode?"#fff":"none")}:dt(r)?void 0:{color:i||r.color||r.borderColor}},t.prototype._doUpdatePosition=function(e,r,o,i,s,l,u){var d=this._api.getWidth(),f=this._api.getHeight();r=r||e.get("position");var I,R,V,F,Y,Z,re,ie,ae,p=s.getSize(),v=e.get("align"),y=e.get("verticalAlign"),x=u&&u.getBoundingRect().clone();if(u&&x.applyTransform(u.transform),ge(r)&&(r=r([o,i],l,s.el,x,{viewSize:[d,f],contentSize:p.slice()})),dt(r))o=UP(r[0],d),i=UP(r[1],f);else if(zn(r)){var S=r;S.width=p[0],S.height=p[1];var C=va(S,{width:d,height:f});o=C.x,i=C.y,v=null,y=null}else if(ir(r)&&u){var k=function(I,R,O,V){var F=O[0],Y=O[1],Z=Math.ceil(Math.SQRT2*V)+8,re=0,ie=0,ae=R.width,ce=R.height;switch(I){case"inside":re=R.x+ae/2-F/2,ie=R.y+ce/2-Y/2;break;case"top":re=R.x+ae/2-F/2,ie=R.y-Y-Z;break;case"bottom":re=R.x+ae/2-F/2,ie=R.y+ce+Z;break;case"left":re=R.x-F-Z,ie=R.y+ce/2-Y/2;break;case"right":re=R.x+ae+Z,ie=R.y+ce/2-Y/2}return[re,ie]}(r,x,p,e.get("borderWidth"));o=k[0],i=k[1]}else I=o,R=i,V=d,F=f,Y=v?null:20,Z=y?null:20,ie=(re=s.getSize())[0],ae=re[1],null!=Y&&(I+ie+Y+2>V?I-=ie+Y:I+=Y),null!=Z&&(R+ae+Z>F?R-=ae+Z:R+=Z),o=(k=[I,R])[0],i=k[1];v&&(o-=YP(v)?p[0]/2:"right"===v?p[0]:0),y&&(i-=YP(y)?p[1]/2:"bottom"===y?p[1]:0),EP(e)&&(k=function(I,R,O,V,F){var Y=O.getSize(),Z=Y[0],re=Y[1];return I=Math.min(I+Z,V)-Z,R=Math.min(R+re,F)-re,[I=Math.max(I,0),R=Math.max(R,0)]}(o,i,s,d,f),o=k[0],i=k[1]),s.moveTo(o,i)},t.prototype._updateContentNotChangedOnAxis=function(e,r){var o=this._lastDataByCoordSys,i=this._cbParamsList,s=!!o&&o.length===e.length;return s&&nS(o,function(l,u){var d=l.dataByAxis||[],f=(e[u]||{}).dataByAxis||[];(s=s&&d.length===f.length)&&nS(d,function(p,v){var y=f[v]||{},x=p.seriesDataIndices||[],S=y.seriesDataIndices||[];(s=s&&p.value===y.value&&p.axisType===y.axisType&&p.axisId===y.axisId&&x.length===S.length)&&nS(x,function(C,k){var I=S[k];s=s&&C.seriesIndex===I.seriesIndex&&C.dataIndex===I.dataIndex}),i&&ue(p.seriesDataIndices,function(C){var k=C.seriesIndex,I=r[k],R=i[k];I&&R&&R.data!==I.data&&(s=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=r,!!s},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,r){Tt.node||(this._tooltipContent.dispose(),_k("itemTooltip",r))},t.type="tooltip",t}(xi);function qM(n,t,e){var r,o=t.ecModel;e?(r=new uo(e,o,o),r=new uo(t.option,r,o)):r=t;for(var i=n.length-1;i>=0;i--){var s=n[i];s&&(s instanceof uo&&(s=s.get("tooltip",!0)),ir(s)&&(s={formatter:s}),s&&(r=new uo(s,r,o)))}return r}function jP(n,t){return n.dispatchAction||xn(t.dispatchAction,t)}function YP(n){return"center"===n||"middle"===n}var R5=["rect","polygon","keep","clear"];function O5(n,t){var u,d,e=no(n?n.brush:[]);if(e.length){var r=[];ue(e,function(u){var d=u.hasOwnProperty("toolbox")?u.toolbox:[];d instanceof Array&&(r=r.concat(d))});var o=n&&n.toolbox;dt(o)&&(o=o[0]),o||(n.toolbox=[o={feature:{}}]);var i=o.feature||(o.feature={}),s=i.brush||(i.brush={}),l=s.type||(s.type=[]);l.push.apply(l,r),d={},ue(u=l,function(f){d[f]=1}),u.length=0,ue(d,function(f,p){u.push(p)}),t&&!l.length&&l.push.apply(l,R5)}}var XP=ue;function qP(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function Wk(n,t,e){var r={};return XP(t,function(o){var i,s=r[o]=((i=function(){}).prototype.__hidden=i.prototype,new i);XP(n[o],function(l,u){if(gl.isValidType(u)){var d={type:u,visual:l};e&&e(d,o),s[u]=new gl(d),"opacity"===u&&((d=Qt(d)).type="colorAlpha",s.__hidden.__alphaForOpacity=new gl(d))}})}),r}function ZP(n,t,e){var r;ue(e,function(o){t.hasOwnProperty(o)&&qP(t[o])&&(r=!0)}),r&&ue(e,function(o){t.hasOwnProperty(o)&&qP(t[o])?n[o]=Qt(t[o]):delete n[o]})}var KP={lineX:$P(0),lineY:$P(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&Sd(e.range,n[0],n[1])},rect:function(n,t,e){var r=e.range;if(!n||r.length<=1)return!1;var o=n.x,i=n.y,s=n.width,l=n.height,u=r[0];return!!(Sd(r,o,i)||Sd(r,o+s,i)||Sd(r,o,i+l)||Sd(r,o+s,i+l)||Lr.create(n).contain(u[0],u[1])||Wi(o,i,o+s,i,r)||Wi(o,i,o,i+l,r)||Wi(o+s,i,o+s,i+l,r)||Wi(o,i+l,o+s,i+l,r))||void 0}}};function $P(n){var t=["x","y"],e=["width","height"];return{point:function(r,o,i){if(r)return rS(r[n],i.range)},rect:function(r,o,i){if(r){var s=i.range,l=[r[t[n]],r[t[n]]+r[e[n]]];return l[1]<l[0]&&l.reverse(),rS(l[0],s)||rS(l[1],s)||rS(s[0],l)||rS(s[1],l)}}}}function rS(n,t){return t[0]<=n&&n<=t[1]}var JP=["inBrush","outOfBrush"],Gk="__ecInBrushSelectEvent";function QP(n){n.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new Rk(t.option,n)).setInputRanges(t.areas,n)})}function E5(n,t,e){var r,o,i=[];n.eachComponent({mainType:"brush"},function(s){e&&"takeGlobalCursor"===e.type&&s.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),QP(n),n.eachComponent({mainType:"brush"},function(s,l){var u={brushId:s.id,brushIndex:l,brushName:s.name,areas:Qt(s.areas),selected:[]};i.push(u);var d=s.option,f=d.brushLink,p=[],v=[],y=[],x=!1;l||(r=d.throttleType,o=d.throttleDelay);var S=Ht(s.areas,function(R){var F,Y,Z,O=z5[R.brushType],V=Gt({boundingRect:O?O(R):void 0},R);return V.selectors=(Y=(F=V).brushType,Z={point:function(re){return KP[Y].point(re,Z,F)},rect:function(re){return KP[Y].rect(re,Z,F)}}),V}),C=Wk(s.option,JP,function(R){R.mappingMethod="fixed"});function k(R){return"all"===f||!!p[R]}function I(R){return!!R.length}dt(f)&&ue(f,function(R){p[R]=1}),n.eachSeries(function(R,O){var F,Y,Z,V=y[O]=[];"parallel"===R.subType?(Y=O,Z=(F=R).coordinateSystem,x=x||Z.hasAxisBrushed(),k(Y)&&Z.eachActiveState(F.getData(),function(re,ie){"active"===re&&(v[ie]=1)})):function(F,Y,Z){if(F.brushSelector&&(ae=Y,null==(ce=s.option.seriesIndex)||"all"===ce||!(dt(ce)?hn(ce,ae)<0:ae!==ce))&&(ue(S,function(ie){s.brushTargetManager.controlSeries(ie,F,n)&&Z.push(ie),x=x||I(Z)}),k(Y)&&I(Z))){var re=F.getData();re.each(function(ie){eL(F,Z,re,ie)&&(v[ie]=1)})}var ae,ce}(R,O,V)}),n.eachSeries(function(R,O){var V={seriesId:R.id,seriesIndex:O,seriesName:R.name,dataIndex:[]};u.selected.push(V);var F=y[O],Y=R.getData(),Z=k(O)?function(re){return v[re]?(V.dataIndex.push(Y.getRawIndex(re)),"inBrush"):"outOfBrush"}:function(re){return eL(R,F,Y,re)?(V.dataIndex.push(Y.getRawIndex(re)),"inBrush"):"outOfBrush"};(k(O)?x:I(F))&&function(re,ie,ae,ce,ve,be){var _e,Ce={};function Pe(Je){return g_(ae,_e,Je)}function Le(Je,vt){m_(ae,_e,Je,vt)}ue(re,function(Je){var vt=gl.prepareVisualTypes(ie[Je]);Ce[Je]=vt}),ae.each(function He(Je,vt){var Ct=ae.getRawDataItem(_e=Je);if(!Ct||!1!==Ct.visualMap)for(var on=ce.call(void 0,Je),xt=ie[on],Ft=Ce[on],vn=0,sn=Ft.length;vn<sn;vn++){var cn=Ft[vn];xt[cn]&&xt[cn].applyVisual(Je,Pe,Le)}})}(JP,C,Y,Z)})}),function(s,l,u,d,f){if(f){var p=s.getZr();p[Gk]||(p.__ecBrushSelect||(p.__ecBrushSelect=B5),tm(p,"__ecBrushSelect",u,l)(s,d))}}(t,r,o,i,e)}function B5(n,t){if(!n.isDisposed()){var e=n.getZr();e[Gk]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[Gk]=!1}}function eL(n,t,e,r){for(var o=0,i=t.length;o<i;o++){var s=t[o];if(n.brushSelector(r,e,s.selectors,s))return!0}}var z5={rect:function(n){return tL(n.range)},polygon:function(n){for(var t,e=n.range,r=0,o=e.length;r<o;r++){var i=e[r];i[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=i[0]),i[0]>t[0][1]&&(t[0][1]=i[0]),i[1]<t[1][0]&&(t[1][0]=i[1]),i[1]>t[1][1]&&(t[1][1]=i[1])}return t&&tL(t)}};function tL(n){return new Lr(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var V5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e,r){this.ecModel=e,this.api=r,(this._brushController=new B2(r.getZr())).on("brush",xn(this._onBrush,this)).mount()},t.prototype.render=function(e,r,o,i){this.model=e,this._updateController(e,r,o,i)},t.prototype.updateTransform=function(e,r,o,i){QP(r),this._updateController(e,r,o,i)},t.prototype.updateVisual=function(e,r,o,i){this.updateTransform(e,r,o,i)},t.prototype.updateView=function(e,r,o,i){this._updateController(e,r,o,i)},t.prototype._updateController=function(e,r,o,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(o)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var r=this.model.id,o=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:Qt(o),$from:r}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:Qt(o),$from:r})},t.type="brush",t}(xi),F5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return We(t,n),t.prototype.optionUpdated=function(e,r){var o=this.option;!r&&ZP(o,e,["inBrush","outOfBrush"]);var i=o.inBrush=o.inBrush||{};o.outOfBrush=o.outOfBrush||{color:"#ddd"},i.hasOwnProperty("liftZ")||(i.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=Ht(e,function(r){return nL(this.option,r)},this))},t.prototype.setBrushOption=function(e){this.brushOption=nL(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Hr);function nL(n,t){return en({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new uo(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}var H5=["rect","polygon","lineX","lineY","keep","clear"],W5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return We(t,n),t.prototype.render=function(e,r,o){var i,s,l;r.eachComponent({mainType:"brush"},function(u){i=u.brushType,s=u.brushOption.brushMode||"single",l=l||!!u.areas.length}),this._brushType=i,this._brushMode=s,ue(e.get("type",!0),function(u){e.setIconStatus(u,("keep"===u?"multiple"===s:"clear"===u?l:u===i)?"emphasis":"normal")})},t.prototype.updateView=function(e,r,o){this.render(e,r,o)},t.prototype.getIcons=function(){var e=this.model,r=e.get("icon",!0),o={};return ue(e.get("type",!0),function(i){r[i]&&(o[i]=r[i])}),o},t.prototype.onclick=function(e,r,o){var i=this._brushType,s=this._brushMode;"clear"===o?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===o?i:i!==o&&o,brushMode:"keep"===o?"multiple"===s?"single":"multiple":s}})},t.getDefaultOption=function(e){return{show:!0,type:H5.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(Hf),G5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return We(t,n),t.type="title",t.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Hr),U5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.render=function(e,r,o){if(this.group.removeAll(),e.get("show")){var i=this.group,s=e.getModel("textStyle"),l=e.getModel("subtextStyle"),u=e.get("textAlign"),d=At(e.get("textBaseline"),e.get("textVerticalAlign")),f=new Xr({style:Ri(s,{text:e.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),p=f.getBoundingRect(),v=e.get("subtext"),y=new Xr({style:Ri(l,{text:v,fill:l.getTextColor(),y:p.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),x=e.get("link"),S=e.get("sublink"),C=e.get("triggerEvent",!0);f.silent=!x&&!C,y.silent=!S&&!C,x&&f.on("click",function(){Oc(x,"_"+e.get("target"))}),S&&y.on("click",function(){Oc(S,"_"+e.get("subtarget"))}),br(f).eventData=br(y).eventData=C?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(f),v&&i.add(y);var k=i.getBoundingRect(),I=e.getBoxLayoutParams();I.width=k.width,I.height=k.height;var R=va(I,{width:o.getWidth(),height:o.getHeight()},e.get("padding"));u||("middle"===(u=e.get("left")||e.get("right"))&&(u="center"),"right"===u?R.x+=R.width:"center"===u&&(R.x+=R.width/2)),d||("center"===(d=e.get("top")||e.get("bottom"))&&(d="middle"),"bottom"===d?R.y+=R.height:"middle"===d&&(R.y+=R.height/2),d=d||"top"),i.x=R.x,i.y=R.y,i.markRedraw();var O={align:u,verticalAlign:d};f.setStyle(O),y.setStyle(O),k=i.getBoundingRect();var V=R.margin,F=e.getItemStyle(["color","opacity"]);F.fill=e.get("backgroundColor");var Y=new eo({shape:{x:k.x-V[3],y:k.y-V[0],width:k.width+V[1]+V[3],height:k.height+V[0]+V[2],r:e.get("borderRadius")},style:F,subPixelOptimize:!0,silent:!0});i.add(Y)}},t.type="title",t}(xi),rL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return We(t,n),t.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var r=this._data.count();this.option.loop?e=(e%r+r)%r:(e>=r&&(e=r-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,r=this.option,o=r.data||[],i=r.axisType,s=this._names=[];"category"===i?(e=[],ue(o,function(u,d){var f,p=ia(bi(u),"");zn(u)?(f=Qt(u)).value=d:f=d,e.push(f),s.push(p)})):e=o,(this._data=new ba([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[i]||"number"}],this)).initData(e,s)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Hr),oL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="timeline.slider",t.defaultOption=Su(rL.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(rL);Kn(oL,X1.prototype);var j5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="timeline",t}(xi),Y5=function(n){function t(e,r,o,i){var s=n.call(this,e,r,o)||this;return s.type=i||"value",s}return We(t,n),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(hc),Uk=Math.PI,iL=go(),X5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(e,r){this.api=r},t.prototype.render=function(e,r,o){if(this.model=e,this.api=o,this.ecModel=r,this.group.removeAll(),e.get("show",!0)){var i=this._layout(e,o),s=this._createGroup("_mainGroup"),l=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(i,e);e.formatTooltip=function(d){return cs("nameValue",{noName:!0,value:u.scale.getLabel({value:d})})},ue(["AxisLine","AxisTick","Control","CurrentPointer"],function(d){this["_render"+d](i,s,u,e)},this),this._renderAxisLabel(i,l,u,e),this._position(i,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,r){var o,i,s,l,ce,ve,u=e.get(["label","position"]),d=e.get("orient"),f=(ve=r,va((ce=e).getBoxLayoutParams(),{width:ve.getWidth(),height:ve.getHeight()},ce.get("padding"))),p={horizontal:"center",vertical:(o=null==u||"auto"===u?"horizontal"===d?f.y+f.height/2<r.getHeight()/2?"-":"+":f.x+f.width/2<r.getWidth()/2?"+":"-":ir(u)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][u]:u)>=0||"+"===o?"left":"right"},v={horizontal:o>=0||"+"===o?"top":"bottom",vertical:"middle"},y={horizontal:0,vertical:Uk/2},x="vertical"===d?f.height:f.width,S=e.getModel("controlStyle"),C=S.get("show",!0),k=C?S.get("itemSize"):0,I=C?S.get("itemGap"):0,R=k+I,O=e.get(["label","rotate"])||0;O=O*Uk/180;var V=S.get("position",!0),F=C&&S.get("showPlayBtn",!0),Y=C&&S.get("showPrevBtn",!0),Z=C&&S.get("showNextBtn",!0),re=0,ie=x;"left"===V||"bottom"===V?(F&&(i=[0,0],re+=R),Y&&(s=[re,0],re+=R),Z&&(l=[ie-k,0],ie-=R)):(F&&(i=[ie-k,0],ie-=R),Y&&(s=[0,0],re+=R),Z&&(l=[ie-k,0],ie-=R));var ae=[re,ie];return e.get("inverse")&&ae.reverse(),{viewRect:f,mainLength:x,orient:d,rotation:y[d],labelRotation:O,labelPosOpt:o,labelAlign:e.get(["label","align"])||p[d],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||v[d],playPosition:i,prevBtnPosition:s,nextBtnPosition:l,axisExtent:ae,controlSize:k,controlGap:I}},t.prototype._position=function(e,r){var o=this._mainGroup,i=this._labelGroup,s=e.viewRect;if("vertical"===e.orient){var l=[1,0,0,1,0,0],u=s.x,d=s.y+s.height;Ns(l,l,[-u,-d]),Po(l,l,-Uk/2),Ns(l,l,[u,d]),(s=s.clone()).applyTransform(l)}var f=I(s),p=I(o.getBoundingRect()),v=I(i.getBoundingRect()),y=[o.x,o.y],x=[i.x,i.y];x[0]=y[0]=f[0][0];var S,C=e.labelPosOpt;function k(O){O.originX=f[0][0]-O.x,O.originY=f[1][0]-O.y}function I(O){return[[O.x,O.x+O.width],[O.y,O.y+O.height]]}function R(O,V,F,Y,Z){O[Y]+=F[Y][Z]-V[Y][Z]}null==C||ir(C)?(R(y,p,f,1,S="+"===C?0:1),R(x,v,f,1,1-S)):(R(y,p,f,1,S=C>=0?0:1),x[1]=y[1]+C),o.setPosition(y),i.setPosition(x),o.rotation=i.rotation=e.rotation,k(o),k(i)},t.prototype._createAxis=function(e,r){var o=r.getData(),i=r.get("axisType"),s=function(d,f){if(f=f||d.get("type"))switch(f){case"category":return new Q0({ordinalMeta:d.getCategories(),extent:[1/0,-1/0]});case"time":return new Bb({locale:d.ecModel.getLocaleModel(),useUTC:d.ecModel.get("useUTC")});default:return new Yp}}(r,i);s.getTicks=function(){return o.mapArray(["value"],function(d){return{value:d}})};var l=o.getDataExtent("value");s.setExtent(l[0],l[1]),s.niceTicks();var u=new Y5("value",s,e.axisExtent,i);return u.model=r,u},t.prototype._createGroup=function(e){var r=this[e]=new nr;return this.group.add(r),r},t.prototype._renderAxisLine=function(e,r,o,i){var s=o.getExtent();if(i.get(["lineStyle","show"])){var l=new Hi({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:tt({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(l);var u=this._progressLine=new Hi({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:Gt({lineCap:"round",lineWidth:l.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(u)}},t.prototype._renderAxisTick=function(e,r,o,i){var s=this,l=i.getData(),u=o.scale.getTicks();this._tickSymbols=[],ue(u,function(d){var f=o.dataToCoord(d.value),p=l.getItemModel(d.value),v=p.getModel("itemStyle"),y=p.getModel(["emphasis","itemStyle"]),x=p.getModel(["progress","itemStyle"]),S={x:f,y:0,onclick:xn(s._changeTimeline,s,d.value)},C=aL(p,v,r,S);C.ensureState("emphasis").style=y.getItemStyle(),C.ensureState("progress").style=x.getItemStyle(),Jo(C);var k=br(C);p.get("tooltip")?(k.dataIndex=d.value,k.dataModel=i):k.dataIndex=k.dataModel=null,s._tickSymbols.push(C)})},t.prototype._renderAxisLabel=function(e,r,o,i){var s=this;if(o.getLabelModel().get("show")){var l=i.getData(),u=o.getViewLabels();this._tickLabels=[],ue(u,function(d){var f=d.tickValue,p=l.getItemModel(f),v=p.getModel("label"),y=p.getModel(["emphasis","label"]),x=p.getModel(["progress","label"]),S=o.dataToCoord(d.tickValue),C=new Xr({x:S,y:0,rotation:e.labelRotation-e.rotation,onclick:xn(s._changeTimeline,s,f),silent:!1,style:Ri(v,{text:d.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});C.ensureState("emphasis").style=Ri(y),C.ensureState("progress").style=Ri(x),r.add(C),Jo(C),iL(C).dataIndex=f,s._tickLabels.push(C)})}},t.prototype._renderControl=function(e,r,o,i){var s=e.controlSize,l=e.rotation,u=i.getModel("controlStyle").getItemStyle(),d=i.getModel(["emphasis","controlStyle"]).getItemStyle(),f=i.getPlayState(),p=i.get("inverse",!0);function v(y,x,S,C){if(y){var k=Bo(At(i.get(["controlStyle",x+"BtnSize"]),s),s),I=(V=[0,-k/2,k,k],Y=(F={x:y[0],y:y[1],originX:s/2,originY:0,rotation:C?-l:0,rectHover:!0,style:u,onclick:S}).style,Z=Va(i.get(["controlStyle",x+"Icon"]),F||{},new Lr(V[0],V[1],V[2],V[3])),Y&&Z.setStyle(Y),Z);I.ensureState("emphasis").style=d,r.add(I),Jo(I)}var V,F,Y,Z}v(e.nextBtnPosition,"next",xn(this._changeTimeline,this,p?"-":"+")),v(e.prevBtnPosition,"prev",xn(this._changeTimeline,this,p?"+":"-")),v(e.playPosition,f?"stop":"play",xn(this._handlePlayClick,this,!f),!0)},t.prototype._renderCurrentPointer=function(e,r,o,i){var s=i.getData(),l=i.getCurrentIndex(),u=s.getItemModel(l).getModel("checkpointStyle"),d=this;this._currentPointer=aL(u,u,this._mainGroup,{},this._currentPointer,{onCreate:function(p){p.draggable=!0,p.drift=xn(d._handlePointerDrag,d),p.ondragend=xn(d._handlePointerDragend,d),sL(p,d._progressLine,l,o,i,!0)},onUpdate:function(p){sL(p,d._progressLine,l,o,i)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,r,o){this._clearTimer(),this._pointerChangeTimeline([o.offsetX,o.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,r){var o=this._toAxisCoord(e)[0],i=ye(this._axis.getExtent().slice());o>i[1]&&(o=i[1]),o<i[0]&&(o=i[0]),this._currentPointer.x=o,this._currentPointer.markRedraw(),this._progressLine.shape.x2=o,this._progressLine.dirty();var s=this._findNearestTick(o),l=this.model;(r||s!==l.getCurrentIndex()&&l.get("realtime"))&&this._changeTimeline(s)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=e.model;e._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Zl(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var r,o=this.model.getData(),i=1/0,s=this._axis;return o.each(["value"],function(l,u){var d=s.dataToCoord(l),f=Math.abs(d-e);f<i&&(i=f,r=u)}),r},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var r=this.model.getCurrentIndex();"+"===e?e=r+1:"-"===e&&(e=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),r=this._tickSymbols,o=this._tickLabels;if(r)for(var i=0;i<r.length;i++)r&&r[i]&&r[i].toggleState("progress",i<e);if(o)for(i=0;i<o.length;i++)o&&o[i]&&o[i].toggleState("progress",iL(o[i]).dataIndex<=e)},t.type="timeline.slider",t}(j5);function aL(n,t,e,r,o,i){var s=t.get("color");o?(o.setColor(s),e.add(o),i&&i.onUpdate(o)):((o=qi(n.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),e.add(o),i&&i.onCreate(o));var l=t.getItemStyle(["color"]);o.setStyle(l),r=en({rectHover:!0,z2:100},r,!0);var u=Fv(n.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var d=rm(n.get("symbolOffset"),u);d&&(r.x=(r.x||0)+d[0],r.y=(r.y||0)+d[1]);var f=n.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,o.attr(r),o.updateTransform(),o}function sL(n,t,e,r,o,i){if(!n.dragging){var s=o.getModel("checkpointStyle"),l=r.dataToCoord(o.getData().get("value",e));if(i||!s.get("animation",!0))n.attr({x:l,y:0}),t&&t.attr({shape:{x2:l}});else{var u={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:l,y:0},u),t&&t.animateTo({shape:{x2:l}},u)}}}function q5(n){var t=n&&n.timeline;dt(t)||(t=t?[t]:[]),ue(t,function(e){e&&function(r){var o=r.type,i={number:"value",time:"time"};if(i[o]&&(r.axisType=i[o],delete r.type),lL(r),L1(r,"controlPosition")){var s=r.controlStyle||(r.controlStyle={});L1(s,"position")||(s.position=r.controlPosition),"none"!==s.position||L1(s,"show")||(s.show=!1,delete s.position),delete r.controlPosition}ue(r.data||[],function(l){zn(l)&&!dt(l)&&(!L1(l,"value")&&L1(l,"name")&&(l.value=l.name),lL(l))})}(e)})}function lL(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),r=n.label||n.label||{},o=r.normal||(r.normal={}),i={normal:1,emphasis:1};ue(r,function(s,l){i[l]||L1(o,l)||(o[l]=s)}),e.label&&!L1(r,"emphasis")&&(r.emphasis=e.label,delete e.label)}function L1(n,t){return n.hasOwnProperty(t)}function jk(n,t){if(!n)return!1;for(var e=dt(n)?n:[n],r=0;r<e.length;r++)if(e[r]&&e[r][t])return!0;return!1}function ZM(n){oa(n,"label",["show"])}var KM=go(),Tm=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return We(t,n),t.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o),this._mergeOption(e,o,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Tt.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,r){this._mergeOption(e,r,!1,!1)},t.prototype._mergeOption=function(e,r,o,i){var s=this.mainType;o||r.eachSeries(function(l){var u=l.get(this.mainType,!0),d=KM(l)[s];u&&u.data?(d?d._mergeOption(u,r,!0):(i&&ZM(u),ue(u.data,function(f){f instanceof Array?(ZM(f[0]),ZM(f[1])):ZM(f)}),tt(d=this.createMarkerModelFromSeries(u,this,r),{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),d.__hostSeries=l),KM(l)[s]=d):KM(l)[s]=null},this)},t.prototype.formatTooltip=function(e,r,o){var i=this.getData(),s=this.getRawValue(e),l=i.getName(e);return cs("section",{header:this.name,blocks:[cs("nameValue",{name:l,value:s,noName:!l,noValue:null==s})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,r){return KM(e)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Hr);Kn(Tm,X1.prototype);var Z5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,o){return new t(e,r,o)},t.type="markPoint",t.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Tm);function $M(n,t,e,r,o,i){var s=[],l=Fh(t,r)?t.getCalculationInfo("stackResultDimension"):r,u=Xk(t,l,n),d=t.indicesOfNearest(l,u)[0];s[o]=t.get(e,d),s[i]=t.get(l,d);var f=t.get(r,d),p=Se(t.get(r,d));return(p=Math.min(p,20))>=0&&(s[i]=+s[i].toFixed(p)),[s,f]}var Yk={min:Yn($M,"min"),max:Yn($M,"max"),average:Yn($M,"average"),median:Yn($M,"median")};function oS(n,t){var p,e=n.getData(),r=n.coordinateSystem;if(t&&(p=t,isNaN(parseFloat(p.x))||isNaN(parseFloat(p.y)))&&!dt(t.coord)&&r){var o=r.dimensions,i=uL(t,e,r,n);if((t=Qt(t)).type&&Yk[t.type]&&i.baseAxis&&i.valueAxis){var s=hn(o,i.baseAxis.dim),l=hn(o,i.valueAxis.dim),u=Yk[t.type](e,i.baseDataDim,i.valueDataDim,s,l);t.coord=u[0],t.value=u[1]}else{for(var d=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],f=0;f<2;f++)Yk[d[f]]&&(d[f]=Xk(e,e.mapDimension(o[f]),d[f]));t.coord=d}}return t}function uL(n,t,e,r){var s,l,o={};return null!=n.valueIndex||null!=n.valueDim?(o.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,o.valueAxis=e.getAxis((s=o.valueDataDim,(l=r.getData().getDimensionInfo(s))&&l.coordDim)),o.baseAxis=e.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=r.getBaseAxis(),o.valueAxis=e.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function iS(n,t){return!(n&&n.containData&&t.coord&&(e=t,isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y))))||n.containData(t.coord);var e}function cL(n,t){return n?function(e,r,o,i){return Oh(i<2?e.coord&&e.coord[i]:e.value,t[i])}:function(e,r,o,i){return Oh(e.value,t[i])}}function Xk(n,t,e){if("average"===e){var r=0,o=0;return n.each(t,function(i,s){isNaN(i)||(r+=i,o++)}),r/o}return"median"===e?n.getMedian(t):n.getDataExtent(t)["max"===e?1:0]}var qk=go(),Zk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.init=function(){this.markerGroupMap=bn()},t.prototype.render=function(e,r,o){var i=this,s=this.markerGroupMap;s.each(function(l){qk(l).keep=!1}),r.eachSeries(function(l){var u=Tm.getMarkerModelFromSeries(l,i.type);u&&i.renderSeries(l,u,r,o)}),s.each(function(l){!qk(l).keep&&i.group.remove(l.group)})},t.prototype.markKeep=function(e){qk(e).keep=!0},t.prototype.blurSeries=function(e){var r=this;ue(e,function(o){var i=Tm.getMarkerModelFromSeries(o,r.type);i&&i.getData().eachItemGraphicEl(function(s){s&&cd(s)})})},t.type="marker",t}(xi);function dL(n,t,e){var r=t.coordinateSystem;n.each(function(o){var i,s=n.getItemModel(o),l=ee(s.get("x"),e.getWidth()),u=ee(s.get("y"),e.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)i=t.getMarkerPosition(n.getValues(n.dimensions,o));else if(r){var d=n.get(r.dimensions[0],o),f=n.get(r.dimensions[1],o);i=r.dataToPoint([d,f])}}else i=[l,u];isNaN(l)||(i[0]=l),isNaN(u)||(i[1]=u),n.setItemLayout(o,i)})}var K5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.updateTransform=function(e,r,o){r.eachSeries(function(i){var s=Tm.getMarkerModelFromSeries(i,"markPoint");s&&(dL(s.getData(),i,o),this.markerGroupMap.get(i.id).updateLayout())},this)},t.prototype.renderSeries=function(e,r,o,i){var s=e.coordinateSystem,l=e.id,u=e.getData(),d=this.markerGroupMap,f=d.get(l)||d.set(l,new Dd),p=function(v,y,x){var S;S=v?Ht(v&&v.dimensions,function(R){return tt(tt({},y.getData().getDimensionInfo(y.getData().mapDimension(R))||{}),{name:R,ordinalMeta:null})}):[{name:"value",type:"float"}];var C=new ba(S,x),k=Ht(x.get("data"),Yn(oS,y));v&&(k=Un(k,Yn(iS,v)));var I=cL(!!v,S);return C.initData(k,null,I),C}(s,e,r);r.setData(p),dL(r.getData(),e,i),p.each(function(v){var y=p.getItemModel(v),x=y.getShallow("symbol"),S=y.getShallow("symbolSize"),C=y.getShallow("symbolRotate"),k=y.getShallow("symbolOffset"),I=y.getShallow("symbolKeepAspect");if(ge(x)||ge(S)||ge(C)||ge(k)){var R=r.getRawValue(v),O=r.getDataParams(v);ge(x)&&(x=x(R,O)),ge(S)&&(S=S(R,O)),ge(C)&&(C=C(R,O)),ge(k)&&(k=k(R,O))}var V=y.getModel("itemStyle").getItemStyle(),F=zv(u,"color");V.fill||(V.fill=F),p.setItemVisual(v,{symbol:x,symbolSize:S,symbolRotate:C,symbolOffset:k,symbolKeepAspect:I,style:V})}),f.updateData(p),this.group.add(f.group),p.eachItemGraphicEl(function(v){v.traverse(function(y){br(y).dataModel=r})}),this.markKeep(f),f.group.silent=r.get("silent")||e.get("silent")},t.type="markPoint",t}(Zk),$5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,o){return new t(e,r,o)},t.type="markLine",t.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Tm),JM=go(),J5=function(n,t,e,r){var o,i=n.getData();if(dt(r))o=r;else{var s=r.type;if("min"===s||"max"===s||"average"===s||"median"===s||null!=r.xAxis||null!=r.yAxis){var l=void 0,u=void 0;if(null!=r.yAxis||null!=r.xAxis)l=t.getAxis(null!=r.yAxis?"y":"x"),u=ut(r.yAxis,r.xAxis);else{var d=uL(r,i,t,n);l=d.valueAxis,u=Xk(i,Lb(i,d.valueDataDim),s)}var f="x"===l.dim?0:1,p=1-f,v=Qt(r),y={coord:[]};v.type=null,v.coord=[],v.coord[p]=-1/0,y.coord[p]=1/0;var x=e.get("precision");x>=0&&"number"==typeof u&&(u=+u.toFixed(Math.min(x,20))),v.coord[f]=y.coord[f]=u,o=[v,y,{type:s,valueIndex:r.valueIndex,value:u}]}else o=[]}var S=[oS(n,o[0]),oS(n,o[1]),tt({},o[2])];return S[2].type=S[2].type||null,en(S[2],S[0]),en(S[2],S[1]),S};function QM(n){return!isNaN(n)&&!isFinite(n)}function fL(n,t,e,r){var o=1-n,i=r.dimensions[n];return QM(t[o])&&QM(e[o])&&t[n]===e[n]&&r.getAxis(i).containData(t[n])}function Q5(n,t){if("cartesian2d"===n.type){var e=t[0].coord,r=t[1].coord;if(e&&r&&(fL(1,e,r,n)||fL(0,e,r,n)))return!0}return iS(n,t[0])&&iS(n,t[1])}function Kk(n,t,e,r,o){var i,s=r.coordinateSystem,l=n.getItemModel(t),u=ee(l.get("x"),o.getWidth()),d=ee(l.get("y"),o.getHeight());if(isNaN(u)||isNaN(d)){if(r.getMarkerPosition)i=r.getMarkerPosition(n.getValues(n.dimensions,t));else{var f=s.dimensions,p=n.get(f[0],t),v=n.get(f[1],t);i=s.dataToPoint([p,v])}if(jh(s,"cartesian2d")){var y=s.getAxis("x"),x=s.getAxis("y");QM(n.get((f=s.dimensions)[0],t))?i[0]=y.toGlobalCoord(y.getExtent()[e?0:1]):QM(n.get(f[1],t))&&(i[1]=x.toGlobalCoord(x.getExtent()[e?0:1]))}isNaN(u)||(i[0]=u),isNaN(d)||(i[1]=d)}else i=[u,d];n.setItemLayout(t,i)}var eB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.updateTransform=function(e,r,o){r.eachSeries(function(i){var s=Tm.getMarkerModelFromSeries(i,"markLine");if(s){var l=s.getData(),u=JM(s).from,d=JM(s).to;u.each(function(f){Kk(u,f,!0,i,o),Kk(d,f,!1,i,o)}),l.each(function(f){l.setItemLayout(f,[u.getItemLayout(f),d.getItemLayout(f)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,r,o,i){var s=e.coordinateSystem,l=e.id,u=e.getData(),d=this.markerGroupMap,f=d.get(l)||d.set(l,new C2);this.group.add(f.group);var p=function(O,V,F){var Y;Y=O?Ht(O&&O.dimensions,function(ve){return tt(tt({},V.getData().getDimensionInfo(V.getData().mapDimension(ve))||{}),{name:ve,ordinalMeta:null})}):[{name:"value",type:"float"}];var Z=new ba(Y,F),re=new ba(Y,F),ie=new ba([],F),ae=Ht(F.get("data"),Yn(J5,V,O,F));O&&(ae=Un(ae,Yn(Q5,O)));var ce=cL(!!O,Y);return Z.initData(Ht(ae,function(ve){return ve[0]}),null,ce),re.initData(Ht(ae,function(ve){return ve[1]}),null,ce),ie.initData(Ht(ae,function(ve){return ve[2]})),ie.hasItemOption=!0,{from:Z,to:re,line:ie}}(s,e,r),v=p.from,y=p.to,x=p.line;JM(r).from=v,JM(r).to=y,r.setData(x);var S=r.get("symbol"),C=r.get("symbolSize"),k=r.get("symbolRotate"),I=r.get("symbolOffset");function R(O,V,F){var Y=O.getItemModel(V);Kk(O,V,F,e,i);var Z=Y.getModel("itemStyle").getItemStyle();null==Z.fill&&(Z.fill=zv(u,"color")),O.setItemVisual(V,{symbolKeepAspect:Y.get("symbolKeepAspect"),symbolOffset:At(Y.get("symbolOffset",!0),I[F?0:1]),symbolRotate:At(Y.get("symbolRotate",!0),k[F?0:1]),symbolSize:At(Y.get("symbolSize"),C[F?0:1]),symbol:At(Y.get("symbol",!0),S[F?0:1]),style:Z})}dt(S)||(S=[S,S]),dt(C)||(C=[C,C]),dt(k)||(k=[k,k]),dt(I)||(I=[I,I]),p.from.each(function(O){R(v,O,!0),R(y,O,!1)}),x.each(function(O){var V=x.getItemModel(O).getModel("lineStyle").getLineStyle();x.setItemLayout(O,[v.getItemLayout(O),y.getItemLayout(O)]),null==V.stroke&&(V.stroke=v.getItemVisual(O,"style").fill),x.setItemVisual(O,{fromSymbolKeepAspect:v.getItemVisual(O,"symbolKeepAspect"),fromSymbolOffset:v.getItemVisual(O,"symbolOffset"),fromSymbolRotate:v.getItemVisual(O,"symbolRotate"),fromSymbolSize:v.getItemVisual(O,"symbolSize"),fromSymbol:v.getItemVisual(O,"symbol"),toSymbolKeepAspect:y.getItemVisual(O,"symbolKeepAspect"),toSymbolOffset:y.getItemVisual(O,"symbolOffset"),toSymbolRotate:y.getItemVisual(O,"symbolRotate"),toSymbolSize:y.getItemVisual(O,"symbolSize"),toSymbol:y.getItemVisual(O,"symbol"),style:V})}),f.updateData(x),p.line.eachItemGraphicEl(function(O,V){O.traverse(function(F){br(F).dataModel=r})}),this.markKeep(f),f.group.silent=r.get("silent")||e.get("silent")},t.type="markLine",t}(Zk),tB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,o){return new t(e,r,o)},t.type="markArea",t.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Tm),eT=go(),nB=function(n,t,e,r){var o=oS(n,r[0]),i=oS(n,r[1]),s=o.coord,l=i.coord;s[0]=ut(s[0],-1/0),s[1]=ut(s[1],-1/0),l[0]=ut(l[0],1/0),l[1]=ut(l[1],1/0);var u=jt([{},o,i]);return u.coord=[o.coord,i.coord],u.x0=o.x,u.y0=o.y,u.x1=i.x,u.y1=i.y,u};function tT(n){return!isNaN(n)&&!isFinite(n)}function hL(n,t,e,r){var o=1-n;return tT(t[o])&&tT(e[o])}function rB(n,t){var e=t.coord[0],r=t.coord[1];return!!(jh(n,"cartesian2d")&&e&&r&&(hL(1,e,r)||hL(0,e,r)))||iS(n,{coord:e,x:t.x0,y:t.y0})||iS(n,{coord:r,x:t.x1,y:t.y1})}function pL(n,t,e,r,o){var i,s=r.coordinateSystem,l=n.getItemModel(t),u=ee(l.get(e[0]),o.getWidth()),d=ee(l.get(e[1]),o.getHeight());if(isNaN(u)||isNaN(d)){if(r.getMarkerPosition)i=r.getMarkerPosition(n.getValues(e,t));else{var f=[y=n.get(e[0],t),x=n.get(e[1],t)];s.clampData&&s.clampData(f,f),i=s.dataToPoint(f,!0)}if(jh(s,"cartesian2d")){var p=s.getAxis("x"),v=s.getAxis("y"),y=n.get(e[0],t),x=n.get(e[1],t);tT(y)?i[0]=p.toGlobalCoord(p.getExtent()["x0"===e[0]?0:1]):tT(x)&&(i[1]=v.toGlobalCoord(v.getExtent()["y0"===e[1]?0:1]))}isNaN(u)||(i[0]=u),isNaN(d)||(i[1]=d)}else i=[u,d];return i}var gL=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],oB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.updateTransform=function(e,r,o){r.eachSeries(function(i){var s=Tm.getMarkerModelFromSeries(i,"markArea");if(s){var l=s.getData();l.each(function(u){var d=Ht(gL,function(f){return pL(l,u,f,i,o)});l.setItemLayout(u,d),l.getItemGraphicEl(u).setShape("points",d)})}},this)},t.prototype.renderSeries=function(e,r,o,i){var s=e.coordinateSystem,l=e.id,u=e.getData(),d=this.markerGroupMap,f=d.get(l)||d.set(l,{group:new nr});this.group.add(f.group),this.markKeep(f);var p=function(v,y,x){var S,C;if(v){var I=Ht(v&&v.dimensions,function(V){var F=y.getData();return tt(tt({},F.getDimensionInfo(F.mapDimension(V))||{}),{name:V,ordinalMeta:null})});C=Ht(["x0","y0","x1","y1"],function(V,F){return{name:V,type:I[F%2].type}}),S=new ba(C,x)}else S=new ba(C=[{name:"value",type:"float"}],x);var R=Ht(x.get("data"),Yn(nB,y,v,x));return v&&(R=Un(R,Yn(rB,v))),S.initData(R,null,v?function(V,F,Y,Z){return Oh(V.coord[Math.floor(Z/2)][Z%2],C[Z])}:function(V,F,Y,Z){return Oh(V.value,C[Z])}),S.hasItemOption=!0,S}(s,e,r);r.setData(p),p.each(function(v){var y=Ht(gL,function(Y){return pL(p,v,Y,e,i)}),x=s.getAxis("x").scale,S=s.getAxis("y").scale,C=x.getExtent(),k=S.getExtent(),I=[x.parse(p.get("x0",v)),x.parse(p.get("x1",v))],R=[S.parse(p.get("y0",v)),S.parse(p.get("y1",v))];ye(I),ye(R),p.setItemLayout(v,{points:y,allClipped:C[0]>I[1]||C[1]<I[0]||k[0]>R[1]||k[1]<R[0]});var V=p.getItemModel(v).getModel("itemStyle").getItemStyle(),F=zv(u,"color");V.fill||(V.fill=F,"string"==typeof V.fill&&(V.fill=iu(V.fill,.4))),V.stroke||(V.stroke=F),p.setItemVisual(v,"style",V)}),p.diff(eT(f).data).add(function(v){var y=p.getItemLayout(v);if(!y.allClipped){var x=new Ea({shape:{points:y.points}});p.setItemGraphicEl(v,x),f.group.add(x)}}).update(function(v,y){var x=eT(f).data.getItemGraphicEl(y),S=p.getItemLayout(v);S.allClipped?x&&f.group.remove(x):(x?ro(x,{shape:{points:S.points}},r,v):x=new Ea({shape:{points:S.points}}),p.setItemGraphicEl(v,x),f.group.add(x))}).remove(function(v){var y=eT(f).data.getItemGraphicEl(v);f.group.remove(y)}).execute(),p.eachItemGraphicEl(function(v,y){var x=p.getItemModel(y),S=p.getItemVisual(y,"style");v.useStyle(p.getItemVisual(y,"style")),_s(v,ma(x),{labelFetcher:r,labelDataIndex:y,defaultText:p.getName(y)||"",inheritColor:"string"==typeof S.fill?iu(S.fill,1):"#000"}),as(v,x),Jo(v),br(v).dataModel=r}),eT(f).data=p,f.group.silent=r.get("silent")||e.get("silent")},t.type="markArea",t}(Zk),$k=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return We(t,n),t.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},t.prototype._updateSelector=function(e){var r=e.selector,o=this.ecModel;!0===r&&(r=e.selector=["all","inverse"]),dt(r)&&ue(r,function(i,s){var l,u;ir(i)&&(i={type:i}),r[s]=en(i,(l=o,"all"===(u=i.type)?{type:"all",title:l.getLocaleModel().get(["legend","selector","all"])}:"inverse"===u?{type:"inverse",title:l.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var r=!1,o=0;o<e.length;o++){var i=e[o].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var r=[],o=[];e.eachRawSeries(function(s){var l;if(o.push(s.name),s.legendVisualProvider){var d=s.legendVisualProvider.getAllNames();e.isSeriesFiltered(s)||(o=o.concat(d)),d.length?r=r.concat(d):l=!0}else l=!0;l&&ag(s)&&r.push(s.name)}),this._availableNames=o;var i=Ht(this.get("data")||r,function(s){return"string"!=typeof s&&"number"!=typeof s||(s={name:s}),new uo(s,this,this.ecModel)},this);this._data=i},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var r=this.option.selected;"single"===this.get("selectedMode")&&ue(this._data,function(o){r[o.get("name")]=!1}),r[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var r=this.option.selected;ue(this._data,function(o){r[o.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this.option.selected;ue(this._data,function(o){var i=o.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},t.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&hn(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Hr),Cx=Yn,Jk=ue,nT=nr,mL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return We(t,n),t.prototype.init=function(){this.group.add(this._contentGroup=new nT),this.group.add(this._selectorGroup=new nT),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,r,o){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var s=e.get("align"),l=e.get("orient");s&&"auto"!==s||(s="right"===e.get("left")&&"vertical"===l?"right":"left");var u=e.get("selector",!0),d=e.get("selectorPosition",!0);!u||d&&"auto"!==d||(d="horizontal"===l?"end":"start"),this.renderInner(s,e,r,o,u,l,d);var f=e.getBoxLayoutParams(),p={width:o.getWidth(),height:o.getHeight()},v=e.get("padding"),y=va(f,p,v),x=this.layoutInner(e,s,y,i,u,d),S=va(Gt({width:x.width,height:x.height},f),p,v);this.group.x=S.x-x.x,this.group.y=S.y-x.y,this.group.markRedraw(),this.group.add(this._backgroundEl=SP(x,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,r,o,i,s,l,u){var d=this.getContentGroup(),f=bn(),p=r.get("selectedMode"),v=[];o.eachRawSeries(function(y){!y.get("legendHoverLink")&&v.push(y.id)}),Jk(r.getData(),function(y,x){var S=y.get("name");if(!this.newlineDisabled&&(""===S||"\n"===S)){var C=new nT;return C.newline=!0,void d.add(C)}var k=o.getSeriesByName(S)[0];if(!f.get(S))if(k){var I=k.getData(),R=I.getVisual("legendLineStyle")||{},O=I.getVisual("legendIcon"),V=I.getVisual("style");this._createItem(k,S,x,y,r,e,R,V,O,p).on("click",Cx(vL,S,null,i,v)).on("mouseover",Cx(Qk,k.name,null,i,v)).on("mouseout",Cx(eD,k.name,null,i,v)),f.set(S,!0)}else o.eachRawSeries(function(F){if(!f.get(S)&&F.legendVisualProvider){var Y=F.legendVisualProvider;if(!Y.containName(S))return;var Z=Y.indexOfName(S),re=Y.getItemVisual(Z,"style"),ie=Y.getItemVisual(Z,"legendIcon"),ae=Gi(re.fill);ae&&0===ae[3]&&(ae[3]=.2,re.fill=ps(ae,"rgba")),this._createItem(F,S,x,y,r,e,{},re,ie,p).on("click",Cx(vL,null,S,i,v)).on("mouseover",Cx(Qk,null,S,i,v)).on("mouseout",Cx(eD,null,S,i,v)),f.set(S,!0)}},this)},this),s&&this._createSelector(s,r,i,l,u)},t.prototype._createSelector=function(e,r,o,i,s){var l=this.getSelectorGroup();Jk(e,function(u){var d=u.type,f=new Xr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){o.dispatchAction({type:"all"===d?"legendAllSelect":"legendInverseSelect"})}});l.add(f),_s(f,{normal:r.getModel("selectorLabel"),emphasis:r.getModel(["emphasis","selectorLabel"])},{defaultText:u.title}),Jo(f)})},t.prototype._createItem=function(e,r,o,i,s,l,u,d,f,p){var be,_e,Ce,v=e.visualDrawType,y=s.get("itemWidth"),x=s.get("itemHeight"),S=s.isSelected(r),C=i.get("symbolRotate"),k=i.get("symbolKeepAspect"),I=i.get("icon"),R=function(be,_e,Ce,Pe,Le,He){function Je(sn,cn){"auto"===sn.lineWidth&&(sn.lineWidth=cn.lineWidth>0?2:0),Jk(sn,function(En,Bn){"inherit"===sn[Bn]&&(sn[Bn]=cn[Bn])})}var vt=_e.getModel("itemStyle").getItemStyle(),Ct=0===be.lastIndexOf("empty",0)?"fill":"stroke";vt.decal=Pe.decal,"inherit"===vt.fill&&(vt.fill=Pe[Le]),"inherit"===vt.stroke&&(vt.stroke=Pe[Ct]),"inherit"===vt.opacity&&(vt.opacity=("fill"===Le?Pe:Ce).opacity),Je(vt,Pe);var on=_e.getModel("lineStyle"),xt=on.getLineStyle();if(Je(xt,Ce),"auto"===vt.fill&&(vt.fill=Pe.fill),"auto"===vt.stroke&&(vt.stroke=Pe.fill),"auto"===xt.stroke&&(xt.stroke=Pe.fill),!He){var Ft=_e.get("inactiveBorderWidth");vt.lineWidth="auto"===Ft?Pe.lineWidth>0&&vt[Ct]?2:0:vt.lineWidth,vt.fill=_e.get("inactiveColor"),vt.stroke=_e.get("inactiveBorderColor"),xt.stroke=on.get("inactiveColor"),xt.lineWidth=on.get("inactiveWidth")}return{itemStyle:vt,lineStyle:xt}}(f=I||f||"roundRect",i,u,d,v,S),O=new nT,V=i.getModel("textStyle");if("function"!=typeof e.getLegendIcon||I&&"inherit"!==I){var F="inherit"===I&&e.getData().getVisual("symbol")?"inherit"===C?e.getData().getVisual("symbolRotate"):C:0;O.add(((Ce=qi(_e=(be={itemWidth:y,itemHeight:x,icon:f,iconRotate:F,itemStyle:R.itemStyle,lineStyle:R.lineStyle,symbolKeepAspect:k}).icon||"roundRect",0,0,be.itemWidth,be.itemHeight,be.itemStyle.fill,be.symbolKeepAspect)).setStyle(be.itemStyle),Ce.rotation=(be.iconRotate||0)*Math.PI/180,Ce.setOrigin([be.itemWidth/2,be.itemHeight/2]),_e.indexOf("empty")>-1&&(Ce.style.stroke=Ce.style.fill,Ce.style.fill="#fff",Ce.style.lineWidth=2),Ce))}else O.add(e.getLegendIcon({itemWidth:y,itemHeight:x,icon:f,iconRotate:C,itemStyle:R.itemStyle,lineStyle:R.lineStyle,symbolKeepAspect:k}));var Y="left"===l?y+5:-5,Z=l,re=s.get("formatter"),ie=r;"string"==typeof re&&re?ie=re.replace("{name}",null!=r?r:""):"function"==typeof re&&(ie=re(r));var ae=i.get("inactiveColor");O.add(new Xr({style:Ri(V,{text:ie,x:Y,y:x/2,fill:S?V.getTextColor():ae,align:Z,verticalAlign:"middle"})}));var ce=new eo({shape:O.getBoundingRect(),invisible:!0}),ve=i.getModel("tooltip");return ve.get("show")&&_h({el:ce,componentModel:s,itemName:r,itemTooltipOption:ve.option}),O.add(ce),O.eachChild(function(be){be.silent=!0}),ce.silent=!p,this.getContentGroup().add(O),Jo(O),O.__legendDataIndex=o,O},t.prototype.layoutInner=function(e,r,o,i,s,l){var u=this.getContentGroup(),d=this.getSelectorGroup();Jl(e.get("orient"),u,e.get("itemGap"),o.width,o.height);var f=u.getBoundingRect(),p=[-f.x,-f.y];if(d.markRedraw(),u.markRedraw(),s){Jl("horizontal",d,e.get("selectorItemGap",!0));var v=d.getBoundingRect(),y=[-v.x,-v.y],x=e.get("selectorButtonGap",!0),S=e.getOrient().index,C=0===S?"width":"height",k=0===S?"height":"width",I=0===S?"y":"x";"end"===l?y[S]+=f[C]+x:p[S]+=v[C]+x,y[1-S]+=f[k]/2-v[k]/2,d.x=y[0],d.y=y[1],u.x=p[0],u.y=p[1];var R={x:0,y:0};return R[C]=f[C]+x+v[C],R[k]=Math.max(f[k],v[k]),R[I]=Math.min(0,v[I]+y[1-S]),R}return u.x=p[0],u.y=p[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(xi);function vL(n,t,e,r){eD(n,t,e,r),e.dispatchAction({type:"legendToggleSelect",name:null!=n?n:t}),Qk(n,t,e,r)}function yL(n){for(var t,e=n.getZr().storage.getDisplayList(),r=0,o=e.length;r<o&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function Qk(n,t,e,r){yL(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:r})}function eD(n,t,e,r){yL(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:r})}function iB(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var r=0;r<t.length;r++)if(!t[r].isSelected(e.name))return!1;return!0})}function aS(n,t,e){var r,o={},i="toggleSelected"===n;return e.eachComponent("legend",function(s){i&&null!=r?s[r?"select":"unSelect"](t.name):"allSelect"===n||"inverseSelect"===n?s[n]():(s[n](t.name),r=s.isSelected(t.name)),ue(s.getData(),function(l){var u=l.get("name");if("\n"!==u&&""!==u){var d=s.isSelected(u);o[u]=o.hasOwnProperty(u)?o[u]&&d:d}})}),"allSelect"===n||"inverseSelect"===n?{selected:o}:{name:t.name,selected:o}}function bL(n){n.registerComponentModel($k),n.registerComponentView(mL),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,iB),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",Yn(aS,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Yn(aS,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Yn(aS,"inverseSelect")),t.registerAction("legendSelect","legendselected",Yn(aS,"select")),t.registerAction("legendUnSelect","legendunselected",Yn(aS,"unSelect"))}(n)}var aB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,r,o){var i=ic(e);n.prototype.init.call(this,e,r,o),xL(this,e,i)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),xL(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Su($k.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}($k);function xL(n,t,e){var r=[1,1];r[n.getOrient().index]=0,bf(t,e,{type:"box",ignoreSize:!!r})}var _L=nr,tD=["width","height"],nD=["x","y"],sB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return We(t,n),t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new _L),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new _L)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,r,o,i,s,l,u){var d=this;n.prototype.renderInner.call(this,e,r,o,i,s,l,u);var f=this._controllerGroup,p=r.get("pageIconSize",!0),v=dt(p)?p:[p,p];x("pagePrev",0);var y=r.getModel("pageTextStyle");function x(S,C){var k=S+"DataIndex",I=Va(r.get("pageIcons",!0)[r.getOrient().name][C],{onclick:xn(d._pageGo,d,k,r,i)},{x:-v[0]/2,y:-v[1]/2,width:v[0],height:v[1]});I.name=S,f.add(I)}f.add(new Xr({name:"pageText",style:{text:"xx/xx",fill:y.getTextColor(),font:y.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),x("pageNext",1)},t.prototype.layoutInner=function(e,r,o,i,s,l){var u=this.getSelectorGroup(),d=e.getOrient().index,f=tD[d],p=nD[d],v=tD[1-d],y=nD[1-d];s&&Jl("horizontal",u,e.get("selectorItemGap",!0));var x=e.get("selectorButtonGap",!0),S=u.getBoundingRect(),C=[-S.x,-S.y],k=Qt(o);s&&(k[f]=o[f]-S[f]-x);var I=this._layoutContentAndController(e,i,k,d,f,v,y,p);if(s){if("end"===l)C[d]+=I[f]+x;else{var R=S[f]+x;C[d]-=R,I[p]-=R}I[f]+=S[f]+x,C[1-d]+=I[y]+I[v]/2-S[v]/2,I[v]=Math.max(I[v],S[v]),I[y]=Math.min(I[y],S[y]+C[1-d]),u.x=C[0],u.y=C[1],u.markRedraw()}return I},t.prototype._layoutContentAndController=function(e,r,o,i,s,l,u,d){var f=this.getContentGroup(),p=this._containerGroup,v=this._controllerGroup;Jl(e.get("orient"),f,e.get("itemGap"),i?o.width:null,i?null:o.height),Jl("horizontal",v,e.get("pageButtonItemGap",!0));var y=f.getBoundingRect(),x=v.getBoundingRect(),S=this._showController=y[s]>o[s],C=[-y.x,-y.y];r||(C[i]=f[d]);var k=[0,0],I=[-x.x,-x.y],R=At(e.get("pageButtonGap",!0),e.get("itemGap",!0));S&&("end"===e.get("pageButtonPosition",!0)?I[i]+=o[s]-x[s]:k[i]+=x[s]+R),I[1-i]+=y[l]/2-x[l]/2,f.setPosition(C),p.setPosition(k),v.setPosition(I);var O={x:0,y:0};if(O[s]=S?o[s]:y[s],O[l]=Math.max(y[l],x[l]),O[u]=Math.min(0,x[u]+I[1-i]),p.__rectSize=o[s],S){var V={x:0,y:0};V[s]=Math.max(o[s]-x[s]-R,0),V[l]=O[l],p.setClipPath(new eo({shape:V})),p.__rectSize=V[s]}else v.eachChild(function(Y){Y.attr({invisible:!0,silent:!0})});var F=this._getPageInfo(e);return null!=F.pageIndex&&ro(f,{x:F.contentPosition[0],y:F.contentPosition[1]},S?e:null),this._updatePageInfoView(e,F),O},t.prototype._pageGo=function(e,r,o){var i=this._getPageInfo(r)[e];null!=i&&o.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},t.prototype._updatePageInfoView=function(e,r){var o=this._controllerGroup;ue(["pagePrev","pageNext"],function(f){var p=null!=r[f+"DataIndex"],v=o.childOfName(f);v&&(v.setStyle("fill",e.get(p?"pageIconColor":"pageIconInactiveColor",!0)),v.cursor=p?"pointer":"default")});var i=o.childOfName("pageText"),s=e.get("pageFormatter"),l=r.pageIndex,u=null!=l?l+1:0,d=r.pageCount;i&&s&&i.setStyle("text",ir(s)?s.replace("{current}",null==u?"":u+"").replace("{total}",null==d?"":d+""):s({current:u,total:d}))},t.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),o=this.getContentGroup(),i=this._containerGroup.__rectSize,s=e.getOrient().index,l=tD[s],u=nD[s],d=this._findTargetItemIndex(r),f=o.children(),p=f[d],v=f.length,y=v?1:0,x={contentPosition:[o.x,o.y],pageCount:y,pageIndex:y-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!p)return x;var S=O(p);x.contentPosition[s]=-S.s;for(var C=d+1,k=S,I=S,R=null;C<=v;++C)(!(R=O(f[C]))&&I.e>k.s+i||R&&!V(R,k.s))&&(k=I.i>k.i?I:R)&&(null==x.pageNextDataIndex&&(x.pageNextDataIndex=k.i),++x.pageCount),I=R;for(C=d-1,k=S,I=S,R=null;C>=-1;--C)(R=O(f[C]))&&V(I,R.s)||!(k.i<I.i)||(I=k,null==x.pagePrevDataIndex&&(x.pagePrevDataIndex=k.i),++x.pageCount,++x.pageIndex),k=R;return x;function O(F){if(F){var Y=F.getBoundingRect(),Z=Y[u]+F[u];return{s:Z,e:Z+Y[l],i:F.__legendDataIndex}}}function V(F,Y){return F.e>=Y&&F.s<=Y+i}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(i,s){var l=i.__legendDataIndex;null==o&&null!=l&&(o=s),l===e&&(r=s)}),null!=r?r:o):0;var r,o},t.type="legend.scroll",t}(mL);function lB(n){Fr(bL),n.registerComponentModel(aB),n.registerComponentView(sB),function(t){t.registerAction("legendScroll","legendscroll",function(e,r){var o=e.scrollDataIndex;null!=o&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(o)})})}(n)}var uB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="dataZoom.inside",t.defaultOption=Su(eS.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(eS),rD=go();function cB(n,t,e){rD(n).coordSysRecordMap.each(function(r){var o=r.dataZoomInfoMap.get(t.uid);o&&(o.getRange=e)})}function wL(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function dB(n,t){n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function fB(n,t,e,r){return n.coordinateSystem.containPoint([e,r])}var pB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return We(t,n),t.prototype.render=function(e,r,o){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),cB(o,e,{pan:xn(oD.pan,this),zoom:xn(oD.zoom,this),scrollMove:xn(oD.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,r){for(var o=rD(e).coordSysRecordMap,i=o.keys(),s=0;s<i.length;s++){var u=o.get(i[s]),d=u.dataZoomInfoMap;if(d){var f=r.uid;d.get(f)&&(d.removeKey(f),d.keys().length||wL(o,u))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(Ak),oD={zoom:function(n,t,e,r){var o=this.range,i=o.slice(),s=n.axisModels[0];if(s){var l=iD[t](null,[r.originX,r.originY],s,e,n),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(i[1]-i[0])+i[0],d=Math.max(1/r.scale,0);i[0]=(i[0]-u)*d+u,i[1]=(i[1]-u)*d+u;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return k1(0,i,[0,100],0,f.minSpan,f.maxSpan),this.range=i,o[0]!==i[0]||o[1]!==i[1]?i:void 0}},pan:SL(function(n,t,e,r,o,i){var s=iD[r]([i.oldX,i.oldY],[i.newX,i.newY],t,o,e);return s.signal*(n[1]-n[0])*s.pixel/s.pixelLength}),scrollMove:SL(function(n,t,e,r,o,i){return iD[r]([0,0],[i.scrollDelta,i.scrollDelta],t,o,e).signal*(n[1]-n[0])*i.scrollDelta})};function SL(n){return function(t,e,r,o){var i=this.range,s=i.slice(),l=t.axisModels[0];if(l)return k1(n(s,l,t,e,r,o),s,[0,100],"all"),this.range=s,i[0]!==s[0]||i[1]!==s[1]?s:void 0}}var iD={grid:function(n,t,e,r,o){var i=e.axis,s={},l=o.model.coordinateSystem.getRect();return n=n||[0,0],"x"===i.dim?(s.pixel=t[0]-n[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=i.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=i.inverse?-1:1),s},polar:function(n,t,e,r,o){var i=e.axis,s={},l=o.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),d=l.getAngleAxis().getExtent();return n=n?l.pointToCoord(n):[0,0],t=l.pointToCoord(t),"radiusAxis"===e.mainType?(s.pixel=t[0]-n[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=i.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=d[1]-d[0],s.pixelStart=d[0],s.signal=i.inverse?-1:1),s},singleAxis:function(n,t,e,r,o){var i=e.axis,s=o.model.coordinateSystem.getRect(),l={};return n=n||[0,0],"horizontal"===i.orient?(l.pixel=t[0]-n[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=i.inverse?1:-1):(l.pixel=t[1]-n[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=i.inverse?-1:1),l}};function CL(n){Ik(n),n.registerComponentModel(uB),n.registerComponentView(pB),function hB(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=rD(e),o=r.coordSysRecordMap||(r.coordSysRecordMap=bn());o.each(function(i){i.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){ue(vP(i).infoList,function(s){var d,f,p,v,l=s.model.uid,u=o.get(l)||o.set(l,(d=e,p={model:f=s.model,containsPoint:Yn(fB,f),dispatchAction:Yn(dB,d),dataZoomInfoMap:null,controller:null},v=p.controller=new Lt(d.getZr()),ue(["pan","zoom","scrollMove"],function(y){v.on(y,function(x){var S=[];p.dataZoomInfoMap.each(function(C){if(x.isAvailableBehavior(C.model.option)){var k=(C.getRange||{})[y],I=k&&k(C.dzReferCoordSysInfo,p.model.mainType,p.controller,x);!C.model.get("disabled",!0)&&I&&S.push({dataZoomId:C.model.id,start:I[0],end:I[1]})}}),S.length&&p.dispatchAction(S)})}),p));(u.dataZoomInfoMap||(u.dataZoomInfoMap=bn())).set(i.uid,{dzReferCoordSysInfo:s,model:i,getRange:null})})}),o.each(function(i){var s,v,y,x,S,l=i.controller,u=i.dataZoomInfoMap;if(u){var d=u.keys()[0];null!=d&&(s=u.get(d))}if(s){var f=(y="type_",x={type_true:2,type_move:1,type_false:0,type_undefined:-1},S=!0,u.each(function(C){var k=C.model,I=!k.get("disabled",!0)&&(!k.get("zoomLock",!0)||"move");x[y+I]>x[y+v]&&(v=I),S=S&&k.get("preventDefaultMouseMove",!0)}),{controlType:v,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!S}});l.enable(f.controlType,f.opt),l.setPointerChecker(i.containsPoint),tm(i,"dispatchAction",s.model.get("throttle",!0),"fixRate")}else wL(o,i)})})}(n)}var gB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Su(eS.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(eS),sS=eo,lS="horizontal",ML="vertical",mB=["line","bar","candlestick","scatter"],vB={easing:"cubicOut",duration:100,delay:0},yB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return We(t,n),t.prototype.init=function(e,r){this.api=r,this._onBrush=xn(this._onBrush,this),this._onBrushEnd=xn(this._onBrushEnd,this)},t.prototype.render=function(e,r,o,i){if(n.prototype.render.apply(this,arguments),tm(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){var o;(o=this._dispatchZoomAction)&&o[y0]&&(this._dispatchZoomAction=o[y0]);var i=this.api.getZr();i.off("mousemove",this._onBrush),i.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new nr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,o=e.get("brushSelect")?7:0,i=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===lS?{right:s.width-i.x-i.width,top:s.height-30-7-o,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},u=ic(e.option);ue(["right","top","width","height"],function(f){"ph"===u[f]&&(u[f]=l[f])});var d=va(u,s);this._location={x:d.x,y:d.y},this._size=[d.width,d.height],this._orient===ML&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,r=this._location,o=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),s=i&&i.get("inverse"),l=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(o!==lS||s?o===lS&&s?{scaleY:u?1:-1,scaleX:-1}:o!==ML||s?{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?1:-1,scaleX:1});var d=e.getBoundingRect([l]);e.x=r.x-d.x,e.y=r.y-d.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,o=this._displayables.sliderGroup,i=e.get("brushSelect");o.add(new sS({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var s=new sS({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:xn(this._onClickPanel,this)}),l=this.api.getZr();i?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),o.add(s)},t.prototype._renderDataShadow=function(){var F,Y,Z,re,e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var r=this._size,o=e.series,i=o.getRawData(),s=o.getShadowDim?o.getShadowDim():e.otherDim;if(null!=s){var l=i.getDataExtent(s),u=.3*(l[1]-l[0]);l=[l[0]-u,l[1]+u];var d,f=[0,r[1]],v=[[r[0],0],[0,0]],y=[],x=r[0]/(i.count()-1),S=0,C=Math.round(i.count()/r[0]);i.each([s],function(V,F){if(C>0&&F%C)S+=x;else{var Y=null==V||isNaN(V)||""===V,Z=Y?0:$(V,l,f,!0);Y&&!d&&F?(v.push([v[v.length-1][0],0]),y.push([y[y.length-1][0],0])):!Y&&d&&(v.push([S,0]),y.push([S,0])),v.push([S,Z]),y.push([S,Z]),S+=x,d=Y}});for(var k=this.dataZoomModel,I=0;I<3;I++){var R=(F=void 0,Y=void 0,void 0,void 0,F=k.getModel(1===I?"selectedDataBackground":"dataBackground"),Y=new nr,Z=new Ea({shape:{points:v},segmentIgnoreThreshold:1,style:F.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),re=new xs({shape:{points:y},segmentIgnoreThreshold:1,style:F.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),Y.add(Z),Y.add(re),Y);this._displayables.sliderGroup.add(R),this._displayables.dataShadowSegs.push(R)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(!1!==r){var o,i=this.ecModel;return e.eachTargetAxis(function(s,l){ue(e.getAxisProxy(s,l).getTargetSeriesModels(),function(u){if(!(o||!0!==r&&hn(mB,u.get("type"))<0)){var d,f=i.getComponent(Oy(s),l).axis,p={x:"y",y:"x",radius:"angle",angle:"radius"}[s],v=u.coordinateSystem;null!=p&&v.getOtherAxis&&(d=v.getOtherAxis(f).inverse),p=u.getData().mapDimension(p),o={thisAxis:f,series:u,thisDim:s,otherDim:p,otherAxisInverse:d}}},this)},this),o}},t.prototype._renderHandle=function(){var e=this.group,r=this._displayables,o=r.handles=[null,null],i=r.handleLabels=[null,null],s=this._displayables.sliderGroup,l=this._size,u=this.dataZoomModel,d=this.api,f=u.get("borderRadius")||0,p=u.get("brushSelect"),v=r.filler=new sS({silent:p,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});s.add(v),s.add(new sS({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:f},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),ue([0,1],function(R){var O=u.get("handleIcon");!S0[O]&&O.indexOf("path://")<0&&O.indexOf("image://")<0&&(O="path://"+O);var V=qi(O,-1,0,2,2,null,!0);V.attr({cursor:TL(this._orient),draggable:!0,drift:xn(this._onDragMove,this,R),ondragend:xn(this._onDragEnd,this),onmouseover:xn(this._showDataInfo,this,!0),onmouseout:xn(this._showDataInfo,this,!1),z2:5});var F=V.getBoundingRect(),Y=u.get("handleSize");this._handleHeight=ee(Y,this._size[1]),this._handleWidth=F.width/F.height*this._handleHeight,V.setStyle(u.getModel("handleStyle").getItemStyle()),V.style.strokeNoScale=!0,V.rectHover=!0,V.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),Jo(V);var Z=u.get("handleColor");null!=Z&&(V.style.fill=Z),s.add(o[R]=V);var re=u.getModel("textStyle");e.add(i[R]=new Xr({silent:!0,invisible:!0,style:Ri(re,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:re.getTextColor(),font:re.getFont()}),z2:10}))},this);var y=v;if(p){var x=ee(u.get("moveHandleSize"),l[1]),S=r.moveHandle=new eo({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:x}}),C=.8*x,k=r.moveHandleIcon=qi(u.get("moveHandleIcon"),-C/2,-C/2,C,C,"#fff",!0);k.silent=!0,k.y=l[1]+x/2-.5,S.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var I=Math.min(l[1]/2,Math.max(x,10));(y=r.moveZone=new eo({invisible:!0,shape:{y:l[1]-I,height:x+I}})).on("mouseover",function(){d.enterEmphasis(S)}).on("mouseout",function(){d.leaveEmphasis(S)}),s.add(S),s.add(k),s.add(y)}y.attr({draggable:!0,cursor:TL(this._orient),drift:xn(this._onDragMove,this,"all"),ondragstart:xn(this._showDataInfo,this,!0),ondragend:xn(this._onDragEnd,this),onmouseover:xn(this._showDataInfo,this,!0),onmouseout:xn(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[$(e[0],[0,100],r,!0),$(e[1],[0,100],r,!0)]},t.prototype._updateInterval=function(e,r){var o=this.dataZoomModel,i=this._handleEnds,s=this._getViewExtent(),l=o.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];k1(r,i,s,o.get("zoomLock")?"all":e,null!=l.minSpan?$(l.minSpan,u,s,!0):null,null!=l.maxSpan?$(l.maxSpan,u,s,!0):null);var d=this._range,f=this._range=ye([$(i[0],s,u,!0),$(i[1],s,u,!0)]);return!d||d[0]!==f[0]||d[1]!==f[1]},t.prototype._updateView=function(e){var r=this._displayables,o=this._handleEnds,i=ye(o.slice()),s=this._size;ue([0,1],function(y){var S=this._handleHeight;r.handles[y].attr({scaleX:S/2,scaleY:S/2,x:o[y]+(y?-1:1),y:s[1]/2-S/2})},this),r.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:s[1]});var l={x:i[0],width:i[1]-i[0]};r.moveHandle&&(r.moveHandle.setShape(l),r.moveZone.setShape(l),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",l.x+l.width/2));for(var u=r.dataShadowSegs,d=[0,i[0],i[1],s[0]],f=0;f<u.length;f++){var p=u[f],v=p.getClipPath();v||(v=new eo,p.setClipPath(v)),v.setShape({x:d[f],y:0,width:d[f+1]-d[f],height:s[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,o=this._displayables,i=o.handleLabels,s=this._orient,l=["",""];if(r.get("showDetail")){var u=r.findRepresentativeAxisProxy();if(u){var d=u.getAxisModel().axis,f=this._range,p=e?u.calculateDataWindow({start:f[0],end:f[1]}).valueWindow:u.getDataValueWindow();l=[this._formatLabel(p[0],d),this._formatLabel(p[1],d)]}}var v=ye(this._handleEnds.slice());function y(x){var S=Lc(o.handles[x].parent,this.group),C=xh(0===x?"right":"left",S),k=this._handleWidth/2+5,I=Zl([v[x]+(0===x?-k:k),this._size[1]/2],S);i[x].setStyle({x:I[0],y:I[1],verticalAlign:s===lS?"middle":C,align:s===lS?C:"center",text:l[x]})}y.call(this,0),y.call(this,1)},t.prototype._formatLabel=function(e,r){var o=this.dataZoomModel,i=o.get("labelFormatter"),s=o.get("labelPrecision");null!=s&&"auto"!==s||(s=r.getPixelPrecision());var l=null==e||isNaN(e)?"":"category"===r.type||"time"===r.type?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(s,20));return ge(i)?i(e,l):ir(i)?i.replace("{value}",l):l},t.prototype._showDataInfo=function(e){var r=this._displayables,o=r.handleLabels;o[0].attr("invisible",!(e=this._dragging||e)),o[1].attr("invisible",!e),r.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(e,r,o,i){this._dragging=!0,Ho(i.event);var s=Zl([r,o],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var r=this._size,o=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(o[0]<0||o[0]>r[0]||o[1]<0||o[1]>r[1])){var i=this._handleEnds,l=this._updateInterval("all",o[0]-(i[0]+i[1])/2);this._updateView(),l&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new dr(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,r){r.attr("ignore",!0);var o=r.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(o.width)<5)){var i=this._getViewExtent(),s=[0,100];this._range=ye([$(o.x,i,s,!0),$(o.x+o.width,i,s,!0)]),this._handleEnds=[o.x,o.x+o.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Ho(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,r){var o=this._displayables,s=o.brushRect;s||(s=o.brushRect=new sS({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),o.sliderGroup.add(s)),s.attr("ignore",!1);var l=this._brushStart,u=this._displayables.sliderGroup,d=u.transformCoordToLocal(e,r),f=u.transformCoordToLocal(l.x,l.y),p=this._size;d[0]=Math.max(Math.min(p[0],d[0]),0),s.setShape({x:f[0],y:0,width:d[0]-f[0],height:p[1]})},t.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?vB:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var e,r=vP(this.dataZoomModel).infoList;if(!e&&r.length){var o=r[0].model.coordinateSystem;e=o.getRect&&o.getRect()}if(!e){var i=this.api.getWidth(),s=this.api.getHeight();e={x:.2*i,y:.2*s,width:.6*i,height:.6*s}}return e},t.type="dataZoom.slider",t}(Ak);function TL(n){return"vertical"===n?"ns-resize":"ew-resize"}function kL(n){n.registerComponentModel(gB),n.registerComponentView(yB),Ik(n)}var DL=function(n,t,e){var r=Qt((bB[n]||{})[t]);return e&&dt(r)?r[r.length-1]:r},bB={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},AL=gl.mapVisual,xB=gl.eachVisual,_B=dt,IL=ue,wB=ye,SB=$,rT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return We(t,n),t.prototype.init=function(e,r,o){this.mergeDefaultAndTheme(e,o)},t.prototype.optionUpdated=function(e,r){var o=this.option;Tt.canvasSupported||(o.realtime=!1),!r&&ZP(o,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var r=this.stateList;e=xn(e,this),this.controllerVisuals=Wk(this.option.controller,r,e),this.targetVisuals=Wk(this.option.target,r,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,r=[];return null==e||"all"===e?this.ecModel.eachSeries(function(o,i){r.push(i)}):r=no(e),r},t.prototype.eachTargetSeries=function(e,r){ue(this.getTargetSeriesIndices(),function(o){var i=this.ecModel.getSeriesByIndex(o);i&&e.call(r,i)},this)},t.prototype.isTargetSeries=function(e){var r=!1;return this.eachTargetSeries(function(o){o===e&&(r=!0)}),r},t.prototype.formatValueText=function(e,r,o){var i,s=this.option,l=s.precision,u=this.dataBound,d=s.formatter;o=o||["<",">"],dt(e)&&(e=e.slice(),i=!0);var f=r?e:i?[p(e[0]),p(e[1])]:p(e);return ir(d)?d.replace("{value}",i?f[0]:f).replace("{value2}",i?f[1]:f):ge(d)?i?d(e[0],e[1]):d(e):i?e[0]===u[0]?o[0]+" "+f[1]:e[1]===u[1]?o[1]+" "+f[0]:f[0]+" - "+f[1]:f;function p(v){return v===u[0]?"min":v===u[1]?"max":(+v).toFixed(Math.min(l,20))}},t.prototype.resetExtent=function(){var e=this.option,r=wB([e.min,e.max]);this._dataExtent=r},t.prototype.getDataDimensionIndex=function(e){var r=this.option.dimension;if(null!=r)return e.getDimensionIndex(r);for(var o=e.dimensions,i=o.length-1;i>=0;i--){var l=e.getDimensionInfo(o[i]);if(!l.isCalculationCoord)return l.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,r=this.option,o={inRange:r.inRange,outOfRange:r.outOfRange},i=r.target||(r.target={}),s=r.controller||(r.controller={});en(i,o),en(s,o);var l=this.isCategory();function u(d){_B(r.color)&&!d.inRange&&(d.inRange={color:r.color.slice().reverse()}),d.inRange=d.inRange||{color:e.get("gradientColor")}}u.call(this,i),u.call(this,s),function(d,f,p){var v=d[f],y=d[p];v&&!y&&(y=d[p]={},IL(v,function(x,S){if(gl.isValidType(S)){var C=DL(S,"inactive",l);null!=C&&(y[S]=C,"color"!==S||y.hasOwnProperty("opacity")||y.hasOwnProperty("colorAlpha")||(y.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function(d){var f=(d.inRange||{}).symbol||(d.outOfRange||{}).symbol,p=(d.inRange||{}).symbolSize||(d.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),y=this.getItemSymbol()||"roundRect";IL(this.stateList,function(x){var S=this.itemSize,C=d[x];C||(C=d[x]={color:l?v:[v]}),null==C.symbol&&(C.symbol=f&&Qt(f)||(l?y:[y])),null==C.symbolSize&&(C.symbolSize=p&&Qt(p)||(l?S[0]:[S[0],S[0]])),C.symbol=AL(C.symbol,function(R){return"none"===R?y:R});var k=C.symbolSize;if(null!=k){var I=-1/0;xB(k,function(R){R>I&&(I=R)}),C.symbolSize=AL(k,function(R){return SB(R,[0,I],[0,S[0]],!0)})}},this)}.call(this,s)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Hr),PL=[20,140],CB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(o){o.mappingMethod="linear",o.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=PL[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=PL[1])},t.prototype._resetRange=function(){var e=this.getExtent(),r=this.option.range;!r||r.auto?(e.auto=1,this.option.range=e):dt(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],e[0]),r[1]=Math.min(r[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),ue(this.stateList,function(e){var r=this.option.controller[e].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),r=ye((this.get("range")||[]).slice());return r[0]>e[1]&&(r[0]=e[1]),r[1]>e[1]&&(r[1]=e[1]),r[0]<e[0]&&(r[0]=e[0]),r[1]<e[0]&&(r[1]=e[0]),r},t.prototype.getValueState=function(e){var r=this.option.range,o=this.getExtent();return(r[0]<=o[0]||r[0]<=e)&&(r[1]>=o[1]||e<=r[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[];return this.eachTargetSeries(function(o){var i=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){e[0]<=l&&l<=e[1]&&i.push(u)},this),r.push({seriesId:o.id,dataIndex:i})},this),r},t.prototype.getVisualMeta=function(e){var r=LL(0,0,this.getExtent()),o=LL(0,0,this.option.range.slice()),i=[];function s(y,x){i.push({value:y,color:e(y,x)})}for(var l=0,u=0,d=o.length,f=r.length;u<f&&(!o.length||r[u]<=o[0]);u++)r[u]<o[l]&&s(r[u],"outOfRange");for(var p=1;l<d;l++,p=0)p&&i.length&&s(o[l],"outOfRange"),s(o[l],"inRange");for(p=1;u<f;u++)(!o.length||o[o.length-1]<r[u])&&(p&&(i.length&&s(i[i.length-1].value,"outOfRange"),p=0),s(r[u],"outOfRange"));var v=i.length;return{stops:i,outerColors:[v?i[0].color:"transparent",v?i[v-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Su(rT.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(rT);function LL(n,t,e){if(e[0]===e[1])return e.slice();for(var r=(e[1]-e[0])/200,o=e[0],i=[],s=0;s<=200&&o<e[1];s++)i.push(o),o+=r;return i.push(e[1]),i}var RL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return We(t,n),t.prototype.init=function(e,r){this.ecModel=e,this.api=r},t.prototype.render=function(e,r,o,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,r,o,i):this.group.removeAll()},t.prototype.renderBackground=function(e){var r=this.visualMapModel,o=Gn(r.get("padding")||0),i=e.getBoundingRect();e.add(new eo({z2:-1,silent:!0,shape:{x:i.x-o[3],y:i.y-o[0],width:i.width+o[3]+o[1],height:i.height+o[0]+o[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,r,o){var i=(o=o||{}).forceState,s=this.visualMapModel,l={};if("color"===r){var u=s.get("contentColor");l.color=u}function d(v){return l[v]}function f(v,y){l[v]=y}var p=s.controllerVisuals[i||s.getValueState(e)];return ue(gl.prepareVisualTypes(p),function(v){var y=p[v];o.convertOpacityToAlpha&&"opacity"===v&&(v="colorAlpha",y=p.__alphaForOpacity),gl.dependsOn(v,r)&&y&&y.applyVisual(e,d,f)}),l[r]},t.prototype.positionGroup=function(e){var o=this.api;Vg(e,this.visualMapModel.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})},t.prototype.doRender=function(e,r,o,i){},t.type="visualMap",t}(xi),OL=[["left","right","width"],["top","bottom","height"]];function NL(n,t,e){var r=n.option,o=r.align;if(null!=o&&"auto"!==o)return o;for(var i={width:t.getWidth(),height:t.getHeight()},s="horizontal"===r.orient?1:0,l=OL[s],u=[0,null,10],d={},f=0;f<3;f++)d[OL[1-s][f]]=u[f],d[l[f]]=2===f?e[0]:r[l[f]];var p=[["x","width",3],["y","height",0]][s],v=va(d,i,r.padding);return l[(v.margin[p[2]]||0)+v[p[0]]+.5*v[p[1]]<.5*i[p[1]]?0:1]}function oT(n,t){return ue(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var eg=$,MB=ue,EL=Math.min,aD=Math.max,TB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return We(t,n),t.prototype.doRender=function(e,r,o,i){this._api=o,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,r=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(r);var o=e.get("text");this._renderEndsText(r,o,0),this._renderEndsText(r,o,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},t.prototype._renderEndsText=function(e,r,o){if(r){var i=r[1-o];i=null!=i?i+"":"";var s=this.visualMapModel,l=s.get("textGap"),u=s.itemSize,d=this._shapes.mainGroup,f=this._applyTransform([u[0]/2,0===o?-l:u[1]+l],d),p=this._applyTransform(0===o?"bottom":"top",d),v=this._orient,y=this.visualMapModel.textStyleModel;this.group.add(new Xr({style:{x:f[0],y:f[1],verticalAlign:"horizontal"===v?"middle":p,align:"horizontal"===v?p:"center",text:i,font:y.getFont(),fill:y.getTextColor()}}))}},t.prototype._renderBar=function(e){var r=this.visualMapModel,o=this._shapes,i=r.itemSize,s=this._orient,l=this._useHandle,u=NL(r,this.api,i),d=o.mainGroup=this._createBarGroup(u),f=new nr;d.add(f),f.add(o.outOfRange=BL()),f.add(o.inRange=BL(null,l?VL(this._orient):null,xn(this._dragHandle,this,"all",!1),xn(this._dragHandle,this,"all",!0))),f.setClipPath(new eo({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var p=r.textStyleModel.getTextRect("\u56fd"),v=aD(p.width,p.height);l&&(o.handleThumbs=[],o.handleLabels=[],o.handleLabelPoints=[],this._createHandle(r,d,0,i,v,s),this._createHandle(r,d,1,i,v,s)),this._createIndicator(r,d,i,v,s),e.add(d)},t.prototype._createHandle=function(e,r,o,i,s,l){var u=xn(this._dragHandle,this,o,!1),d=xn(this._dragHandle,this,o,!0),f=Bo(e.get("handleSize"),i[0]),p=qi(e.get("handleIcon"),-f/2,-f/2,f,f,null,!0),v=VL(this._orient);p.attr({cursor:v,draggable:!0,drift:u,ondragend:d,onmousemove:function(k){Ho(k.event)}}),p.x=i[0]/2,p.useStyle(e.getModel("handleStyle").getItemStyle()),p.setStyle({strokeNoScale:!0,strokeFirst:!0}),p.style.lineWidth*=2,p.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),ph(p,!0),r.add(p);var y=this.visualMapModel.textStyleModel,x=new Xr({cursor:v,draggable:!0,drift:u,onmousemove:function(k){Ho(k.event)},ondragend:d,style:{x:0,y:0,text:"",font:y.getFont(),fill:y.getTextColor()}});x.ensureState("blur").style={opacity:.1},x.stateTransition={duration:200},this.group.add(x);var S=[f,0],C=this._shapes;C.handleThumbs[o]=p,C.handleLabelPoints[o]=S,C.handleLabels[o]=x},t.prototype._createIndicator=function(e,r,o,i,s){var l=Bo(e.get("indicatorSize"),o[0]),u=qi(e.get("indicatorIcon"),-l/2,-l/2,l,l,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:o[0]/2});var d=e.getModel("indicatorStyle").getItemStyle();if(u instanceof Yi){var f=u.style;u.useStyle(tt({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},d))}else u.useStyle(d);r.add(u);var p=this.visualMapModel.textStyleModel,v=new Xr({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:p.getFont(),fill:p.getTextColor()}});this.group.add(v);var y=[("horizontal"===s?i/2:6)+o[0]/2,0],x=this._shapes;x.indicator=u,x.indicatorLabel=v,x.indicatorLabelPoint=y,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,r,o,i){if(this._useHandle){if(this._dragging=!r,!r){var s=this._applyTransform([o,i],this._shapes.mainGroup,!0);this._updateInterval(e,s[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():zL(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,r=this._dataInterval=e.getSelected(),o=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[eg(r[0],o,i,!0),eg(r[1],o,i,!0)]},t.prototype._updateInterval=function(e,r){var o=this.visualMapModel,i=this._handleEnds,s=[0,o.itemSize[1]];k1(r=r||0,i,s,e,0);var l=o.getExtent();this._dataInterval=[eg(i[0],s,l,!0),eg(i[1],s,l,!0)]},t.prototype._updateView=function(e){var r=this.visualMapModel,o=r.getExtent(),i=this._shapes,s=[0,r.itemSize[1]],l=e?s:this._handleEnds,u=this._createBarVisual(this._dataInterval,o,l,"inRange"),d=this._createBarVisual(o,o,s,"outOfRange");i.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),i.outOfRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),this._updateHandle(l,u)},t.prototype._createBarVisual=function(e,r,o,i){var s={forceState:i,convertOpacityToAlpha:!0},l=this._makeColorGradient(e,s),u=[this.getControllerVisual(e[0],"symbolSize",s),this.getControllerVisual(e[1],"symbolSize",s)],d=this._createBarPoints(o,u);return{barColor:new Mp(0,0,0,1,l),barPoints:d,handlesColor:[l[0].color,l[l.length-1].color]}},t.prototype._makeColorGradient=function(e,r){var o=[],i=(e[1]-e[0])/100;o.push({color:this.getControllerVisual(e[0],"color",r),offset:0});for(var s=1;s<100;s++){var l=e[0]+i*s;if(l>e[1])break;o.push({color:this.getControllerVisual(l,"color",r),offset:s/100})}return o.push({color:this.getControllerVisual(e[1],"color",r),offset:1}),o},t.prototype._createBarPoints=function(e,r){var o=this.visualMapModel.itemSize;return[[o[0]-r[0],e[0]],[o[0],e[0]],[o[0],e[1]],[o[0]-r[1],e[1]]]},t.prototype._createBarGroup=function(e){var r=this._orient,o=this.visualMapModel.get("inverse");return new nr("horizontal"!==r||o?"horizontal"===r&&o?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==r||o?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,r){if(this._useHandle){var o=this._shapes,i=this.visualMapModel,s=o.handleThumbs,l=o.handleLabels,u=i.itemSize,d=i.getExtent();MB([0,1],function(f){var p=s[f];p.setStyle("fill",r.handlesColor[f]),p.y=e[f];var v=eg(e[f],[0,u[1]],d,!0),y=this.getControllerVisual(v,"symbolSize");p.scaleX=p.scaleY=y/u[0],p.x=u[0]-y/2;var x=Zl(o.handleLabelPoints[f],Lc(p,this.group));l[f].setStyle({x:x[0],y:x[1],text:i.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",o.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,r,o,i){var s=this.visualMapModel,l=s.getExtent(),u=s.itemSize,d=[0,u[1]],f=this._shapes,p=f.indicator;if(p){p.attr("invisible",!1);var v=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),y=this.getControllerVisual(e,"symbolSize"),x=eg(e,l,d,!0),S=u[0]-y/2,C={x:p.x,y:p.y};p.y=x,p.x=S;var k=Zl(f.indicatorLabelPoint,Lc(p,this.group)),I=f.indicatorLabel;I.attr("invisible",!1);var R=this._applyTransform("left",f.mainGroup),O="horizontal"===this._orient;I.setStyle({text:(o||"")+s.formatValueText(r),verticalAlign:O?R:"middle",align:O?"center":R});var V={x:S,y:x,style:{fill:v}},F={style:{x:k[0],y:k[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Y={duration:100,easing:"cubicInOut",additive:!0};p.x=C.x,p.y=C.y,p.animateTo(V,Y),I.animateTo(F,Y)}else p.attr(V),I.attr(F);this._firstShowIndicator=!1;var Z=this._shapes.handleLabels;if(Z)for(var re=0;re<Z.length;re++)this._api.enterBlur(Z[re])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(r){if(e._hovering=!0,!e._dragging){var o=e.visualMapModel.itemSize,i=e._applyTransform([r.offsetX,r.offsetY],e._shapes.mainGroup,!0,!0);i[1]=EL(aD(0,i[1]),o[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=o[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,r){var C,k,I,R,o=this.visualMapModel;if(o.option.hoverLink){var s=[0,o.itemSize[1]],l=o.getExtent();e=EL(aD(s[0],e),s[1]);var u=(C=l,k=s,I=6,(R=o.get("hoverLinkDataSize"))&&(I=eg(R,C,k,!0)/2),I),d=[e-u,e+u],f=eg(e,s,l,!0),p=[eg(d[0],s,l,!0),eg(d[1],s,l,!0)];d[0]<s[0]&&(p[0]=-1/0),d[1]>s[1]&&(p[1]=1/0),r&&(p[0]===-1/0?this._showIndicator(f,p[1],"< ",u):p[1]===1/0?this._showIndicator(f,p[0],"> ",u):this._showIndicator(f,f,"\u2248 ",u));var v=this._hoverLinkDataIndices,y=[];(r||zL(o))&&(y=this._hoverLinkDataIndices=o.findTargetDataIndices(p));var x=function(S,C){var k={},I={};return R(S||[],k),R(C||[],I,k),[O(k),O(I)];function R(V,F,Y){for(var Z=0,re=V.length;Z<re;Z++){var ie=ia(V[Z].seriesId,null);if(null==ie)return;for(var ae=no(V[Z].dataIndex),ce=Y&&Y[ie],ve=0,be=ae.length;ve<be;ve++){var _e=ae[ve];ce&&ce[_e]?ce[_e]=null:(F[ie]||(F[ie]={}))[_e]=1}}}function O(V,F){var Y=[];for(var Z in V)if(V.hasOwnProperty(Z)&&null!=V[Z])if(F)Y.push(+Z);else{var re=O(V[Z],!0);re.length&&Y.push({seriesId:Z,dataIndex:re})}return Y}}(v,y);this._dispatchHighDown("downplay",oT(x[0],o)),this._dispatchHighDown("highlight",oT(x[1],o))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var r=e.target,o=this.visualMapModel;if(r&&null!=br(r).dataIndex){var i=br(r),s=this.ecModel.getSeriesByIndex(i.seriesIndex);if(o.isTargetSeries(s)){var l=s.getData(i.dataType),u=l.getStore().get(o.getDataDimensionIndex(l),i.dataIndex);isNaN(u)||this._showIndicator(u,u)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var o=0;o<r.length;o++)this._api.leaveBlur(r[o])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",oT(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,r,o,i){var s=Lc(r,i?null:this.group);return dt(e)?Zl(e,s,o):xh(e,s,o)},t.prototype._dispatchHighDown=function(e,r){r&&r.length&&this.api.dispatchAction({type:e,batch:r})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(RL);function BL(n,t,e,r){return new Ea({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(o){Ho(o.event)},ondragend:r})}function zL(n){var t=n.get("hoverLinkOnHandle");return!!(null==t?n.get("realtime"):t)}function VL(n){return"vertical"===n?"ns-resize":"ew-resize"}var kB={type:"selectDataRange",event:"dataRangeSelected",update:"update"},DB=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},AB=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(r){var o,i,s,l,u,d=n.pipelineContext;!r.isTargetSeries(n)||d&&d.large||e.push((o=r.stateList,i=r.targetVisuals,s=xn(r.getValueState,r),l=r.getDataDimensionIndex(n.getData()),u={},ue(o,function(f){var p=gl.prepareVisualTypes(i[f]);u[f]=p}),{progress:function(f,p){var v,y;function x(re){return g_(p,y,re)}function S(re,ie){m_(p,y,re,ie)}null!=l&&(v=p.getDimensionIndex(l));for(var C=p.getStore();null!=(y=f.next());){var k=p.getRawDataItem(y);if(!k||!1!==k.visualMap)for(var I=null!=l?C.get(v,y):y,R=s(I),O=i[R],V=u[R],F=0,Y=V.length;F<Y;F++){var Z=V[F];O[Z]&&O[Z].applyVisual(I,x,S)}}}}))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),r=[];t.eachComponent("visualMap",function(o){if(o.isTargetSeries(n)){var i=o.getVisualMeta(xn(IB,null,n,o))||{stops:[],outerColors:[]},s=o.getDataDimensionIndex(e);s>=0&&(i.dimension=s,r.push(i))}}),n.getData().setVisual("visualMeta",r)}}];function IB(n,t,e,r){for(var o=t.targetVisuals[r],i=gl.prepareVisualTypes(o),s={color:zv(n.getData(),"color")},l=0,u=i.length;l<u;l++){var d=i[l],f=o["opacity"===d?"__alphaForOpacity":d];f&&f.applyVisual(e,p,v)}return s.color;function p(y){return s[y]}function v(y,x){s[y]=x}}var FL=ue;function PB(n){var t=n&&n.visualMap;dt(t)||(t=t?[t]:[]),FL(t,function(e){if(e){Mx(e,"splitList")&&!Mx(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var r=e.pieces;r&&dt(r)&&FL(r,function(o){zn(o)&&(Mx(o,"start")&&!Mx(o,"min")&&(o.min=o.start),Mx(o,"end")&&!Mx(o,"max")&&(o.max=o.end))})}})}function Mx(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var HL=!1;function WL(n){HL||(HL=!0,n.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),n.registerAction(kB,DB),ue(AB,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(PB))}function GL(n){n.registerComponentModel(CB),n.registerComponentView(TB),WL(n)}var LB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return We(t,n),t.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var o=this._mode=this._determineMode();this._pieceList=[],RB[this._mode].call(this,this._pieceList),this._resetSelected(e,r);var i=this.option.categories;this.resetVisual(function(s,l){"categories"===o?(s.mappingMethod="category",s.categories=Qt(i)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=Ht(this._pieceList,function(u){return u=Qt(u),"inRange"!==l&&(u.visual=null),u}))})},t.prototype.completeVisualOption=function(){var e=this.option,r={},o=gl.listVisualTypes(),i=this.isCategory();function s(l,u,d){return l&&l[u]&&l[u].hasOwnProperty(d)}ue(e.pieces,function(l){ue(o,function(u){l.hasOwnProperty(u)&&(r[u]=1)})}),ue(r,function(l,u){var d=!1;ue(this.stateList,function(f){d=d||s(e,f,u)||s(e.target,f,u)},this),!d&&ue(this.stateList,function(f){(e[f]||(e[f]={}))[u]=DL(u,"inRange"===f?"active":"inactive",i)})},this),n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,r){var o=this.option,i=this._pieceList,s=(r?o:e).selected||{};if(o.selected=s,ue(i,function(u,d){var f=this.getSelectedMapKey(u);s.hasOwnProperty(f)||(s[f]=!0)},this),"single"===o.selectedMode){var l=!1;ue(i,function(u,d){var f=this.getSelectedMapKey(u);s[f]&&(l?s[f]=!1:l=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Qt(e)},t.prototype.getValueState=function(e){var r=gl.findPieceIndex(e,this._pieceList);return null!=r&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[],o=this._pieceList;return this.eachTargetSeries(function(i){var s=[],l=i.getData();l.each(this.getDataDimensionIndex(l),function(u,d){gl.findPieceIndex(u,o)===e&&s.push(d)},this),r.push({seriesId:i.id,dataIndex:s})},this),r},t.prototype.getRepresentValue=function(e){var r;if(this.isCategory())r=e.value;else if(null!=e.value)r=e.value;else{var o=e.interval||[];r=o[0]===-1/0&&o[1]===1/0?0:(o[0]+o[1])/2}return r},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var r=[],o=["",""],i=this,s=this._pieceList.slice();if(s.length){var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),(l=s[s.length-1].interval[1])!==1/0&&s.push({interval:[l,1/0]})}else s.push({interval:[-1/0,1/0]});var u=-1/0;return ue(s,function(f){var p=f.interval;p&&(p[0]>u&&d([u,p[0]],"outOfRange"),d(p.slice()),u=p[1])},this),{stops:r,outerColors:o}}function d(f,p){var v=i.getRepresentValue({interval:f});p||(p=i.getValueState(v));var y=e(v,p);f[0]===-1/0?o[0]=y:f[1]===1/0?o[1]=y:r.push({value:f[0],color:y},{value:f[1],color:y})}},t.type="visualMap.piecewise",t.defaultOption=Su(rT.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(rT),RB={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),r=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var i=(r[1]-r[0])/o;+i.toFixed(e)!==i&&e<5;)e++;t.precision=e,i=+i.toFixed(e),t.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var s=0,l=r[0];s<o;l+=i,s++)n.push({interval:[l,s===o-1?r[1]:l+i],close:[1,1]});t.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),lo(n),ue(n,function(d,f){d.index=f,d.text=this.formatValueText(d.interval)},this)},categories:function(n){var t=this.option;ue(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),UL(t,n)},pieces:function(n){var t=this.option;ue(t.pieces,function(e,r){zn(e)||(e={value:e});var o={text:"",index:r};if(null!=e.label&&(o.text=e.label),e.hasOwnProperty("value")){var i=o.value=e.value;o.interval=[i,i],o.close=[1,1]}else{for(var s=o.interval=[],l=o.close=[0,0],u=[1,0,1],d=[-1/0,1/0],f=[],p=0;p<2;p++){for(var v=[["gte","gt","min"],["lte","lt","max"]][p],y=0;y<3&&null==s[p];y++)s[p]=e[v[y]],l[p]=u[y],f[p]=2===y;null==s[p]&&(s[p]=d[p])}f[0]&&s[1]===1/0&&(l[0]=0),f[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(o.value=s[0])}o.visual=gl.retrieveVisuals(e),n.push(o)},this),UL(t,n),lo(n),ue(n,function(e){var r=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][r[1]],[">","\u2265"][r[0]]])},this)}};function UL(n,t){var e=n.inverse;("vertical"===n.orient?!e:e)&&t.reverse()}var OB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return We(t,n),t.prototype.doRender=function(){var e=this.group;e.removeAll();var r=this.visualMapModel,o=r.get("textGap"),i=r.textStyleModel,s=i.getFont(),l=i.getTextColor(),u=this._getItemAlign(),d=r.itemSize,f=this._getViewData(),p=f.endsText,v=ut(r.get("showLabel",!0),!p);p&&this._renderEndsText(e,p[0],d,v,u),ue(f.viewPieceList,function(y){var x=y.piece,S=new nr;S.onclick=xn(this._onItemClick,this,x),this._enableHoverLink(S,y.indexInModelPieceList);var C=r.getRepresentValue(x);if(this._createItemSymbol(S,C,[0,0,d[0],d[1]]),v){var k=this.visualMapModel.getValueState(C);S.add(new Xr({style:{x:"right"===u?-o:d[0]+o,y:d[1]/2,text:x.text,verticalAlign:"middle",align:u,font:s,fill:l,opacity:"outOfRange"===k?.5:1}}))}e.add(S)},this),p&&this._renderEndsText(e,p[1],d,v,u),Jl(r.get("orient"),e,r.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,r){var o=this;e.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(s){var l=o.visualMapModel;l.option.hoverLink&&o.api.dispatchAction({type:s,batch:oT(l.findTargetDataIndices(r),l)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,r=e.option;if("vertical"===r.orient)return NL(e,this.api,e.itemSize);var o=r.align;return o&&"auto"!==o||(o="left"),o},t.prototype._renderEndsText=function(e,r,o,i,s){if(r){var l=new nr,u=this.visualMapModel.textStyleModel;l.add(new Xr({style:{x:i?"right"===s?o[0]:0:o[0]/2,y:o[1]/2,verticalAlign:"middle",align:i?s:"center",text:r,font:u.getFont(),fill:u.getTextColor()}})),e.add(l)}},t.prototype._getViewData=function(){var e=this.visualMapModel,r=Ht(e.getPieceList(),function(l,u){return{piece:l,indexInModelPieceList:u}}),o=e.get("text"),i=e.get("orient"),s=e.get("inverse");return("horizontal"===i?s:!s)?r.reverse():o&&(o=o.slice().reverse()),{viewPieceList:r,endsText:o}},t.prototype._createItemSymbol=function(e,r,o){e.add(qi(this.getControllerVisual(r,"symbol"),o[0],o[1],o[2],o[3],this.getControllerVisual(r,"color")))},t.prototype._onItemClick=function(e){var r=this.visualMapModel,o=r.option,i=Qt(o.selected),s=r.getSelectedMapKey(e);"single"===o.selectedMode?(i[s]=!0,ue(i,function(l,u){i[u]=u===s})):i[s]=!i[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})},t.type="visualMap.piecewise",t}(RL);function jL(n){n.registerComponentModel(LB),n.registerComponentView(OB),WL(n)}var NB={label:{enabled:!0},decal:{show:!1}},YL=go(),EB={};function BB(n,t){var e=n.getModel("aria");if(e.get("enabled")){var r=Qt(NB);en(r.label,n.getLocaleModel().get("aria"),!1),en(e.option,r,!1),function(){if(e.getModel("decal").get("show")){var i=bn();n.eachSeries(function(s){if(!s.isColorBySeries()){var l=i.get(s.type);l||i.set(s.type,l={}),YL(s).scope=l}}),n.eachRawSeries(function(s){if(!n.isSeriesFiltered(s))if("function"!=typeof s.enableAriaDecal){var l=s.getData();if(s.isColorBySeries()){var u=f0(s.ecModel,s.name,EB,n.getSeriesCount()),d=l.getVisual("decal");l.setVisual("decal",x(d,u))}else{var f=s.getRawData(),p={},v=YL(s).scope;l.each(function(S){var C=l.getRawIndex(S);p[C]=S});var y=f.count();f.each(function(S){var C=p[S],k=f.getName(S)||S+"",I=f0(s.ecModel,k,v,y),R=l.getItemVisual(C,"decal");l.setItemVisual(C,"decal",x(R,I))})}}else s.enableAriaDecal();function x(S,C){var k=S?tt(tt({},C),S):C;return k.dirty=!0,k}})}}(),function(){var O,i=n.getLocaleModel().get("aria"),s=e.getModel("label");if(s.option=Gt(s.option,i),s.get("enabled")){var l=t.getZr().dom;if(s.get("description"))return void l.setAttribute("aria-label",s.get("description"));var u,d=n.getSeriesCount(),f=s.get(["data","maxCount"])||10,p=s.get(["series","maxCount"])||10,v=Math.min(d,p);if(!(d<1)){var y=((O=n.get("title"))&&O.length&&(O=O[0]),O&&O.text);u=y?o(s.get(["general","withTitle"]),{title:y}):s.get(["general","withoutTitle"]);var S=[];u+=o(s.get(d>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:d}),n.eachSeries(function(O,V){if(V<v){var F=void 0,Y=O.get("name")?"withName":"withoutName";F=o(F=s.get(d>1?["series","multiple",Y]:["series","single",Y]),{seriesId:O.seriesIndex,seriesName:O.get("name"),seriesType:(Ce=O.subType,n.getLocaleModel().get(["series","typeNames"])[Ce]||"\u81ea\u5b9a\u4e49\u56fe")});var Z=O.getData();Z.count()>f?F+=o(s.get(["data","partialData"]),{displayCnt:f}):F+=s.get(["data","allData"]);for(var re=[],ie=0;ie<Z.count();ie++)if(ie<f){var ae=Z.getName(ie),ce=$g(Z,ie),ve=s.get(["data",ae?"withName":"withoutName"]);re.push(o(ve,{name:ae,value:ce}))}var be=s.get(["data","separator","middle"]),_e=s.get(["data","separator","end"]);F+=re.join(be)+_e,S.push(F)}var Ce});var k=s.getModel(["series","multiple","separator"]),I=k.get("middle"),R=k.get("end");u+=S.join(I)+R,l.setAttribute("aria-label",u)}}}()}function o(i,s){if("string"!=typeof i)return i;var l=i;return ue(s,function(u,d){l=l.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),u)}),l}}function zB(n){if(n&&n.aria){var t=n.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},ue(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var XL={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},VB=function(){function n(t){null==(this._condVal=ir(t)?new RegExp(t):Wa(t)?t:null)&&Hn("")}return n.prototype.evaluate=function(t){var e=typeof t;return"string"===e?this._condVal.test(t):"number"===e&&this._condVal.test(t+"")},n}(),FB=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),HB=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),WB=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),GB=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),UB=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),r=t?this.valueParser(e):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?r:e))return!1;return!0},n}();function sD(n,t){if(!0===n||!1===n){var e=new FB;return e.value=n,e}return ZL(n)||Hn(""),n.and?qL("and",n,t):n.or?qL("or",n,t):n.not?function(o,i){var s=o.not;ZL(s)||Hn("");var u=new GB;return u.child=sD(s,i),u.child||Hn(""),u}(n,t):function(o,i){for(var l=i.prepareGetValue(o),u=[],d=It(o),f=o.parser,p=f?pS(f):null,v=0;v<d.length;v++){var y=d[v];if("parser"!==y&&!i.valueGetterAttrMap.get(y)){var x=_n(XL,y)?XL[y]:y,S=o[y],C=p?p(S):S,k=Qg(x,C)||"reg"===x&&new VB(C);k||Hn(""),u.push(k)}}u.length||Hn("");var I=new UB;return I.valueGetterParam=l,I.valueParser=p,I.getValue=i.getValue,I.subCondList=u,I}(n,t)}function qL(n,t,e){var r=t[n];dt(r)||Hn(""),r.length||Hn("");var i="and"===n?new HB:new WB;return i.children=Ht(r,function(s){return sD(s,e)}),i.children.length||Hn(""),i}function ZL(n){return zn(n)&&!Yr(n)}var jB=function(){function n(t,e){this._cond=sD(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),YB={type:"echarts:filter",transform:function(n){for(var t,e,r,o=n.upstream,i=(e=n.config,r={valueGetterAttrMap:bn({dimension:!0}),prepareGetValue:function(d){var p=d.dimension;_n(d,"dimension")||Hn("");var v=o.getDimensionInfo(p);return v||Hn(""),{dimIdx:v.index}},getValue:function(d){return o.retrieveValueFromItem(t,d.dimIdx)}},new jB(e,r)),s=[],l=0,u=o.count();l<u;l++)t=o.getRawDataItem(l),i.evaluate()&&s.push(t);return{data:s}}},XB={type:"echarts:sort",transform:function(n){var t=n.upstream,r="",o=no(n.config);o.length||Hn(r);var i=[];ue(o,function(f){var p=f.dimension,v=f.order,y=f.parser,x=f.incomparable;null==p&&Hn(r),"asc"!==v&&"desc"!==v&&Hn(r),x&&"min"!==x&&"max"!==x&&Hn(""),"asc"!==v&&"desc"!==v&&Hn("");var k=t.getDimensionInfo(p);k||Hn(r);var I=y?pS(y):null;y&&!I&&Hn(r),i.push({dimIdx:k.index,parser:I,comparator:new vS(v,x)})});var s=t.sourceFormat;s!==ac&&s!==Tu&&Hn(r);for(var l=[],u=0,d=t.count();u<d;u++)l.push(t.getRawDataItem(u));return l.sort(function(f,p){for(var v=0;v<i.length;v++){var y=i[v],x=t.retrieveValueFromItem(f,y.dimIdx),S=t.retrieveValueFromItem(p,y.dimIdx);y.parser&&(x=y.parser(x),S=y.parser(S));var C=y.comparator.evaluate(x,S);if(0!==C)return C}return 0}),{data:l}}},qB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return We(t,n),t.prototype.init=function(e,r,o){n.prototype.init.call(this,e,r,o),this._sourceManager=new Gx(this),SS(this)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),SS(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:ku},t}(Hr),ZB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return We(t,n),t.type="dataset",t}(xi),tg=mu.CMD;function Tx(n,t){return Math.abs(n-t)<1e-5}function lD(n){var t,e,r,o,i,ce,ve,be,_e,Ce,Pe,Le,He,Je,vt,Ct,on,xt,sn,cn,En,Bn,s=n.data,l=n.len(),u=[],d=0,f=0,p=0,v=0;function y(ce,ve){t&&t.length>2&&u.push(t),t=[ce,ve]}function x(ce,ve,be,_e){Tx(ce,be)&&Tx(ve,_e)||t.push(ce,ve,be,_e,be,_e)}for(var C=0;C<l;){var k=s[C++],I=1===C;switch(I&&(p=d=s[C],v=f=s[C+1],k!==tg.L&&k!==tg.C&&k!==tg.Q||(t=[p,v])),k){case tg.M:d=p=s[C++],f=v=s[C++],y(p,v);break;case tg.L:x(d,f,e=s[C++],r=s[C++]),d=e,f=r;break;case tg.C:t.push(s[C++],s[C++],s[C++],s[C++],d=s[C++],f=s[C++]);break;case tg.Q:e=s[C++],r=s[C++],o=s[C++],i=s[C++],t.push(d+2/3*(e-d),f+2/3*(r-f),o+2/3*(e-o),i+2/3*(r-i),o,i),d=o,f=i;break;case tg.A:var R=s[C++],O=s[C++],V=s[C++],F=s[C++],Y=s[C++],Z=s[C++]+Y;C+=1;var re=!s[C++];e=Math.cos(Y)*V+R,r=Math.sin(Y)*F+O,I?y(p=e,v=r):x(d,f,e,r),d=Math.cos(Z)*V+R,f=Math.sin(Z)*F+O;for(var ie=(re?-1:1)*Math.PI/2,ae=Y;re?ae>Z:ae<Z;ae+=ie)ce=ae,ve=re?Math.max(ae+ie,Z):Math.min(ae+ie,Z),be=R,_e=O,Ce=V,Pe=F,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Le=Math.abs(ve-ce),He=4*Math.tan(Le/4)/3,Je=ve<ce?-1:1,vt=Math.cos(ce),Ct=Math.sin(ce),on=Math.cos(ve),xt=Math.sin(ve),t.push(vt*Ce+be-(En=Ce*He*Je)*Ct,Ct*Pe+_e+(Bn=Pe*He*Je)*vt,(sn=on*Ce+be)+En*xt,(cn=xt*Pe+_e)-Bn*on,sn,cn);break;case tg.R:p=d=s[C++],v=f=s[C++],e=p+s[C++],r=v+s[C++],y(e,v),x(e,v,e,r),x(e,r,p,r),x(p,r,p,v),x(p,v,e,v);break;case tg.Z:t&&x(d,f,p,v),d=p,f=v}}return t&&t.length>2&&u.push(t),u}function uD(n,t,e,r,o,i,s,l,u,d){if(Tx(n,e)&&Tx(t,r)&&Tx(o,s)&&Tx(i,l))u.push(s,l);else{var f=2/d,p=f*f,v=s-n,y=l-t,x=Math.sqrt(v*v+y*y);v/=x,y/=x;var S=e-n,C=r-t,k=o-s,I=i-l,R=S*S+C*C,O=k*k+I*I;if(R<p&&O<p)u.push(s,l);else{var V=v*S+y*C,F=-v*k-y*I;if(R-V*V<p&&V>=0&&O-F*F<p&&F>=0)u.push(s,l);else{var Y=[],Z=[];_c(n,e,o,s,.5,Y),_c(t,r,i,l,.5,Z),uD(Y[0],Z[0],Y[1],Z[1],Y[2],Z[2],Y[3],Z[3],u,d),uD(Y[4],Z[4],Y[5],Z[5],Y[6],Z[6],Y[7],Z[7],u,d)}}}}function KL(n,t,e){var i=Math.abs(n[t]/n[1-t]),s=Math.ceil(Math.sqrt(i*e)),l=Math.floor(e/s);0===l&&(l=1,s=e);for(var u=[],d=0;d<s;d++)u.push(l);var f=e-s*l;if(f>0)for(d=0;d<f;d++)u[d%s]+=1;return u}function $L(n,t,e){for(var r=n.r0,o=n.r,i=n.startAngle,l=Math.abs(n.endAngle-i),u=l*o,d=o-r,f=u>Math.abs(d),p=KL([u,d],f?0:1,t),v=(f?l:d)/p.length,y=0;y<p.length;y++)for(var x=(f?d:l)/p[y],S=0;S<p[y];S++){var C={};f?(C.startAngle=i+v*y,C.endAngle=i+v*(y+1),C.r0=r+x*S,C.r=r+x*(S+1)):(C.startAngle=i+x*S,C.endAngle=i+x*(S+1),C.r0=r+v*y,C.r=r+v*(y+1)),C.clockwise=n.clockwise,C.cx=n.cx,C.cy=n.cy,e.push(C)}}function JL(n,t,e,r){return n*r-e*t}function KB(n,t,e,r,o,i,s,l){var u=e-n,d=r-t,f=s-o,p=l-i,v=JL(f,p,u,d);if(Math.abs(v)<1e-6)return null;var y=JL(n-o,t-i,f,p)/v;return y<0||y>1?null:new dr(y*u+n,y*d+t)}function $B(n,t,e){var r=new dr;dr.sub(r,e,t),r.normalize();var o=new dr;return dr.sub(o,n,t),o.dot(r)}function kx(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function QL(n){var t=n.points,e=[],r=[];nd(t,e,r);var o=new Lr(e[0],e[1],r[0]-e[0],r[1]-e[1]),i=o.width,s=o.height,l=o.x,u=o.y,d=new dr,f=new dr;return i>s?(d.x=f.x=l+i/2,d.y=u,f.y=u+s):(d.y=f.y=u+s/2,d.x=l,f.x=l+i),function(p,v,y){for(var x=p.length,S=[],C=0;C<x;C++){var k=p[C],I=p[(C+1)%x],R=KB(k[0],k[1],I[0],I[1],v.x,v.y,y.x,y.y);R&&S.push({projPt:$B(R,v,y),pt:R,idx:C})}if(S.length<2)return[{points:p},{points:p}];S.sort(function(ae,ce){return ae.projPt-ce.projPt});var O=S[0],V=S[S.length-1];if(V.idx<O.idx){var F=O;O=V,V=F}var Y=[O.pt.x,O.pt.y],Z=[V.pt.x,V.pt.y],re=[Y],ie=[Z];for(C=O.idx+1;C<=V.idx;C++)kx(re,p[C].slice());for(kx(re,Z),kx(re,Y),C=V.idx+1;C<=O.idx+x;C++)kx(ie,p[C%x].slice());return kx(ie,Y),kx(ie,Z),[{points:re},{points:ie}]}(t,d,f)}function iT(n,t,e,r){if(1===e)r.push(t);else{var o=Math.floor(e/2),i=n(t);iT(n,i[0],o,r),iT(n,i[1],e-o,r)}return r}function JB(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function ez(n,t){var e=n.length,r=t.length;if(e===r)return[n,t];for(var o=[],i=[],s=e<r?n:t,l=Math.min(e,r),u=Math.abs(r-e)/6,f=Math.ceil(u/((l-2)/6))+1,p=[s[0],s[1]],v=u,y=2;y<l;){var x=s[y-2],S=s[y-1],C=s[y++],k=s[y++],I=s[y++],R=s[y++],O=s[y++],V=s[y++];if(v<=0)p.push(C,k,I,R,O,V);else{for(var F=Math.min(v,f-1)+1,Y=1;Y<=F;Y++){var Z=Y/F;_c(x,C,I,O,Z,o),_c(S,k,R,V,Z,i),p.push(o[1],i[1],o[2],i[2],x=o[3],S=i[3]),C=o[5],k=i[5],I=o[6],R=i[6]}v-=F-1}}return s===n?[p,t]:[n,p]}function eR(n,t){for(var e=n.length,r=n[e-2],o=n[e-1],i=[],s=0;s<t.length;)i[s++]=r,i[s++]=o;return i}function tR(n){for(var t=0,e=0,r=0,o=n.length,i=0,s=o-2;i<o;s=i,i+=2){var l=n[s],u=n[s+1],d=n[i],f=n[i+1],p=l*f-d*u;t+=p,e+=(l+d)*p,r+=(u+f)*p}return 0===t?[n[0]||0,n[1]||0]:[e/t/3,r/t/3,t]}function tz(n,t,e,r){for(var o=(n.length-2)/6,i=1/0,s=0,l=n.length,u=l-2,d=0;d<o;d++){for(var f=6*d,p=0,v=0;v<l;v+=2){var y=0===v?f:(f+v-2)%u+2,C=t[v]-r[0]-(n[y]-e[0]),k=t[v+1]-r[1]-(n[y+1]-e[1]);p+=C*C+k*k}p<i&&(i=p,s=d)}return s}function nz(n){for(var t=[],e=n.length,r=0;r<e;r+=2)t[r]=n[e-r-2],t[r+1]=n[e-r-1];return t}function aT(n){return n.__isCombineMorphing}var nR="__mOriginal_";function sT(n,t,e){var r=nR+t,o=n[r]||n[t];n[r]||(n[r]=n[t]);var i=e.replace,s=e.after,l=e.before;n[t]=function(){var u,d=arguments;return l&&l.apply(this,d),u=i?i.apply(this,d):o.apply(this,d),s&&s.apply(this,d),u}}function uS(n,t){var e=nR+t;n[e]&&(n[t]=n[e],n[e]=null)}function rR(n,t){for(var e=0;e<n.length;e++)for(var r=n[e],o=0;o<r.length;){var i=r[o],s=r[o+1];r[o++]=t[0]*i+t[2]*s+t[4],r[o++]=t[1]*i+t[3]*s+t[5]}}function oR(n,t){var e=n.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),o=function(p,v){for(var y,x,S,C=[],k=[],I=0;I<Math.max(p.length,v.length);I++){var R=p[I],O=v[I],V=void 0,F=void 0;R?O?(x=V=(y=ez(R,O))[0],S=F=y[1]):(F=eR(S||R,R),V=R):(V=eR(x||O,O),F=O),C.push(V),k.push(F)}return[C,k]}(lD(e),lD(r)),i=o[0],s=o[1],l=n.getComputedTransform(),u=t.getComputedTransform();l&&rR(i,l),u&&rR(s,u),sT(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var d=function(p,v,y,x){for(var S,C=[],k=0;k<p.length;k++){var I=p[k],R=v[k],O=tR(I),V=tR(R);null==S&&(S=O[2]<0!=V[2]<0);var F=[],Y=[],Z=0,re=1/0,ie=[],ae=I.length;S&&(I=nz(I));for(var ce=6*tz(I,R,O,V),ve=ae-2,be=0;be<ve;be+=2){var _e=(ce+be)%ve+2;F[be+2]=I[_e]-O[0],F[be+3]=I[_e+1]-O[1]}F[0]=I[ce]-O[0],F[1]=I[ce+1]-O[1];for(var Ce=x/10,Pe=-x/2;Pe<=x/2;Pe+=Ce){var Le=Math.sin(Pe),He=Math.cos(Pe),Je=0;for(be=0;be<I.length;be+=2){var vt=F[be],Ct=F[be+1],on=R[be]-V[0],xt=R[be+1]-V[1],Ft=on*He-xt*Le,vn=on*Le+xt*He;ie[be]=Ft,ie[be+1]=vn;var sn=Ft-vt,cn=vn-Ct;Je+=sn*sn+cn*cn}if(Je<re){re=Je,Z=Pe;for(var En=0;En<ie.length;En++)Y[En]=ie[En]}}C.push({from:F,to:Y,fromCp:O,toCp:V,rotation:-Z})}return C}(i,s,0,Math.PI),f=[];sT(t,"buildPath",{replace:function(p){for(var v=t.__morphT,y=1-v,x=[],S=0;S<d.length;S++){var C=d[S],k=C.from,I=C.to,R=C.rotation*v,O=C.fromCp,V=C.toCp,F=Math.sin(R),Y=Math.cos(R);st(x,O,V,v);for(var Z=0;Z<k.length;Z+=2){var ae=k[Z]*y+(_e=I[Z])*v,ce=k[Z+1]*y+(Ce=I[Z+1])*v;f[Z]=ae*Y-ce*F+x[0],f[Z+1]=ae*F+ce*Y+x[1]}var ve=f[0],be=f[1];for(p.moveTo(ve,be),Z=2;Z<k.length;){var _e=f[Z++],Ce=f[Z++],Pe=f[Z++],Le=f[Z++],He=f[Z++],Je=f[Z++];ve===_e&&be===Ce&&Pe===He&&Le===Je?p.lineTo(He,Je):p.bezierCurveTo(_e,Ce,Pe,Le,He,Je),ve=He,be=Je}}}})}function cD(n,t,e){if(!n||!t)return t;var r=e.done,o=e.during;return oR(n,t),t.__morphT=0,t.animateTo({__morphT:1},Gt({during:function(i){t.dirtyShape(),o&&o(i)},done:function(){uS(t,"buildPath"),uS(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),r&&r()}},e)),t}function rz(n,t,e,r,o,i){n=o===e?0:Math.round(32767*(n-e)/(o-e)),t=i===r?0:Math.round(32767*(t-r)/(i-r));for(var s,l=0,u=32768;u>0;u/=2){var d=0,f=0;(n&u)>0&&(d=1),(t&u)>0&&(f=1),l+=u*u*(3*d^f),0===f&&(1===d&&(n=u-1-n,t=u-1-t),s=n,n=t,t=s)}return l}function lT(n){var t=1/0,e=1/0,r=-1/0,o=-1/0,i=Ht(n,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),d=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return t=Math.min(d,t),e=Math.min(f,e),r=Math.max(d,r),o=Math.max(f,o),[d,f]});return Ht(i,function(s,l){return{cp:s,z:rz(s[0],s[1],t,e,r,o),path:n[l]}}).sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function iR(n){return function QB(n,t){var e,r=[],o=n.shape;switch(n.type){case"rect":(function(k,I,R){for(var O=k.width,V=k.height,F=O>V,Y=KL([O,V],F?0:1,I),Z=F?"width":"height",re=F?"height":"width",ie=F?"x":"y",ae=F?"y":"x",ce=k[Z]/Y.length,ve=0;ve<Y.length;ve++)for(var be=k[re]/Y[ve],_e=0;_e<Y[ve];_e++){var Ce={};Ce[ie]=ve*ce,Ce[ae]=_e*be,Ce[Z]=ce,Ce[re]=be,Ce.x+=k.x,Ce.y+=k.y,R.push(Ce)}})(o,t,r),e=eo;break;case"sector":$L(o,t,r),e=Oo;break;case"circle":$L({r0:0,r:o.r,startAngle:0,endAngle:2*Math.PI,cx:o.cx,cy:o.cy},t,r),e=Oo;break;default:var i=n.getComputedTransform(),s=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,l=Ht(function(k,I){var R=lD(k),O=[];I=I||1;for(var V=0;V<R.length;V++){var F=R[V],Y=[],Z=F[0],re=F[1];Y.push(Z,re);for(var ie=2;ie<F.length;){var ae=F[ie++],ce=F[ie++],ve=F[ie++],be=F[ie++],_e=F[ie++],Ce=F[ie++];uD(Z,re,ae,ce,ve,be,_e,Ce,Y,I),Z=_e,re=Ce}O.push(Y)}return O}(n.getUpdatedPathProxy(),s),function(k){return function(I){for(var R=[],O=0;O<I.length;)R.push([I[O++],I[O++]]);return R}(k)}),u=l.length;if(0===u)iT(QL,{points:l[0]},t,r);else if(u===t)for(var d=0;d<u;d++)r.push({points:l[d]});else{var f=0,p=Ht(l,function(k){var I=[],R=[];nd(k,I,R);var O=(R[1]-I[1])*(R[0]-I[0]);return f+=O,{poly:k,area:O}});p.sort(function(k,I){return I.area-k.area});var v=t;for(d=0;d<u;d++){var y=p[d];if(v<=0)break;var x=d===u-1?v:Math.ceil(y.area/f*t);x<0||(iT(QL,{points:y.poly},x,r),v-=x)}}e=Ea}if(!e)return function(k,I){for(var R=[],O=0;O<I;O++)R.push(Ky(k));return R}(n,t);var S=[];for(d=0;d<r.length;d++){var C=new e;C.setShape(r[d]),JB(n,C),S.push(C)}return S}(n.path,n.count)}function aR(n){return dt(n[0])}function sR(n,t){for(var e=[],r=n.length,o=0;o<r;o++)e.push({one:n[o],many:[]});for(o=0;o<t.length;o++){var i=t[o].length,s=void 0;for(s=0;s<i;s++)e[s%r].many.push(t[o][s])}var l=0;for(o=r-1;o>=0;o--)if(!e[o].many.length){var u=e[l].many;if(u.length<=1){if(!l)return e;l=0}i=u.length;var d=Math.ceil(i/2);e[o].many=u.slice(d,i),e[l].many=u.slice(0,d),l++}return e}var oz={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var o=Ky(n.path);o.setStyle("opacity",e),t.push(o)}return t},split:null};function dD(n,t,e,r,o,i){if(n.length&&t.length){var s=Tp("update",r,o);if(s&&s.duration>0){var l,u,d=r.getModel("universalTransition").get("delay"),f=Object.assign({setToFinal:!0},s);aR(n)&&(l=n,u=t),aR(t)&&(l=t,u=n);for(var p=l?l===n:n.length>t.length,v=l?sR(u,l):sR(p?t:n,[p?n:t]),y=0,x=0;x<v.length;x++)y+=v[x].many.length;var S=0;for(x=0;x<v.length;x++)C(v[x],p,S,y),S+=v[x].many.length}}function C(k,I,R,O,V){var F=k.many,Y=k.one;if(1!==F.length||V)for(var Z=Gt({dividePath:oz[e],individualDelay:d&&function(Pe,Le,He,Je){return d(Pe+R,O)}},f),re=I?function(Pe,Le,He){var Je=[];!function To(_o){for(var _a=0;_a<_o.length;_a++){var Ni=_o[_a];aT(Ni)?To(Ni.childrenRef()):Ni instanceof Vr&&Je.push(Ni)}}(Pe);var vt=Je.length;if(!vt)return{fromIndividuals:[],toIndividuals:[],count:0};var Ct=(He.dividePath||iR)({path:Le,count:vt});if(Ct.length!==vt)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};Je=lT(Je),Ct=lT(Ct);for(var on=He.done,xt=He.during,Ft=He.individualDelay,vn=new Ka,sn=0;sn<vt;sn++){var cn=Je[sn],En=Ct[sn];En.parent=Le,En.copyTransform(vn),Ft||oR(cn,En)}function Bn(To){for(var _o=0;_o<Ct.length;_o++)Ct[_o].addSelfToZr(To)}function mr(){Le.__isCombineMorphing=!1,Le.__morphT=-1,Le.childrenRef=null,uS(Le,"addSelfToZr"),uS(Le,"removeSelfFromZr")}Le.__isCombineMorphing=!0,Le.childrenRef=function(){return Ct},sT(Le,"addSelfToZr",{after:function(To){Bn(To)}}),sT(Le,"removeSelfFromZr",{after:function(To){for(var _o=0;_o<Ct.length;_o++)Ct[_o].removeSelfFromZr(To)}});var Mr=Ct.length;if(Ft){var Ar=Mr,la=function(){0==--Ar&&(mr(),on&&on())};for(sn=0;sn<Mr;sn++){var Ji=Ft?Gt({delay:(He.delay||0)+Ft(sn,Mr,Je[sn],Ct[sn]),done:la},He):He;cD(Je[sn],Ct[sn],Ji)}}else Le.__morphT=0,Le.animateTo({__morphT:1},Gt({during:function(To){for(var _o=0;_o<Mr;_o++){var _a=Ct[_o];_a.__morphT=Le.__morphT,_a.dirtyShape()}xt&&xt(To)},done:function(){mr();for(var To=0;To<Pe.length;To++)uS(Pe[To],"updateTransform");on&&on()}},He));return Le.__zr&&Bn(Le.__zr),{fromIndividuals:Je,toIndividuals:Ct,count:Mr}}(F,Y,Z):function(Pe,Le,He){var Je=Le.length,vt=[],Ct=He.dividePath||iR;if(aT(Pe)){!function En(Bn){for(var mr=0;mr<Bn.length;mr++){var Mr=Bn[mr];aT(Mr)?En(Mr.childrenRef()):Mr instanceof Vr&&vt.push(Mr)}}(Pe.childrenRef());var on=vt.length;if(on<Je)for(var xt=0,Ft=on;Ft<Je;Ft++)vt.push(Ky(vt[xt++%on]));vt.length=Je}else{vt=Ct({path:Pe,count:Je});var vn=Pe.getComputedTransform();for(Ft=0;Ft<vt.length;Ft++)vt[Ft].setLocalTransform(vn);if(vt.length!==Je)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}vt=lT(vt),Le=lT(Le);var sn=He.individualDelay;for(Ft=0;Ft<Je;Ft++){var cn=sn?Gt({delay:(He.delay||0)+sn(Ft,Je,vt[Ft],Le[Ft])},He):He;cD(vt[Ft],Le[Ft],cn)}return{fromIndividuals:vt,toIndividuals:Le,count:Le.length}}(Y,F,Z),ie=re.fromIndividuals,ae=re.toIndividuals,ce=ie.length,ve=0;ve<ce;ve++)be=d?Gt({delay:d(ve,ce)},f):f,i(ie[ve],ae[ve],I?F[ve]:k.one,I?k.one:F[ve],be);else{var be,_e=I?F[0]:Y,Ce=I?Y:F[0];aT(_e)?C({many:[_e],one:Ce},!0,R,O,!0):(cD(_e,Ce,be=d?Gt({delay:d(R,O)},f):f),i(_e,Ce,_e,Ce,be))}}}function R1(n){if(!n)return[];if(dt(n)){for(var t=[],e=0;e<n.length;e++)t.push(R1(n[e]));return t}var r=[];return n.traverse(function(o){o instanceof Vr&&!o.disableMorphing&&!o.invisible&&!o.ignore&&r.push(o)}),r}var iz=go();function lR(n){var t=[];return ue(n,function(e){var r=e.data;if(!(r.count()>1e4))for(var o=r.getIndices(),i=function(l){for(var u=l.dimensions,d=0;d<u.length;d++){var f=l.getDimensionInfo(u[d]);if(f&&0===f.otherDims.itemGroupId)return u[d]}}(r),s=0;s<o.length;s++)t.push({data:r,dim:e.dim||i,divide:e.divide,dataIndex:s})}),t}function fD(n,t,e){n.traverse(function(r){r instanceof Vr&&ni(r,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function hD(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function Dx(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function uR(n,t,e){var r=lR(n),o=lR(t);function i(k,I,R,O,V){(R||k)&&I.animateFrom({style:(R||k).style},V)}function s(k){for(var I=0;I<k.length;I++)if(k[I].dim)return k[I].dim}var l=s(r),u=s(o),d=!1;function f(k,I){return function(R){var O=R.data,V=R.dataIndex;if(I)return O.getId(V);var F=O.hostModel&&O.hostModel.get("dataGroupId"),Y=k?l||u:u||l,Z=Y&&O.getDimensionInfo(Y),re=Z&&Z.ordinalMeta;if(Z){var ie=O.get(Z.name,V);return re&&re.categories[ie]||ie+""}var ae=O.getRawDataItem(V);return ae&&ae.groupId?ae.groupId+"":F||O.getId(V)}}var p=function(k,I){var R=k.length;if(R!==I.length)return!1;for(var O=0;O<R;O++){var V=k[O],F=I[O];if(V.data.getId(V.dataIndex)!==F.data.getId(F.dataIndex))return!1}return!0}(r,o),v={};if(!p)for(var y=0;y<o.length;y++){var x=o[y],S=x.data.getItemGraphicEl(x.dataIndex);S&&(v[S.id]=!0)}function C(k,I){var R=r[I],O=o[k],V=O.data.hostModel,F=R.data.getItemGraphicEl(R.dataIndex),Y=O.data.getItemGraphicEl(O.dataIndex);F!==Y?F&&v[F.id]||Y&&(Dx(Y),F?(Dx(F),hD(F),d=!0,dD(R1(F),R1(Y),O.divide,V,k,i)):fD(Y,V,k)):Y&&function az(n,t,e){var r=Tp("update",e,t);r&&n.traverse(function(o){if(o instanceof mi){var i=kl(o).oldStyle;i&&o.animateFrom({style:i},r)}})}(Y,O.dataIndex,V)}new Rf(r,o,f(!0,p),f(!1,p),null,"multiple").update(C).updateManyToOne(function(k,I){var R=o[k],O=R.data,V=O.hostModel,F=O.getItemGraphicEl(R.dataIndex),Y=Un(Ht(I,function(Z){return r[Z].data.getItemGraphicEl(r[Z].dataIndex)}),function(Z){return Z&&Z!==F&&!v[Z.id]});F&&(Dx(F),Y.length?(ue(Y,function(Z){Dx(Z),hD(Z)}),d=!0,dD(R1(Y),R1(F),R.divide,V,k,i)):fD(F,V,R.dataIndex))}).updateOneToMany(function(k,I){var R=r[I],O=R.data.getItemGraphicEl(R.dataIndex);if(!O||!v[O.id]){var V=Un(Ht(k,function(Y){return o[Y].data.getItemGraphicEl(o[Y].dataIndex)}),function(Y){return Y&&Y!==O}),F=o[k[0]].data.hostModel;V.length&&(ue(V,function(Y){return Dx(Y)}),O?(Dx(O),hD(O),d=!0,dD(R1(O),R1(V),R.divide,F,k[0],i)):ue(V,function(Y){return fD(Y,F,k[0])}))}}).updateManyToMany(function(k,I){new Rf(I,k,function(R){return r[R].data.getId(r[R].dataIndex)},function(R){return o[R].data.getId(o[R].dataIndex)}).update(function(R,O){C(k[R],I[O])}).execute()}).execute(),d&&ue(t,function(k){var I=k.data.hostModel,R=I&&e.getViewOfSeriesModel(I),O=Tp("update",I,0);R&&I.isAnimationEnabled()&&O&&O.duration>0&&R.group.traverse(function(V){V instanceof Vr&&!V.animators.length&&V.animateFrom({style:{opacity:0}},O)})})}function cR(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function dR(n){return dt(n)?n.sort().join(","):n}function Ey(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function fR(n,t){for(var e=0;e<n.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===n[e].seriesIndex||null!=t.seriesId&&t.seriesId===n[e].id)return e}Fr([function(n){n.registerPainter("canvas",jT)}]),Fr([function(n){n.registerPainter("svg",Tw)}]),Fr([function(n){n.registerChartView(sM),n.registerSeriesModel(tM),n.registerLayout(h1("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,p1("line"))},function(n){n.registerChartView(lM),n.registerSeriesModel(XT),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Yn(Q_,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,wC),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,p1("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(o){t.sortInfo&&o.axis.setCategorySortInfo(t.sortInfo)})})},function(n){n.registerChartView(Ty),n.registerSeriesModel(ZT),v_("pie",n.registerAction),n.registerLayout(Yn(gM,"pie")),n.registerProcessor(wy("pie")),n.registerProcessor({seriesType:"pie",reset:function(e,r){var o=e.getData();o.filterSelf(function(i){var s=o.mapDimension("value"),l=o.get(s,i);return!("number"==typeof l&&!isNaN(l)&&l<0)})}})},function(n){Fr(Yt),n.registerSeriesModel(cx),n.registerChartView(zw),n.registerLayout(h1("scatter"))},function(n){Fr(ke),n.registerChartView(Sn),n.registerSeriesModel(qt),n.registerLayout(an),n.registerProcessor(wy("radar")),n.registerPreprocessor(mn)},function(n){Fr(bD),n.registerChartView($T),n.registerSeriesModel(SM),n.registerLayout(JT),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,CM),v_("map",n.registerAction)},function(n){n.registerChartView(MR),n.registerSeriesModel(LR),n.registerLayout(RR),n.registerVisual(OR),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,r){r.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var i=e.dataIndex,s=o.getData().tree.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,r){r.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var i=e2(o.coordinateSystem,e);o.setCenter&&o.setCenter(i.center),o.setZoom&&o.setZoom(i.zoom)})})}(n)},function(n){n.registerSeriesModel(ER),n.registerChartView(HR),n.registerVisual(UR),n.registerLayout(qR),function(t){for(var e=0;e<AD.length;e++)t.registerAction({type:AD[e],update:"updateView"},NR);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,o){o.eachComponent({mainType:"series",subType:"treemap",query:r},function(i,s){var l=Ww(r,["treemapZoomToNode","treemapRootToNode"],i);if(l){var u=i.getViewRoot();u&&(r.direction=a2(u,l.node)?"rollUp":"drillDown"),i.resetViewRoot(l.node)}})})}(n)},function(n){n.registerChartView(iO),n.registerSeriesModel(sO),n.registerProcessor(KR),n.registerVisual($R),n.registerVisual(JR),n.registerLayout(QR),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,tO),n.registerLayout(nO),n.registerCoordinateSystem("graphView",{dimensions:hx.dimensions,create:rO}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),n.registerAction(lO,function(t,e){e.eachComponent({mainType:"series",query:t},function(r){var o=e2(r.coordinateSystem,t);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})},function(n){n.registerChartView(dO),n.registerSeriesModel(fO)},function(n){n.registerChartView(gO),n.registerSeriesModel(mO),n.registerLayout(vO),n.registerProcessor(wy("funnel"))},function(n){Fr(zA),n.registerChartView(yO),n.registerSeriesModel(bO),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,wO)},function(n){n.registerChartView(YO),n.registerSeriesModel(XO),n.registerLayout(qO),n.registerVisual(tN),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(n){n.registerSeriesModel(HA),n.registerChartView(nN),n.registerVisual(aN),n.registerLayout(sN),n.registerTransform(lN)},function(n){n.registerChartView(cN),n.registerSeriesModel(qA),n.registerPreprocessor(gN),n.registerVisual(xN),n.registerLayout(wN)},function(n){n.registerChartView(CN),n.registerSeriesModel(MN),n.registerLayout(h1("effectScatter"))},function(n){n.registerChartView(AN),n.registerSeriesModel(LN),n.registerLayout(eI),n.registerVisual(RN)},function(n){n.registerChartView(NN),n.registerSeriesModel(EN)},function(n){n.registerChartView(zN),n.registerSeriesModel(HN),n.registerLayout(Yn(Q_,"pictorialBar"))},function(n){n.registerChartView(WN),n.registerSeriesModel(GN),n.registerLayout(UN),n.registerProcessor(wy("themeRiver"))},function(n){n.registerChartView(jN),n.registerSeriesModel(YN),n.registerLayout(Yn(XN,"sunburst")),n.registerProcessor(Yn(wy,"sunburst")),n.registerVisual(qN),function(t){t.registerAction({type:tk,update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o,i){var s=Ww(e,[tk],o);if(s){var l=o.getViewRoot();l&&(e.direction=a2(l,s.node)?"rollUp":"drillDown"),o.resetViewRoot(s.node)}})}),t.registerAction({type:yI,update:"none"},function(e,r,o){e=tt({},e),r.eachComponent({mainType:"series",subType:"sunburst",query:e},function(i){var s=Ww(e,[yI],i);s&&(e.dataIndex=s.node.dataIndex)}),o.dispatchAction(tt(e,{type:"highlight"}))}),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,r,o){e=tt({},e),o.dispatchAction(tt(e,{type:"downplay"}))})}(n)},function(n){n.registerChartView(iE),n.registerSeriesModel($N)}]),Fr(function(n){Fr(Yt),Fr(Qw)}),Fr(function(n){Fr(Qw),ze.registerAxisPointerClass("PolarAxisPointer",xE),n.registerCoordinateSystem("polar",DE),n.registerComponentModel(wE),n.registerComponentView(VE),Dy(n,"angle",SE,BE),Dy(n,"radius",CE,zE),n.registerComponentView(IE),n.registerComponentView(OE),n.registerLayout(Yn(EE,"bar"))}),Fr(bD),Fr(function(n){Fr(Qw),ze.registerAxisPointerClass("SingleAxisPointer",qE),n.registerComponentView(KE),n.registerComponentView(WE),n.registerComponentModel(GM),Dy(n,"single",GM,GM.defaultOption),n.registerCoordinateSystem("single",YE)}),Fr(zA),Fr(function(n){n.registerComponentModel($E),n.registerComponentView(e5),n.registerCoordinateSystem("calendar",t5)}),Fr(function(n){n.registerComponentModel(r5),n.registerComponentView(o5),n.registerPreprocessor(n5)}),Fr(function(n){n.registerComponentModel(f5),n.registerComponentView(h5),Sx("saveAsImage",CP),Sx("magicType",g5),Sx("dataView",v5),Sx("dataZoom",S5),Sx("restore",b5),Fr(d5)}),Fr(function(n){Fr(Qw),n.registerComponentModel(M5),n.registerComponentView(L5),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}),Fr(Qw),Fr(function(n){n.registerComponentView(V5),n.registerComponentModel(F5),n.registerPreprocessor(O5),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,E5),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Sx("brush",W5)}),Fr(function(n){n.registerComponentModel(G5),n.registerComponentView(U5)}),Fr(function(n){n.registerComponentModel(oL),n.registerComponentView(X5),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,r,o){var i=r.getComponent("timeline");return i&&null!=e.currentIndex&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),r.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Gt({currentIndex:i.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,r){var o=r.getComponent("timeline");o&&null!=e.playState&&o.setPlayState(e.playState)})}(n),n.registerPreprocessor(q5)}),Fr(function(n){n.registerComponentModel(Z5),n.registerComponentView(K5),n.registerPreprocessor(function(t){jk(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),Fr(function(n){n.registerComponentModel($5),n.registerComponentView(eB),n.registerPreprocessor(function(t){jk(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),Fr(function(n){n.registerComponentModel(tB),n.registerComponentView(oB),n.registerPreprocessor(function(t){jk(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),Fr(function(n){Fr(bL),Fr(lB)}),Fr(function(n){Fr(CL),Fr(kL)}),Fr(CL),Fr(kL),Fr(function(n){Fr(GL),Fr(jL)}),Fr(GL),Fr(jL),Fr(function(n){n.registerPreprocessor(zB),n.registerVisual(n.PRIORITY.VISUAL.ARIA,BB)}),Fr(function(n){n.registerTransform(YB),n.registerTransform(XB)}),Fr(function(n){n.registerComponentModel(qB),n.registerComponentView(ZB)}),Fr(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){ue(no(r.seriesTransition),function(o){ue(no(o.to),function(i){for(var s=r.updatedSeries,l=0;l<s.length;l++)(null!=i.seriesIndex&&i.seriesIndex===s[l].seriesIndex||null!=i.seriesId&&i.seriesId===s[l].id)&&(s[l].__universalTransitionEnabled=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,r){var v,y,x,S,C,o=iz(e);if(o.oldSeries&&r.updatedSeries&&r.optionChanged){var i=r.seriesTransition;if(i)ue(no(i),function(v){var y,x,S,C,k,I;x=o,S=r,C=e,k=[],I=[],ue(no((y=v).from),function(R){var O=fR(x.oldSeries,R);O>=0&&k.push({data:x.oldData[O],divide:Ey(x.oldData[O]),dim:R.dimension})}),ue(no(y.to),function(R){var O=fR(S.updatedSeries,R);if(O>=0){var V=S.updatedSeries[O].getData();I.push({data:V,divide:Ey(V),dim:R.dimension})}}),k.length>0&&I.length>0&&uR(k,I,C)});else{var s=(v=o,y=r,x=bn(),S=bn(),C=bn(),ue(v.oldSeries,function(k,I){var R=v.oldData[I],O=cR(k),V=dR(O);S.set(V,R),dt(O)&&ue(O,function(F){C.set(F,{data:R,key:V})})}),ue(y.updatedSeries,function(k){if(k.isUniversalTransitionEnabled()&&k.isAnimationEnabled()){var I=k.getData(),R=cR(k),O=dR(R),V=S.get(O);if(V)x.set(O,{oldSeries:[{divide:Ey(V),data:V}],newSeries:[{divide:Ey(I),data:I}]});else if(dt(R)){var F=[];ue(R,function(re){var ie=S.get(re);ie&&F.push({divide:Ey(ie),data:ie})}),F.length&&x.set(O,{oldSeries:F,newSeries:[{data:I,divide:Ey(I)}]})}else{var Y=C.get(R);if(Y){var Z=x.get(Y.key);Z||(Z={oldSeries:[{data:Y.data,divide:Ey(Y.data)}],newSeries:[]},x.set(Y.key,Z)),Z.newSeries.push({data:I,divide:Ey(I)})}}}}),x);ue(s.keys(),function(v){var y=s.get(v);uR(y.oldSeries,y.newSeries,e)})}ue(r.updatedSeries,function(v){v.__universalTransitionEnabled&&(v.__universalTransitionEnabled=!1)})}for(var l=t.getSeries(),u=o.oldSeries=[],d=o.oldData=[],f=0;f<l.length;f++){var p=l[f].getData();p.count()<1e4&&(u.push(l[f]),d.push(p))}})}),Fr(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){var o=nu(e).labelManager;o||(o=nu(e).labelManager=new HC),o.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,r){var o=nu(e).labelManager;r.updatedSeries.forEach(function(i){o.addLabelsOfSeries(e.getViewOfSeriesModel(i))}),o.updateLayoutConfig(e),o.layout(e),o.processLabelsOverall()})}),wn.Axis=hc,wn.ChartView=zo,wn.ComponentModel=Hr,wn.ComponentView=xi,wn.List=ba,wn.Model=uo,wn.PRIORITY=O_,wn.SeriesModel=Qo,wn.color=Qr,wn.connect=function(n){if(dt(n)){var t=n;n=null,ue(t,function(e){null!=e.group&&(n=e.group)}),n=n||"g_"+MT++,ue(t,function(e){e.group=n})}return j0[n]=!0,n},wn.dataTool={},wn.dependencies={zrender:"5.2.1"},wn.disConnect=U_,wn.disconnect=sC,wn.dispose=function(n){"string"==typeof n?n=Up[n]:n instanceof W0||(n=qv(n)),n instanceof W0&&!n.isDisposed()&&n.dispose()},wn.env=Tt,wn.extendChartView=function(n){var t=zo.extend(n);return zo.registerClass(t),t},wn.extendComponentModel=function(n){var t=Hr.extend(n);return Hr.registerClass(t),t},wn.extendComponentView=function(n){var t=xi.extend(n);return xi.registerClass(t),t},wn.extendSeriesModel=function(n){var t=Qo.extend(n);return Qo.registerClass(t),t},wn.format=LC,wn.getCoordinateSystemDimensions=function(n){var t=de.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},wn.getInstanceByDom=qv,wn.getInstanceById=function(n){return Up[n]},wn.getMap=function(n){return function(n){var t=Uv.get(n);return t&&"geoJSON"===t.type&&t.getMapForUser()}(n)},wn.graphic=PC,wn.helper=PT,wn.init=function(n,t,e){var r=qv(n);if(r)return r;var o=new W0(n,t,e);return o.id="ec_"+CT++,Up[o.id]=o,Kf(n,Sb,o.id),F_(o),Cd.trigger("afterinit",o),o},wn.innerDrawElementOnCanvas=cb,wn.matrix=ra,wn.number=IC,wn.parseGeoJSON=vb,wn.parseGeoJson=vb,wn.registerAction=dc,wn.registerCoordinateSystem=lC,wn.registerLayout=uC,wn.registerLoading=Tb,wn.registerLocale=Cu,wn.registerMap=cC,wn.registerPostInit=Lf,wn.registerPostUpdate=um,wn.registerPreprocessor=j_,wn.registerProcessor=Zv,wn.registerTheme=Cb,wn.registerTransform=dC,wn.registerUpdateLifecycle=Y0,wn.registerVisual=zh,wn.setCanvasCreator=function(n){Zr("createCanvas",n)},wn.throttle=zc,wn.time=LT,wn.use=Fr,wn.util=RC,wn.vector=nn,wn.version="5.2.1",wn.zrUtil=Ga,wn.zrender=j,Object.defineProperty(wn,"__esModule",{value:!0})}),function(wn,Gr){"object"==typeof exports&&"undefined"!=typeof module?Gr(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],Gr):Gr((wn=wn||self).bmap={},wn.echarts)}(this,function(wn,Gr){"use strict";function We(Tt,rr){this._bmap=Tt,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=rr,this._projection=new BMap.MercatorProjection}function ai(Tt,rr){return rr=rr||[0,0],Gr.util.map([0,1],function(Mn){var Vn=rr[Mn],xr=Tt[Mn]/2,Jt=[],ho=[];return Jt[Mn]=Vn-xr,ho[Mn]=Vn+xr,Jt[1-Mn]=ho[1-Mn]=rr[1-Mn],Math.abs(this.dataToPoint(Jt)[Mn]-this.dataToPoint(ho)[Mn])},this)}var Fn;function Pn(Tt){for(var rr in Tt)if(Tt.hasOwnProperty(rr))return;return 1}We.prototype.dimensions=["lng","lat"],We.prototype.setZoom=function(Tt){this._zoom=Tt},We.prototype.setCenter=function(Tt){this._center=this._projection.lngLatToPoint(new BMap.Point(Tt[0],Tt[1]))},We.prototype.setMapOffset=function(Tt){this._mapOffset=Tt},We.prototype.getBMap=function(){return this._bmap},We.prototype.dataToPoint=function(rr){var Mn=new BMap.Point(rr[0],rr[1]);return[(rr=this._bmap.pointToOverlayPixel(Mn)).x-(Mn=this._mapOffset)[0],rr.y-Mn[1]]},We.prototype.pointToData=function(Tt){var rr=this._mapOffset;return[(Tt=this._bmap.overlayPixelToPoint({x:Tt[0]+rr[0],y:Tt[1]+rr[1]})).lng,Tt.lat]},We.prototype.getViewRect=function(){var Tt=this._api;return new Gr.graphic.BoundingRect(0,0,Tt.getWidth(),Tt.getHeight())},We.prototype.getRoamTransform=function(){return Gr.matrix.create()},We.prototype.prepareCustoms=function(){var Tt=this.getViewRect();return{coordSys:{type:"bmap",x:Tt.x,y:Tt.y,width:Tt.width,height:Tt.height},api:{coord:Gr.util.bind(this.dataToPoint,this),size:Gr.util.bind(ai,this)}}},We.dimensions=We.prototype.dimensions,We.create=function(Tt,rr){var Mn,Vn=rr.getDom();Tt.eachComponent("bmap",function(xr){var Jt,ho=rr.getZr().painter,or=ho.getViewportRoot();if("undefined"==typeof BMap)throw new Error("BMap api is not loaded");function ua(Ir){this._root=Ir}if(Fn=Fn||((ua.prototype=new BMap.Overlay).initialize=function(Ir){return Ir.getPanes().labelPane.appendChild(this._root),this._root},ua.prototype.draw=function(){},ua),Mn)throw new Error("Only one bmap component can exist");xr.__bmap||((wo=Vn.querySelector(".ec-extension-bmap"))&&(or.style.left="0px",or.style.top="0px",Vn.removeChild(wo)),(wo=document.createElement("div")).className="ec-extension-bmap",wo.style.cssText="position:absolute;width:100%;height:100%",Vn.appendChild(wo),(fo=xr.get("mapOptions"))&&delete(fo=Gr.util.clone(fo)).mapType,Jt=xr.__bmap=new BMap.Map(wo,fo),wo=new Fn(or),Jt.addOverlay(wo),ho.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}),Jt=xr.__bmap;var wo,fo=xr.get("center");or=xr.get("zoom"),fo&&or&&(wo=Jt.getCenter(),ho=Jt.getZoom(),xr.centerOrZoomChanged([wo.lng,wo.lat],ho)&&(ho=new BMap.Point(fo[0],fo[1]),Jt.centerAndZoom(ho,or))),(Mn=new We(Jt,rr)).setMapOffset(xr.__mapOffset||[0,0]),Mn.setZoom(or),Mn.setCenter(fo),xr.coordinateSystem=Mn}),Tt.eachSeries(function(xr){"bmap"===xr.get("coordinateSystem")&&(xr.coordinateSystem=Mn)})},Gr.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(Tt,rr){this.option.center=Tt,this.option.zoom=rr},centerOrZoomChanged:function(Tt,rr){var Mn,Vn=this.option;return Mn=Tt,Tt=Vn.center,!(Mn&&Tt&&Mn[0]===Tt[0]&&Mn[1]===Tt[1]&&rr===Vn.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}}),Gr.extendComponentView({type:"bmap",render:function(Tt,rr,Mn){var Vn=!0,xr=Tt.getBMap(),Jt=Mn.getZr().painter.getViewportRoot(),ho=Tt.coordinateSystem,fo=function(Ir,Mi){var Zr,er,fi,Jr;Vn||(Jr=Jt.parentNode.parentNode.parentNode,Jr=(Zr=[-parseInt(Jr.style.left,10)||0,-parseInt(Jr.style.top,10)||0])[1]+"px",(er=Jt.style).left!==(fi=Zr[0]+"px")&&(er.left=fi),er.top!==Jr&&(er.top=Jr),ho.setMapOffset(Zr),Tt.__mapOffset=Zr,Mn.dispatchAction({type:"bmapRoam",animation:{duration:0}}))};function ua(){Vn||Mn.dispatchAction({type:"bmapRoam",animation:{duration:0}})}xr.removeEventListener("moving",this._oldMoveHandler),xr.removeEventListener("moveend",this._oldMoveHandler),xr.removeEventListener("zoomend",this._oldZoomEndHandler),xr.addEventListener("moving",fo),xr.addEventListener("moveend",fo),xr.addEventListener("zoomend",ua),this._oldMoveHandler=fo,this._oldZoomEndHandler=ua,(or=Tt.get("roam"))&&"scale"!==or?xr.enableDragging():xr.disableDragging(),or&&"move"!==or?(xr.enableScrollWheelZoom(),xr.enableDoubleClickZoom(),xr.enablePinchToZoom()):(xr.disableScrollWheelZoom(),xr.disableDoubleClickZoom(),xr.disablePinchToZoom());var wo=Tt.__mapStyle,or=(fo=Tt.get("mapStyle")||{},JSON.stringify(fo));JSON.stringify(wo)!==or&&(Pn(fo)||xr.setMapStyle(Gr.util.clone(fo)),Tt.__mapStyle=JSON.parse(or)),wo=Tt.__mapStyle2,fo=Tt.get("mapStyleV2")||{},or=JSON.stringify(fo),JSON.stringify(wo)!==or&&(Pn(fo)||xr.setMapStyleV2(Gr.util.clone(fo)),Tt.__mapStyle2=JSON.parse(or)),Vn=!1}}),Gr.registerCoordinateSystem("bmap",We),Gr.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(Tt,rr){rr.eachComponent("bmap",function(Mn){var Vn=Mn.getBMap(),xr=Vn.getCenter();Mn.setCenterAndZoom([xr.lng,xr.lat],Vn.getZoom())})}),wn.version="1.0.0",Object.defineProperty(wn,"__esModule",{value:!0})}),function(wn,Gr){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Gr(function(){try{return require("moment")}catch(We){}}()):"function"==typeof define&&define.amd?define(["require"],function(We){return Gr(function(){try{return We("moment")}catch(ai){}}())}):(wn=wn||self).Chart=Gr(wn.moment)}(this,function(wn){"use strict";wn=wn&&wn.hasOwnProperty("default")?wn.default:wn;var w,Gr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},We=(function(g){var w={};for(var T in Gr)Gr.hasOwnProperty(T)&&(w[Gr[T]]=T);var P=g.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var E in P)if(P.hasOwnProperty(E)){if(!("channels"in P[E]))throw new Error("missing channels property: "+E);if(!("labels"in P[E]))throw new Error("missing channel labels property: "+E);if(P[E].labels.length!==P[E].channels)throw new Error("channel and label counts mismatch: "+E);var U=P[E].channels,j=P[E].labels;delete P[E].channels,delete P[E].labels,Object.defineProperty(P[E],"channels",{value:U}),Object.defineProperty(P[E],"labels",{value:j})}P.rgb.hsl=function(q){var $,ee,he=q[0]/255,ye=q[1]/255,Se=q[2]/255,Re=Math.min(he,ye,Se),Be=Math.max(he,ye,Se),Xe=Be-Re;return Be===Re?$=0:he===Be?$=(ye-Se)/Xe:ye===Be?$=2+(Se-he)/Xe:Se===Be&&($=4+(he-ye)/Xe),($=Math.min(60*$,360))<0&&($+=360),ee=(Re+Be)/2,[$,100*(Be===Re?0:ee<=.5?Xe/(Be+Re):Xe/(2-Be-Re)),100*ee]},P.rgb.hsv=function(q){var $,ee,he,ye,Se,Re=q[0]/255,Be=q[1]/255,Xe=q[2]/255,ct=Math.max(Re,Be,Xe),$t=ct-Math.min(Re,Be,Xe),zt=function(rn){return(ct-rn)/6/$t+.5};return 0===$t?ye=Se=0:(Se=$t/ct,$=zt(Re),ee=zt(Be),he=zt(Xe),Re===ct?ye=he-ee:Be===ct?ye=1/3+$-he:Xe===ct&&(ye=2/3+ee-$),ye<0?ye+=1:ye>1&&(ye-=1)),[360*ye,100*Se,100*ct]},P.rgb.hwb=function(q){var $=q[0],ee=q[1],he=q[2];return[P.rgb.hsl(q)[0],1/255*Math.min($,Math.min(ee,he))*100,100*(he=1-1/255*Math.max($,Math.max(ee,he)))]},P.rgb.cmyk=function(q){var $,ee=q[0]/255,he=q[1]/255,ye=q[2]/255;return[100*((1-ee-($=Math.min(1-ee,1-he,1-ye)))/(1-$)||0),100*((1-he-$)/(1-$)||0),100*((1-ye-$)/(1-$)||0),100*$]},P.rgb.keyword=function(q){var $=w[q];if($)return $;var ee,he,ye,Se=1/0;for(var Re in Gr)if(Gr.hasOwnProperty(Re)){var Xe=(he=q,ye=Gr[Re],Math.pow(he[0]-ye[0],2)+Math.pow(he[1]-ye[1],2)+Math.pow(he[2]-ye[2],2));Xe<Se&&(Se=Xe,ee=Re)}return ee},P.keyword.rgb=function(q){return Gr[q]},P.rgb.xyz=function(q){var $=q[0]/255,ee=q[1]/255,he=q[2]/255;return[100*(.4124*($=$>.04045?Math.pow(($+.055)/1.055,2.4):$/12.92)+.3576*(ee=ee>.04045?Math.pow((ee+.055)/1.055,2.4):ee/12.92)+.1805*(he=he>.04045?Math.pow((he+.055)/1.055,2.4):he/12.92)),100*(.2126*$+.7152*ee+.0722*he),100*(.0193*$+.1192*ee+.9505*he)]},P.rgb.lab=function(q){var $=P.rgb.xyz(q),ee=$[0],he=$[1],ye=$[2];return he/=100,ye/=108.883,ee=(ee/=95.047)>.008856?Math.pow(ee,1/3):7.787*ee+16/116,[116*(he=he>.008856?Math.pow(he,1/3):7.787*he+16/116)-16,500*(ee-he),200*(he-(ye=ye>.008856?Math.pow(ye,1/3):7.787*ye+16/116))]},P.hsl.rgb=function(q){var $,ee,he,ye,Se,Re=q[0]/360,Be=q[1]/100,Xe=q[2]/100;if(0===Be)return[Se=255*Xe,Se,Se];$=2*Xe-(ee=Xe<.5?Xe*(1+Be):Xe+Be-Xe*Be),ye=[0,0,0];for(var ct=0;ct<3;ct++)(he=Re+1/3*-(ct-1))<0&&he++,he>1&&he--,ye[ct]=255*(Se=6*he<1?$+6*(ee-$)*he:2*he<1?ee:3*he<2?$+(ee-$)*(2/3-he)*6:$);return ye},P.hsl.hsv=function(q){var $=q[0],ee=q[1]/100,he=q[2]/100,ye=ee,Se=Math.max(he,.01);return ee*=(he*=2)<=1?he:2-he,ye*=Se<=1?Se:2-Se,[$,100*(0===he?2*ye/(Se+ye):2*ee/(he+ee)),(he+ee)/2*100]},P.hsv.rgb=function(q){var $=q[0]/60,ee=q[1]/100,he=q[2]/100,ye=Math.floor($)%6,Se=$-Math.floor($),Re=255*he*(1-ee),Be=255*he*(1-ee*Se),Xe=255*he*(1-ee*(1-Se));switch(he*=255,ye){case 0:return[he,Xe,Re];case 1:return[Be,he,Re];case 2:return[Re,he,Xe];case 3:return[Re,Be,he];case 4:return[Xe,Re,he];case 5:return[he,Re,Be]}},P.hsv.hsl=function(q){var $,ee,he,ye=q[0],Se=q[1]/100,Re=q[2]/100,Be=Math.max(Re,.01);return he=(2-Se)*Re,ee=Se*Be,[ye,100*(ee=(ee/=($=(2-Se)*Be)<=1?$:2-$)||0),100*(he/=2)]},P.hwb.rgb=function(q){var $,ee,he,ye,Se,Re,Be,Xe=q[0]/360,ct=q[1]/100,$t=q[2]/100,zt=ct+$t;switch(zt>1&&(ct/=zt,$t/=zt),he=6*Xe-($=Math.floor(6*Xe)),0!=(1&$)&&(he=1-he),ye=ct+he*((ee=1-$t)-ct),$){default:case 6:case 0:Se=ee,Re=ye,Be=ct;break;case 1:Se=ye,Re=ee,Be=ct;break;case 2:Se=ct,Re=ee,Be=ye;break;case 3:Se=ct,Re=ye,Be=ee;break;case 4:Se=ye,Re=ct,Be=ee;break;case 5:Se=ee,Re=ct,Be=ye}return[255*Se,255*Re,255*Be]},P.cmyk.rgb=function(q){var ee=q[1]/100,he=q[2]/100,ye=q[3]/100;return[255*(1-Math.min(1,q[0]/100*(1-ye)+ye)),255*(1-Math.min(1,ee*(1-ye)+ye)),255*(1-Math.min(1,he*(1-ye)+ye))]},P.xyz.rgb=function(q){var $,ee,he,ye=q[0]/100,Se=q[1]/100,Re=q[2]/100;return ee=-.9689*ye+1.8758*Se+.0415*Re,he=.0557*ye+-.204*Se+1.057*Re,$=($=3.2406*ye+-1.5372*Se+-.4986*Re)>.0031308?1.055*Math.pow($,1/2.4)-.055:12.92*$,ee=ee>.0031308?1.055*Math.pow(ee,1/2.4)-.055:12.92*ee,he=he>.0031308?1.055*Math.pow(he,1/2.4)-.055:12.92*he,[255*($=Math.min(Math.max(0,$),1)),255*(ee=Math.min(Math.max(0,ee),1)),255*(he=Math.min(Math.max(0,he),1))]},P.xyz.lab=function(q){var $=q[0],ee=q[1],he=q[2];return ee/=100,he/=108.883,$=($/=95.047)>.008856?Math.pow($,1/3):7.787*$+16/116,[116*(ee=ee>.008856?Math.pow(ee,1/3):7.787*ee+16/116)-16,500*($-ee),200*(ee-(he=he>.008856?Math.pow(he,1/3):7.787*he+16/116))]},P.lab.xyz=function(q){var $,ee,he;$=q[1]/500+(ee=(q[0]+16)/116),he=ee-q[2]/200;var Se=Math.pow(ee,3),Re=Math.pow($,3),Be=Math.pow(he,3);return ee=Se>.008856?Se:(ee-16/116)/7.787,$=Re>.008856?Re:($-16/116)/7.787,he=Be>.008856?Be:(he-16/116)/7.787,[$*=95.047,ee*=100,he*=108.883]},P.lab.lch=function(q){var $,ee=q[0],he=q[1],ye=q[2];return($=360*Math.atan2(ye,he)/2/Math.PI)<0&&($+=360),[ee,Math.sqrt(he*he+ye*ye),$]},P.lch.lab=function(q){var $,he=q[1];return $=q[2]/360*2*Math.PI,[q[0],he*Math.cos($),he*Math.sin($)]},P.rgb.ansi16=function(q){var $=q[0],ee=q[1],he=q[2],ye=1 in arguments?arguments[1]:P.rgb.hsv(q)[2];if(0===(ye=Math.round(ye/50)))return 30;var Se=30+(Math.round(he/255)<<2|Math.round(ee/255)<<1|Math.round($/255));return 2===ye&&(Se+=60),Se},P.hsv.ansi16=function(q){return P.rgb.ansi16(P.hsv.rgb(q),q[2])},P.rgb.ansi256=function(q){var $=q[0],ee=q[1],he=q[2];return $===ee&&ee===he?$<8?16:$>248?231:Math.round(($-8)/247*24)+232:16+36*Math.round($/255*5)+6*Math.round(ee/255*5)+Math.round(he/255*5)},P.ansi16.rgb=function(q){var $=q%10;if(0===$||7===$)return q>50&&($+=3.5),[$=$/10.5*255,$,$];var ee=.5*(1+~~(q>50));return[(1&$)*ee*255,($>>1&1)*ee*255,($>>2&1)*ee*255]},P.ansi256.rgb=function(q){if(q>=232){var $=10*(q-232)+8;return[$,$,$]}var ee;return q-=16,[Math.floor(q/36)/5*255,Math.floor((ee=q%36)/6)/5*255,ee%6/5*255]},P.rgb.hex=function(q){var $=(((255&Math.round(q[0]))<<16)+((255&Math.round(q[1]))<<8)+(255&Math.round(q[2]))).toString(16).toUpperCase();return"000000".substring($.length)+$},P.hex.rgb=function(q){var $=q.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!$)return[0,0,0];var ee=$[0];3===$[0].length&&(ee=ee.split("").map(function(ye){return ye+ye}).join(""));var he=parseInt(ee,16);return[he>>16&255,he>>8&255,255&he]},P.rgb.hcg=function(q){var $,ee=q[0]/255,he=q[1]/255,ye=q[2]/255,Se=Math.max(Math.max(ee,he),ye),Re=Math.min(Math.min(ee,he),ye),Be=Se-Re;return $=Be<=0?0:Se===ee?(he-ye)/Be%6:Se===he?2+(ye-ee)/Be:4+(ee-he)/Be+4,$/=6,[360*($%=1),100*Be,100*(Be<1?Re/(1-Be):0)]},P.hsl.hcg=function(q){var he,$=q[1]/100,ee=q[2]/100,ye=0;return(he=ee<.5?2*$*ee:2*$*(1-ee))<1&&(ye=(ee-.5*he)/(1-he)),[q[0],100*he,100*ye]},P.hsv.hcg=function(q){var ee=q[2]/100,he=q[1]/100*ee,ye=0;return he<1&&(ye=(ee-he)/(1-he)),[q[0],100*he,100*ye]},P.hcg.rgb=function(q){var ee=q[1]/100,he=q[2]/100;if(0===ee)return[255*he,255*he,255*he];var ye,Se=[0,0,0],Re=q[0]/360%1*6,Be=Re%1,Xe=1-Be;switch(Math.floor(Re)){case 0:Se[0]=1,Se[1]=Be,Se[2]=0;break;case 1:Se[0]=Xe,Se[1]=1,Se[2]=0;break;case 2:Se[0]=0,Se[1]=1,Se[2]=Be;break;case 3:Se[0]=0,Se[1]=Xe,Se[2]=1;break;case 4:Se[0]=Be,Se[1]=0,Se[2]=1;break;default:Se[0]=1,Se[1]=0,Se[2]=Xe}return[255*(ee*Se[0]+(ye=(1-ee)*he)),255*(ee*Se[1]+ye),255*(ee*Se[2]+ye)]},P.hcg.hsv=function(q){var $=q[1]/100,ee=$+q[2]/100*(1-$),he=0;return ee>0&&(he=$/ee),[q[0],100*he,100*ee]},P.hcg.hsl=function(q){var $=q[1]/100,ee=q[2]/100*(1-$)+.5*$,he=0;return ee>0&&ee<.5?he=$/(2*ee):ee>=.5&&ee<1&&(he=$/(2*(1-ee))),[q[0],100*he,100*ee]},P.hcg.hwb=function(q){var $=q[1]/100,ee=$+q[2]/100*(1-$);return[q[0],100*(ee-$),100*(1-ee)]},P.hwb.hcg=function(q){var ee=1-q[2]/100,he=ee-q[1]/100,ye=0;return he<1&&(ye=(ee-he)/(1-he)),[q[0],100*he,100*ye]},P.apple.rgb=function(q){return[q[0]/65535*255,q[1]/65535*255,q[2]/65535*255]},P.rgb.apple=function(q){return[q[0]/255*65535,q[1]/255*65535,q[2]/255*65535]},P.gray.rgb=function(q){return[q[0]/100*255,q[0]/100*255,q[0]/100*255]},P.gray.hsl=P.gray.hsv=function(q){return[0,0,q[0]]},P.gray.hwb=function(q){return[0,100,q[0]]},P.gray.cmyk=function(q){return[0,0,0,q[0]]},P.gray.lab=function(q){return[q[0],0,0]},P.gray.hex=function(q){var $=255&Math.round(q[0]/100*255),ee=(($<<16)+($<<8)+$).toString(16).toUpperCase();return"000000".substring(ee.length)+ee},P.rgb.gray=function(q){return[(q[0]+q[1]+q[2])/3/255*100]}}(w={exports:{}}),w.exports);function Fn(g,w){return function(T){return w(g(T))}}function Pn(g,w){for(var T=[w[g].parent,g],P=We[w[g].parent][g],E=w[g].parent;w[E].parent;)T.unshift(w[E].parent),P=Fn(We[w[E].parent][E],P),E=w[E].parent;return P.conversion=T,P}var Tt={};Object.keys(We).forEach(function(g){Tt[g]={},Object.defineProperty(Tt[g],"channels",{value:We[g].channels}),Object.defineProperty(Tt[g],"labels",{value:We[g].labels});var w=function(T){for(var P=function ai(g){var w=function(){for(var ee={},he=Object.keys(We),ye=he.length,Se=0;Se<ye;Se++)ee[he[Se]]={distance:-1,parent:null};return ee}(),T=[g];for(w[g].distance=0;T.length;)for(var P=T.pop(),E=Object.keys(We[P]),U=E.length,j=0;j<U;j++){var q=E[j],$=w[q];-1===$.distance&&($.distance=w[P].distance+1,$.parent=P,T.unshift(q))}return w}(T),E={},U=Object.keys(P),j=U.length,q=0;q<j;q++){var $=U[q];null!==P[$].parent&&(E[$]=Pn($,P))}return E}(g);Object.keys(w).forEach(function(T){var E,U,P=w[T];Tt[g][T]=(U=function(j){if(null==j)return j;arguments.length>1&&(j=Array.prototype.slice.call(arguments));var q=E(j);if("object"==typeof q)for(var $=q.length,ee=0;ee<$;ee++)q[ee]=Math.round(q[ee]);return q},"conversion"in(E=P)&&(U.conversion=E.conversion),U),Tt[g][T].raw=function(E){var U=function(j){return null==j?j:(arguments.length>1&&(j=Array.prototype.slice.call(arguments)),E(j))};return"conversion"in E&&(U.conversion=E.conversion),U}(P)})});var rr=Tt,Mn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Vn={getRgba:xr,getHsla:Jt,getRgb:function(g){var w=xr(g);return w&&w.slice(0,3)},getHsl:function(g){var w=Jt(g);return w&&w.slice(0,3)},getHwb:ho,getAlpha:function(g){var w=xr(g);if(w||(w=Jt(g))||(w=ho(g)))return w[3]},hexString:function(g,w){return w=void 0!==w&&3===g.length?w:g[3],"#"+Ir(g[0])+Ir(g[1])+Ir(g[2])+(w>=0&&w<1?Ir(Math.round(255*w)):"")},rgbString:function(g,w){return w<1||g[3]&&g[3]<1?ua(g,w):"rgb("+g[0]+", "+g[1]+", "+g[2]+")"},rgbaString:ua,percentString:function(g,w){return w<1||g[3]&&g[3]<1?wo(g,w):"rgb("+Math.round(g[0]/255*100)+"%, "+Math.round(g[1]/255*100)+"%, "+Math.round(g[2]/255*100)+"%)"},percentaString:wo,hslString:function(g,w){return w<1||g[3]&&g[3]<1?fo(g,w):"hsl("+g[0]+", "+g[1]+"%, "+g[2]+"%)"},hslaString:fo,hwbString:function(g,w){return void 0===w&&(w=void 0!==g[3]?g[3]:1),"hwb("+g[0]+", "+g[1]+"%, "+g[2]+"%"+(void 0!==w&&1!==w?", "+w:"")+")"},keyword:function(g){return Mi[g.slice(0,3)]}};function xr(g){if(g){var w=[0,0,0],T=1,P=g.match(/^#([a-fA-F0-9]{3,4})$/i),E="";if(P){E=(P=P[1])[3];for(var U=0;U<w.length;U++)w[U]=parseInt(P[U]+P[U],16);E&&(T=Math.round(parseInt(E+E,16)/255*100)/100)}else if(P=g.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(E=P[2],P=P[1],U=0;U<w.length;U++)w[U]=parseInt(P.slice(2*U,2*U+2),16);E&&(T=Math.round(parseInt(E,16)/255*100)/100)}else if(P=g.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(U=0;U<w.length;U++)w[U]=parseInt(P[U+1]);T=parseFloat(P[4])}else if(P=g.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(U=0;U<w.length;U++)w[U]=Math.round(2.55*parseFloat(P[U+1]));T=parseFloat(P[4])}else if(P=g.match(/(\w+)/)){if("transparent"==P[1])return[0,0,0,0];if(!(w=Mn[P[1]]))return}for(U=0;U<w.length;U++)w[U]=or(w[U],0,255);return T=T||0==T?or(T,0,1):1,w[3]=T,w}}function Jt(g){if(g){var w=g.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(w){var T=parseFloat(w[4]);return[or(parseInt(w[1]),0,360),or(parseFloat(w[2]),0,100),or(parseFloat(w[3]),0,100),or(isNaN(T)?1:T,0,1)]}}}function ho(g){if(g){var w=g.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(w){var T=parseFloat(w[4]);return[or(parseInt(w[1]),0,360),or(parseFloat(w[2]),0,100),or(parseFloat(w[3]),0,100),or(isNaN(T)?1:T,0,1)]}}}function ua(g,w){return void 0===w&&(w=void 0!==g[3]?g[3]:1),"rgba("+g[0]+", "+g[1]+", "+g[2]+", "+w+")"}function wo(g,w){return"rgba("+Math.round(g[0]/255*100)+"%, "+Math.round(g[1]/255*100)+"%, "+Math.round(g[2]/255*100)+"%, "+(w||g[3]||1)+")"}function fo(g,w){return void 0===w&&(w=void 0!==g[3]?g[3]:1),"hsla("+g[0]+", "+g[1]+"%, "+g[2]+"%, "+w+")"}function or(g,w,T){return Math.min(Math.max(w,g),T)}function Ir(g){var w=g.toString(16).toUpperCase();return w.length<2?"0"+w:w}var Mi={};for(var Zr in Mn)Mi[Mn[Zr]]=Zr;var er=function(g){return g instanceof er?g:this instanceof er?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof g?(w=Vn.getRgba(g))?this.setValues("rgb",w):(w=Vn.getHsla(g))?this.setValues("hsl",w):(w=Vn.getHwb(g))&&this.setValues("hwb",w):"object"==typeof g&&(void 0!==(w=g).r||void 0!==w.red?this.setValues("rgb",w):void 0!==w.l||void 0!==w.lightness?this.setValues("hsl",w):void 0!==w.v||void 0!==w.value?this.setValues("hsv",w):void 0!==w.w||void 0!==w.whiteness?this.setValues("hwb",w):void 0===w.c&&void 0===w.cyan||this.setValues("cmyk",w)))):new er(g);var w};er.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var g=this.values;return 1!==g.alpha?g.hwb.concat([g.alpha]):g.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var g=this.values;return g.rgb.concat([g.alpha])},hslaArray:function(){var g=this.values;return g.hsl.concat([g.alpha])},alpha:function(g){return void 0===g?this.values.alpha:(this.setValues("alpha",g),this)},red:function(g){return this.setChannel("rgb",0,g)},green:function(g){return this.setChannel("rgb",1,g)},blue:function(g){return this.setChannel("rgb",2,g)},hue:function(g){return g&&(g=(g%=360)<0?360+g:g),this.setChannel("hsl",0,g)},saturation:function(g){return this.setChannel("hsl",1,g)},lightness:function(g){return this.setChannel("hsl",2,g)},saturationv:function(g){return this.setChannel("hsv",1,g)},whiteness:function(g){return this.setChannel("hwb",1,g)},blackness:function(g){return this.setChannel("hwb",2,g)},value:function(g){return this.setChannel("hsv",2,g)},cyan:function(g){return this.setChannel("cmyk",0,g)},magenta:function(g){return this.setChannel("cmyk",1,g)},yellow:function(g){return this.setChannel("cmyk",2,g)},black:function(g){return this.setChannel("cmyk",3,g)},hexString:function(){return Vn.hexString(this.values.rgb)},rgbString:function(){return Vn.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Vn.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Vn.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Vn.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Vn.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Vn.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Vn.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var g=this.values.rgb;return g[0]<<16|g[1]<<8|g[2]},luminosity:function(){for(var g=this.values.rgb,w=[],T=0;T<g.length;T++){var P=g[T]/255;w[T]=P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4)}return.2126*w[0]+.7152*w[1]+.0722*w[2]},contrast:function(g){var w=this.luminosity(),T=g.luminosity();return w>T?(w+.05)/(T+.05):(T+.05)/(w+.05)},level:function(g){var w=this.contrast(g);return w>=7.1?"AAA":w>=4.5?"AA":""},dark:function(){var g=this.values.rgb;return(299*g[0]+587*g[1]+114*g[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var g=[],w=0;w<3;w++)g[w]=255-this.values.rgb[w];return this.setValues("rgb",g),this},lighten:function(g){var w=this.values.hsl;return w[2]+=w[2]*g,this.setValues("hsl",w),this},darken:function(g){var w=this.values.hsl;return w[2]-=w[2]*g,this.setValues("hsl",w),this},saturate:function(g){var w=this.values.hsl;return w[1]+=w[1]*g,this.setValues("hsl",w),this},desaturate:function(g){var w=this.values.hsl;return w[1]-=w[1]*g,this.setValues("hsl",w),this},whiten:function(g){var w=this.values.hwb;return w[1]+=w[1]*g,this.setValues("hwb",w),this},blacken:function(g){var w=this.values.hwb;return w[2]+=w[2]*g,this.setValues("hwb",w),this},greyscale:function(){var g=this.values.rgb,w=.3*g[0]+.59*g[1]+.11*g[2];return this.setValues("rgb",[w,w,w]),this},clearer:function(g){var w=this.values.alpha;return this.setValues("alpha",w-w*g),this},opaquer:function(g){var w=this.values.alpha;return this.setValues("alpha",w+w*g),this},rotate:function(g){var w=this.values.hsl,T=(w[0]+g)%360;return w[0]=T<0?360+T:T,this.setValues("hsl",w),this},mix:function(g,w){var T=g,P=void 0===w?.5:w,E=2*P-1,U=this.alpha()-T.alpha(),j=((E*U==-1?E:(E+U)/(1+E*U))+1)/2,q=1-j;return this.rgb(j*this.red()+q*T.red(),j*this.green()+q*T.green(),j*this.blue()+q*T.blue()).alpha(this.alpha()*P+T.alpha()*(1-P))},toJSON:function(){return this.rgb()},clone:function(){var g,w,T=new er,P=this.values,E=T.values;for(var U in P)P.hasOwnProperty(U)&&("[object Array]"===(w={}.toString.call(g=P[U]))?E[U]=g.slice(0):"[object Number]"===w?E[U]=g:console.error("unexpected color value:",g));return T}},er.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},er.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},er.prototype.getValues=function(g){for(var w=this.values,T={},P=0;P<g.length;P++)T[g.charAt(P)]=w[g][P];return 1!==w.alpha&&(T.a=w.alpha),T},er.prototype.setValues=function(g,w){var T,P,E=this.values,U=this.spaces,j=this.maxes,q=1;if(this.valid=!0,"alpha"===g)q=w;else if(w.length)E[g]=w.slice(0,g.length),q=w[g.length];else if(void 0!==w[g.charAt(0)]){for(T=0;T<g.length;T++)E[g][T]=w[g.charAt(T)];q=w.a}else if(void 0!==w[U[g][0]]){var $=U[g];for(T=0;T<g.length;T++)E[g][T]=w[$[T]];q=w.alpha}if(E.alpha=Math.max(0,Math.min(1,void 0===q?E.alpha:q)),"alpha"===g)return!1;for(T=0;T<g.length;T++)P=Math.max(0,Math.min(j[g][T],E[g][T])),E[g][T]=Math.round(P);for(var ee in U)ee!==g&&(E[ee]=rr[g][ee](E[g]));return!0},er.prototype.setSpace=function(g,w){var T=w[0];return void 0===T?this.getValues(g):("number"==typeof T&&(T=Array.prototype.slice.call(w)),this.setValues(g,T),this)},er.prototype.setChannel=function(g,w,T){var P=this.values[g];return void 0===T?P[w]:(T===P[w]||(P[w]=T,this.setValues(g,P)),this)},"undefined"!=typeof window&&(window.Color=er);var fi=er;function Jr(g){return-1===["__proto__","prototype","constructor"].indexOf(g)}var Qt,en={noop:function(){},uid:(Qt=0,function(){return Qt++}),isNullOrUndef:function(g){return null==g},isArray:function(g){if(Array.isArray&&Array.isArray(g))return!0;var w=Object.prototype.toString.call(g);return"[object"===w.substr(0,7)&&"Array]"===w.substr(-6)},isObject:function(g){return null!==g&&"[object Object]"===Object.prototype.toString.call(g)},isFinite:function(g){return("number"==typeof g||g instanceof Number)&&isFinite(g)},valueOrDefault:function(g,w){return void 0===g?w:g},valueAtIndexOrDefault:function(g,w,T){return en.valueOrDefault(en.isArray(g)?g[w]:g,T)},callback:function(g,w,T){if(g&&"function"==typeof g.call)return g.apply(T,w)},each:function(g,w,T,P){var E,U,j;if(en.isArray(g))if(U=g.length,P)for(E=U-1;E>=0;E--)w.call(T,g[E],E);else for(E=0;E<U;E++)w.call(T,g[E],E);else if(en.isObject(g))for(U=(j=Object.keys(g)).length,E=0;E<U;E++)w.call(T,g[j[E]],j[E])},arrayEquals:function(g,w){var T,P,E,U;if(!g||!w||g.length!==w.length)return!1;for(T=0,P=g.length;T<P;++T)if(U=w[T],(E=g[T])instanceof Array&&U instanceof Array){if(!en.arrayEquals(E,U))return!1}else if(E!==U)return!1;return!0},clone:function(g){if(en.isArray(g))return g.map(en.clone);if(en.isObject(g)){for(var w=Object.create(g),T=Object.keys(g),P=T.length,E=0;E<P;++E)w[T[E]]=en.clone(g[T[E]]);return w}return g},_merger:function(g,w,T,P){if(Jr(g)){var E=w[g],U=T[g];en.isObject(E)&&en.isObject(U)?en.merge(E,U,P):w[g]=en.clone(U)}},_mergerIf:function(g,w,T){if(Jr(g)){var P=w[g],E=T[g];en.isObject(P)&&en.isObject(E)?en.mergeIf(P,E):w.hasOwnProperty(g)||(w[g]=en.clone(E))}},merge:function(g,w,T){var P,E,U,j,q,$=en.isArray(w)?w:[w],ee=$.length;if(!en.isObject(g))return g;for(P=(T=T||{}).merger||en._merger,E=0;E<ee;++E)if(en.isObject(w=$[E]))for(q=0,j=(U=Object.keys(w)).length;q<j;++q)P(U[q],g,w,T);return g},mergeIf:function(g,w){return en.merge(g,w,{merger:en._mergerIf})},extend:Object.assign||function(g){return en.merge(g,[].slice.call(arguments,1),{merger:function(w,T,P){T[w]=P[w]}})},inherits:function(g){var w=this,T=g&&g.hasOwnProperty("constructor")?g.constructor:function(){return w.apply(this,arguments)},P=function(){this.constructor=T};return P.prototype=w.prototype,T.prototype=new P,T.extend=en.inherits,g&&en.extend(T.prototype,g),T.__super__=w.prototype,T},_deprecated:function(g,w,T,P){void 0!==w&&console.warn(g+': "'+T+'" is deprecated. Please use "'+P+'" instead')}},jt=en;en.callCallback=en.callback,en.indexOf=function(g,w,T){return Array.prototype.indexOf.call(g,w,T)},en.getValueOrDefault=en.valueOrDefault,en.getValueAtIndexOrDefault=en.valueAtIndexOrDefault;var tt={linear:function(g){return g},easeInQuad:function(g){return g*g},easeOutQuad:function(g){return-g*(g-2)},easeInOutQuad:function(g){return(g/=.5)<1?.5*g*g:-.5*(--g*(g-2)-1)},easeInCubic:function(g){return g*g*g},easeOutCubic:function(g){return(g-=1)*g*g+1},easeInOutCubic:function(g){return(g/=.5)<1?.5*g*g*g:.5*((g-=2)*g*g+2)},easeInQuart:function(g){return g*g*g*g},easeOutQuart:function(g){return-((g-=1)*g*g*g-1)},easeInOutQuart:function(g){return(g/=.5)<1?.5*g*g*g*g:-.5*((g-=2)*g*g*g-2)},easeInQuint:function(g){return g*g*g*g*g},easeOutQuint:function(g){return(g-=1)*g*g*g*g+1},easeInOutQuint:function(g){return(g/=.5)<1?.5*g*g*g*g*g:.5*((g-=2)*g*g*g*g+2)},easeInSine:function(g){return 1-Math.cos(g*(Math.PI/2))},easeOutSine:function(g){return Math.sin(g*(Math.PI/2))},easeInOutSine:function(g){return-.5*(Math.cos(Math.PI*g)-1)},easeInExpo:function(g){return 0===g?0:Math.pow(2,10*(g-1))},easeOutExpo:function(g){return 1===g?1:1-Math.pow(2,-10*g)},easeInOutExpo:function(g){return 0===g?0:1===g?1:(g/=.5)<1?.5*Math.pow(2,10*(g-1)):.5*(2-Math.pow(2,-10*--g))},easeInCirc:function(g){return g>=1?g:-(Math.sqrt(1-g*g)-1)},easeOutCirc:function(g){return Math.sqrt(1-(g-=1)*g)},easeInOutCirc:function(g){return(g/=.5)<1?-.5*(Math.sqrt(1-g*g)-1):.5*(Math.sqrt(1-(g-=2)*g)+1)},easeInElastic:function(g){var w=1.70158,T=0,P=1;return 0===g?0:1===g?1:(T||(T=.3),P<1?(P=1,w=T/4):w=T/(2*Math.PI)*Math.asin(1/P),-P*Math.pow(2,10*(g-=1))*Math.sin((g-w)*(2*Math.PI)/T))},easeOutElastic:function(g){var w=1.70158,T=0,P=1;return 0===g?0:1===g?1:(T||(T=.3),P<1?(P=1,w=T/4):w=T/(2*Math.PI)*Math.asin(1/P),P*Math.pow(2,-10*g)*Math.sin((g-w)*(2*Math.PI)/T)+1)},easeInOutElastic:function(g){var w=1.70158,T=0,P=1;return 0===g?0:2==(g/=.5)?1:(T||(T=.45),P<1?(P=1,w=T/4):w=T/(2*Math.PI)*Math.asin(1/P),g<1?P*Math.pow(2,10*(g-=1))*Math.sin((g-w)*(2*Math.PI)/T)*-.5:P*Math.pow(2,-10*(g-=1))*Math.sin((g-w)*(2*Math.PI)/T)*.5+1)},easeInBack:function(g){var w=1.70158;return g*g*((w+1)*g-w)},easeOutBack:function(g){var w=1.70158;return(g-=1)*g*((w+1)*g+w)+1},easeInOutBack:function(g){var w=1.70158;return(g/=.5)<1?g*g*((1+(w*=1.525))*g-w)*.5:.5*((g-=2)*g*((1+(w*=1.525))*g+w)+2)},easeInBounce:function(g){return 1-tt.easeOutBounce(1-g)},easeOutBounce:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375},easeInOutBounce:function(g){return g<.5?.5*tt.easeInBounce(2*g):.5*tt.easeOutBounce(2*g-1)+.5}},Gt={effects:tt};jt.easingEffects=tt;var vo=Math.PI,hn=vo/180,Pr=2*vo,Kn=vo/2,Yr=vo/4,ue=2*vo/3,Ht={clear:function(g){g.ctx.clearRect(0,0,g.width,g.height)},roundedRect:function(g,w,T,P,E,U){if(U){var j=Math.min(U,E/2,P/2),q=w+j,$=T+j,ee=w+P-j,he=T+E-j;g.moveTo(w,$),q<ee&&$<he?(g.arc(q,$,j,-vo,-Kn),g.arc(ee,$,j,-Kn,0),g.arc(ee,he,j,0,Kn),g.arc(q,he,j,Kn,vo)):q<ee?(g.moveTo(q,T),g.arc(ee,$,j,-Kn,Kn),g.arc(q,$,j,Kn,vo+Kn)):$<he?(g.arc(q,$,j,-vo,0),g.arc(q,he,j,0,vo)):g.arc(q,$,j,-vo,vo),g.closePath(),g.moveTo(w,T)}else g.rect(w,T,P,E)},drawPoint:function(g,w,T,P,E,U){var j,q,$,ee,he,ye=(U||0)*hn;if(w&&"object"==typeof w&&("[object HTMLImageElement]"===(j=w.toString())||"[object HTMLCanvasElement]"===j))return g.save(),g.translate(P,E),g.rotate(ye),g.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),void g.restore();if(!(isNaN(T)||T<=0)){switch(g.beginPath(),w){default:g.arc(P,E,T,0,Pr),g.closePath();break;case"triangle":g.moveTo(P+Math.sin(ye)*T,E-Math.cos(ye)*T),ye+=ue,g.lineTo(P+Math.sin(ye)*T,E-Math.cos(ye)*T),ye+=ue,g.lineTo(P+Math.sin(ye)*T,E-Math.cos(ye)*T),g.closePath();break;case"rectRounded":ee=T-(he=.516*T),q=Math.cos(ye+Yr)*ee,$=Math.sin(ye+Yr)*ee,g.arc(P-q,E-$,he,ye-vo,ye-Kn),g.arc(P+$,E-q,he,ye-Kn,ye),g.arc(P+q,E+$,he,ye,ye+Kn),g.arc(P-$,E+q,he,ye+Kn,ye+vo),g.closePath();break;case"rect":if(!U){ee=Math.SQRT1_2*T,g.rect(P-ee,E-ee,2*ee,2*ee);break}ye+=Yr;case"rectRot":q=Math.cos(ye)*T,$=Math.sin(ye)*T,g.moveTo(P-q,E-$),g.lineTo(P+$,E-q),g.lineTo(P+q,E+$),g.lineTo(P-$,E+q),g.closePath();break;case"crossRot":ye+=Yr;case"cross":q=Math.cos(ye)*T,$=Math.sin(ye)*T,g.moveTo(P-q,E-$),g.lineTo(P+q,E+$),g.moveTo(P+$,E-q),g.lineTo(P-$,E+q);break;case"star":q=Math.cos(ye)*T,$=Math.sin(ye)*T,g.moveTo(P-q,E-$),g.lineTo(P+q,E+$),g.moveTo(P+$,E-q),g.lineTo(P-$,E+q),ye+=Yr,q=Math.cos(ye)*T,$=Math.sin(ye)*T,g.moveTo(P-q,E-$),g.lineTo(P+q,E+$),g.moveTo(P+$,E-q),g.lineTo(P-$,E+q);break;case"line":q=Math.cos(ye)*T,$=Math.sin(ye)*T,g.moveTo(P-q,E-$),g.lineTo(P+q,E+$);break;case"dash":g.moveTo(P,E),g.lineTo(P+Math.cos(ye)*T,E+Math.sin(ye)*T)}g.fill(),g.stroke()}},_isPointInArea:function(g,w){return g.x>w.left-1e-6&&g.x<w.right+1e-6&&g.y>w.top-1e-6&&g.y<w.bottom+1e-6},clipArea:function(g,w){g.save(),g.beginPath(),g.rect(w.left,w.top,w.right-w.left,w.bottom-w.top),g.clip()},unclipArea:function(g){g.restore()},lineTo:function(g,w,T,P){var E=T.steppedLine;if(E){if("middle"===E){var U=(w.x+T.x)/2;g.lineTo(U,P?T.y:w.y),g.lineTo(U,P?w.y:T.y)}else"after"===E&&!P||"after"!==E&&P?g.lineTo(w.x,T.y):g.lineTo(T.x,w.y);g.lineTo(T.x,T.y)}else T.tension?g.bezierCurveTo(P?w.controlPointPreviousX:w.controlPointNextX,P?w.controlPointPreviousY:w.controlPointNextY,P?T.controlPointNextX:T.controlPointPreviousX,P?T.controlPointNextY:T.controlPointPreviousY,T.x,T.y):g.lineTo(T.x,T.y)}},kr=Ht;jt.clear=Ht.clear,jt.drawRoundedRectangle=function(g){g.beginPath(),Ht.roundedRect.apply(Ht,arguments)};var Un={_set:function(g,w){return jt.merge(this[g]||(this[g]={}),w)}};Un._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Tn=Un,It=jt.valueOrDefault,xn={toLineHeight:function(g,w){var T=(""+g).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!T||"normal"===T[1])return 1.2*w;switch(g=+T[2],T[3]){case"px":return g;case"%":g/=100}return w*g},toPadding:function(g){var w,T,P,E;return jt.isObject(g)?(w=+g.top||0,T=+g.right||0,P=+g.bottom||0,E=+g.left||0):w=T=P=E=+g||0,{top:w,right:T,bottom:P,left:E,height:w+P,width:E+T}},_parseFont:function(g){var E,w=Tn.global,T=It(g.fontSize,w.defaultFontSize),P={family:It(g.fontFamily,w.defaultFontFamily),lineHeight:jt.options.toLineHeight(It(g.lineHeight,w.defaultLineHeight),T),size:T,style:It(g.fontStyle,w.defaultFontStyle),weight:null,string:""};return P.string=!(E=P)||jt.isNullOrUndef(E.size)||jt.isNullOrUndef(E.family)?null:(E.style?E.style+" ":"")+(E.weight?E.weight+" ":"")+E.size+"px "+E.family,P},resolve:function(g,w,T,P){var E,U,j,q=!0;for(E=0,U=g.length;E<U;++E)if(void 0!==(j=g[E])&&(void 0!==w&&"function"==typeof j&&(j=j(w),q=!1),void 0!==T&&jt.isArray(j)&&(j=j[T],q=!1),void 0!==j))return P&&!q&&(P.cacheable=!1),j}},Yn={_factorize:function(g){var w,T=[],P=Math.sqrt(g);for(w=1;w<P;w++)g%w==0&&(T.push(w),T.push(g/w));return P===(0|P)&&T.push(P),T.sort(function(E,U){return E-U}).pop(),T},log10:Math.log10||function(g){var w=Math.log(g)*Math.LOG10E,T=Math.round(w);return g===Math.pow(10,T)?T:w}},dt=Yn;jt.log10=Yn.log10;var ge=jt,je=kr,jo=xn,zn=dt;ge.easing=Gt,ge.canvas=je,ge.options=jo,ge.math=zn,ge.rtl={getRtlAdapter:function(g,w,T){return g?(P=w,E=T,{x:function(U){return P+P+E-U},setWidth:function(U){E=U},textAlign:function(U){return"center"===U?U:"right"===U?"left":"right"},xPlus:function(U,j){return U-j},leftForLtr:function(U,j){return U-j}}):{x:function(P){return P},setWidth:function(P){},textAlign:function(P){return P},xPlus:function(P,E){return P+E},leftForLtr:function(P,E){return P}};var P,E},overrideTextDirection:function(g,w){var T,P;"ltr"!==w&&"rtl"!==w||(P=[(T=g.canvas.style).getPropertyValue("direction"),T.getPropertyPriority("direction")],T.setProperty("direction",w,"important"),g.prevTextDirection=P)},restoreTextDirection:function(g){var w=g.prevTextDirection;void 0!==w&&(delete g.prevTextDirection,g.canvas.style.setProperty("direction",w[0],w[1]))}};var Wn=function(g){ge.extend(this,g),this.initialize.apply(this,arguments)};ge.extend(Wn.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var g=this;return g._view||(g._view=ge.extend({},g._model)),g._start={},g},transition:function(g){var w=this,T=w._model,P=w._start,E=w._view;return T&&1!==g?(E||(E=w._view={}),P||(P=w._start={}),function(U,j,q,$){var ee,he,ye,Se,Re,Be,Xe,ct,$t,zt=Object.keys(q);for(ee=0,he=zt.length;ee<he;++ee)if(Be=q[ye=zt[ee]],j.hasOwnProperty(ye)||(j[ye]=Be),(Se=j[ye])!==Be&&"_"!==ye[0]){if(U.hasOwnProperty(ye)||(U[ye]=Se),(Xe=typeof Be)==typeof(Re=U[ye]))if("string"===Xe){if((ct=fi(Re)).valid&&($t=fi(Be)).valid){j[ye]=$t.mix(ct,$).rgbString();continue}}else if(ge.isFinite(Re)&&ge.isFinite(Be)){j[ye]=Re+(Be-Re)*$;continue}j[ye]=Be}}(P,E,T,g),w):(w._view=ge.extend({},T),w._start=null,w)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return ge.isNumber(this._model.x)&&ge.isNumber(this._model.y)}}),Wn.extend=ge.inherits;var ko=Wn,Qi=ko.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Ma=Qi;Object.defineProperty(Qi.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Qi.prototype,"chartInstance",{get:function(){return this.chart},set:function(g){this.chart=g}}),Tn._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:ge.noop,onComplete:ge.noop}});var Wa={animations:[],request:null,addAnimation:function(g,w,T,P){var E,U,j=this.animations;for(w.chart=g,w.startTime=Date.now(),w.duration=T,P||(g.animating=!0),E=0,U=j.length;E<U;++E)if(j[E].chart===g)return void(j[E]=w);j.push(w),1===j.length&&this.requestAnimationFrame()},cancelAnimation:function(g){var w=ge.findIndex(this.animations,function(T){return T.chart===g});-1!==w&&(this.animations.splice(w,1),g.animating=!1)},requestAnimationFrame:function(){var g=this;null===g.request&&(g.request=ge.requestAnimFrame.call(window,function(){g.request=null,g.startDigest()}))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var g,w,T,P,E=this.animations,U=0;U<E.length;)w=(g=E[U]).chart,T=g.numSteps,P=Math.floor((Date.now()-g.startTime)/g.duration*T)+1,g.currentStep=Math.min(P,T),ge.callback(g.render,[w,g],w),ge.callback(g.onAnimationProgress,[g],w),g.currentStep>=T?(ge.callback(g.onAnimationComplete,[g],w),w.animating=!1,E.splice(U,1)):++U}},Dt=ge.options.resolve,ut=["push","pop","shift","splice","unshift"];function At(g,w){var T=g._chartjs;if(T){var P=T.listeners,E=P.indexOf(w);-1!==E&&P.splice(E,1),P.length>0||(ut.forEach(function(U){delete g[U]}),delete g._chartjs)}}var Nt=function(g,w){this.initialize(g,w)};ge.extend(Nt.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(g,w){var T=this;T.chart=g,T.index=w,T.linkScales(),T.addElements(),T._type=T.getMeta().type},updateIndex:function(g){this.index=g},linkScales:function(){var g=this.getMeta(),w=this.chart,T=w.scales,P=this.getDataset(),E=w.options.scales;null!==g.xAxisID&&g.xAxisID in T&&!P.xAxisID||(g.xAxisID=P.xAxisID||E.xAxes[0].id),null!==g.yAxisID&&g.yAxisID in T&&!P.yAxisID||(g.yAxisID=P.yAxisID||E.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(g){return this.chart.scales[g]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&At(this._data,this)},createMetaDataset:function(){var g=this.datasetElementType;return g&&new g({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(g){var w=this.dataElementType;return w&&new w({_chart:this.chart,_datasetIndex:this.index,_index:g})},addElements:function(){var g,w,T=this.getMeta(),P=this.getDataset().data||[],E=T.data;for(g=0,w=P.length;g<w;++g)E[g]=E[g]||this.createMetaData(g);T.dataset=T.dataset||this.createMetaDataset()},addElementAndReset:function(g){var w=this.createMetaData(g);this.getMeta().data.splice(g,0,w),this.updateElement(w,g,!0)},buildOrUpdateElements:function(){var g,w,T=this,P=T.getDataset(),E=P.data||(P.data=[]);T._data!==E&&(T._data&&At(T._data,T),E&&Object.isExtensible(E)&&(w=T,(g=E)._chartjs?g._chartjs.listeners.push(w):(Object.defineProperty(g,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[w]}}),ut.forEach(function(U){var j="onData"+U.charAt(0).toUpperCase()+U.slice(1),q=g[U];Object.defineProperty(g,U,{configurable:!0,enumerable:!1,value:function(){var $=Array.prototype.slice.call(arguments),ee=q.apply(this,$);return ge.each(g._chartjs.listeners,function(he){"function"==typeof he[j]&&he[j].apply(he,$)}),ee}})}))),T._data=E),T.resyncElements()},_configure:function(){this._config=ge.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(g,w,T){"_meta"!==g&&"data"!==g&&ge._merger(g,w,T)}})},_update:function(g){this._configure(),this._cachedDataOpts=null,this.update(g)},update:ge.noop,transition:function(g){for(var w=this.getMeta(),T=w.data||[],P=T.length,E=0;E<P;++E)T[E].transition(g);w.dataset&&w.dataset.transition(g)},draw:function(){var g=this.getMeta(),w=g.data||[],T=w.length,P=0;for(g.dataset&&g.dataset.draw();P<T;++P)w[P].draw()},getStyle:function(g){var w,T=this.getMeta(),P=T.dataset;return this._configure(),!1!==(w=P&&void 0===g?this._resolveDatasetElementOptions(P||{}):this._resolveDataElementOptions(T.data[g=g||0]||{},g)).fill&&null!==w.fill||(w.backgroundColor=w.borderColor),w},_resolveDatasetElementOptions:function(g,w){var T,P,E,U,j=this,q=j.chart,$=j._config,ee=g.custom||{},he=q.options.elements[j.datasetElementType.prototype._type]||{},ye=j._datasetElementOptions,Se={},Re={chart:q,dataset:j.getDataset(),datasetIndex:j.index,hover:w};for(T=0,P=ye.length;T<P;++T)E=ye[T],U=w?"hover"+E.charAt(0).toUpperCase()+E.slice(1):E,Se[E]=Dt([ee[U],$[U],he[U]],Re);return Se},_resolveDataElementOptions:function(g,w){var T=this,P=g&&g.custom,E=T._cachedDataOpts;if(E&&!P)return E;var U,j,q,$,ee=T.chart,he=T._config,ye=ee.options.elements[T.dataElementType.prototype._type]||{},Se=T._dataElementOptions,Re={},Be={chart:ee,dataIndex:w,dataset:T.getDataset(),datasetIndex:T.index},Xe={cacheable:!P};if(P=P||{},ge.isArray(Se))for(j=0,q=Se.length;j<q;++j)Re[$=Se[j]]=Dt([P[$],he[$],ye[$]],Be,w,Xe);else for(j=0,q=(U=Object.keys(Se)).length;j<q;++j)Re[$=U[j]]=Dt([P[$],he[Se[$]],he[$],ye[$]],Be,w,Xe);return Xe.cacheable&&(T._cachedDataOpts=Object.freeze(Re)),Re},removeHoverStyle:function(g){ge.merge(g._model,g.$previousStyle||{}),delete g.$previousStyle},setHoverStyle:function(g){var w=this.chart.data.datasets[g._datasetIndex],T=g._index,P=g.custom||{},E=g._model,U=ge.getHoverColor;g.$previousStyle={backgroundColor:E.backgroundColor,borderColor:E.borderColor,borderWidth:E.borderWidth},E.backgroundColor=Dt([P.hoverBackgroundColor,w.hoverBackgroundColor,U(E.backgroundColor)],void 0,T),E.borderColor=Dt([P.hoverBorderColor,w.hoverBorderColor,U(E.borderColor)],void 0,T),E.borderWidth=Dt([P.hoverBorderWidth,w.hoverBorderWidth,E.borderWidth],void 0,T)},_removeDatasetHoverStyle:function(){var g=this.getMeta().dataset;g&&this.removeHoverStyle(g)},_setDatasetHoverStyle:function(){var g,w,T,P,E,U,j=this.getMeta().dataset,q={};if(j){for(U=j._model,E=this._resolveDatasetElementOptions(j,!0),g=0,w=(P=Object.keys(E)).length;g<w;++g)q[T=P[g]]=U[T],U[T]=E[T];j.$previousStyle=q}},resyncElements:function(){var g=this.getMeta(),w=this.getDataset().data,T=g.data.length,P=w.length;P<T?g.data.splice(P,T-P):P>T&&this.insertElements(T,P-T)},insertElements:function(g,w){for(var T=0;T<w;++T)this.addElementAndReset(g+T)},onDataPush:function(){var g=arguments.length;this.insertElements(this.getDataset().data.length-g,g)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(g,w){this.getMeta().data.splice(g,w),this.insertElements(g,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Nt.extend=ge.inherits;var fn=Nt,dn=2*Math.PI;function yn(g,w){var T=w.startAngle,P=w.endAngle,E=w.pixelMargin,U=E/w.outerRadius,j=w.x,q=w.y;g.beginPath(),g.arc(j,q,w.outerRadius,T-U,P+U),w.innerRadius>E?g.arc(j,q,w.innerRadius-E,P+(U=E/w.innerRadius),T-U,!0):g.arc(j,q,E,P+Math.PI/2,T-Math.PI/2),g.closePath(),g.clip()}Tn._set("global",{elements:{arc:{backgroundColor:Tn.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Rn=ko.extend({_type:"arc",inLabelRange:function(g){var w=this._view;return!!w&&Math.pow(g-w.x,2)<Math.pow(w.radius+w.hoverRadius,2)},inRange:function(g,w){var T=this._view;if(T){for(var P=ge.getAngleFromPoint(T,{x:g,y:w}),E=P.angle,U=P.distance,j=T.startAngle,q=T.endAngle;q<j;)q+=dn;for(;E>q;)E-=dn;for(;E<j;)E+=dn;return E>=j&&E<=q&&U>=T.innerRadius&&U<=T.outerRadius}return!1},getCenterPoint:function(){var g=this._view,w=(g.startAngle+g.endAngle)/2,T=(g.innerRadius+g.outerRadius)/2;return{x:g.x+Math.cos(w)*T,y:g.y+Math.sin(w)*T}},getArea:function(){var g=this._view;return Math.PI*((g.endAngle-g.startAngle)/(2*Math.PI))*(Math.pow(g.outerRadius,2)-Math.pow(g.innerRadius,2))},tooltipPosition:function(){var g=this._view,w=g.startAngle+(g.endAngle-g.startAngle)/2,T=(g.outerRadius-g.innerRadius)/2+g.innerRadius;return{x:g.x+Math.cos(w)*T,y:g.y+Math.sin(w)*T}},draw:function(){var g,w=this._chart.ctx,T=this._view,P="inner"===T.borderAlign?.33:0,E={x:T.x,y:T.y,innerRadius:T.innerRadius,outerRadius:Math.max(T.outerRadius-P,0),pixelMargin:P,startAngle:T.startAngle,endAngle:T.endAngle,fullCircles:Math.floor(T.circumference/dn)};if(w.save(),w.fillStyle=T.backgroundColor,w.strokeStyle=T.borderColor,E.fullCircles){for(E.endAngle=E.startAngle+dn,w.beginPath(),w.arc(E.x,E.y,E.outerRadius,E.startAngle,E.endAngle),w.arc(E.x,E.y,E.innerRadius,E.endAngle,E.startAngle,!0),w.closePath(),g=0;g<E.fullCircles;++g)w.fill();E.endAngle=E.startAngle+T.circumference%dn}w.beginPath(),w.arc(E.x,E.y,E.outerRadius,E.startAngle,E.endAngle),w.arc(E.x,E.y,E.innerRadius,E.endAngle,E.startAngle,!0),w.closePath(),w.fill(),T.borderWidth&&function Nr(g,w,T){var P="inner"===w.borderAlign;P?(g.lineWidth=2*w.borderWidth,g.lineJoin="round"):(g.lineWidth=w.borderWidth,g.lineJoin="bevel"),T.fullCircles&&function(E,U,j,q){var $,ee=j.endAngle;for(q&&(j.endAngle=j.startAngle+dn,yn(E,j),j.endAngle=ee,j.endAngle===j.startAngle&&j.fullCircles&&(j.endAngle+=dn,j.fullCircles--)),E.beginPath(),E.arc(j.x,j.y,j.innerRadius,j.startAngle+dn,j.startAngle,!0),$=0;$<j.fullCircles;++$)E.stroke();for(E.beginPath(),E.arc(j.x,j.y,U.outerRadius,j.startAngle,j.startAngle+dn),$=0;$<j.fullCircles;++$)E.stroke()}(g,w,T,P),P&&yn(g,T),g.beginPath(),g.arc(T.x,T.y,w.outerRadius,T.startAngle,T.endAngle),g.arc(T.x,T.y,T.innerRadius,T.endAngle,T.startAngle,!0),g.closePath(),g.stroke()}(w,T,E),w.restore()}}),Kr=ge.valueOrDefault,So=Tn.global.defaultColor;Tn._set("global",{elements:{line:{tension:.4,backgroundColor:So,borderWidth:3,borderColor:So,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ei=ko.extend({_type:"line",draw:function(){var g,w,T,P=this,E=P._view,U=P._chart.ctx,j=E.spanGaps,q=P._children.slice(),$=Tn.global,ee=$.elements.line,he=-1,ye=P._loop;if(q.length){if(P._loop){for(g=0;g<q.length;++g)if(w=ge.previousItem(q,g),!q[g]._view.skip&&w._view.skip){q=q.slice(g).concat(q.slice(0,g)),ye=j;break}ye&&q.push(q[0])}for(U.save(),U.lineCap=E.borderCapStyle||ee.borderCapStyle,U.setLineDash&&U.setLineDash(E.borderDash||ee.borderDash),U.lineDashOffset=Kr(E.borderDashOffset,ee.borderDashOffset),U.lineJoin=E.borderJoinStyle||ee.borderJoinStyle,U.lineWidth=Kr(E.borderWidth,ee.borderWidth),U.strokeStyle=E.borderColor||$.defaultColor,U.beginPath(),(T=q[0]._view).skip||(U.moveTo(T.x,T.y),he=0),g=1;g<q.length;++g)T=q[g]._view,w=-1===he?ge.previousItem(q,g):q[he],T.skip||(he!==g-1&&!j||-1===he?U.moveTo(T.x,T.y):ge.canvas.lineTo(U,w._view,T),he=g);ye&&U.closePath(),U.stroke(),U.restore()}}}),bn=ge.valueOrDefault,Ta=Tn.global.defaultColor;function Yo(g){var w=this._view;return!!w&&Math.abs(g-w.x)<w.radius+w.hitRadius}Tn._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Ta,borderColor:Ta,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var _n=ko.extend({_type:"point",inRange:function(g,w){var T=this._view;return!!T&&Math.pow(g-T.x,2)+Math.pow(w-T.y,2)<Math.pow(T.hitRadius+T.radius,2)},inLabelRange:Yo,inXRange:Yo,inYRange:function(g){var w=this._view;return!!w&&Math.abs(g-w.y)<w.radius+w.hitRadius},getCenterPoint:function(){var g=this._view;return{x:g.x,y:g.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var g=this._view;return{x:g.x,y:g.y,padding:g.radius+g.borderWidth}},draw:function(g){var w=this._view,T=this._chart.ctx,P=w.pointStyle,E=w.rotation,U=w.radius,j=w.x,q=w.y,$=Tn.global,ee=$.defaultColor;w.skip||(void 0===g||ge.canvas._isPointInArea(w,g))&&(T.strokeStyle=w.borderColor||ee,T.lineWidth=bn(w.borderWidth,$.elements.point.borderWidth),T.fillStyle=w.backgroundColor||ee,ge.canvas.drawPoint(T,P,U,j,q,E))}}),Do=Tn.global.defaultColor;function Ga(g){return g&&void 0!==g.width}function De(g){var w,T,P,E,U;return Ga(g)?(w=g.x-(U=g.width/2),T=g.x+U,P=Math.min(g.y,g.base),E=Math.max(g.y,g.base)):(U=g.height/2,w=Math.min(g.x,g.base),T=Math.max(g.x,g.base),P=g.y-U,E=g.y+U),{left:w,top:P,right:T,bottom:E}}function hi(g,w,T){return g===w?T:g===T?w:g}function ca(g,w,T){var P=null===w,E=null===T,U=!(!g||P&&E)&&De(g);return U&&(P||w>=U.left&&w<=U.right)&&(E||T>=U.top&&T<=U.bottom)}Tn._set("global",{elements:{rectangle:{backgroundColor:Do,borderColor:Do,borderSkipped:"bottom",borderWidth:0}}});var ka=ko.extend({_type:"rectangle",draw:function(){var U,j,q,$,ee,g=this._chart.ctx,w=this._view,T=(j=De(U=w),ee=function Xo(g,w,T){var P,E,U,j,ee,he,ye,q=g.borderWidth,$=(ye={},(he=(ee=g).borderSkipped)&&(ee.horizontal?ee.base>ee.x&&(he=hi(he,"left","right")):ee.base<ee.y&&(he=hi(he,"bottom","top")),ye[he]=!0),ye);return ge.isObject(q)?(P=+q.top||0,E=+q.right||0,U=+q.bottom||0,j=+q.left||0):P=E=U=j=+q||0,{t:$.top||P<0?0:P>T?T:P,r:$.right||E<0?0:E>w?w:E,b:$.bottom||U<0?0:U>T?T:U,l:$.left||j<0?0:j>w?w:j}}(U,(q=j.right-j.left)/2,($=j.bottom-j.top)/2),{outer:{x:j.left,y:j.top,w:q,h:$},inner:{x:j.left+ee.l,y:j.top+ee.t,w:q-ee.l-ee.r,h:$-ee.t-ee.b}}),P=T.outer,E=T.inner;g.fillStyle=w.backgroundColor,g.fillRect(P.x,P.y,P.w,P.h),P.w===E.w&&P.h===E.h||(g.save(),g.beginPath(),g.rect(P.x,P.y,P.w,P.h),g.clip(),g.fillStyle=w.borderColor,g.rect(E.x,E.y,E.w,E.h),g.fill("evenodd"),g.restore())},height:function(){var g=this._view;return g.base-g.y},inRange:function(g,w){return ca(this._view,g,w)},inLabelRange:function(g,w){var T=this._view;return Ga(T)?ca(T,g,null):ca(T,null,w)},inXRange:function(g){return ca(this._view,g,null)},inYRange:function(g){return ca(this._view,null,g)},getCenterPoint:function(){var g,w,T=this._view;return Ga(T)?(g=T.x,w=(T.y+T.base)/2):(g=(T.x+T.base)/2,w=T.y),{x:g,y:w}},getArea:function(){var g=this._view;return Ga(g)?g.width*Math.abs(g.y-g.base):g.height*Math.abs(g.x-g.base)},tooltipPosition:function(){var g=this._view;return{x:g.x,y:g.y}}}),si={},Ts=ei,Rr=_n,$s=ka;si.Arc=Rn,si.Line=Ts,si.Point=Rr,si.Rectangle=$s;var Xn=ge._deprecated,ot=ge.valueOrDefault;Tn._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Tn._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Me=fn.extend({dataElementType:si.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var g,w,T=this;fn.prototype.initialize.apply(T,arguments),(g=T.getMeta()).stack=T.getDataset().stack,g.bar=!0,w=T._getIndexScale().options,Xn("bar chart",w.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Xn("bar chart",w.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Xn("bar chart",w.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Xn("bar chart",T._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Xn("bar chart",w.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(g){var w,T,P=this.getMeta().data;for(this._ruler=this.getRuler(),w=0,T=P.length;w<T;++w)this.updateElement(P[w],w,g)},updateElement:function(g,w,T){var P=this,E=P.getMeta(),U=P.getDataset(),j=P._resolveDataElementOptions(g,w);g._xScale=P.getScaleForId(E.xAxisID),g._yScale=P.getScaleForId(E.yAxisID),g._datasetIndex=P.index,g._index=w,g._model={backgroundColor:j.backgroundColor,borderColor:j.borderColor,borderSkipped:j.borderSkipped,borderWidth:j.borderWidth,datasetLabel:U.label,label:P.chart.data.labels[w]},ge.isArray(U.data[w])&&(g._model.borderSkipped=null),P._updateElementGeometry(g,w,T,j),g.pivot()},_updateElementGeometry:function(g,w,T,P){var E=this,U=g._model,j=E._getValueScale(),q=j.getBasePixel(),$=j.isHorizontal(),ee=E._ruler||E.getRuler(),he=E.calculateBarValuePixels(E.index,w,P),ye=E.calculateBarIndexPixels(E.index,w,ee,P);U.horizontal=$,U.base=T?q:he.base,U.x=$?T?q:he.head:ye.center,U.y=$?ye.center:T?q:he.head,U.height=$?ye.size:void 0,U.width=$?void 0:ye.size},_getStacks:function(g){var w,T,P=this._getIndexScale(),E=P._getMatchingVisibleMetas(this._type),U=P.options.stacked,j=E.length,q=[];for(w=0;w<j&&(T=E[w],(!1===U||-1===q.indexOf(T.stack)||void 0===U&&void 0===T.stack)&&q.push(T.stack),T.index!==g);++w);return q},getStackCount:function(){return this._getStacks().length},getStackIndex:function(g,w){var T=this._getStacks(g),P=void 0!==w?T.indexOf(w):-1;return-1===P?T.length-1:P},getRuler:function(){var g,w,T=this._getIndexScale(),P=[];for(g=0,w=this.getMeta().data.length;g<w;++g)P.push(T.getPixelForValue(null,g,this.index));return{pixels:P,start:T._startPixel,end:T._endPixel,stackCount:this.getStackCount(),scale:T}},calculateBarValuePixels:function(g,w,T){var P,E,U,j,q,$,ee,he=this.chart,ye=this._getValueScale(),Se=ye.isHorizontal(),Re=he.data.datasets,Be=ye._getMatchingVisibleMetas(this._type),Xe=ye._parseValue(Re[g].data[w]),ct=T.minBarLength,$t=ye.options.stacked,zt=this.getMeta().stack,rn=void 0===Xe.start?0:Xe.max>=0&&Xe.min>=0?Xe.min:Xe.max,kn=void 0===Xe.start?Xe.end:Xe.max>=0&&Xe.min>=0?Xe.max-Xe.min:Xe.min-Xe.max,gn=Be.length;if($t||void 0===$t&&void 0!==zt)for(P=0;P<gn&&(E=Be[P]).index!==g;++P)E.stack===zt&&(U=void 0===(ee=ye._parseValue(Re[E.index].data[w])).start?ee.end:ee.min>=0&&ee.max>=0?ee.max:ee.min,(Xe.min<0&&U<0||Xe.max>=0&&U>0)&&(rn+=U));return j=ye.getPixelForValue(rn),$=(q=ye.getPixelForValue(rn+kn))-j,void 0!==ct&&Math.abs($)<ct&&($=ct,q=kn>=0&&!Se||kn<0&&Se?j-ct:j+ct),{size:$,base:j,head:q,center:q+$/2}},calculateBarIndexPixels:function(g,w,T,P){var $,ee,he,ye,Se,Re,Be,Xe,ct,E="flex"===P.barThickness?(Re=(Se=(ee=T).pixels)[$=w],Xe=$<Se.length-1?Se[$+1]:null,ct=(he=P).categoryPercentage,null===(Be=$>0?Se[$-1]:null)&&(Be=Re-(null===Xe?ee.end-ee.start:Xe-Re)),null===Xe&&(Xe=Re+Re-Be),ye=Re-(Re-Math.min(Be,Xe))/2*ct,{chunk:Math.abs(Xe-Be)/2*ct/ee.stackCount,ratio:he.barPercentage,start:ye}):function Bt(g,w,T){var P,E,U=T.barThickness,j=w.stackCount,q=w.pixels[g],$=ge.isNullOrUndef(U)?function(ee,he){var ye,Se,Re,Be,Xe=ee._length;for(Re=1,Be=he.length;Re<Be;++Re)Xe=Math.min(Xe,Math.abs(he[Re]-he[Re-1]));for(Re=0,Be=ee.getTicks().length;Re<Be;++Re)Se=ee.getPixelForTick(Re),Xe=Re>0?Math.min(Xe,Math.abs(Se-ye)):Xe,ye=Se;return Xe}(w.scale,w.pixels):-1;return ge.isNullOrUndef(U)?(P=$*T.categoryPercentage,E=T.barPercentage):(P=U*j,E=1),{chunk:P/j,ratio:E,start:q-P/2}}(w,T,P),U=this.getStackIndex(g,this.getMeta().stack),j=E.start+E.chunk*U+E.chunk/2,q=Math.min(ot(P.maxBarThickness,1/0),E.chunk*E.ratio);return{base:j-q/2,head:j+q/2,center:j,size:q}},draw:function(){var g=this.chart,w=this._getValueScale(),T=this.getMeta().data,P=this.getDataset(),E=T.length,U=0;for(ge.canvas.clipArea(g.ctx,g.chartArea);U<E;++U){var j=w._parseValue(P.data[U]);isNaN(j.min)||isNaN(j.max)||T[U].draw()}ge.canvas.unclipArea(g.ctx)},_resolveDataElementOptions:function(){var g=this,w=ge.extend({},fn.prototype._resolveDataElementOptions.apply(g,arguments)),T=g._getIndexScale().options,P=g._getValueScale().options;return w.barPercentage=ot(T.barPercentage,w.barPercentage),w.barThickness=ot(T.barThickness,w.barThickness),w.categoryPercentage=ot(T.categoryPercentage,w.categoryPercentage),w.maxBarThickness=ot(T.maxBarThickness,w.maxBarThickness),w.minBarLength=ot(P.minBarLength,w.minBarLength),w}}),Ue=ge.valueOrDefault,ht=ge.options.resolve;Tn._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(g,w){return(w.datasets[g.datasetIndex].label||"")+": ("+g.xLabel+", "+g.yLabel+", "+w.datasets[g.datasetIndex].data[g.index].r+")"}}}});var mt=fn.extend({dataElementType:si.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(g){var w=this,T=w.getMeta().data;ge.each(T,function(P,E){w.updateElement(P,E,g)})},updateElement:function(g,w,T){var P=this,E=P.getMeta(),U=g.custom||{},j=P.getScaleForId(E.xAxisID),q=P.getScaleForId(E.yAxisID),$=P._resolveDataElementOptions(g,w),ee=P.getDataset().data[w],he=P.index,ye=T?j.getPixelForDecimal(.5):j.getPixelForValue("object"==typeof ee?ee:NaN,w,he),Se=T?q.getBasePixel():q.getPixelForValue(ee,w,he);g._xScale=j,g._yScale=q,g._options=$,g._datasetIndex=he,g._index=w,g._model={backgroundColor:$.backgroundColor,borderColor:$.borderColor,borderWidth:$.borderWidth,hitRadius:$.hitRadius,pointStyle:$.pointStyle,rotation:$.rotation,radius:T?0:$.radius,skip:U.skip||isNaN(ye)||isNaN(Se),x:ye,y:Se},g.pivot()},setHoverStyle:function(g){var w=g._model,T=g._options,P=ge.getHoverColor;g.$previousStyle={backgroundColor:w.backgroundColor,borderColor:w.borderColor,borderWidth:w.borderWidth,radius:w.radius},w.backgroundColor=Ue(T.hoverBackgroundColor,P(T.backgroundColor)),w.borderColor=Ue(T.hoverBorderColor,P(T.borderColor)),w.borderWidth=Ue(T.hoverBorderWidth,T.borderWidth),w.radius=T.radius+T.hoverRadius},_resolveDataElementOptions:function(g,w){var T=this,P=T.chart,E=T.getDataset(),U=g.custom||{},j=E.data[w]||{},q=fn.prototype._resolveDataElementOptions.apply(T,arguments),$={chart:P,dataIndex:w,dataset:E,datasetIndex:T.index};return T._cachedDataOpts===q&&(q=ge.extend({},q)),q.radius=ht([U.radius,j.r,T._config.radius,P.options.elements.point.radius],$,w),q}}),st=ge.valueOrDefault,ft=Math.PI,tn=2*ft,Xt=ft/2;Tn._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(g){var w,T,P,E=document.createElement("ul"),U=g.data,j=U.datasets,q=U.labels;if(E.setAttribute("class",g.id+"-legend"),j.length)for(w=0,T=j[0].data.length;w<T;++w)(P=E.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=j[0].backgroundColor[w],q[w]&&P.appendChild(document.createTextNode(q[w]));return E.outerHTML},legend:{labels:{generateLabels:function(g){var w=g.data;return w.labels.length&&w.datasets.length?w.labels.map(function(T,P){var E=g.getDatasetMeta(0),U=E.controller.getStyle(P);return{text:T,fillStyle:U.backgroundColor,strokeStyle:U.borderColor,lineWidth:U.borderWidth,hidden:isNaN(w.datasets[0].data[P])||E.data[P].hidden,index:P}}):[]}},onClick:function(g,w){var T,P,E,U=w.index,j=this.chart;for(T=0,P=(j.data.datasets||[]).length;T<P;++T)(E=j.getDatasetMeta(T)).data[U]&&(E.data[U].hidden=!E.data[U].hidden);j.update()}},cutoutPercentage:50,rotation:-Xt,circumference:tn,tooltips:{callbacks:{title:function(){return""},label:function(g,w){var T=w.labels[g.index],P=": "+w.datasets[g.datasetIndex].data[g.index];return ge.isArray(T)?(T=T.slice())[0]+=P:T+=P,T}}}});var nn=fn.extend({dataElementType:si.Arc,linkScales:ge.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(g){for(var w=0,T=0;T<g;++T)this.chart.isDatasetVisible(T)&&++w;return w},update:function(g){var P,E,U=this,j=U.chart,q=j.chartArea,$=j.options,ee=1,he=1,ye=0,Se=0,Re=U.getMeta(),Be=Re.data,Xe=$.cutoutPercentage/100||0,ct=$.circumference,$t=U._getRingWeight(U.index);if(ct<tn){var zt=$.rotation%tn,rn=(zt+=zt>=ft?-tn:zt<-ft?tn:0)+ct,kn=Math.cos(zt),gn=Math.sin(zt),qn=Math.cos(rn),Sr=Math.sin(rn),fr=zt<=0&&rn>=0||rn>=tn,Jn=zt<=Xt&&rn>=Xt||rn>=tn+Xt,lo=zt<=-Xt&&rn>=-Xt||rn>=ft+Xt,zr=zt===-ft||rn>=ft?-1:Math.min(kn,kn*Xe,qn,qn*Xe),po=lo?-1:Math.min(gn,gn*Xe,Sr,Sr*Xe),qo=fr?1:Math.max(kn,kn*Xe,qn,qn*Xe),to=Jn?1:Math.max(gn,gn*Xe,Sr,Sr*Xe);ee=(qo-zr)/2,he=(to-po)/2,ye=-(qo+zr)/2,Se=-(to+po)/2}for(P=0,E=Be.length;P<E;++P)Be[P]._options=U._resolveDataElementOptions(Be[P],P);for(j.borderWidth=U.getMaxBorderWidth(),j.outerRadius=Math.max(Math.min((q.right-q.left-j.borderWidth)/ee,(q.bottom-q.top-j.borderWidth)/he)/2,0),j.innerRadius=Math.max(j.outerRadius*Xe,0),j.radiusLength=(j.outerRadius-j.innerRadius)/(U._getVisibleDatasetWeightTotal()||1),j.offsetX=ye*j.outerRadius,j.offsetY=Se*j.outerRadius,Re.total=U.calculateTotal(),U.outerRadius=j.outerRadius-j.radiusLength*U._getRingWeightOffset(U.index),U.innerRadius=Math.max(U.outerRadius-j.radiusLength*$t,0),P=0,E=Be.length;P<E;++P)U.updateElement(Be[P],P,g)},updateElement:function(g,w,T){var P=this,E=P.chart,U=E.chartArea,j=E.options,q=j.animation,$=(U.left+U.right)/2,ee=(U.top+U.bottom)/2,he=j.rotation,ye=j.rotation,Se=P.getDataset(),Re=T&&q.animateRotate||g.hidden?0:P.calculateCircumference(Se.data[w])*(j.circumference/tn),ct=g._options||{};ge.extend(g,{_datasetIndex:P.index,_index:w,_model:{backgroundColor:ct.backgroundColor,borderColor:ct.borderColor,borderWidth:ct.borderWidth,borderAlign:ct.borderAlign,x:$+E.offsetX,y:ee+E.offsetY,startAngle:he,endAngle:ye,circumference:Re,outerRadius:T&&q.animateScale?0:P.outerRadius,innerRadius:T&&q.animateScale?0:P.innerRadius,label:ge.valueAtIndexOrDefault(Se.label,w,E.data.labels[w])}});var $t=g._model;T&&q.animateRotate||($t.startAngle=0===w?j.rotation:P.getMeta().data[w-1]._model.endAngle,$t.endAngle=$t.startAngle+$t.circumference),g.pivot()},calculateTotal:function(){var g,w=this.getDataset(),T=this.getMeta(),P=0;return ge.each(T.data,function(E,U){g=w.data[U],isNaN(g)||E.hidden||(P+=Math.abs(g))}),P},calculateCircumference:function(g){var w=this.getMeta().total;return w>0&&!isNaN(g)?tn*(Math.abs(g)/w):0},getMaxBorderWidth:function(g){var w,T,P,E,U,j,q,$,ee=0,he=this.chart;if(!g)for(w=0,T=he.data.datasets.length;w<T;++w)if(he.isDatasetVisible(w)){g=(P=he.getDatasetMeta(w)).data,w!==this.index&&(U=P.controller);break}if(!g)return 0;for(w=0,T=g.length;w<T;++w)E=g[w],U?(U._configure(),j=U._resolveDataElementOptions(E,w)):j=E._options,"inner"!==j.borderAlign&&(ee=($=j.hoverBorderWidth)>(ee=(q=j.borderWidth)>ee?q:ee)?$:ee);return ee},setHoverStyle:function(g){var w=g._model,T=g._options,P=ge.getHoverColor;g.$previousStyle={backgroundColor:w.backgroundColor,borderColor:w.borderColor,borderWidth:w.borderWidth},w.backgroundColor=st(T.hoverBackgroundColor,P(T.backgroundColor)),w.borderColor=st(T.hoverBorderColor,P(T.borderColor)),w.borderWidth=st(T.hoverBorderWidth,T.borderWidth)},_getRingWeightOffset:function(g){for(var w=0,T=0;T<g;++T)this.chart.isDatasetVisible(T)&&(w+=this._getRingWeight(T));return w},_getRingWeight:function(g){return Math.max(st(this.chart.data.datasets[g].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Tn._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Tn._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var un=Me.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Kt=ge.valueOrDefault,Vt=ge.options.resolve,Ut=ge.canvas._isPointInArea;function at(g,w){var T=g&&g.options.ticks||{},P=T.reverse,E=void 0===T.min?w:0,U=void 0===T.max?w:0;return{start:P?U:E,end:P?E:U}}function vr(g,w,T){var P=T/2,E=at(g,P),U=at(w,P);return{top:U.end,right:E.end,bottom:U.start,left:E.start}}function tr(g){var w,T,P,E;return ge.isObject(g)?(w=g.top,T=g.right,P=g.bottom,E=g.left):w=T=P=E=g,{top:w,right:T,bottom:P,left:E}}Tn._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var ar=fn.extend({datasetElementType:si.Line,dataElementType:si.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(g){var w,T,P=this,E=P.getMeta(),U=E.dataset,j=E.data||[],$=P._config,ee=P._showLine=Kt($.showLine,P.chart.options.showLines);for(P._xScale=P.getScaleForId(E.xAxisID),P._yScale=P.getScaleForId(E.yAxisID),ee&&(void 0!==$.tension&&void 0===$.lineTension&&($.lineTension=$.tension),U._scale=P._yScale,U._datasetIndex=P.index,U._children=j,U._model=P._resolveDatasetElementOptions(U),U.pivot()),w=0,T=j.length;w<T;++w)P.updateElement(j[w],w,g);for(ee&&0!==U._model.tension&&P.updateBezierControlPoints(),w=0,T=j.length;w<T;++w)j[w].pivot()},updateElement:function(g,w,T){var P,E,U=this,j=U.getMeta(),q=g.custom||{},$=U.getDataset(),ee=U.index,he=$.data[w],ye=U._xScale,Se=U._yScale,Re=j.dataset._model,Be=U._resolveDataElementOptions(g,w);P=ye.getPixelForValue("object"==typeof he?he:NaN,w,ee),E=T?Se.getBasePixel():U.calculatePointY(he,w,ee),g._xScale=ye,g._yScale=Se,g._options=Be,g._datasetIndex=ee,g._index=w,g._model={x:P,y:E,skip:q.skip||isNaN(P)||isNaN(E),radius:Be.radius,pointStyle:Be.pointStyle,rotation:Be.rotation,backgroundColor:Be.backgroundColor,borderColor:Be.borderColor,borderWidth:Be.borderWidth,tension:Kt(q.tension,Re?Re.tension:0),steppedLine:!!Re&&Re.steppedLine,hitRadius:Be.hitRadius}},_resolveDatasetElementOptions:function(g){var w=this,T=w._config,P=g.custom||{},E=w.chart.options,U=E.elements.line,j=fn.prototype._resolveDatasetElementOptions.apply(w,arguments);return j.spanGaps=Kt(T.spanGaps,E.spanGaps),j.tension=Kt(T.lineTension,U.tension),j.steppedLine=Vt([P.steppedLine,T.steppedLine,U.stepped]),j.clip=tr(Kt(T.clip,vr(w._xScale,w._yScale,j.borderWidth))),j},calculatePointY:function(g,w,T){var P,U,j,q,$,ee,he=this.chart,ye=this._yScale,Se=0,Re=0;if(ye.options.stacked){for(q=+ye.getRightValue(g),ee=($=he._getSortedVisibleDatasetMetas()).length,P=0;P<ee&&(U=$[P]).index!==T;++P)"line"===U.type&&U.yAxisID===ye.id&&((j=+ye.getRightValue(he.data.datasets[U.index].data[w]))<0?Re+=j||0:Se+=j||0);return ye.getPixelForValue(q<0?Re+q:Se+q)}return ye.getPixelForValue(g)},updateBezierControlPoints:function(){var g,w,T,P,E=this.chart,U=this.getMeta(),j=U.dataset._model,q=E.chartArea,$=U.data||[];function ee(he,ye,Se){return Math.max(Math.min(he,Se),ye)}if(j.spanGaps&&($=$.filter(function(he){return!he._model.skip})),"monotone"===j.cubicInterpolationMode)ge.splineCurveMonotone($);else for(g=0,w=$.length;g<w;++g)T=$[g]._model,P=ge.splineCurve(ge.previousItem($,g)._model,T,ge.nextItem($,g)._model,j.tension),T.controlPointPreviousX=P.previous.x,T.controlPointPreviousY=P.previous.y,T.controlPointNextX=P.next.x,T.controlPointNextY=P.next.y;if(E.options.elements.line.capBezierPoints)for(g=0,w=$.length;g<w;++g)Ut(T=$[g]._model,q)&&(g>0&&Ut($[g-1]._model,q)&&(T.controlPointPreviousX=ee(T.controlPointPreviousX,q.left,q.right),T.controlPointPreviousY=ee(T.controlPointPreviousY,q.top,q.bottom)),g<$.length-1&&Ut($[g+1]._model,q)&&(T.controlPointNextX=ee(T.controlPointNextX,q.left,q.right),T.controlPointNextY=ee(T.controlPointNextY,q.top,q.bottom)))},draw:function(){var g,w=this.chart,T=this.getMeta(),P=T.data||[],E=w.chartArea,U=w.canvas,j=0,q=P.length;for(this._showLine&&(ge.canvas.clipArea(w.ctx,{left:!1===(g=T.dataset._model.clip).left?0:E.left-g.left,right:!1===g.right?U.width:E.right+g.right,top:!1===g.top?0:E.top-g.top,bottom:!1===g.bottom?U.height:E.bottom+g.bottom}),T.dataset.draw(),ge.canvas.unclipArea(w.ctx));j<q;++j)P[j].draw(E)},setHoverStyle:function(g){var w=g._model,T=g._options,P=ge.getHoverColor;g.$previousStyle={backgroundColor:w.backgroundColor,borderColor:w.borderColor,borderWidth:w.borderWidth,radius:w.radius},w.backgroundColor=Kt(T.hoverBackgroundColor,P(T.backgroundColor)),w.borderColor=Kt(T.hoverBorderColor,P(T.borderColor)),w.borderWidth=Kt(T.hoverBorderWidth,T.borderWidth),w.radius=Kt(T.hoverRadius,T.radius)}}),yr=ge.options.resolve;Tn._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(g){var w,T,P,E=document.createElement("ul"),U=g.data,j=U.datasets,q=U.labels;if(E.setAttribute("class",g.id+"-legend"),j.length)for(w=0,T=j[0].data.length;w<T;++w)(P=E.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=j[0].backgroundColor[w],q[w]&&P.appendChild(document.createTextNode(q[w]));return E.outerHTML},legend:{labels:{generateLabels:function(g){var w=g.data;return w.labels.length&&w.datasets.length?w.labels.map(function(T,P){var E=g.getDatasetMeta(0),U=E.controller.getStyle(P);return{text:T,fillStyle:U.backgroundColor,strokeStyle:U.borderColor,lineWidth:U.borderWidth,hidden:isNaN(w.datasets[0].data[P])||E.data[P].hidden,index:P}}):[]}},onClick:function(g,w){var T,P,E,U=w.index,j=this.chart;for(T=0,P=(j.data.datasets||[]).length;T<P;++T)(E=j.getDatasetMeta(T)).data[U].hidden=!E.data[U].hidden;j.update()}},tooltips:{callbacks:{title:function(){return""},label:function(g,w){return w.labels[g.index]+": "+g.yLabel}}}});var Tr=fn.extend({dataElementType:si.Arc,linkScales:ge.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(g){var w,T,P,E=this,U=E.getDataset(),j=E.getMeta(),q=E.chart.options.startAngle||0,$=E._starts=[],ee=E._angles=[],he=j.data;for(E._updateRadius(),j.count=E.countVisibleElements(),w=0,T=U.data.length;w<T;w++)$[w]=q,P=E._computeAngle(w),ee[w]=P,q+=P;for(w=0,T=he.length;w<T;++w)he[w]._options=E._resolveDataElementOptions(he[w],w),E.updateElement(he[w],w,g)},_updateRadius:function(){var g=this,w=g.chart,T=w.chartArea,P=w.options,E=Math.min(T.right-T.left,T.bottom-T.top);w.outerRadius=Math.max(E/2,0),w.innerRadius=Math.max(P.cutoutPercentage?w.outerRadius/100*P.cutoutPercentage:1,0),w.radiusLength=(w.outerRadius-w.innerRadius)/w.getVisibleDatasetCount(),g.outerRadius=w.outerRadius-w.radiusLength*g.index,g.innerRadius=g.outerRadius-w.radiusLength},updateElement:function(g,w,T){var P=this,E=P.chart,U=P.getDataset(),j=E.options,q=j.animation,$=E.scale,ee=E.data.labels,he=$.xCenter,ye=$.yCenter,Se=j.startAngle,Re=g.hidden?0:$.getDistanceFromCenterForValue(U.data[w]),Be=P._starts[w],Xe=Be+(g.hidden?0:P._angles[w]),ct=q.animateScale?0:$.getDistanceFromCenterForValue(U.data[w]),$t=g._options||{};ge.extend(g,{_datasetIndex:P.index,_index:w,_scale:$,_model:{backgroundColor:$t.backgroundColor,borderColor:$t.borderColor,borderWidth:$t.borderWidth,borderAlign:$t.borderAlign,x:he,y:ye,innerRadius:0,outerRadius:T?ct:Re,startAngle:T&&q.animateRotate?Se:Be,endAngle:T&&q.animateRotate?Se:Xe,label:ge.valueAtIndexOrDefault(ee,w,ee[w])}}),g.pivot()},countVisibleElements:function(){var g=this.getDataset(),w=this.getMeta(),T=0;return ge.each(w.data,function(P,E){isNaN(g.data[E])||P.hidden||T++}),T},setHoverStyle:function(g){var w=g._model,T=g._options,P=ge.getHoverColor,E=ge.valueOrDefault;g.$previousStyle={backgroundColor:w.backgroundColor,borderColor:w.borderColor,borderWidth:w.borderWidth},w.backgroundColor=E(T.hoverBackgroundColor,P(T.backgroundColor)),w.borderColor=E(T.hoverBorderColor,P(T.borderColor)),w.borderWidth=E(T.hoverBorderWidth,T.borderWidth)},_computeAngle:function(g){var w=this,T=this.getMeta().count,P=w.getDataset(),E=w.getMeta();return isNaN(P.data[g])||E.data[g].hidden?0:yr([w.chart.options.elements.arc.angle,2*Math.PI/T],{chart:w.chart,dataIndex:g,dataset:P,datasetIndex:w.index},g)}});Tn._set("pie",ge.clone(Tn.doughnut)),Tn._set("pie",{cutoutPercentage:0});var Ao=nn,$n=ge.valueOrDefault;Tn._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Ti=fn.extend({datasetElementType:si.Line,dataElementType:si.Point,linkScales:ge.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(g){var w,T,P=this,E=P.getMeta(),U=E.dataset,j=E.data||[],q=P.chart.scale,$=P._config;for(void 0!==$.tension&&void 0===$.lineTension&&($.lineTension=$.tension),U._scale=q,U._datasetIndex=P.index,U._children=j,U._loop=!0,U._model=P._resolveDatasetElementOptions(U),U.pivot(),w=0,T=j.length;w<T;++w)P.updateElement(j[w],w,g);for(P.updateBezierControlPoints(),w=0,T=j.length;w<T;++w)j[w].pivot()},updateElement:function(g,w,T){var P=this,E=g.custom||{},U=P.getDataset(),j=P.chart.scale,q=j.getPointPositionForValue(w,U.data[w]),$=P._resolveDataElementOptions(g,w),ee=P.getMeta().dataset._model,he=T?j.xCenter:q.x,ye=T?j.yCenter:q.y;g._scale=j,g._options=$,g._datasetIndex=P.index,g._index=w,g._model={x:he,y:ye,skip:E.skip||isNaN(he)||isNaN(ye),radius:$.radius,pointStyle:$.pointStyle,rotation:$.rotation,backgroundColor:$.backgroundColor,borderColor:$.borderColor,borderWidth:$.borderWidth,tension:$n(E.tension,ee?ee.tension:0),hitRadius:$.hitRadius}},_resolveDatasetElementOptions:function(){var g=this,w=g._config,T=g.chart.options,P=fn.prototype._resolveDatasetElementOptions.apply(g,arguments);return P.spanGaps=$n(w.spanGaps,T.spanGaps),P.tension=$n(w.lineTension,T.elements.line.tension),P},updateBezierControlPoints:function(){var g,w,T,P,E=this.getMeta(),U=this.chart.chartArea,j=E.data||[];function q($,ee,he){return Math.max(Math.min($,he),ee)}for(E.dataset._model.spanGaps&&(j=j.filter(function($){return!$._model.skip})),g=0,w=j.length;g<w;++g)T=j[g]._model,P=ge.splineCurve(ge.previousItem(j,g,!0)._model,T,ge.nextItem(j,g,!0)._model,T.tension),T.controlPointPreviousX=q(P.previous.x,U.left,U.right),T.controlPointPreviousY=q(P.previous.y,U.top,U.bottom),T.controlPointNextX=q(P.next.x,U.left,U.right),T.controlPointNextY=q(P.next.y,U.top,U.bottom)},setHoverStyle:function(g){var w=g._model,T=g._options,P=ge.getHoverColor;g.$previousStyle={backgroundColor:w.backgroundColor,borderColor:w.borderColor,borderWidth:w.borderWidth,radius:w.radius},w.backgroundColor=$n(T.hoverBackgroundColor,P(T.backgroundColor)),w.borderColor=$n(T.hoverBorderColor,P(T.borderColor)),w.borderWidth=$n(T.hoverBorderWidth,T.borderWidth),w.radius=$n(T.hoverRadius,T.radius)}});Tn._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(g){return"("+g.xLabel+", "+g.yLabel+")"}}}}),Tn._set("global",{datasets:{scatter:{showLine:!1}}});var In={bar:Me,bubble:mt,doughnut:nn,horizontalBar:un,line:ar,polarArea:Tr,pie:Ao,radar:Ti,scatter:ar};function cr(g,w){return g.native?{x:g.x,y:g.y}:ge.getRelativePosition(g,w)}function $r(g,w){var T,P,E,U,j,q,$=g._getSortedVisibleDatasetMetas();for(P=0,U=$.length;P<U;++P)for(E=0,j=(T=$[P].data).length;E<j;++E)(q=T[E])._view.skip||w(q)}function pi(g,w){var T=[];return $r(g,function(P){P.inRange(w.x,w.y)&&T.push(P)}),T}function Ho(g,w,T,P){var E=Number.POSITIVE_INFINITY,U=[];return $r(g,function(j){if(!T||j.inRange(w.x,w.y)){var q=j.getCenterPoint(),$=P(w,q);$<E?(U=[j],E=$):$===E&&U.push(j)}}),U}function Zo(g){var w=-1!==g.indexOf("x"),T=-1!==g.indexOf("y");return function(P,E){var U=w?Math.abs(P.x-E.x):0,j=T?Math.abs(P.y-E.y):0;return Math.sqrt(Math.pow(U,2)+Math.pow(j,2))}}function ks(g,w,T){var P=cr(w,g);T.axis=T.axis||"x";var E=Zo(T.axis),U=T.intersect?pi(g,P):Ho(g,P,!1,E),j=[];return U.length?(g._getSortedVisibleDatasetMetas().forEach(function(q){var $=q.data[U[0]._index];$&&!$._view.skip&&j.push($)}),j):[]}var ds={modes:{single:function(g,w){var T=cr(w,g),P=[];return $r(g,function(E){if(E.inRange(T.x,T.y))return P.push(E),P}),P.slice(0,1)},label:ks,index:ks,dataset:function(g,w,T){var P=cr(w,g);T.axis=T.axis||"xy";var E=Zo(T.axis),U=T.intersect?pi(g,P):Ho(g,P,!1,E);return U.length>0&&(U=g.getDatasetMeta(U[0]._datasetIndex).data),U},"x-axis":function(g,w){return ks(g,w,{intersect:!1})},point:function(g,w){return pi(g,cr(w,g))},nearest:function(g,w,T){var P=cr(w,g);T.axis=T.axis||"xy";var E=Zo(T.axis);return Ho(g,P,T.intersect,E)},x:function(g,w,T){var P=cr(w,g),E=[],U=!1;return $r(g,function(j){j.inXRange(P.x)&&E.push(j),j.inRange(P.x,P.y)&&(U=!0)}),T.intersect&&!U&&(E=[]),E},y:function(g,w,T){var P=cr(w,g),E=[],U=!1;return $r(g,function(j){j.inYRange(P.y)&&E.push(j),j.inRange(P.x,P.y)&&(U=!0)}),T.intersect&&!U&&(E=[]),E}}},fs=ge.extend;function vi(g,w){return ge.where(g,function(T){return T.pos===w})}function mc(g,w){return g.sort(function(T,P){var E=w?P:T,U=w?T:P;return E.weight===U.weight?E.index-U.index:E.weight-U.weight})}function ng(g,w,T,P){return Math.max(g[T],w[T])+Math.max(g[P],w[P])}function Ru(g,w,T){var P,E,U=T.box,j=g.maxPadding;if(T.size&&(g[T.pos]-=T.size),T.size=T.horizontal?U.height:U.width,g[T.pos]+=T.size,U.getPadding){var q=U.getPadding();j.top=Math.max(j.top,q.top),j.left=Math.max(j.left,q.left),j.bottom=Math.max(j.bottom,q.bottom),j.right=Math.max(j.right,q.right)}if(P=w.outerWidth-ng(j,g,"left","right"),E=w.outerHeight-ng(j,g,"top","bottom"),P!==g.w||E!==g.h){g.w=P,g.h=E;var $=T.horizontal?[P,g.w]:[E,g.h];return!($[0]===$[1]||isNaN($[0])&&isNaN($[1]))}}function $h(g,w){var T=w.maxPadding;return function P(E){var U={left:0,top:0,right:0,bottom:0};return E.forEach(function(j){U[j]=Math.max(w[j],T[j])}),U}(g?["left","right"]:["top","bottom"])}function _i(g,w,T){var P,E,U,j,q,$,ee=[];for(P=0,E=g.length;P<E;++P)(j=(U=g[P]).box).update(U.width||w.w,U.height||w.h,$h(U.horizontal,w)),Ru(w,T,U)&&($=!0,ee.length&&(q=!0)),j.fullWidth||ee.push(U);return q&&_i(ee,w,T)||$}function Ol(g,w,T){var P,E,U,j,q=T.padding,$=w.x,ee=w.y;for(P=0,E=g.length;P<E;++P)j=(U=g[P]).box,U.horizontal?(j.left=j.fullWidth?q.left:w.left,j.right=j.fullWidth?T.outerWidth-q.right:w.left+w.w,j.top=ee,j.bottom=ee+j.height,j.width=j.right-j.left,ee=j.bottom):(j.left=$,j.right=$+j.width,j.top=w.top,j.bottom=w.top+w.h,j.height=j.bottom-j.top,$=j.right);w.x=$,w.y=ee}Tn._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Js,ti={defaults:{},addBox:function(g,w){g.boxes||(g.boxes=[]),w.fullWidth=w.fullWidth||!1,w.position=w.position||"top",w.weight=w.weight||0,w._layers=w._layers||function(){return[{z:0,draw:function(){w.draw.apply(w,arguments)}}]},g.boxes.push(w)},removeBox:function(g,w){var T=g.boxes?g.boxes.indexOf(w):-1;-1!==T&&g.boxes.splice(T,1)},configure:function(g,w,T){for(var P,E=["fullWidth","position","weight"],U=E.length,j=0;j<U;++j)T.hasOwnProperty(P=E[j])&&(w[P]=T[P])},update:function(g,w,T){if(g){var E=ge.options.toPadding((g.options.layout||{}).padding),U=w-E.width,j=T-E.height,q=(Be=mc(vi(Re=function(zt){var rn,kn,gn,qn=[];for(rn=0,kn=(zt||[]).length;rn<kn;++rn)qn.push({index:rn,box:gn=zt[rn],pos:gn.position,horizontal:gn.isHorizontal(),weight:gn.weight});return qn}(g.boxes),"left"),!0),Xe=mc(vi(Re,"right")),ct=mc(vi(Re,"top"),!0),$t=mc(vi(Re,"bottom")),{leftAndTop:Be.concat(ct),rightAndBottom:Xe.concat($t),chartArea:vi(Re,"chartArea"),vertical:Be.concat(Xe),horizontal:ct.concat($t)}),$=q.vertical,ee=q.horizontal,he=Object.freeze({outerWidth:w,outerHeight:T,padding:E,availableWidth:U,vBoxMaxWidth:U/2/$.length,hBoxMaxHeight:j/2}),ye=fs({maxPadding:fs({},E),w:U,h:j,x:E.left,y:E.top},E);(function(Se,Re){var Be,Xe,ct;for(Be=0,Xe=Se.length;Be<Xe;++Be)(ct=Se[Be]).width=ct.horizontal?ct.box.fullWidth&&Re.availableWidth:Re.vBoxMaxWidth,ct.height=ct.horizontal&&Re.hBoxMaxHeight})($.concat(ee),he),_i($,ye,he),_i(ee,ye,he)&&_i($,ye,he),function(Se){var Re=Se.maxPadding;function Be(Xe){var ct=Math.max(Re[Xe]-Se[Xe],0);return Se[Xe]+=ct,ct}Se.y+=Be("top"),Se.x+=Be("left"),Be("right"),Be("bottom")}(ye),Ol(q.leftAndTop,ye,he),ye.x+=ye.w,ye.y+=ye.h,Ol(q.rightAndBottom,ye,he),g.chartArea={left:ye.left,top:ye.top,right:ye.left+ye.w,bottom:ye.top+ye.h},ge.each(q.chartArea,function(Se){var Re=Se.box;fs(Re,g.chartArea),Re.update(ye.w,ye.h)})}var Re,Be,Xe,ct,$t}},Ds=(Js=Object.freeze({__proto__:null,default:"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&Js.default||Js,li="$chartjs",Wf="chartjs-size-monitor",Dm="chartjs-render-monitor",sr=["animationstart","webkitAnimationStart"],Jh={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Gf(g,w){var T=ge.getStyle(g,w),P=T&&T.match(/^(\d+)(\.\d+)?px$/);return P?Number(P[1]):void 0}var kt=!!function(){var g=!1;try{var w=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("e",null,w)}catch(T){}return g}()&&{passive:!0};function it(g,w,T){g.addEventListener(w,T,kt)}function No(g,w,T){g.removeEventListener(w,T,kt)}function jc(g,w,T,P,E){return{type:g,chart:w,native:E||null,x:void 0!==T?T:null,y:void 0!==P?P:null}}function Qs(g){var w=document.createElement("div");return w.className=g||"",w}var Bi={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(g){if(!this.disableCSSInjection){var w=g.getRootNode?g.getRootNode():document;!function(T,P){var E=T[li]||(T[li]={});if(!E.containsStyles){E.containsStyles=!0,P="/* Chart.js */\n"+P;var U=document.createElement("style");U.setAttribute("type","text/css"),U.appendChild(document.createTextNode(P)),T.appendChild(U)}}(w.host?w:document.head,Ds)}},acquireContext:function(g,w){"string"==typeof g?g=document.getElementById(g):g.length&&(g=g[0]),g&&g.canvas&&(g=g.canvas);var T=g&&g.getContext&&g.getContext("2d");return T&&T.canvas===g?(this._ensureLoaded(g),function(P,E){var U=P.style,j=P.getAttribute("height"),q=P.getAttribute("width");if(P[li]={initial:{height:j,width:q,style:{display:U.display,height:U.height,width:U.width}}},U.display=U.display||"block",null===q||""===q){var $=Gf(P,"width");void 0!==$&&(P.width=$)}if(null===j||""===j)if(""===P.style.height)P.height=P.width/(E.options.aspectRatio||2);else{var ee=Gf(P,"height");void 0!==$&&(P.height=ee)}}(g,w),T):null},releaseContext:function(g){var w=g.canvas;if(w[li]){var T=w[li].initial;["height","width"].forEach(function(P){var E=T[P];ge.isNullOrUndef(E)?w.removeAttribute(P):w.setAttribute(P,E)}),ge.each(T.style||{},function(P,E){w.style[E]=P}),w.width=w.width,delete w[li]}},addEventListener:function(g,w,T){var P=g.canvas;if("resize"!==w){var E=T[li]||(T[li]={});it(P,w,(E.proxies||(E.proxies={}))[g.id+"_"+w]=function(U){var j,q,$,ee;T(($=Jh[(j=U).type]||j.type,ee=ge.getRelativePosition(j,q=g),jc($,q,ee.x,ee.y,j)))})}else!function ea(g,w,T){var P,E,U,j,ee,ye,Se,q=g[li]||(g[li]={}),$=q.resizer=function(ee){var he=Qs(Wf),ye=Qs(Wf+"-expand"),Se=Qs(Wf+"-shrink");ye.appendChild(Qs()),Se.appendChild(Qs()),he.appendChild(ye),he.appendChild(Se),he._reset=function(){ye.scrollLeft=1e6,ye.scrollTop=1e6,Se.scrollLeft=1e6,Se.scrollTop=1e6};var Re=function(){he._reset(),ee()};return it(ye,"scroll",Re.bind(ye,"expand")),it(Se,"scroll",Re.bind(Se,"shrink")),he}((P=function(){if(q.resizer){var ee=T.options.maintainAspectRatio&&g.parentNode,he=ee?ee.clientWidth:0;w(jc("resize",T)),ee&&ee.clientWidth<he&&T.canvas&&w(jc("resize",T))}},U=!1,j=[],function(){j=Array.prototype.slice.call(arguments),E=E||this,U||(U=!0,ge.requestAnimFrame.call(window,function(){U=!1,P.apply(E,j)}))}));ye=(ee=g)[li]||(ee[li]={}),Se=ye.renderProxy=function(Re){"chartjs-render-animation"===Re.animationName&&function(){if(q.resizer){var ee=g.parentNode;ee&&ee!==$.parentNode&&ee.insertBefore($,ee.firstChild),$._reset()}}()},ge.each(sr,function(Re){it(ee,Re,Se)}),ye.reflow=!!ee.offsetParent,ee.classList.add(Dm)}(P,T,g)},removeEventListener:function(g,w,T){var P=g.canvas;if("resize"!==w){var E=((T[li]||{}).proxies||{})[g.id+"_"+w];E&&No(P,w,E)}else!function ml(g){var P,E,U,w=g[li]||{},T=w.resizer;delete w.resizer,(U=(E=(P=g)[li]||{}).renderProxy)&&(ge.each(sr,function(j){No(P,j,U)}),delete E.renderProxy),P.classList.remove(Dm),T&&T.parentNode&&T.parentNode.removeChild(T)}(P)}};ge.addEvent=it,ge.removeEvent=No;var zi=ge.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Bi._enabled?Bi:{acquireContext:function(g){return g&&g.canvas&&(g=g.canvas),g&&g.getContext("2d")||null}});Tn._set("global",{plugins:{}});var so={_plugins:[],_cacheId:0,register:function(g){var w=this._plugins;[].concat(g).forEach(function(T){-1===w.indexOf(T)&&w.push(T)}),this._cacheId++},unregister:function(g){var w=this._plugins;[].concat(g).forEach(function(T){var P=w.indexOf(T);-1!==P&&w.splice(P,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(g,w,T){var P,E,U,j,q,$=this.descriptors(g),ee=$.length;for(P=0;P<ee;++P)if("function"==typeof(q=(U=(E=$[P]).plugin)[w])&&((j=[g].concat(T||[])).push(E.options),!1===q.apply(U,j)))return!1;return!0},descriptors:function(g){var w=g.$plugins||(g.$plugins={});if(w.id===this._cacheId)return w.descriptors;var T=[],P=[],E=g&&g.config||{},U=E.options&&E.options.plugins||{};return this._plugins.concat(E.plugins||[]).forEach(function(j){if(-1===T.indexOf(j)){var q=j.id,$=U[q];!1!==$&&(!0===$&&($=ge.clone(Tn.global.plugins[q])),T.push(j),P.push({plugin:j,options:$||{}}))}}),w.descriptors=P,w.id=this._cacheId,P},_invalidate:function(g){delete g.$plugins}},vl={constructors:{},defaults:{},registerScaleType:function(g,w,T){this.constructors[g]=w,this.defaults[g]=ge.clone(T)},getScaleConstructor:function(g){return this.constructors.hasOwnProperty(g)?this.constructors[g]:void 0},getScaleDefaults:function(g){return this.defaults.hasOwnProperty(g)?ge.merge(Object.create(null),[Tn.scale,this.defaults[g]]):{}},updateScaleDefaults:function(g,w){this.defaults.hasOwnProperty(g)&&(this.defaults[g]=ge.extend(this.defaults[g],w))},addScalesToLayout:function(g){ge.each(g.scales,function(w){w.fullWidth=w.options.fullWidth,w.position=w.options.position,w.weight=w.options.weight,ti.addBox(g,w)})}},As=ge.valueOrDefault,Is=ge.rtl.getRtlAdapter;Tn._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:ge.noop,title:function(g,w){var T="",P=w.labels,E=P?P.length:0;if(g.length>0){var U=g[0];U.label?T=U.label:U.xLabel?T=U.xLabel:E>0&&U.index<E&&(T=P[U.index])}return T},afterTitle:ge.noop,beforeBody:ge.noop,beforeLabel:ge.noop,label:function(g,w){var T=w.datasets[g.datasetIndex].label||"";return T&&(T+=": "),ge.isNullOrUndef(g.value)?T+=g.yLabel:T+=g.value,T},labelColor:function(g,w){var T=w.getDatasetMeta(g.datasetIndex).data[g.index]._view;return{borderColor:T.borderColor,backgroundColor:T.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:ge.noop,afterBody:ge.noop,beforeFooter:ge.noop,footer:ge.noop,afterFooter:ge.noop}}});var hs={average:function(g){if(!g.length)return!1;var w,T,P=0,E=0,U=0;for(w=0,T=g.length;w<T;++w){var j=g[w];if(j&&j.hasValue()){var q=j.tooltipPosition();P+=q.x,E+=q.y,++U}}return{x:P/U,y:E/U}},nearest:function(g,w){var T,P,E,U=w.x,j=w.y,q=Number.POSITIVE_INFINITY;for(T=0,P=g.length;T<P;++T){var $=g[T];if($&&$.hasValue()){var ee=$.getCenterPoint(),he=ge.distanceBetweenPoints(w,ee);he<q&&(q=he,E=$)}}if(E){var ye=E.tooltipPosition();U=ye.x,j=ye.y}return{x:U,y:j}}};function Ua(g,w){return w&&(ge.isArray(w)?Array.prototype.push.apply(g,w):g.push(w)),g}function ja(g){return("string"==typeof g||g instanceof String)&&g.indexOf("\n")>-1?g.split("\n"):g}function Yc(g){var w=Tn.global;return{xPadding:g.xPadding,yPadding:g.yPadding,xAlign:g.xAlign,yAlign:g.yAlign,rtl:g.rtl,textDirection:g.textDirection,bodyFontColor:g.bodyFontColor,_bodyFontFamily:As(g.bodyFontFamily,w.defaultFontFamily),_bodyFontStyle:As(g.bodyFontStyle,w.defaultFontStyle),_bodyAlign:g.bodyAlign,bodyFontSize:As(g.bodyFontSize,w.defaultFontSize),bodySpacing:g.bodySpacing,titleFontColor:g.titleFontColor,_titleFontFamily:As(g.titleFontFamily,w.defaultFontFamily),_titleFontStyle:As(g.titleFontStyle,w.defaultFontStyle),titleFontSize:As(g.titleFontSize,w.defaultFontSize),_titleAlign:g.titleAlign,titleSpacing:g.titleSpacing,titleMarginBottom:g.titleMarginBottom,footerFontColor:g.footerFontColor,_footerFontFamily:As(g.footerFontFamily,w.defaultFontFamily),_footerFontStyle:As(g.footerFontStyle,w.defaultFontStyle),footerFontSize:As(g.footerFontSize,w.defaultFontSize),_footerAlign:g.footerAlign,footerSpacing:g.footerSpacing,footerMarginTop:g.footerMarginTop,caretSize:g.caretSize,cornerRadius:g.cornerRadius,backgroundColor:g.backgroundColor,opacity:0,legendColorBackground:g.multiKeyBackground,displayColors:g.displayColors,borderColor:g.borderColor,borderWidth:g.borderWidth}}function Ko(g,w){return"center"===w?g.x+g.width/2:"right"===w?g.x+g.width-g.xPadding:g.x+g.xPadding}function Gi(g){return Ua([],ja(g))}var ta=ko.extend({initialize:function(){this._model=Yc(this._options),this._lastActive=[]},getTitle:function(){var g=this,w=g._options,T=w.callbacks,P=T.beforeTitle.apply(g,arguments),E=T.title.apply(g,arguments),U=T.afterTitle.apply(g,arguments),j=[];return j=Ua(j,ja(P)),j=Ua(j,ja(E)),Ua(j,ja(U))},getBeforeBody:function(){return Gi(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(g,w){var T=this,P=T._options.callbacks,E=[];return ge.each(g,function(U){var j={before:[],lines:[],after:[]};Ua(j.before,ja(P.beforeLabel.call(T,U,w))),Ua(j.lines,P.label.call(T,U,w)),Ua(j.after,ja(P.afterLabel.call(T,U,w))),E.push(j)}),E},getAfterBody:function(){return Gi(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var g=this,w=g._options.callbacks,T=w.beforeFooter.apply(g,arguments),P=w.footer.apply(g,arguments),E=w.afterFooter.apply(g,arguments),U=[];return U=Ua(U,ja(T)),U=Ua(U,ja(P)),Ua(U,ja(E))},update:function(g){var w,T,P,E,U,j,q,$,ee,he,fr,Jn,lo,zr,po,qo,Go,Hn,Pi,Li,no,ye=this,Se=ye._options,Re=ye._model,Be=ye._model=Yc(Se),Xe=ye._active,ct=ye._data,$t={xAlign:Re.xAlign,yAlign:Re.yAlign},zt={x:Re.x,y:Re.y},rn={width:Re.width,height:Re.height},kn={x:Re.caretX,y:Re.caretY};if(Xe.length){Be.opacity=1;var gn=[],qn=[];kn=hs[Se.position].call(ye,Xe,ye._eventPosition);var Sr=[];for(w=0,T=Xe.length;w<T;++w)Sr.push((E=void 0,U=void 0,$=void 0,ee=void 0,he=void 0,E=(P=Xe[w])._xScale,U=P._yScale||P._scale,j=P._index,ee=($=P._chart.getDatasetMeta(q=P._datasetIndex).controller)._getIndexScale(),he=$._getValueScale(),{xLabel:E?E.getLabelForIndex(j,q):"",yLabel:U?U.getLabelForIndex(j,q):"",label:ee?""+ee.getLabelForIndex(j,q):"",value:he?""+he.getLabelForIndex(j,q):"",index:j,datasetIndex:q,x:P._model.x,y:P._model.y}));Se.filter&&(Sr=Sr.filter(function(fr){return Se.filter(fr,ct)})),Se.itemSort&&(Sr=Sr.sort(function(fr,Jn){return Se.itemSort(fr,Jn,ct)})),ge.each(Sr,function(fr){gn.push(Se.callbacks.labelColor.call(ye,fr,ye._chart)),qn.push(Se.callbacks.labelTextColor.call(ye,fr,ye._chart))}),Be.title=ye.getTitle(Sr,ct),Be.beforeBody=ye.getBeforeBody(Sr,ct),Be.body=ye.getBody(Sr,ct),Be.afterBody=ye.getAfterBody(Sr,ct),Be.footer=ye.getFooter(Sr,ct),Be.x=kn.x,Be.y=kn.y,Be.caretPadding=Se.caretPadding,Be.labelColors=gn,Be.labelTextColors=qn,Be.dataPoints=Sr,rn=function(fr,Jn){var lo=fr._chart.ctx,zr=2*Jn.yPadding,po=0,qo=Jn.body,to=qo.reduce(function(Pa,bi){return Pa+bi.before.length+bi.lines.length+bi.after.length},0),Go=Jn.title.length,bo=Jn.footer.length,Hn=Jn.titleFontSize,Pi=Jn.bodyFontSize,Li=Jn.footerFontSize;zr+=Go*Hn,zr+=Go?(Go-1)*Jn.titleSpacing:0,zr+=Go?Jn.titleMarginBottom:0,zr+=(to+=Jn.beforeBody.length+Jn.afterBody.length)*Pi,zr+=to?(to-1)*Jn.bodySpacing:0,zr+=bo?Jn.footerMarginTop:0,zr+=bo*Li,zr+=bo?(bo-1)*Jn.footerSpacing:0;var no=0,oa=function(Pa){po=Math.max(po,lo.measureText(Pa).width+no)};return lo.font=ge.fontString(Hn,Jn._titleFontStyle,Jn._titleFontFamily),ge.each(Jn.title,oa),lo.font=ge.fontString(Pi,Jn._bodyFontStyle,Jn._bodyFontFamily),ge.each(Jn.beforeBody.concat(Jn.afterBody),oa),no=Jn.displayColors?Pi+2:0,ge.each(qo,function(Pa){ge.each(Pa.before,oa),ge.each(Pa.lines,oa),ge.each(Pa.after,oa)}),no=0,lo.font=ge.fontString(Li,Jn._footerFontStyle,Jn._footerFontFamily),ge.each(Jn.footer,oa),{width:po+=2*Jn.xPadding,height:zr}}(this,Be),fr=Be,Jn=rn,lo=$t=function(fr,Jn){var lo,zr,po,qo,to,Go=fr._model,bo=fr._chart,Hn=fr._chart.chartArea,Pi="center",Li="center";Go.y<Jn.height?Li="top":Go.y>bo.height-Jn.height&&(Li="bottom");var no=(Hn.left+Hn.right)/2,oa=(Hn.top+Hn.bottom)/2;"center"===Li?(lo=function(bi){return bi<=no},zr=function(bi){return bi>no}):(lo=function(bi){return bi<=Jn.width/2},zr=function(bi){return bi>=bo.width-Jn.width/2}),po=function(bi){return bi+Jn.width+Go.caretSize+Go.caretPadding>bo.width},qo=function(bi){return bi-Jn.width-Go.caretSize-Go.caretPadding<0},to=function(bi){return bi<=oa?"top":"bottom"},lo(Go.x)?(Pi="left",po(Go.x)&&(Pi="center",Li=to(Go.y))):zr(Go.x)&&(Pi="right",qo(Go.x)&&(Pi="center",Li=to(Go.y)));var Pa=fr._options;return{xAlign:Pa.xAlign?Pa.xAlign:Pi,yAlign:Pa.yAlign?Pa.yAlign:Li}}(this,rn),zr=ye._chart,po=fr.x,qo=fr.y,Li=fr.caretSize+(Go=fr.caretPadding),no=fr.cornerRadius+Go,"right"===(Hn=lo.xAlign)?po-=Jn.width:"center"===Hn&&((po-=Jn.width/2)+Jn.width>zr.width&&(po=zr.width-Jn.width),po<0&&(po=0)),"top"===(Pi=lo.yAlign)?qo+=Li:qo-="bottom"===Pi?Jn.height+Li:Jn.height/2,"center"===Pi?"left"===Hn?po+=Li:"right"===Hn&&(po-=Li):"left"===Hn?po-=no:"right"===Hn&&(po+=no),zt={x:po,y:qo}}else Be.opacity=0;return Be.xAlign=$t.xAlign,Be.yAlign=$t.yAlign,Be.x=zt.x,Be.y=zt.y,Be.width=rn.width,Be.height=rn.height,Be.caretX=kn.x,Be.caretY=kn.y,ye._model=Be,g&&Se.custom&&Se.custom.call(ye,Be),ye},drawCaret:function(g,w){var T=this._chart.ctx,E=this.getCaretPosition(g,w,this._view);T.lineTo(E.x1,E.y1),T.lineTo(E.x2,E.y2),T.lineTo(E.x3,E.y3)},getCaretPosition:function(g,w,T){var P,E,U,j,q,$,ee=T.caretSize,he=T.cornerRadius,ye=T.xAlign,Se=T.yAlign,Re=g.x,Be=g.y,Xe=w.width,ct=w.height;if("center"===Se)q=Be+ct/2,"left"===ye?(E=(P=Re)-ee,U=P,j=q+ee,$=q-ee):(E=(P=Re+Xe)+ee,U=P,j=q-ee,$=q+ee);else if("left"===ye?(P=(E=Re+he+ee)-ee,U=E+ee):"right"===ye?(P=(E=Re+Xe-he-ee)-ee,U=E+ee):(P=(E=T.caretX)-ee,U=E+ee),"top"===Se)q=(j=Be)-ee,$=j;else{q=(j=Be+ct)+ee,$=j;var $t=U;U=P,P=$t}return{x1:P,x2:E,x3:U,y1:j,y2:q,y3:$}},drawTitle:function(g,w,T){var P,E,U,j=w.title,q=j.length;if(q){var $=Is(w.rtl,w.x,w.width);for(g.x=Ko(w,w._titleAlign),T.textAlign=$.textAlign(w._titleAlign),T.textBaseline="middle",P=w.titleFontSize,E=w.titleSpacing,T.fillStyle=w.titleFontColor,T.font=ge.fontString(P,w._titleFontStyle,w._titleFontFamily),U=0;U<q;++U)T.fillText(j[U],$.x(g.x),g.y+P/2),g.y+=P+E,U+1===q&&(g.y+=w.titleMarginBottom-E)}},drawBody:function(g,w,T){var P,E,U,j,q,$,ee,he,ye=w.bodyFontSize,Se=w.bodySpacing,Re=w._bodyAlign,Be=w.body,Xe=w.displayColors,ct=0,$t=Xe?Ko(w,"left"):0,zt=Is(w.rtl,w.x,w.width),rn=function(qn){T.fillText(qn,zt.x(g.x+ct),g.y+ye/2),g.y+=ye+Se},kn=zt.textAlign(Re);for(T.textAlign=Re,T.textBaseline="middle",T.font=ge.fontString(ye,w._bodyFontStyle,w._bodyFontFamily),g.x=Ko(w,kn),T.fillStyle=w.bodyFontColor,ge.each(w.beforeBody,rn),ct=Xe&&"right"!==kn?"center"===Re?ye/2+1:ye+2:0,q=0,ee=Be.length;q<ee;++q){for(P=Be[q],U=w.labelColors[q],T.fillStyle=E=w.labelTextColors[q],ge.each(P.before,rn),$=0,he=(j=P.lines).length;$<he;++$){if(Xe){var gn=zt.x($t);T.fillStyle=w.legendColorBackground,T.fillRect(zt.leftForLtr(gn,ye),g.y,ye,ye),T.lineWidth=1,T.strokeStyle=U.borderColor,T.strokeRect(zt.leftForLtr(gn,ye),g.y,ye,ye),T.fillStyle=U.backgroundColor,T.fillRect(zt.leftForLtr(zt.xPlus(gn,1),ye-2),g.y+1,ye-2,ye-2),T.fillStyle=E}rn(j[$])}ge.each(P.after,rn)}ct=0,ge.each(w.afterBody,rn),g.y-=Se},drawFooter:function(g,w,T){var P,E,U=w.footer,j=U.length;if(j){var q=Is(w.rtl,w.x,w.width);for(g.x=Ko(w,w._footerAlign),g.y+=w.footerMarginTop,T.textAlign=q.textAlign(w._footerAlign),T.textBaseline="middle",P=w.footerFontSize,T.fillStyle=w.footerFontColor,T.font=ge.fontString(P,w._footerFontStyle,w._footerFontFamily),E=0;E<j;++E)T.fillText(U[E],q.x(g.x),g.y+P/2),g.y+=P+w.footerSpacing}},drawBackground:function(g,w,T,P){T.fillStyle=w.backgroundColor,T.strokeStyle=w.borderColor,T.lineWidth=w.borderWidth;var E=w.xAlign,U=w.yAlign,j=g.x,q=g.y,$=P.width,ee=P.height,he=w.cornerRadius;T.beginPath(),T.moveTo(j+he,q),"top"===U&&this.drawCaret(g,P),T.lineTo(j+$-he,q),T.quadraticCurveTo(j+$,q,j+$,q+he),"center"===U&&"right"===E&&this.drawCaret(g,P),T.lineTo(j+$,q+ee-he),T.quadraticCurveTo(j+$,q+ee,j+$-he,q+ee),"bottom"===U&&this.drawCaret(g,P),T.lineTo(j+he,q+ee),T.quadraticCurveTo(j,q+ee,j,q+ee-he),"center"===U&&"left"===E&&this.drawCaret(g,P),T.lineTo(j,q+he),T.quadraticCurveTo(j,q,j+he,q),T.closePath(),T.fill(),w.borderWidth>0&&T.stroke()},draw:function(){var g=this._chart.ctx,w=this._view;if(0!==w.opacity){var T={width:w.width,height:w.height},P={x:w.x,y:w.y},E=Math.abs(w.opacity<.001)?0:w.opacity;this._options.enabled&&(w.title.length||w.beforeBody.length||w.body.length||w.afterBody.length||w.footer.length)&&(g.save(),g.globalAlpha=E,this.drawBackground(P,w,g,T),P.y+=w.yPadding,ge.rtl.overrideTextDirection(g,w.textDirection),this.drawTitle(P,w,g),this.drawBody(P,w,g),this.drawFooter(P,w,g),ge.rtl.restoreTextDirection(g,w.textDirection),g.restore())}},handleEvent:function(g){var w,T=this,P=T._options;return T._lastActive=T._lastActive||[],"mouseout"===g.type?T._active=[]:(T._active=T._chart.getElementsAtEventForMode(g,P.mode,P),P.reverse&&T._active.reverse()),(w=!ge.arrayEquals(T._active,T._lastActive))&&(T._lastActive=T._active,(P.enabled||P.custom)&&(T._eventPosition={x:g.x,y:g.y},T.update(!0),T.pivot())),w}}),el=ta;el.positioners=hs;var wa=ge.valueOrDefault;function Xc(){return ge.merge(Object.create(null),[].slice.call(arguments),{merger:function(g,w,T,P){if("xAxes"===g||"yAxes"===g){var E,U,j,q=T[g].length;for(w[g]||(w[g]=[]),E=0;E<q;++E)U=wa((j=T[g][E]).type,"xAxes"===g?"category":"linear"),E>=w[g].length&&w[g].push({}),ge.merge(w[g][E],!w[g][E].type||j.type&&j.type!==w[g][E].type?[vl.getScaleDefaults(U),j]:j)}else ge._merger(g,w,T,P)}})}function qc(){return ge.merge(Object.create(null),[].slice.call(arguments),{merger:function(g,w,T,P){var E=w[g]||Object.create(null),U=T[g];"scales"===g?w[g]=Xc(E,U):"scale"===g?w[g]=ge.merge(E,[vl.getScaleDefaults(U.type),U]):ge._merger(g,w,T,P)}})}function Uf(g){var w=g.options;ge.each(g.scales,function(T){ti.removeBox(g,T)}),w=qc(Tn.global,Tn[g.config.type],w),g.options=g.config.options=w,g.ensureScalesHaveIDs(),g.buildOrUpdateScales(),g.tooltip._options=w.tooltips,g.tooltip.initialize()}function yl(g,w,T){var P,E=function(U){return U.id===P};do{P=w+T++}while(ge.findIndex(g,E)>=0);return P}function iu(g){return"top"===g||"bottom"===g}function ps(g,w){return function(T,P){return T[g]===P[g]?T[w]-P[w]:T[g]-P[g]}}Tn._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var da=function(g,w){return this.construct(g,w),this};ge.extend(da.prototype,{construct:function(g,w){var q,$,T=this;($=(q=(q=w)||Object.create(null)).data=q.data||{}).datasets=$.datasets||[],$.labels=$.labels||[],q.options=qc(Tn.global,Tn[q.type],q.options||{});var P=zi.acquireContext(g,w=q),E=P&&P.canvas,U=E&&E.height,j=E&&E.width;T.id=ge.uid(),T.ctx=P,T.canvas=E,T.config=w,T.width=j,T.height=U,T.aspectRatio=U?j/U:null,T.options=w.options,T._bufferedRender=!1,T._layers=[],T.chart=T,T.controller=T,da.instances[T.id]=T,Object.defineProperty(T,"data",{get:function(){return T.config.data},set:function(q){T.config.data=q}}),P&&E?(T.initialize(),T.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var g=this;return so.notify(g,"beforeInit"),ge.retinaScale(g,g.options.devicePixelRatio),g.bindEvents(),g.options.responsive&&g.resize(!0),g.initToolTip(),so.notify(g,"afterInit"),g},clear:function(){return ge.canvas.clear(this),this},stop:function(){return Wa.cancelAnimation(this),this},resize:function(g){var w=this,T=w.options,P=w.canvas,E=T.maintainAspectRatio&&w.aspectRatio||null,U=Math.max(0,Math.floor(ge.getMaximumWidth(P))),j=Math.max(0,Math.floor(E?U/E:ge.getMaximumHeight(P)));if((w.width!==U||w.height!==j)&&(P.width=w.width=U,P.height=w.height=j,P.style.width=U+"px",P.style.height=j+"px",ge.retinaScale(w,T.devicePixelRatio),!g)){var q={width:U,height:j};so.notify(w,"resize",[q]),T.onResize&&T.onResize(w,q),w.stop(),w.update({duration:T.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var g=this.options,w=g.scales||{},T=g.scale;ge.each(w.xAxes,function(P,E){P.id||(P.id=yl(w.xAxes,"x-axis-",E))}),ge.each(w.yAxes,function(P,E){P.id||(P.id=yl(w.yAxes,"y-axis-",E))}),T&&(T.id=T.id||"scale")},buildOrUpdateScales:function(){var g=this,w=g.options,T=g.scales||{},P=[],E=Object.keys(T).reduce(function(U,j){return U[j]=!1,U},{});w.scales&&(P=P.concat((w.scales.xAxes||[]).map(function(U){return{options:U,dtype:"category",dposition:"bottom"}}),(w.scales.yAxes||[]).map(function(U){return{options:U,dtype:"linear",dposition:"left"}}))),w.scale&&P.push({options:w.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),ge.each(P,function(U){var j=U.options,q=j.id,$=wa(j.type,U.dtype);iu(j.position)!==iu(U.dposition)&&(j.position=U.dposition),E[q]=!0;var ee=null;if(q in T&&T[q].type===$)(ee=T[q]).options=j,ee.ctx=g.ctx,ee.chart=g;else{var he=vl.getScaleConstructor($);if(!he)return;ee=new he({id:q,type:$,options:j,ctx:g.ctx,chart:g}),T[ee.id]=ee}ee.mergeTicksOptions(),U.isDefault&&(g.scale=ee)}),ge.each(E,function(U,j){U||delete T[j]}),g.scales=T,vl.addScalesToLayout(this)},buildOrUpdateControllers:function(){var g,w,T=this,P=[],E=T.data.datasets;for(g=0,w=E.length;g<w;g++){var U=E[g],j=T.getDatasetMeta(g),q=U.type||T.config.type;if(j.type&&j.type!==q&&(T.destroyDatasetMeta(g),j=T.getDatasetMeta(g)),j.type=q,j.order=U.order||0,j.index=g,j.controller)j.controller.updateIndex(g),j.controller.linkScales();else{var $=In[j.type];if(void 0===$)throw new Error('"'+j.type+'" is not a chart type.');j.controller=new $(T,g),P.push(j.controller)}}return P},resetElements:function(){var g=this;ge.each(g.data.datasets,function(w,T){g.getDatasetMeta(T).controller.reset()},g)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(g){var w,T,P=this;if(g&&"object"==typeof g||(g={duration:g,lazy:arguments[1]}),Uf(P),so._invalidate(P),!1!==so.notify(P,"beforeUpdate")){P.tooltip._data=P.data;var E=P.buildOrUpdateControllers();for(w=0,T=P.data.datasets.length;w<T;w++)P.getDatasetMeta(w).controller.buildOrUpdateElements();P.updateLayout(),P.options.animation&&P.options.animation.duration&&ge.each(E,function(U){U.reset()}),P.updateDatasets(),P.tooltip.initialize(),P.lastActive=[],so.notify(P,"afterUpdate"),P._layers.sort(ps("z","_idx")),P._bufferedRender?P._bufferedRequest={duration:g.duration,easing:g.easing,lazy:g.lazy}:P.render(g)}},updateLayout:function(){var g=this;!1!==so.notify(g,"beforeLayout")&&(ti.update(this,this.width,this.height),g._layers=[],ge.each(g.boxes,function(w){w._configure&&w._configure(),g._layers.push.apply(g._layers,w._layers())},g),g._layers.forEach(function(w,T){w._idx=T}),so.notify(g,"afterScaleUpdate"),so.notify(g,"afterLayout"))},updateDatasets:function(){if(!1!==so.notify(this,"beforeDatasetsUpdate")){for(var g=0,w=this.data.datasets.length;g<w;++g)this.updateDataset(g);so.notify(this,"afterDatasetsUpdate")}},updateDataset:function(g){var w=this.getDatasetMeta(g),T={meta:w,index:g};!1!==so.notify(this,"beforeDatasetUpdate",[T])&&(w.controller._update(),so.notify(this,"afterDatasetUpdate",[T]))},render:function(g){var w=this;g&&"object"==typeof g||(g={duration:g,lazy:arguments[1]});var T=w.options.animation,P=wa(g.duration,T&&T.duration),E=g.lazy;if(!1!==so.notify(w,"beforeRender")){var U=function(q){so.notify(w,"afterRender"),ge.callback(T&&T.onComplete,[q],w)};if(T&&P){var j=new Ma({numSteps:P/16.66,easing:g.easing||T.easing,render:function(q,$){var he=$.currentStep,ye=he/$.numSteps;q.draw((0,ge.easing.effects[$.easing])(ye),ye,he)},onAnimationProgress:T.onProgress,onAnimationComplete:U});Wa.addAnimation(w,j,P,E)}else w.draw(),U(new Ma({numSteps:0,chart:w}));return w}},draw:function(g){var w,T,P=this;if(P.clear(),ge.isNullOrUndef(g)&&(g=1),P.transition(g),!(P.width<=0||P.height<=0)&&!1!==so.notify(P,"beforeDraw",[g])){for(T=P._layers,w=0;w<T.length&&T[w].z<=0;++w)T[w].draw(P.chartArea);for(P.drawDatasets(g);w<T.length;++w)T[w].draw(P.chartArea);P._drawTooltip(g),so.notify(P,"afterDraw",[g])}},transition:function(g){for(var w=0,T=(this.data.datasets||[]).length;w<T;++w)this.isDatasetVisible(w)&&this.getDatasetMeta(w).controller.transition(g);this.tooltip.transition(g)},_getSortedDatasetMetas:function(g){var w,T,P=[];for(w=0,T=(this.data.datasets||[]).length;w<T;++w)g&&!this.isDatasetVisible(w)||P.push(this.getDatasetMeta(w));return P.sort(ps("order","index")),P},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(g){var w,T;if(!1!==so.notify(this,"beforeDatasetsDraw",[g])){for(T=(w=this._getSortedVisibleDatasetMetas()).length-1;T>=0;--T)this.drawDataset(w[T],g);so.notify(this,"afterDatasetsDraw",[g])}},drawDataset:function(g,w){var T={meta:g,index:g.index,easingValue:w};!1!==so.notify(this,"beforeDatasetDraw",[T])&&(g.controller.draw(w),so.notify(this,"afterDatasetDraw",[T]))},_drawTooltip:function(g){var w=this.tooltip,T={tooltip:w,easingValue:g};!1!==so.notify(this,"beforeTooltipDraw",[T])&&(w.draw(),so.notify(this,"afterTooltipDraw",[T]))},getElementAtEvent:function(g){return ds.modes.single(this,g)},getElementsAtEvent:function(g){return ds.modes.label(this,g,{intersect:!0})},getElementsAtXAxis:function(g){return ds.modes["x-axis"](this,g,{intersect:!0})},getElementsAtEventForMode:function(g,w,T){var P=ds.modes[w];return"function"==typeof P?P(this,g,T):[]},getDatasetAtEvent:function(g){return ds.modes.dataset(this,g,{intersect:!0})},getDatasetMeta:function(g){var w=this.data.datasets[g];w._meta||(w._meta={});var T=w._meta[this.id];return T||(T=w._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:w.order||0,index:g}),T},getVisibleDatasetCount:function(){for(var g=0,w=0,T=this.data.datasets.length;w<T;++w)this.isDatasetVisible(w)&&g++;return g},isDatasetVisible:function(g){var w=this.getDatasetMeta(g);return"boolean"==typeof w.hidden?!w.hidden:!this.data.datasets[g].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(g){var w=this.id,T=this.data.datasets[g],P=T._meta&&T._meta[w];P&&(P.controller.destroy(),delete T._meta[w])},destroy:function(){var g,w,T=this,P=T.canvas;for(T.stop(),g=0,w=T.data.datasets.length;g<w;++g)T.destroyDatasetMeta(g);P&&(T.unbindEvents(),ge.canvas.clear(T),zi.releaseContext(T.ctx),T.canvas=null,T.ctx=null),so.notify(T,"destroy"),delete da.instances[T.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var g=this;g.tooltip=new el({_chart:g,_chartInstance:g,_data:g.data,_options:g.options.tooltips},g)},bindEvents:function(){var g=this,w=g._listeners={},T=function(){g.eventHandler.apply(g,arguments)};ge.each(g.options.events,function(P){zi.addEventListener(g,P,T),w[P]=T}),g.options.responsive&&(T=function(){g.resize()},zi.addEventListener(g,"resize",T),w.resize=T)},unbindEvents:function(){var g=this,w=g._listeners;w&&(delete g._listeners,ge.each(w,function(T,P){zi.removeEventListener(g,P,T)}))},updateHoverStyle:function(g,w,T){var P,E,U,j=T?"set":"remove";for(E=0,U=g.length;E<U;++E)(P=g[E])&&this.getDatasetMeta(P._datasetIndex).controller[j+"HoverStyle"](P);"dataset"===w&&this.getDatasetMeta(g[0]._datasetIndex).controller["_"+j+"DatasetHoverStyle"]()},eventHandler:function(g){var w=this,T=w.tooltip;if(!1!==so.notify(w,"beforeEvent",[g])){w._bufferedRender=!0,w._bufferedRequest=null;var P=w.handleEvent(g);T&&(P=T._start?T.handleEvent(g):P|T.handleEvent(g)),so.notify(w,"afterEvent",[g]);var E=w._bufferedRequest;return E?w.render(E):P&&!w.animating&&(w.stop(),w.render({duration:w.options.hover.animationDuration,lazy:!0})),w._bufferedRender=!1,w._bufferedRequest=null,w}},handleEvent:function(g){var w,T=this,P=T.options||{},E=P.hover;return T.lastActive=T.lastActive||[],T.active="mouseout"===g.type?[]:T.getElementsAtEventForMode(g,E.mode,E),ge.callback(P.onHover||P.hover.onHover,[g.native,T.active],T),"mouseup"!==g.type&&"click"!==g.type||P.onClick&&P.onClick.call(T,g.native,T.active),T.lastActive.length&&T.updateHoverStyle(T.lastActive,E.mode,!1),T.active.length&&E.mode&&T.updateHoverStyle(T.active,E.mode,!0),w=!ge.arrayEquals(T.active,T.lastActive),T.lastActive=T.active,w}}),da.instances={};var Qr=da;function yo(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function bl(g){this.options=g||{}}da.Controller=da,da.types={},ge.configMerge=qc,ge.scaleMerge=Xc,ge.extend(bl.prototype,{formats:yo,parse:yo,format:yo,add:yo,diff:yo,startOf:yo,endOf:yo,_create:function(g){return g}}),bl.override=function(g){ge.extend(bl.prototype,g)};var Ya={_date:bl},Nl={formatters:{values:function(g){return ge.isArray(g)?g:""+g},linear:function(g,w,T){var P=T.length>3?T[2]-T[1]:T[1]-T[0];Math.abs(P)>1&&g!==Math.floor(g)&&(P=g-Math.floor(g));var E=ge.log10(Math.abs(P)),U="";if(0!==g)if(Math.max(Math.abs(T[0]),Math.abs(T[T.length-1]))<1e-4){var j=ge.log10(Math.abs(g)),q=Math.floor(j)-Math.floor(E);q=Math.max(Math.min(q,20),0),U=g.toExponential(q)}else{var $=-1*Math.floor(E);$=Math.max(Math.min($,20),0),U=g.toFixed($)}else U="0";return U},logarithmic:function(g,w,T){var P=g/Math.pow(10,Math.floor(ge.log10(g)));return 0===g?"0":1===P||2===P||5===P||0===w||w===T.length-1?g.toExponential():""}}},au=ge.isArray,tl=ge.isNullOrUndef,Ls=ge.valueOrDefault,nl=ge.valueAtIndexOrDefault;function Xa(g,w,T){var P,E=g.getTicks().length,U=Math.min(w,E-1),j=g.getPixelForTick(U),q=g._startPixel,$=g._endPixel;if(!(T&&(P=1===E?Math.max(j-q,$-j):0===w?(g.getPixelForTick(1)-j)/2:(j-g.getPixelForTick(U-1))/2,(j+=U<w?P:-P)<q-1e-6||j>$+1e-6)))return j}function ki(g){return g.drawTicks?g.tickMarkLength:0}function Vi(g){var w,T;return g.display?(w=ge.options._parseFont(g),T=ge.options.toPadding(g.padding),w.lineHeight+T.height):0}function rl(g,w){return ge.extend(ge.options._parseFont({fontFamily:Ls(w.fontFamily,g.fontFamily),fontSize:Ls(w.fontSize,g.fontSize),fontStyle:Ls(w.fontStyle,g.fontStyle),lineHeight:Ls(w.lineHeight,g.lineHeight)}),{color:ge.options.resolve([w.fontColor,g.fontColor,Tn.global.defaultFontColor])})}function Rs(g){var w=rl(g,g.minor);return{minor:w,major:g.major.enabled?rl(g,g.major):w}}function ol(g){var w,T,P,E=[];for(T=0,P=g.length;T<P;++T)void 0!==(w=g[T])._index&&E.push(w);return E}function vc(g,w,T,P){var E,U,j,q,$=Ls(T,0),ee=Math.min(Ls(P,g.length),g.length),he=0;for(w=Math.ceil(w),P&&(w=(E=P-T)/Math.floor(E/w)),q=$;q<0;)he++,q=Math.round($+he*w);for(U=Math.max($,0);U<ee;U++)j=g[U],U===q?(j._index=U,he++,q=Math.round($+he*w)):delete j.label}Tn._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Nl.formatters.values,minor:{},major:{}}});var su=ko.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var g=this.chart.data;return this.options.labels||(this.isHorizontal()?g.xLabels:g.yLabels)||g.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){ge.callback(this.options.beforeUpdate,[this])},update:function(g,w,T){var P,E,U,j,q,$=this,ee=$.options.ticks,he=ee.sampleSize;if($.beforeUpdate(),$.maxWidth=g,$.maxHeight=w,$.margins=ge.extend({left:0,right:0,top:0,bottom:0},T),$._ticks=null,$.ticks=null,$._labelSizes=null,$._maxLabelLines=0,$.longestLabelWidth=0,$.longestTextCache=$.longestTextCache||{},$._gridLineItems=null,$._labelItems=null,$.beforeSetDimensions(),$.setDimensions(),$.afterSetDimensions(),$.beforeDataLimits(),$.determineDataLimits(),$.afterDataLimits(),$.beforeBuildTicks(),j=$.buildTicks()||[],(!(j=$.afterBuildTicks(j)||j)||!j.length)&&$.ticks)for(j=[],P=0,E=$.ticks.length;P<E;++P)j.push({value:$.ticks[P],major:!1});return $._ticks=j,U=$._convertTicksToLabels((q=he<j.length)?function(ye,Se){for(var Re=[],Be=ye.length/Se,Xe=0,ct=ye.length;Xe<ct;Xe+=Be)Re.push(ye[Math.floor(Xe)]);return Re}(j,he):j),$._configure(),$.beforeCalculateTickRotation(),$.calculateTickRotation(),$.afterCalculateTickRotation(),$.beforeFit(),$.fit(),$.afterFit(),$._ticksToDraw=ee.display&&(ee.autoSkip||"auto"===ee.source)?$._autoSkip(j):j,q&&(U=$._convertTicksToLabels($._ticksToDraw)),$.ticks=U,$.afterUpdate(),$.minSize},_configure:function(){var g,w,T=this,P=T.options.ticks.reverse;T.isHorizontal()?(g=T.left,w=T.right):(g=T.top,w=T.bottom,P=!P),T._startPixel=g,T._endPixel=w,T._reversePixels=P,T._length=w-g},afterUpdate:function(){ge.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){ge.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var g=this;g.isHorizontal()?(g.width=g.maxWidth,g.left=0,g.right=g.width):(g.height=g.maxHeight,g.top=0,g.bottom=g.height),g.paddingLeft=0,g.paddingTop=0,g.paddingRight=0,g.paddingBottom=0},afterSetDimensions:function(){ge.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){ge.callback(this.options.beforeDataLimits,[this])},determineDataLimits:ge.noop,afterDataLimits:function(){ge.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){ge.callback(this.options.beforeBuildTicks,[this])},buildTicks:ge.noop,afterBuildTicks:function(g){var w=this;return au(g)&&g.length?ge.callback(w.options.afterBuildTicks,[w,g]):(w.ticks=ge.callback(w.options.afterBuildTicks,[w,w.ticks])||w.ticks,g)},beforeTickToLabelConversion:function(){ge.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var g=this.options.ticks;this.ticks=this.ticks.map(g.userCallback||g.callback,this)},afterTickToLabelConversion:function(){ge.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){ge.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var g,w,T,P,E,U,j,q=this,$=q.options,ee=$.ticks,he=q.getTicks().length,ye=ee.minRotation||0,Se=ee.maxRotation,Re=ye;!q._isVisible()||!ee.display||ye>=Se||he<=1||!q.isHorizontal()?q.labelRotation=ye:(w=(g=q._getLabelSizes()).widest.width,T=g.highest.height-g.highest.offset,P=Math.min(q.maxWidth,q.chart.width-w),w+6>(E=$.offset?q.maxWidth/he:P/(he-1))&&(E=P/(he-($.offset?.5:1)),U=q.maxHeight-ki($.gridLines)-ee.padding-Vi($.scaleLabel),j=Math.sqrt(w*w+T*T),Re=ge.toDegrees(Math.min(Math.asin(Math.min((g.highest.height+6)/E,1)),Math.asin(Math.min(U/j,1))-Math.asin(T/j))),Re=Math.max(ye,Math.min(Se,Re))),q.labelRotation=Re)},afterCalculateTickRotation:function(){ge.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){ge.callback(this.options.beforeFit,[this])},fit:function(){var g=this,w=g.minSize={width:0,height:0},T=g.chart,P=g.options,E=P.ticks,U=P.scaleLabel,j=P.gridLines,q=g._isVisible(),$="bottom"===P.position,ee=g.isHorizontal();if(ee?w.width=g.maxWidth:q&&(w.width=ki(j)+Vi(U)),ee?q&&(w.height=ki(j)+Vi(U)):w.height=g.maxHeight,E.display&&q){var he=Rs(E),ye=g._getLabelSizes(),Se=ye.first,Re=ye.last,Be=ye.widest,Xe=ye.highest,ct=.4*he.minor.lineHeight,$t=E.padding;if(ee){var zt=0!==g.labelRotation,rn=ge.toRadians(g.labelRotation),kn=Math.cos(rn),gn=Math.sin(rn);w.height=Math.min(g.maxHeight,w.height+(gn*Be.width+kn*(Xe.height-(zt?Xe.offset:0))+(zt?0:ct))+$t);var Sr,fr,Jn=g.getPixelForTick(0)-g.left,lo=g.right-g.getPixelForTick(g.getTicks().length-1);zt?(Sr=$?kn*Se.width+gn*Se.offset:gn*(Se.height-Se.offset),fr=$?gn*(Re.height-Re.offset):kn*Re.width+gn*Re.offset):(Sr=Se.width/2,fr=Re.width/2),g.paddingLeft=Math.max((Sr-Jn)*g.width/(g.width-Jn),0)+3,g.paddingRight=Math.max((fr-lo)*g.width/(g.width-lo),0)+3}else w.width=Math.min(g.maxWidth,w.width+(E.mirror?0:Be.width+$t+ct)),g.paddingTop=Se.height/2,g.paddingBottom=Re.height/2}g.handleMargins(),ee?(g.width=g._length=T.width-g.margins.left-g.margins.right,g.height=w.height):(g.width=w.width,g.height=g._length=T.height-g.margins.top-g.margins.bottom)},handleMargins:function(){var g=this;g.margins&&(g.margins.left=Math.max(g.paddingLeft,g.margins.left),g.margins.top=Math.max(g.paddingTop,g.margins.top),g.margins.right=Math.max(g.paddingRight,g.margins.right),g.margins.bottom=Math.max(g.paddingBottom,g.margins.bottom))},afterFit:function(){ge.callback(this.options.afterFit,[this])},isHorizontal:function(){var g=this.options.position;return"top"===g||"bottom"===g},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(g){if(tl(g))return NaN;if(("number"==typeof g||g instanceof Number)&&!isFinite(g))return NaN;if(g)if(this.isHorizontal()){if(void 0!==g.x)return this.getRightValue(g.x)}else if(void 0!==g.y)return this.getRightValue(g.y);return g},_convertTicksToLabels:function(g){var w,T,P,E=this;for(E.ticks=g.map(function(U){return U.value}),E.beforeTickToLabelConversion(),w=E.convertTicksToLabels(g)||E.ticks,E.afterTickToLabelConversion(),T=0,P=g.length;T<P;++T)g[T].label=w[T];return w},_getLabelSizes:function(){var g=this,w=g._labelSizes;return w||(g._labelSizes=w=function Eo(g,w,T,P){var E,U,j,q,$,ee,he,ye,Se,Re,Be,Xe,ct,Jn,$t=T.length,zt=[],rn=[],kn=[],gn=0,qn=0;for(E=0;E<$t;++E){if(q=T[E].label,g.font=ee=($=T[E].major?w.major:w.minor).string,he=P[ee]=P[ee]||{data:{},gc:[]},ye=$.lineHeight,Se=Re=0,tl(q)||au(q)){if(au(q))for(U=0,j=q.length;U<j;++U)tl(Be=q[U])||au(Be)||(Se=ge.measureText(g,he.data,he.gc,Se,Be),Re+=ye)}else Se=ge.measureText(g,he.data,he.gc,Se,q),Re=ye;zt.push(Se),rn.push(Re),kn.push(ye/2),gn=Math.max(Se,gn),qn=Math.max(Re,qn)}function Sr(fr){return{width:zt[fr]||0,height:rn[fr]||0,offset:kn[fr]||0}}return Jn=$t,ge.each(P,function(lo){var zr,po=lo.gc,qo=po.length/2;if(qo>Jn){for(zr=0;zr<qo;++zr)delete lo.data[po[zr]];po.splice(0,qo)}}),Xe=zt.indexOf(gn),ct=rn.indexOf(qn),{first:Sr(0),last:Sr($t-1),widest:Sr(Xe),highest:Sr(ct)}}(g.ctx,Rs(g.options.ticks),g.getTicks(),g.longestTextCache),g.longestLabelWidth=w.widest.width),w},_parseValue:function(g){var w,T,P,E;return au(g)?(w=+this.getRightValue(g[0]),T=+this.getRightValue(g[1]),P=Math.min(w,T),E=Math.max(w,T)):(w=void 0,T=g=+this.getRightValue(g),P=g,E=g),{min:P,max:E,start:w,end:T}},_getScaleLabel:function(g){var w=this._parseValue(g);return void 0!==w.start?"["+w.start+", "+w.end+"]":+this.getRightValue(g)},getLabelForIndex:ge.noop,getPixelForValue:ge.noop,getValueForPixel:ge.noop,getPixelForTick:function(g){var w=this.options.offset,T=this._ticks.length,P=1/Math.max(T-(w?0:1),1);return g<0||g>T-1?null:this.getPixelForDecimal(g*P+(w?P/2:0))},getPixelForDecimal:function(g){return this._reversePixels&&(g=1-g),this._startPixel+g*this._length},getDecimalForPixel:function(g){var w=(g-this._startPixel)/this._length;return this._reversePixels?1-w:w},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var g=this.min,w=this.max;return this.beginAtZero?0:g<0&&w<0?w:g>0&&w>0?g:0},_autoSkip:function(g){var w,T,P,E,U=this.options.ticks,q=U.maxTicksLimit||this._length/this._tickSize()+1,$=U.major.enabled?function(Se){var Re,Be,Xe=[];for(Re=0,Be=Se.length;Re<Be;Re++)Se[Re].major&&Xe.push(Re);return Xe}(g):[],ee=$.length,he=$[0],ye=$[ee-1];if(ee>q)return function(Se,Re,Be){var Xe,ct,$t=0,zt=Re[0];for(Be=Math.ceil(Be),Xe=0;Xe<Se.length;Xe++)ct=Se[Xe],Xe===zt?(ct._index=Xe,zt=Re[++$t*Be]):delete ct.label}(g,$,ee/q),ol(g);if(P=function(Se,Re,Be,Xe){var ct,$t,zt,rn,kn=function(qn){var Sr,fr,Jn=qn.length;if(Jn<2)return!1;for(fr=qn[0],Sr=1;Sr<Jn;++Sr)if(qn[Sr]-qn[Sr-1]!==fr)return!1;return fr}(Se),gn=(Re.length-1)/Xe;if(!kn)return Math.max(gn,1);for(zt=0,rn=(ct=ge.math._factorize(kn)).length-1;zt<rn;zt++)if(($t=ct[zt])>gn)return $t;return Math.max(gn,1)}($,g,0,q),ee>0){for(w=0,T=ee-1;w<T;w++)vc(g,P,$[w],$[w+1]);return vc(g,P,ge.isNullOrUndef(E=ee>1?(ye-he)/(ee-1):null)?0:he-E,he),vc(g,P,ye,ge.isNullOrUndef(E)?g.length:ye+E),ol(g)}return vc(g,P),ol(g)},_tickSize:function(){var g=this.options.ticks,w=ge.toRadians(this.labelRotation),T=Math.abs(Math.cos(w)),P=Math.abs(Math.sin(w)),E=this._getLabelSizes(),U=g.autoSkipPadding||0,j=E?E.widest.width+U:0,q=E?E.highest.height+U:0;return this.isHorizontal()?q*T>j*P?j/T:q/P:q*P<j*T?q/T:j/P},_isVisible:function(){var g,w,T,P=this.chart,E=this.options.display;if("auto"!==E)return!!E;for(g=0,w=P.data.datasets.length;g<w;++g)if(P.isDatasetVisible(g)&&((T=P.getDatasetMeta(g)).xAxisID===this.id||T.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(g){var w,T,P,E,U,j,q,$,ee,he,ye,Se,Re,Be,Xe,ct,$t,zt=this,rn=zt.chart,kn=zt.options,gn=kn.gridLines,qn=kn.position,Sr=gn.offsetGridLines,fr=zt.isHorizontal(),Jn=zt._ticksToDraw,lo=Jn.length+(Sr?1:0),zr=ki(gn),po=[],qo=gn.drawBorder?nl(gn.lineWidth,0,0):0,to=qo/2,Go=ge._alignPixel,bo=function(Hn){return Go(rn,Hn,qo)};for("top"===qn?(w=bo(zt.bottom),q=zt.bottom-zr,ee=w-to,ye=bo(g.top)+to,Re=g.bottom):"bottom"===qn?(w=bo(zt.top),ye=g.top,Re=bo(g.bottom)-to,q=w+to,ee=zt.top+zr):"left"===qn?(w=bo(zt.right),j=zt.right-zr,$=w-to,he=bo(g.left)+to,Se=g.right):(w=bo(zt.left),he=g.left,Se=bo(g.right)-to,j=w+to,$=zt.left+zr),T=0;T<lo;++T)tl((P=Jn[T]||{}).label)&&T<Jn.length||(T===zt.zeroLineIndex&&kn.offset===Sr?(Be=gn.zeroLineWidth,Xe=gn.zeroLineColor,ct=gn.zeroLineBorderDash||[],$t=gn.zeroLineBorderDashOffset||0):(Be=nl(gn.lineWidth,T,1),Xe=nl(gn.color,T,"rgba(0,0,0,0.1)"),ct=gn.borderDash||[],$t=gn.borderDashOffset||0),void 0!==(E=Xa(zt,P._index||T,Sr))&&(U=Go(rn,E,Be),fr?j=$=he=Se=U:q=ee=ye=Re=U,po.push({tx1:j,ty1:q,tx2:$,ty2:ee,x1:he,y1:ye,x2:Se,y2:Re,width:Be,color:Xe,borderDash:ct,borderDashOffset:$t})));return po.ticksLength=lo,po.borderValue=w,po},_computeLabelItems:function(){var g,w,T,P,E,U,j,q,$,ee,he,ye,Se=this,Re=Se.options,Be=Re.ticks,Xe=Re.position,ct=Be.mirror,$t=Se.isHorizontal(),zt=Se._ticksToDraw,rn=Rs(Be),kn=Be.padding,gn=ki(Re.gridLines),qn=-ge.toRadians(Se.labelRotation),Sr=[];for("top"===Xe?(U=Se.bottom-gn-kn,j=qn?"left":"center"):"bottom"===Xe?(U=Se.top+gn+kn,j=qn?"right":"center"):"left"===Xe?(E=Se.right-(ct?0:gn)-kn,j=ct?"left":"right"):(E=Se.left+(ct?0:gn)+kn,j=ct?"right":"left"),g=0,w=zt.length;g<w;++g)P=(T=zt[g]).label,tl(P)||(q=Se.getPixelForTick(T._index||g)+Be.labelOffset,ee=($=T.major?rn.major:rn.minor).lineHeight,he=au(P)?P.length:1,$t?(E=q,ye="top"===Xe?((qn?1:.5)-he)*ee:(qn?0:.5)*ee):(U=q,ye=(1-he)*ee/2),Sr.push({x:E,y:U,rotation:qn,label:P,font:$,textOffset:ye,textAlign:j}));return Sr},_drawGrid:function(g){var w=this,T=w.options.gridLines;if(T.display){var P,E,U,j,q,$=w.ctx,ee=w.chart,he=ge._alignPixel,ye=T.drawBorder?nl(T.lineWidth,0,0):0,Se=w._gridLineItems||(w._gridLineItems=w._computeGridLineItems(g));for(U=0,j=Se.length;U<j;++U)P=(q=Se[U]).width,E=q.color,P&&E&&($.save(),$.lineWidth=P,$.strokeStyle=E,$.setLineDash&&($.setLineDash(q.borderDash),$.lineDashOffset=q.borderDashOffset),$.beginPath(),T.drawTicks&&($.moveTo(q.tx1,q.ty1),$.lineTo(q.tx2,q.ty2)),T.drawOnChartArea&&($.moveTo(q.x1,q.y1),$.lineTo(q.x2,q.y2)),$.stroke(),$.restore());if(ye){var Re,Be,Xe,ct,$t=ye,zt=nl(T.lineWidth,Se.ticksLength-1,1),rn=Se.borderValue;w.isHorizontal()?(Re=he(ee,w.left,$t)-$t/2,Be=he(ee,w.right,zt)+zt/2,Xe=ct=rn):(Xe=he(ee,w.top,$t)-$t/2,ct=he(ee,w.bottom,zt)+zt/2,Re=Be=rn),$.lineWidth=ye,$.strokeStyle=nl(T.color,0),$.beginPath(),$.moveTo(Re,Xe),$.lineTo(Be,ct),$.stroke()}}},_drawLabels:function(){var g=this;if(g.options.ticks.display){var w,T,P,E,U,j,q,$,ee=g.ctx,he=g._labelItems||(g._labelItems=g._computeLabelItems());for(w=0,P=he.length;w<P;++w){if(j=(U=he[w]).font,ee.save(),ee.translate(U.x,U.y),ee.rotate(U.rotation),ee.font=j.string,ee.fillStyle=j.color,ee.textBaseline="middle",ee.textAlign=U.textAlign,$=U.textOffset,au(q=U.label))for(T=0,E=q.length;T<E;++T)ee.fillText(""+q[T],0,$),$+=j.lineHeight;else ee.fillText(q,0,$);ee.restore()}}},_drawTitle:function(){var g=this,w=g.ctx,T=g.options,P=T.scaleLabel;if(P.display){var E,U,j=Ls(P.fontColor,Tn.global.defaultFontColor),q=ge.options._parseFont(P),$=ge.options.toPadding(P.padding),ee=q.lineHeight/2,he=T.position,ye=0;if(g.isHorizontal())E=g.left+g.width/2,U="bottom"===he?g.bottom-ee-$.bottom:g.top+ee+$.top;else{var Se="left"===he;E=Se?g.left+ee+$.top:g.right-ee-$.top,U=g.top+g.height/2,ye=Se?-.5*Math.PI:.5*Math.PI}w.save(),w.translate(E,U),w.rotate(ye),w.textAlign="center",w.textBaseline="middle",w.fillStyle=j,w.font=q.string,w.fillText(P.labelString,0,0),w.restore()}},draw:function(g){this._isVisible()&&(this._drawGrid(g),this._drawTitle(),this._drawLabels())},_layers:function(){var g=this,w=g.options,T=w.ticks&&w.ticks.z||0,P=w.gridLines&&w.gridLines.z||0;return g._isVisible()&&T!==P&&g.draw===g._draw?[{z:P,draw:function(){g._drawGrid.apply(g,arguments),g._drawTitle.apply(g,arguments)}},{z:T,draw:function(){g._drawLabels.apply(g,arguments)}}]:[{z:T,draw:function(){g.draw.apply(g,arguments)}}]},_getMatchingVisibleMetas:function(g){var w=this,T=w.isHorizontal();return w.chart._getSortedVisibleDatasetMetas().filter(function(P){return(!g||P.type===g)&&(T?P.xAxisID===w.id:P.yAxisID===w.id)})}});su.prototype._draw=su.prototype.draw;var qa=su,Os=ge.isNullOrUndef,jf=qa.extend({determineDataLimits:function(){var g,w=this,T=w._getLabels(),P=w.options.ticks,E=P.min,U=P.max,j=0,q=T.length-1;void 0!==E&&(g=T.indexOf(E))>=0&&(j=g),void 0!==U&&(g=T.indexOf(U))>=0&&(q=g),w.minIndex=j,w.maxIndex=q,w.min=T[j],w.max=T[q]},buildTicks:function(){var g=this._getLabels(),w=this.minIndex,T=this.maxIndex;this.ticks=0===w&&T===g.length-1?g:g.slice(w,T+1)},getLabelForIndex:function(g,w){var T=this.chart;return T.getDatasetMeta(w).controller._getValueScaleId()===this.id?this.getRightValue(T.data.datasets[w].data[g]):this._getLabels()[g]},_configure:function(){var g=this,w=g.options.offset,T=g.ticks;qa.prototype._configure.call(g),g.isHorizontal()||(g._reversePixels=!g._reversePixels),T&&(g._startValue=g.minIndex-(w?.5:0),g._valueRange=Math.max(T.length-(w?0:1),1))},getPixelForValue:function(g,w,T){var P,E,U,j=this;return Os(w)||Os(T)||(g=j.chart.data.datasets[T].data[w]),Os(g)||(P=j.isHorizontal()?g.x:g.y),(void 0!==P||void 0!==g&&isNaN(w))&&(E=j._getLabels(),g=ge.valueOrDefault(P,g),w=-1!==(U=E.indexOf(g))?U:w,isNaN(w)&&(w=g)),j.getPixelForDecimal((w-j._startValue)/j._valueRange)},getPixelForTick:function(g){var w=this.ticks;return g<0||g>w.length-1?null:this.getPixelForValue(w[g],g+this.minIndex)},getValueForPixel:function(g){var w=Math.round(this._startValue+this.getDecimalForPixel(g)*this._valueRange);return Math.min(Math.max(w,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});jf._defaults={position:"bottom"};var gs=ge.isNullOrUndef,fa=qa.extend({getRightValue:function(g){return"string"==typeof g?+g:qa.prototype.getRightValue.call(this,g)},handleTickRangeOptions:function(){var g=this,w=g.options.ticks;if(w.beginAtZero){var T=ge.sign(g.min),P=ge.sign(g.max);T<0&&P<0?g.max=0:T>0&&P>0&&(g.min=0)}var E=void 0!==w.min||void 0!==w.suggestedMin,U=void 0!==w.max||void 0!==w.suggestedMax;void 0!==w.min?g.min=w.min:void 0!==w.suggestedMin&&(g.min=null===g.min?w.suggestedMin:Math.min(g.min,w.suggestedMin)),void 0!==w.max?g.max=w.max:void 0!==w.suggestedMax&&(g.max=null===g.max?w.suggestedMax:Math.max(g.max,w.suggestedMax)),E!==U&&g.min>=g.max&&(E?g.max=g.min+1:g.min=g.max-1),g.min===g.max&&(g.max++,w.beginAtZero||g.min--)},getTickLimit:function(){var g,w=this.options.ticks,T=w.stepSize,P=w.maxTicksLimit;return T?g=Math.ceil(this.max/T)-Math.floor(this.min/T)+1:(g=this._computeTickLimit(),P=P||11),P&&(g=Math.min(P,g)),g},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:ge.noop,buildTicks:function(){var g=this,w=g.options.ticks,T=g.getTickLimit(),P={maxTicks:T=Math.max(2,T),min:w.min,max:w.max,precision:w.precision,stepSize:ge.valueOrDefault(w.fixedStepSize,w.stepSize)},E=g.ticks=function(U,j){var q,$,ee,he,ye=[],Se=U.stepSize,Re=Se||1,Be=U.maxTicks-1,Xe=U.min,ct=U.max,$t=U.precision,zt=j.min,rn=j.max,kn=ge.niceNum((rn-zt)/Be/Re)*Re;if(kn<1e-14&&gs(Xe)&&gs(ct))return[zt,rn];(he=Math.ceil(rn/kn)-Math.floor(zt/kn))>Be&&(kn=ge.niceNum(he*kn/Be/Re)*Re),Se||gs($t)?q=Math.pow(10,ge._decimalPlaces(kn)):(q=Math.pow(10,$t),kn=Math.ceil(kn*q)/q),$=Math.floor(zt/kn)*kn,ee=Math.ceil(rn/kn)*kn,Se&&(!gs(Xe)&&ge.almostWhole(Xe/kn,kn/1e3)&&($=Xe),!gs(ct)&&ge.almostWhole(ct/kn,kn/1e3)&&(ee=ct)),he=ge.almostEquals(he=(ee-$)/kn,Math.round(he),kn/1e3)?Math.round(he):Math.ceil(he),$=Math.round($*q)/q,ee=Math.round(ee*q)/q,ye.push(gs(Xe)?$:Xe);for(var gn=1;gn<he;++gn)ye.push(Math.round(($+gn*kn)*q)/q);return ye.push(gs(ct)?ee:ct),ye}(P,g);g.handleDirectionalChanges(),g.max=ge.max(E),g.min=ge.min(E),w.reverse?(E.reverse(),g.start=g.max,g.end=g.min):(g.start=g.min,g.end=g.max)},convertTicksToLabels:function(){var g=this;g.ticksAsNumbers=g.ticks.slice(),g.zeroLineIndex=g.ticks.indexOf(0),qa.prototype.convertTicksToLabels.call(g)},_configure:function(){var g,w=this,T=w.getTicks(),P=w.min,E=w.max;qa.prototype._configure.call(w),w.options.offset&&T.length&&(P-=g=(E-P)/Math.max(T.length-1,1)/2,E+=g),w._startValue=P,w._endValue=E,w._valueRange=E-P}}),ms={position:"left",ticks:{callback:Nl.formatters.linear}};function By(g,w,T,P){var E,U,ye,Re,Be,j=g.options,q=(void 0===(ye=w)[Be=[(Re=T).type,void 0===j.stacked&&void 0===Re.stack?Re.index:"",Re.stack].join(".")]&&(ye[Be]={pos:[],neg:[]}),ye[Be]),$=q.pos,ee=q.neg,he=P.length;for(E=0;E<he;++E)U=g._parseValue(P[E]),isNaN(U.min)||isNaN(U.max)||T.data[E].hidden||($[E]=$[E]||0,ee[E]=ee[E]||0,j.relativePoints?$[E]=100:U.min<0||U.max<0?ee[E]+=U.min:$[E]+=U.max)}function El(g,w,T){var P,E,U=T.length;for(P=0;P<U;++P)E=g._parseValue(T[P]),isNaN(E.min)||isNaN(E.max)||w.data[P].hidden||(g.min=Math.min(g.min,E.min),g.max=Math.max(g.max,E.max))}var Di=fa.extend({determineDataLimits:function(){var g,w,T,P,E=this,U=E.options,j=E.chart.data.datasets,q=E._getMatchingVisibleMetas(),$=U.stacked,ee={},he=q.length;if(E.min=Number.POSITIVE_INFINITY,E.max=Number.NEGATIVE_INFINITY,void 0===$)for(g=0;!$&&g<he;++g)$=void 0!==(w=q[g]).stack;for(g=0;g<he;++g)T=j[(w=q[g]).index].data,$?By(E,ee,w,T):El(E,w,T);ge.each(ee,function(ye){P=ye.pos.concat(ye.neg),E.min=Math.min(E.min,ge.min(P)),E.max=Math.max(E.max,ge.max(P))}),E.min=ge.isFinite(E.min)&&!isNaN(E.min)?E.min:0,E.max=ge.isFinite(E.max)&&!isNaN(E.max)?E.max:1,E.handleTickRangeOptions()},_computeTickLimit:function(){var g;return this.isHorizontal()?Math.ceil(this.width/40):(g=ge.options._parseFont(this.options.ticks),Math.ceil(this.height/g.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(g,w){return this._getScaleLabel(this.chart.data.datasets[w].data[g])},getPixelForValue:function(g){return this.getPixelForDecimal((+this.getRightValue(g)-this._startValue)/this._valueRange)},getValueForPixel:function(g){return this._startValue+this.getDecimalForPixel(g)*this._valueRange},getPixelForTick:function(g){var w=this.ticksAsNumbers;return g<0||g>w.length-1?null:this.getPixelForValue(w[g])}});Di._defaults=ms;var ig=ge.valueOrDefault,gi=ge.math.log10,Ui={position:"left",ticks:{callback:Nl.formatters.logarithmic}};function Ai(g,w){return ge.isFinite(g)&&g>=0?g:w}var Zc=qa.extend({determineDataLimits:function(){var g,w,T,P,E,U,j=this,q=j.options,$=j.chart,ee=$.data.datasets,he=j.isHorizontal();function ye(ct){return he?ct.xAxisID===j.id:ct.yAxisID===j.id}j.min=Number.POSITIVE_INFINITY,j.max=Number.NEGATIVE_INFINITY,j.minNotZero=Number.POSITIVE_INFINITY;var Se=q.stacked;if(void 0===Se)for(g=0;g<ee.length;g++)if(w=$.getDatasetMeta(g),$.isDatasetVisible(g)&&ye(w)&&void 0!==w.stack){Se=!0;break}if(q.stacked||Se){var Re={};for(g=0;g<ee.length;g++){var Be=[(w=$.getDatasetMeta(g)).type,void 0===q.stacked&&void 0===w.stack?g:"",w.stack].join(".");if($.isDatasetVisible(g)&&ye(w))for(void 0===Re[Be]&&(Re[Be]=[]),E=0,U=(P=ee[g].data).length;E<U;E++){var Xe=Re[Be];T=j._parseValue(P[E]),isNaN(T.min)||isNaN(T.max)||w.data[E].hidden||T.min<0||T.max<0||(Xe[E]=Xe[E]||0,Xe[E]+=T.max)}}ge.each(Re,function(ct){if(ct.length>0){var $t=ge.min(ct),zt=ge.max(ct);j.min=Math.min(j.min,$t),j.max=Math.max(j.max,zt)}})}else for(g=0;g<ee.length;g++)if(w=$.getDatasetMeta(g),$.isDatasetVisible(g)&&ye(w))for(E=0,U=(P=ee[g].data).length;E<U;E++)T=j._parseValue(P[E]),isNaN(T.min)||isNaN(T.max)||w.data[E].hidden||T.min<0||T.max<0||(j.min=Math.min(T.min,j.min),j.max=Math.max(T.max,j.max),0!==T.min&&(j.minNotZero=Math.min(T.min,j.minNotZero)));j.min=ge.isFinite(j.min)?j.min:null,j.max=ge.isFinite(j.max)?j.max:null,j.minNotZero=ge.isFinite(j.minNotZero)?j.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var g=this,w=g.options.ticks;g.min=Ai(w.min,g.min),g.max=Ai(w.max,g.max),g.min===g.max&&(0!==g.min&&null!==g.min?(g.min=Math.pow(10,Math.floor(gi(g.min))-1),g.max=Math.pow(10,Math.floor(gi(g.max))+1)):(g.min=1,g.max=10)),null===g.min&&(g.min=Math.pow(10,Math.floor(gi(g.max))-1)),null===g.max&&(g.max=0!==g.min?Math.pow(10,Math.floor(gi(g.min))+1):10),null===g.minNotZero&&(g.minNotZero=g.min>0?g.min:g.max<1?Math.pow(10,Math.floor(gi(g.max))):1)},buildTicks:function(){var g=this,w=g.options.ticks,T=!g.isHorizontal(),P={min:Ai(w.min),max:Ai(w.max)},E=g.ticks=function(U,j){var q,$,ee=[],he=ig(U.min,Math.pow(10,Math.floor(gi(j.min)))),ye=Math.floor(gi(j.max)),Se=Math.ceil(j.max/Math.pow(10,ye));0===he?(q=Math.floor(gi(j.minNotZero)),$=Math.floor(j.minNotZero/Math.pow(10,q)),ee.push(he),he=$*Math.pow(10,q)):(q=Math.floor(gi(he)),$=Math.floor(he/Math.pow(10,q)));var Re=q<0?Math.pow(10,Math.abs(q)):1;do{ee.push(he),10==++$&&($=1,Re=++q>=0?1:Re),he=Math.round($*Math.pow(10,q)*Re)/Re}while(q<ye||q===ye&&$<Se);var Be=ig(U.max,he);return ee.push(Be),ee}(P,g);g.max=ge.max(E),g.min=ge.min(E),w.reverse?(T=!T,g.start=g.max,g.end=g.min):(g.start=g.min,g.end=g.max),T&&E.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),qa.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(g,w){return this._getScaleLabel(this.chart.data.datasets[w].data[g])},getPixelForTick:function(g){var w=this.tickValues;return g<0||g>w.length-1?null:this.getPixelForValue(w[g])},_getFirstTickValue:function(g){var w=Math.floor(gi(g));return Math.floor(g/Math.pow(10,w))*Math.pow(10,w)},_configure:function(){var g=this,w=g.min,T=0;qa.prototype._configure.call(g),0===w&&(w=g._getFirstTickValue(g.minNotZero),T=ig(g.options.ticks.fontSize,Tn.global.defaultFontSize)/g._length),g._startValue=gi(w),g._valueOffset=T,g._valueRange=(gi(g.max)-gi(w))/(1-T)},getPixelForValue:function(g){var w=this,T=0;return(g=+w.getRightValue(g))>w.min&&g>0&&(T=(gi(g)-w._startValue)/w._valueRange+w._valueOffset),w.getPixelForDecimal(T)},getValueForPixel:function(g){var w=this,T=w.getDecimalForPixel(g);return 0===T&&0===w.min?0:Math.pow(10,w._startValue+(T-w._valueOffset)*w._valueRange)}});Zc._defaults=Ui;var il=ge.valueOrDefault,$o=ge.valueAtIndexOrDefault,lr=ge.options.resolve,Kc={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Nl.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(g){return g}}};function Dn(g){var w=g.ticks;return w.display&&g.display?il(w.fontSize,Tn.global.defaultFontSize)+2*w.backdropPaddingY:0}function $c(g,w,T,P,E){return g===P||g===E?{start:w-T/2,end:w+T/2}:g<P||g>E?{start:w-T,end:w}:{start:w,end:w+T}}function al(g){return 0===g||180===g?"center":g<180?"left":"right"}function Ns(g,w,T,P){var E,U,j=T.y+P/2;if(ge.isArray(w))for(E=0,U=w.length;E<U;++E)g.fillText(w[E],T.x,j),j+=P;else g.fillText(w,T.x,j)}function Po(g,w,T){90===g||270===g?T.y-=w.h/2:(g>270||g<90)&&(T.y-=w.h)}function _r(g){return ge.isNumber(g)?g:0}var na=fa.extend({setDimensions:function(){var g=this;g.width=g.maxWidth,g.height=g.maxHeight,g.paddingTop=Dn(g.options)/2,g.xCenter=Math.floor(g.width/2),g.yCenter=Math.floor((g.height-g.paddingTop)/2),g.drawingArea=Math.min(g.height-g.paddingTop,g.width)/2},determineDataLimits:function(){var g=this,w=g.chart,T=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY;ge.each(w.data.datasets,function(E,U){if(w.isDatasetVisible(U)){var j=w.getDatasetMeta(U);ge.each(E.data,function(q,$){var ee=+g.getRightValue(q);isNaN(ee)||j.data[$].hidden||(T=Math.min(ee,T),P=Math.max(ee,P))})}}),g.min=T===Number.POSITIVE_INFINITY?0:T,g.max=P===Number.NEGATIVE_INFINITY?0:P,g.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Dn(this.options))},convertTicksToLabels:function(){var g=this;fa.prototype.convertTicksToLabels.call(g),g.pointLabels=g.chart.data.labels.map(function(){var w=ge.callback(g.options.pointLabels.callback,arguments,g);return w||0===w?w:""})},getLabelForIndex:function(g,w){return+this.getRightValue(this.chart.data.datasets[w].data[g])},fit:function(){var g=this.options;g.display&&g.pointLabels.display?function(w){var T,P,E,U=ge.options._parseFont(w.options.pointLabels),j={l:0,r:w.width,t:0,b:w.height-w.paddingTop},q={};w.ctx.font=U.string,w._pointLabelSizes=[];var $,ee,he,ye=w.chart.data.labels.length;for(T=0;T<ye;T++){E=w.getPointPosition(T,w.drawingArea+5),$=w.ctx,ee=U.lineHeight,P=ge.isArray(he=w.pointLabels[T])?{w:ge.longestText($,$.font,he),h:he.length*ee}:{w:$.measureText(he).width,h:ee},w._pointLabelSizes[T]=P;var Se=w.getIndexAngle(T),Re=ge.toDegrees(Se)%360,Be=$c(Re,E.x,P.w,0,180),Xe=$c(Re,E.y,P.h,90,270);Be.start<j.l&&(j.l=Be.start,q.l=Se),Be.end>j.r&&(j.r=Be.end,q.r=Se),Xe.start<j.t&&(j.t=Xe.start,q.t=Se),Xe.end>j.b&&(j.b=Xe.end,q.b=Se)}w.setReductions(w.drawingArea,j,q)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(g,w,T){var P=this,E=w.l/Math.sin(T.l),U=Math.max(w.r-P.width,0)/Math.sin(T.r),j=-w.t/Math.cos(T.t),q=-Math.max(w.b-(P.height-P.paddingTop),0)/Math.cos(T.b);E=_r(E),U=_r(U),j=_r(j),q=_r(q),P.drawingArea=Math.min(Math.floor(g-(E+U)/2),Math.floor(g-(j+q)/2)),P.setCenterPoint(E,U,j,q)},setCenterPoint:function(g,w,T,P){var E=this,q=T+E.drawingArea,$=E.height-E.paddingTop-P-E.drawingArea;E.xCenter=Math.floor((g+E.drawingArea+(E.width-w-E.drawingArea))/2+E.left),E.yCenter=Math.floor((q+$)/2+E.top+E.paddingTop)},getIndexAngle:function(g){var w=this.chart,T=(g*(360/w.data.labels.length)+((w.options||{}).startAngle||0))%360;return(T<0?T+360:T)*Math.PI*2/360},getDistanceFromCenterForValue:function(g){var w=this;if(ge.isNullOrUndef(g))return NaN;var T=w.drawingArea/(w.max-w.min);return w.options.ticks.reverse?(w.max-g)*T:(g-w.min)*T},getPointPosition:function(g,w){var T=this.getIndexAngle(g)-Math.PI/2;return{x:Math.cos(T)*w+this.xCenter,y:Math.sin(T)*w+this.yCenter}},getPointPositionForValue:function(g,w){return this.getPointPosition(g,this.getDistanceFromCenterForValue(w))},getBasePosition:function(g){var w=this.min,T=this.max;return this.getPointPositionForValue(g||0,this.beginAtZero?0:w<0&&T<0?T:w>0&&T>0?w:0)},_drawGrid:function(){var g,w,T,P=this,E=P.ctx,U=P.options,j=U.gridLines,q=U.angleLines,$=il(q.lineWidth,j.lineWidth),ee=il(q.color,j.color);if(U.pointLabels.display&&function(he){var ye=he.ctx,Se=he.options,Re=Se.pointLabels,Be=Dn(Se),Xe=he.getDistanceFromCenterForValue(Se.ticks.reverse?he.min:he.max),ct=ge.options._parseFont(Re);ye.save(),ye.font=ct.string,ye.textBaseline="middle";for(var $t=he.chart.data.labels.length-1;$t>=0;$t--){var rn=he.getPointPosition($t,Xe+(0===$t?Be/2:0)+5),kn=$o(Re.fontColor,$t,Tn.global.defaultFontColor);ye.fillStyle=kn;var gn=he.getIndexAngle($t),qn=ge.toDegrees(gn);ye.textAlign=al(qn),Po(qn,he._pointLabelSizes[$t],rn),Ns(ye,he.pointLabels[$t],rn,ct.lineHeight)}ye.restore()}(P),j.display&&ge.each(P.ticks,function(he,ye){0!==ye&&(w=P.getDistanceFromCenterForValue(P.ticksAsNumbers[ye]),function(Se,Re,Be,Xe){var ct,$t=Se.ctx,zt=Re.circular,rn=Se.chart.data.labels.length,kn=$o(Re.color,Xe-1),gn=$o(Re.lineWidth,Xe-1);if((zt||rn)&&kn&&gn){if($t.save(),$t.strokeStyle=kn,$t.lineWidth=gn,$t.setLineDash&&($t.setLineDash(Re.borderDash||[]),$t.lineDashOffset=Re.borderDashOffset||0),$t.beginPath(),zt)$t.arc(Se.xCenter,Se.yCenter,Be,0,2*Math.PI);else{ct=Se.getPointPosition(0,Be),$t.moveTo(ct.x,ct.y);for(var qn=1;qn<rn;qn++)ct=Se.getPointPosition(qn,Be),$t.lineTo(ct.x,ct.y)}$t.closePath(),$t.stroke(),$t.restore()}}(P,j,w,ye))}),q.display&&$&&ee){for(E.save(),E.lineWidth=$,E.strokeStyle=ee,E.setLineDash&&(E.setLineDash(lr([q.borderDash,j.borderDash,[]])),E.lineDashOffset=lr([q.borderDashOffset,j.borderDashOffset,0])),g=P.chart.data.labels.length-1;g>=0;g--)w=P.getDistanceFromCenterForValue(U.ticks.reverse?P.min:P.max),T=P.getPointPosition(g,w),E.beginPath(),E.moveTo(P.xCenter,P.yCenter),E.lineTo(T.x,T.y),E.stroke();E.restore()}},_drawLabels:function(){var g=this,w=g.ctx,T=g.options.ticks;if(T.display){var P,E,U=g.getIndexAngle(0),j=ge.options._parseFont(T),q=il(T.fontColor,Tn.global.defaultFontColor);w.save(),w.font=j.string,w.translate(g.xCenter,g.yCenter),w.rotate(U),w.textAlign="center",w.textBaseline="middle",ge.each(g.ticks,function($,ee){(0!==ee||T.reverse)&&(P=g.getDistanceFromCenterForValue(g.ticksAsNumbers[ee]),T.showLabelBackdrop&&(E=w.measureText($).width,w.fillStyle=T.backdropColor,w.fillRect(-E/2-T.backdropPaddingX,-P-j.size/2-T.backdropPaddingY,E+2*T.backdropPaddingX,j.size+2*T.backdropPaddingY)),w.fillStyle=q,w.fillText($,0,-P))}),w.restore()}},_drawTitle:ge.noop});na._defaults=Kc;var ra=ge._deprecated,Za=ge.options.resolve,Am=ge.valueOrDefault,Ou=Number.MIN_SAFE_INTEGER||-9007199254740991,Nu=Number.MAX_SAFE_INTEGER||9007199254740991,Eu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ii=Object.keys(Eu);function lu(g,w){return g-w}function xl(g){return ge.valueOrDefault(g.time.min,g.ticks.min)}function Xf(g){return ge.valueOrDefault(g.time.max,g.ticks.max)}function Ka(g,w,T,P){var E=function(he,ye,Se){for(var Re,Be,Xe,ct=0,$t=he.length-1;ct>=0&&ct<=$t;){if(Be=he[(Re=ct+$t>>1)-1]||null,Xe=he[Re],!Be)return{lo:null,hi:Xe};if(Xe[ye]<Se)ct=Re+1;else{if(!(Be[ye]>Se))return{lo:Be,hi:Xe};$t=Re-1}}return{lo:Xe,hi:null}}(g,w,T),U=E.lo?E.hi?E.lo:g[g.length-2]:g[0],j=E.lo?E.hi?E.hi:g[g.length-1]:g[1],q=j[w]-U[w];return U[P]+(j[P]-U[P])*(q?(T-U[w])/q:0)}function Ed(g,w){var T=g._adapter,P=g.options.time,E=P.parser,U=E||P.format,j=w;return"function"==typeof E&&(j=E(j)),ge.isFinite(j)||(j="string"==typeof U?T.parse(j,U):T.parse(j)),null!==j?+j:(E||"function"!=typeof U||(j=U(w),ge.isFinite(j)||(j=T.parse(j))),j)}function dr(g,w){if(ge.isNullOrUndef(w))return null;var T=g.options.time,P=Ed(g,g.getRightValue(w));return null===P||T.round&&(P=+g._adapter.startOf(P,T.round)),P}function Bl(g,w,T,P){var E,U,j,q=Ii.length;for(E=Ii.indexOf(g);E<q-1;++E)if(j=(U=Eu[Ii[E]]).steps?U.steps:Nu,U.common&&Math.ceil((T-w)/(j*U.size))<=P)return Ii[E];return Ii[q-1]}function Es(g,w,T){var P,E,U=[],j={},q=w.length;for(P=0;P<q;++P)j[E=w[P]]=P,U.push({value:E,major:!1});return 0!==q&&T?function($,ee,he,ye){var Se,Re,Be=$._adapter,Xe=+Be.startOf(ee[0].value,ye),ct=ee[ee.length-1].value;for(Se=Xe;Se<=ct;Se=+Be.add(Se,1,ye))(Re=he[Se])>=0&&(ee[Re].major=!0);return ee}(g,U,j,T):U}var uu=qa.extend({initialize:function(){this.mergeTicksOptions(),qa.prototype.initialize.call(this)},update:function(){var g=this,w=g.options,T=w.time||(w.time={}),P=g._adapter=new Ya._date(w.adapters.date);return ra("time scale",T.format,"time.format","time.parser"),ra("time scale",T.min,"time.min","ticks.min"),ra("time scale",T.max,"time.max","ticks.max"),ge.mergeIf(T.displayFormats,P.formats()),qa.prototype.update.apply(g,arguments)},getRightValue:function(g){return g&&void 0!==g.t&&(g=g.t),qa.prototype.getRightValue.call(this,g)},determineDataLimits:function(){var g,w,T,P,E,U,j,q=this,$=q.chart,ee=q._adapter,he=q.options,ye=he.time.unit||"day",Se=Nu,Re=Ou,Be=[],Xe=[],ct=[],$t=q._getLabels();for(g=0,T=$t.length;g<T;++g)ct.push(dr(q,$t[g]));for(g=0,T=($.data.datasets||[]).length;g<T;++g)if($.isDatasetVisible(g))if(ge.isObject((E=$.data.datasets[g].data)[0]))for(Xe[g]=[],w=0,P=E.length;w<P;++w)U=dr(q,E[w]),Be.push(U),Xe[g][w]=U;else Xe[g]=ct.slice(0),j||(Be=Be.concat(ct),j=!0);else Xe[g]=[];ct.length&&(Se=Math.min(Se,ct[0]),Re=Math.max(Re,ct[ct.length-1])),Be.length&&(Be=T>1?function(zt){var rn,kn,gn,qn={},Sr=[];for(rn=0,kn=zt.length;rn<kn;++rn)qn[gn=zt[rn]]||(qn[gn]=!0,Sr.push(gn));return Sr}(Be).sort(lu):Be.sort(lu),Se=Math.min(Se,Be[0]),Re=Math.max(Re,Be[Be.length-1])),Se=dr(q,xl(he))||Se,Re=dr(q,Xf(he))||Re,Se=Se===Nu?+ee.startOf(Date.now(),ye):Se,Re=Re===Ou?+ee.endOf(Date.now(),ye)+1:Re,q.min=Math.min(Se,Re),q.max=Math.max(Se+1,Re),q._table=[],q._timestamps={data:Be,datasets:Xe,labels:ct}},buildTicks:function(){var g,w,T,Be,Xe,rn,kn,gn,qn,P=this,E=P.min,U=P.max,j=P.options,q=j.ticks,$=j.time,ee=P._timestamps,he=[],ye=P.getLabelCapacity(E),Se=q.source,Re=j.distribution;for(ee="data"===Se||"auto"===Se&&"series"===Re?ee.data:"labels"===Se?ee.labels:function(Be,Xe,ct,$t){var zt,rn=Be._adapter,kn=Be.options,gn=kn.time,qn=gn.unit||Bl(gn.minUnit,Xe,ct,$t),Sr=Za([gn.stepSize,gn.unitStepSize,1]),fr="week"===qn&&gn.isoWeekday,Jn=Xe,lo=[];if(fr&&(Jn=+rn.startOf(Jn,"isoWeek",fr)),Jn=+rn.startOf(Jn,fr?"day":qn),rn.diff(ct,Xe,qn)>1e5*Sr)throw Xe+" and "+ct+" are too far apart with stepSize of "+Sr+" "+qn;for(zt=Jn;zt<ct;zt=+rn.add(zt,Sr,qn))lo.push(zt);return zt!==ct&&"ticks"!==kn.bounds||lo.push(zt),lo}(P,E,U,ye),"ticks"===j.bounds&&ee.length&&(E=ee[0],U=ee[ee.length-1]),E=dr(P,xl(j))||E,U=dr(P,Xf(j))||U,g=0,w=ee.length;g<w;++g)(T=ee[g])>=E&&T<=U&&he.push(T);return P.min=E,P.max=U,P._unit=$.unit||(q.autoSkip?Bl($.minUnit,P.min,P.max,ye):function(Be,Xe,ct,$t,zt){var rn,kn;for(rn=Ii.length-1;rn>=Ii.indexOf(ct);rn--)if(Eu[kn=Ii[rn]].common&&Be._adapter.diff(zt,$t,kn)>=Xe-1)return kn;return Ii[ct?Ii.indexOf(ct):0]}(P,he.length,$.minUnit,P.min,P.max)),P._majorUnit=q.major.enabled&&"year"!==P._unit?function(Be){for(var Xe=Ii.indexOf(Be)+1,ct=Ii.length;Xe<ct;++Xe)if(Eu[Ii[Xe]].common)return Ii[Xe]}(P._unit):void 0,P._table=function(Be,Xe,ct,$t){if("linear"===$t||!Be.length)return[{time:Xe,pos:0},{time:ct,pos:1}];var zt,rn,kn,gn,qn,Sr=[],fr=[Xe];for(zt=0,rn=Be.length;zt<rn;++zt)(gn=Be[zt])>Xe&&gn<ct&&fr.push(gn);for(fr.push(ct),zt=0,rn=fr.length;zt<rn;++zt)qn=fr[zt+1],gn=fr[zt],void 0!==(kn=fr[zt-1])&&void 0!==qn&&Math.round((qn+kn)/2)===gn||Sr.push({time:gn,pos:zt/(rn-1)});return Sr}(P._timestamps.data,E,U,Re),P._offsets=(Be=P._table,Xe=he,gn=0,qn=0,j.offset&&Xe.length&&(rn=Ka(Be,"time",Xe[0],"pos"),gn=1===Xe.length?1-rn:(Ka(Be,"time",Xe[1],"pos")-rn)/2,kn=Ka(Be,"time",Xe[Xe.length-1],"pos"),qn=1===Xe.length?kn:(kn-Ka(Be,"time",Xe[Xe.length-2],"pos"))/2),{start:gn,end:qn,factor:1/(gn+1+qn)}),q.reverse&&he.reverse(),Es(P,he,P._majorUnit)},getLabelForIndex:function(g,w){var T=this,P=T._adapter,E=T.chart.data,U=T.options.time,j=E.labels&&g<E.labels.length?E.labels[g]:"",q=E.datasets[w].data[g];return ge.isObject(q)&&(j=T.getRightValue(q)),U.tooltipFormat?P.format(Ed(T,j),U.tooltipFormat):"string"==typeof j?j:P.format(Ed(T,j),U.displayFormats.datetime)},tickFormatFunction:function(g,w,T,P){var U=this.options,j=U.time.displayFormats,$=this._majorUnit,ee=j[$],he=T[w],ye=U.ticks,Se=$&&ee&&he&&he.major,Re=this._adapter.format(g,P||(Se?ee:j[this._unit])),Be=Se?ye.major:ye.minor,Xe=Za([Be.callback,Be.userCallback,ye.callback,ye.userCallback]);return Xe?Xe(Re,w,T):Re},convertTicksToLabels:function(g){var w,T,P=[];for(w=0,T=g.length;w<T;++w)P.push(this.tickFormatFunction(g[w].value,w,g));return P},getPixelForOffset:function(g){var w=this._offsets,T=Ka(this._table,"time",g,"pos");return this.getPixelForDecimal((w.start+T)*w.factor)},getPixelForValue:function(g,w,T){var P=null;if(void 0!==w&&void 0!==T&&(P=this._timestamps.datasets[T][w]),null===P&&(P=dr(this,g)),null!==P)return this.getPixelForOffset(P)},getPixelForTick:function(g){var w=this.getTicks();return g>=0&&g<w.length?this.getPixelForOffset(w[g].value):null},getValueForPixel:function(g){var w=this._offsets,T=this.getDecimalForPixel(g)/w.factor-w.end,P=Ka(this._table,"pos",T,"time");return this._adapter._create(P)},_getLabelSize:function(g){var w=this.options.ticks,T=this.ctx.measureText(g).width,P=ge.toRadians(this.isHorizontal()?w.maxRotation:w.minRotation),E=Math.cos(P),U=Math.sin(P),j=Am(w.fontSize,Tn.global.defaultFontSize);return{w:T*E+j*U,h:T*U+j*E}},getLabelWidth:function(g){return this._getLabelSize(g).w},getLabelCapacity:function(g){var w=this,T=w.options.time,P=T.displayFormats,E=P[T.unit]||P.millisecond,U=w.tickFormatFunction(g,0,Es(w,[g],w._majorUnit),E),j=w._getLabelSize(U),q=Math.floor(w.isHorizontal()?w.width/j.w:w.height/j.h);return w.options.offset&&q--,q>0?q:1}});uu._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var zu={category:jf,linear:Di,logarithmic:Zc,radialLinear:na,time:uu},$a={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Ya._date.override("function"==typeof wn?{_id:"moment",formats:function(){return $a},parse:function(g,w){return"string"==typeof g&&"string"==typeof w?g=wn(g,w):g instanceof wn||(g=wn(g)),g.isValid()?g.valueOf():null},format:function(g,w){return wn(g).format(w)},add:function(g,w,T){return wn(g).add(w,T).valueOf()},diff:function(g,w,T){return wn(g).diff(wn(w),T)},startOf:function(g,w,T){return g=wn(g),"isoWeek"===w?g.isoWeekday(T).valueOf():g.startOf(w).valueOf()},endOf:function(g,w){return wn(g).endOf(w).valueOf()},_create:function(g){return wn(g)}}:{}),Tn._set("global",{plugins:{filler:{propagate:!0}}});var Vu={dataset:function(g){var w=g.fill,T=g.chart,P=T.getDatasetMeta(w),E=P&&T.isDatasetVisible(w)&&P.dataset._children||[],U=E.length||0;return U?function(j,q){return q<U&&E[q]._view||null}:null},boundary:function(g){var w=g.boundary,T=w?w.x:null,P=w?w.y:null;return ge.isArray(w)?function(E,U){return w[U]}:function(E){return{x:null===T?E.x:T,y:null===P?E.y:P}}}};function Fu(g,w,T){var P,E=g._model||{},U=E.fill;if(void 0===U&&(U=!!E.backgroundColor),!1===U||null===U)return!1;if(!0===U)return"origin";if(P=parseFloat(U,10),isFinite(P)&&Math.floor(P)===P)return"-"!==U[0]&&"+"!==U[0]||(P=w+P),!(P===w||P<0||P>=T)&&P;switch(U){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return U;default:return!1}}function Lr(g){return(g.el._scale||{}).getPointPositionForValue?function(w){var T,P,E,U,j,q=w.el._scale,$=q.options,ee=q.chart.data.labels.length,he=w.fill,ye=[];if(!ee)return null;for(P=$.ticks.reverse?q.min:q.max,E=q.getPointPositionForValue(0,T=$.ticks.reverse?q.max:q.min),U=0;U<ee;++U)j="start"===he||"end"===he?q.getPointPositionForValue(U,"start"===he?T:P):q.getBasePosition(U),$.gridLines.circular&&(j.cx=E.x,j.cy=E.y,j.angle=q.getIndexAngle(U)-Math.PI/2),ye.push(j);return ye}(g):function(w){var T,P=w.el._model||{},E=w.el._scale||{},U=w.fill,j=null;if(isFinite(U))return null;if("start"===U?j=void 0===P.scaleBottom?E.bottom:P.scaleBottom:"end"===U?j=void 0===P.scaleTop?E.top:P.scaleTop:void 0!==P.scaleZero?j=P.scaleZero:E.getBasePixel&&(j=E.getBasePixel()),null!=j){if(void 0!==j.x&&void 0!==j.y)return j;if(ge.isFinite(j))return{x:(T=E.isHorizontal())?j:null,y:T?null:j}}return null}(g)}function _l(g,w,T){var P,E=g[w].fill,U=[w];if(!T)return E;for(;!1!==E&&-1===U.indexOf(E);){if(!isFinite(E))return E;if(!(P=g[E]))return!1;if(P.visible)return E;U.push(E),E=P.fill}return!1}function zl(g){var w=g.fill,T="dataset";return!1===w?null:(isFinite(w)||(T="boundary"),Vu[T](g))}function qf(g){return g&&!g.skip}function Ja(g,w,T,P,E){var U,j,q,$;if(P&&E){for(g.moveTo(w[0].x,w[0].y),U=1;U<P;++U)ge.canvas.lineTo(g,w[U-1],w[U]);if(void 0===T[0].angle)for(g.lineTo(T[E-1].x,T[E-1].y),U=E-1;U>0;--U)ge.canvas.lineTo(g,T[U],T[U-1],!0);else for(j=T[0].cx,q=T[0].cy,$=Math.sqrt(Math.pow(T[0].x-j,2)+Math.pow(T[0].y-q,2)),U=E-1;U>0;--U)g.arc(j,q,$,T[U].angle,T[U-1].angle,!0)}}function ep(g,w,T,P,E,U){var j,q,$,ee,he,ye,Se,Re,Be=w.length,Xe=P.spanGaps,ct=[],$t=[],zt=0,rn=0;for(g.beginPath(),j=0,q=Be;j<q;++j)he=T(ee=w[$=j%Be]._view,$,P),ye=qf(ee),Se=qf(he),U&&void 0===Re&&ye&&(q=Be+(Re=j+1)),ye&&Se?(zt=ct.push(ee),rn=$t.push(he)):zt&&rn&&(Xe?(ye&&ct.push(ee),Se&&$t.push(he)):(Ja(g,ct,$t,zt,rn),zt=rn=0,ct=[],$t=[]));Ja(g,ct,$t,zt,rn),g.closePath(),g.fillStyle=E,g.fill()}var Hu={id:"filler",afterDatasetsUpdate:function(g,w){var T,P,E,U,j=(g.data.datasets||[]).length,q=w.propagate,$=[];for(P=0;P<j;++P)U=null,(E=(T=g.getDatasetMeta(P)).dataset)&&E._model&&E instanceof si.Line&&(U={visible:g.isDatasetVisible(P),fill:Fu(E,P,j),chart:g,el:E}),T.$filler=U,$.push(U);for(P=0;P<j;++P)(U=$[P])&&(U.fill=_l($,P,q),U.boundary=Lr(U),U.mapper=zl(U))},beforeDatasetsDraw:function(g){var w,T,P,E,U,j,q,$=g._getSortedVisibleDatasetMetas(),ee=g.ctx;for(T=$.length-1;T>=0;--T)(w=$[T].$filler)&&w.visible&&(E=(P=w.el)._view,U=P._children||[],q=E.backgroundColor||Tn.global.defaultColor,(j=w.mapper)&&q&&U.length&&(ge.canvas.clipArea(ee,g.chartArea),ep(ee,U,j,E,q,P._loop),ge.canvas.unclipArea(ee)))}},yc=ge.rtl.getRtlAdapter,Qa=ge.noop,Wo=ge.valueOrDefault;function Bo(g,w){return g.usePointStyle&&g.boxWidth>w?w:g.boxWidth}Tn._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(g,w){var T=w.datasetIndex,P=this.chart,E=P.getDatasetMeta(T);E.hidden=null===E.hidden?!P.data.datasets[T].hidden:null,P.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(g){var w=g.data.datasets,T=g.options.legend||{},P=T.labels&&T.labels.usePointStyle;return g._getSortedDatasetMetas().map(function(E){var U=E.controller.getStyle(P?0:void 0);return{text:w[E.index].label,fillStyle:U.backgroundColor,hidden:!g.isDatasetVisible(E.index),lineCap:U.borderCapStyle,lineDash:U.borderDash,lineDashOffset:U.borderDashOffset,lineJoin:U.borderJoinStyle,lineWidth:U.borderWidth,strokeStyle:U.borderColor,pointStyle:U.pointStyle,rotation:U.rotation,datasetIndex:E.index}},this)}}},legendCallback:function(g){var w,T,P,E=document.createElement("ul"),U=g.data.datasets;for(E.setAttribute("class",g.id+"-legend"),w=0,T=U.length;w<T;w++)(P=E.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=U[w].backgroundColor,U[w].label&&P.appendChild(document.createTextNode(U[w].label));return E.outerHTML}});var Jc=ko.extend({initialize:function(g){ge.extend(this,g),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:Qa,update:function(g,w,T){var P=this;return P.beforeUpdate(),P.maxWidth=g,P.maxHeight=w,P.margins=T,P.beforeSetDimensions(),P.setDimensions(),P.afterSetDimensions(),P.beforeBuildLabels(),P.buildLabels(),P.afterBuildLabels(),P.beforeFit(),P.fit(),P.afterFit(),P.afterUpdate(),P.minSize},afterUpdate:Qa,beforeSetDimensions:Qa,setDimensions:function(){var g=this;g.isHorizontal()?(g.width=g.maxWidth,g.left=0,g.right=g.width):(g.height=g.maxHeight,g.top=0,g.bottom=g.height),g.paddingLeft=0,g.paddingTop=0,g.paddingRight=0,g.paddingBottom=0,g.minSize={width:0,height:0}},afterSetDimensions:Qa,beforeBuildLabels:Qa,buildLabels:function(){var g=this,w=g.options.labels||{},T=ge.callback(w.generateLabels,[g.chart],g)||[];w.filter&&(T=T.filter(function(P){return w.filter(P,g.chart.data)})),g.options.reverse&&T.reverse(),g.legendItems=T},afterBuildLabels:Qa,beforeFit:Qa,fit:function(){var g=this,w=g.options,T=w.labels,P=w.display,E=g.ctx,U=ge.options._parseFont(T),j=U.size,q=g.legendHitBoxes=[],$=g.minSize,ee=g.isHorizontal();if(ee?($.width=g.maxWidth,$.height=P?10:0):($.width=P?10:0,$.height=g.maxHeight),P){if(E.font=U.string,ee){var he=g.lineWidths=[0],ye=0;E.textAlign="left",E.textBaseline="middle",ge.each(g.legendItems,function(zt,rn){var kn=Bo(T,j)+j/2+E.measureText(zt.text).width;(0===rn||he[he.length-1]+kn+2*T.padding>$.width)&&(ye+=j+T.padding,he[he.length-(rn>0?0:1)]=0),q[rn]={left:0,top:0,width:kn,height:j},he[he.length-1]+=kn+T.padding}),$.height+=ye}else{var Se=T.padding,Re=g.columnWidths=[],Be=g.columnHeights=[],Xe=T.padding,ct=0,$t=0;ge.each(g.legendItems,function(zt,rn){var kn=Bo(T,j)+j/2+E.measureText(zt.text).width;rn>0&&$t+j+2*Se>$.height&&(Xe+=ct+T.padding,Re.push(ct),Be.push($t),ct=0,$t=0),ct=Math.max(ct,kn),$t+=j+Se,q[rn]={left:0,top:0,width:kn,height:j}}),Xe+=ct,Re.push(ct),Be.push($t),$.width+=Xe}g.width=$.width,g.height=$.height}else g.width=$.width=g.height=$.height=0},afterFit:Qa,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var g=this,w=g.options,T=w.labels,P=Tn.global,E=P.defaultColor,U=P.elements.line,j=g.height,q=g.columnHeights,$=g.width,ee=g.lineWidths;if(w.display){var he,ye=yc(w.rtl,g.left,g.minSize.width),Se=g.ctx,Re=Wo(T.fontColor,P.defaultFontColor),Be=ge.options._parseFont(T),Xe=Be.size;Se.textAlign=ye.textAlign("left"),Se.textBaseline="middle",Se.lineWidth=.5,Se.strokeStyle=Re,Se.fillStyle=Re,Se.font=Be.string;var ct=Bo(T,Xe),$t=g.legendHitBoxes,zt=function(gn,qn){switch(w.align){case"start":return T.padding;case"end":return gn-qn;default:return(gn-qn+T.padding)/2}},rn=g.isHorizontal();he=rn?{x:g.left+zt($,ee[0]),y:g.top+T.padding,line:0}:{x:g.left+T.padding,y:g.top+zt(j,q[0]),line:0},ge.rtl.overrideTextDirection(g.ctx,w.textDirection);var kn=Xe+T.padding;ge.each(g.legendItems,function(gn,qn){var Sr=Se.measureText(gn.text).width,fr=ct+Xe/2+Sr,Jn=he.x,lo=he.y;ye.setWidth(g.minSize.width),rn?qn>0&&Jn+fr+T.padding>g.left+g.minSize.width&&(lo=he.y+=kn,he.line++,Jn=he.x=g.left+zt($,ee[he.line])):qn>0&&lo+kn>g.top+g.minSize.height&&(Jn=he.x=Jn+g.columnWidths[he.line]+T.padding,he.line++,lo=he.y=g.top+zt(j,q[he.line]));var qo,to,Go,bo,Hn,Pi,zr=ye.x(Jn);(function(po,qo,to){if(!(isNaN(ct)||ct<=0)){Se.save();var Go=Wo(to.lineWidth,U.borderWidth);if(Se.fillStyle=Wo(to.fillStyle,E),Se.lineCap=Wo(to.lineCap,U.borderCapStyle),Se.lineDashOffset=Wo(to.lineDashOffset,U.borderDashOffset),Se.lineJoin=Wo(to.lineJoin,U.borderJoinStyle),Se.lineWidth=Go,Se.strokeStyle=Wo(to.strokeStyle,E),Se.setLineDash&&Se.setLineDash(Wo(to.lineDash,U.borderDash)),T&&T.usePointStyle){var bo=ct*Math.SQRT2/2,Hn=ye.xPlus(po,ct/2);ge.canvas.drawPoint(Se,to.pointStyle,bo,Hn,qo+Xe/2,to.rotation)}else Se.fillRect(ye.leftForLtr(po,ct),qo,ct,Xe),0!==Go&&Se.strokeRect(ye.leftForLtr(po,ct),qo,ct,Xe);Se.restore()}})(zr,lo,gn),$t[qn].left=ye.leftForLtr(zr,$t[qn].width),$t[qn].top=lo,qo=lo,to=gn,Go=Sr,Hn=ye.xPlus(zr,ct+(bo=Xe/2)),Se.fillText(to.text,Hn,Pi=qo+bo),to.hidden&&(Se.beginPath(),Se.lineWidth=2,Se.moveTo(Hn,Pi),Se.lineTo(ye.xPlus(Hn,Go),Pi),Se.stroke()),rn?he.x+=fr+T.padding:he.y+=kn}),ge.rtl.restoreTextDirection(g.ctx,w.textDirection)}},_getLegendItemAt:function(g,w){var T,P,E,U=this;if(g>=U.left&&g<=U.right&&w>=U.top&&w<=U.bottom)for(E=U.legendHitBoxes,T=0;T<E.length;++T)if(g>=(P=E[T]).left&&g<=P.left+P.width&&w>=P.top&&w<=P.top+P.height)return U.legendItems[T];return null},handleEvent:function(g){var w,T=this,P=T.options,E="mouseup"===g.type?"click":g.type;if("mousemove"===E){if(!P.onHover&&!P.onLeave)return}else if("click"!==E||!P.onClick)return;w=T._getLegendItemAt(g.x,g.y),"click"===E?w&&P.onClick&&P.onClick.call(T,g.native,w):(P.onLeave&&w!==T._hoveredItem&&(T._hoveredItem&&P.onLeave.call(T,g.native,T._hoveredItem),T._hoveredItem=w),P.onHover&&w&&P.onHover.call(T,g.native,w))}});function wi(g,w){var T=new Jc({ctx:g.ctx,options:w,chart:g});ti.configure(g,T,w),ti.addBox(g,T),g.legend=T}var cu={id:"legend",_element:Jc,beforeInit:function(g){var w=g.options.legend;w&&wi(g,w)},beforeUpdate:function(g){var w=g.options.legend,T=g.legend;w?(ge.mergeIf(w,Tn.global.legend),T?(ti.configure(g,T,w),T.options=w):wi(g,w)):T&&(ti.removeBox(g,T),delete g.legend)},afterEvent:function(g,w){var T=g.legend;T&&T.handleEvent(w)}},Aa=ge.noop;Tn._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var du=ko.extend({initialize:function(g){ge.extend(this,g),this.legendHitBoxes=[]},beforeUpdate:Aa,update:function(g,w,T){var P=this;return P.beforeUpdate(),P.maxWidth=g,P.maxHeight=w,P.margins=T,P.beforeSetDimensions(),P.setDimensions(),P.afterSetDimensions(),P.beforeBuildLabels(),P.buildLabels(),P.afterBuildLabels(),P.beforeFit(),P.fit(),P.afterFit(),P.afterUpdate(),P.minSize},afterUpdate:Aa,beforeSetDimensions:Aa,setDimensions:function(){var g=this;g.isHorizontal()?(g.width=g.maxWidth,g.left=0,g.right=g.width):(g.height=g.maxHeight,g.top=0,g.bottom=g.height),g.paddingLeft=0,g.paddingTop=0,g.paddingRight=0,g.paddingBottom=0,g.minSize={width:0,height:0}},afterSetDimensions:Aa,beforeBuildLabels:Aa,buildLabels:Aa,afterBuildLabels:Aa,beforeFit:Aa,fit:function(){var g,w=this,T=w.options,P=w.minSize={},E=w.isHorizontal();T.display?(g=(ge.isArray(T.text)?T.text.length:1)*ge.options._parseFont(T).lineHeight+2*T.padding,w.width=P.width=E?w.maxWidth:g,w.height=P.height=E?g:w.maxHeight):w.width=P.width=w.height=P.height=0},afterFit:Aa,isHorizontal:function(){var g=this.options.position;return"top"===g||"bottom"===g},draw:function(){var g=this,w=g.ctx,T=g.options;if(T.display){var P,E,U,j=ge.options._parseFont(T),q=j.lineHeight,$=q/2+T.padding,ee=0,he=g.top,ye=g.left,Se=g.bottom,Re=g.right;w.fillStyle=ge.valueOrDefault(T.fontColor,Tn.global.defaultFontColor),w.font=j.string,g.isHorizontal()?(E=ye+(Re-ye)/2,U=he+$,P=Re-ye):(E="left"===T.position?ye+$:Re-$,U=he+(Se-he)/2,P=Se-he,ee=Math.PI*("left"===T.position?-.5:.5)),w.save(),w.translate(E,U),w.rotate(ee),w.textAlign="center",w.textBaseline="middle";var Be=T.text;if(ge.isArray(Be))for(var Xe=0,ct=0;ct<Be.length;++ct)w.fillText(Be[ct],0,Xe,P),Xe+=q;else w.fillText(Be,0,0,P);w.restore()}}});function Wu(g,w){var T=new du({ctx:g.ctx,options:w,chart:g});ti.configure(g,T,w),ti.addBox(g,T),g.titleBlock=T}var es={},bc=Hu,Ia=cu,fu={id:"title",_element:du,beforeInit:function(g){var w=g.options.title;w&&Wu(g,w)},beforeUpdate:function(g){var w=g.options.title,T=g.titleBlock;w?(ge.mergeIf(w,Tn.global.title),T?(ti.configure(g,T,w),T.options=w):Wu(g,w)):T&&(ti.removeBox(g,T),delete g.titleBlock)}};for(var xc in es.filler=bc,es.legend=Ia,es.title=fu,Qr.helpers=ge,function(){function g(P,E,U){var j;return"string"==typeof P?(j=parseInt(P,10),-1!==P.indexOf("%")&&(j=j/100*E.parentNode[U])):j=P,j}function w(P){return null!=P&&"none"!==P}function T(P,E,U){var j=document.defaultView,q=ge._getParentNode(P),$=j.getComputedStyle(P)[E],ee=j.getComputedStyle(q)[E],he=w($),ye=w(ee),Se=Number.POSITIVE_INFINITY;return he||ye?Math.min(he?g($,P,U):Se,ye?g(ee,q,U):Se):"none"}ge.where=function(P,E){if(ge.isArray(P)&&Array.prototype.filter)return P.filter(E);var U=[];return ge.each(P,function(j){E(j)&&U.push(j)}),U},ge.findIndex=Array.prototype.findIndex?function(P,E,U){return P.findIndex(E,U)}:function(P,E,U){U=void 0===U?P:U;for(var j=0,q=P.length;j<q;++j)if(E.call(U,P[j],j,P))return j;return-1},ge.findNextWhere=function(P,E,U){ge.isNullOrUndef(U)&&(U=-1);for(var j=U+1;j<P.length;j++){var q=P[j];if(E(q))return q}},ge.findPreviousWhere=function(P,E,U){ge.isNullOrUndef(U)&&(U=P.length);for(var j=U-1;j>=0;j--){var q=P[j];if(E(q))return q}},ge.isNumber=function(P){return!isNaN(parseFloat(P))&&isFinite(P)},ge.almostEquals=function(P,E,U){return Math.abs(P-E)<U},ge.almostWhole=function(P,E){var U=Math.round(P);return U-E<=P&&U+E>=P},ge.max=function(P){return P.reduce(function(E,U){return isNaN(U)?E:Math.max(E,U)},Number.NEGATIVE_INFINITY)},ge.min=function(P){return P.reduce(function(E,U){return isNaN(U)?E:Math.min(E,U)},Number.POSITIVE_INFINITY)},ge.sign=Math.sign?function(P){return Math.sign(P)}:function(P){return 0==(P=+P)||isNaN(P)?P:P>0?1:-1},ge.toRadians=function(P){return P*(Math.PI/180)},ge.toDegrees=function(P){return P*(180/Math.PI)},ge._decimalPlaces=function(P){if(ge.isFinite(P)){for(var E=1,U=0;Math.round(P*E)/E!==P;)E*=10,U++;return U}},ge.getAngleFromPoint=function(P,E){var U=E.x-P.x,j=E.y-P.y,q=Math.sqrt(U*U+j*j),$=Math.atan2(j,U);return $<-.5*Math.PI&&($+=2*Math.PI),{angle:$,distance:q}},ge.distanceBetweenPoints=function(P,E){return Math.sqrt(Math.pow(E.x-P.x,2)+Math.pow(E.y-P.y,2))},ge.aliasPixel=function(P){return P%2==0?0:.5},ge._alignPixel=function(P,E,U){var j=P.currentDevicePixelRatio,q=U/2;return Math.round((E-q)*j)/j+q},ge.splineCurve=function(P,E,U,j){var q=P.skip?E:P,$=E,ee=U.skip?E:U,he=Math.sqrt(Math.pow($.x-q.x,2)+Math.pow($.y-q.y,2)),ye=Math.sqrt(Math.pow(ee.x-$.x,2)+Math.pow(ee.y-$.y,2)),Se=he/(he+ye),Re=ye/(he+ye),Be=j*(Se=isNaN(Se)?0:Se),Xe=j*(Re=isNaN(Re)?0:Re);return{previous:{x:$.x-Be*(ee.x-q.x),y:$.y-Be*(ee.y-q.y)},next:{x:$.x+Xe*(ee.x-q.x),y:$.y+Xe*(ee.y-q.y)}}},ge.EPSILON=Number.EPSILON||1e-14,ge.splineCurveMonotone=function(P){var E,U,j,q,$,ee,he,ye,Se,Re=(P||[]).map(function(ct){return{model:ct._model,deltaK:0,mK:0}}),Be=Re.length;for(E=0;E<Be;++E)if(!(j=Re[E]).model.skip){if(U=E>0?Re[E-1]:null,(q=E<Be-1?Re[E+1]:null)&&!q.model.skip){var Xe=q.model.x-j.model.x;j.deltaK=0!==Xe?(q.model.y-j.model.y)/Xe:0}j.mK=!U||U.model.skip?j.deltaK:!q||q.model.skip?U.deltaK:this.sign(U.deltaK)!==this.sign(j.deltaK)?0:(U.deltaK+j.deltaK)/2}for(E=0;E<Be-1;++E)q=Re[E+1],(j=Re[E]).model.skip||q.model.skip||(ge.almostEquals(j.deltaK,0,this.EPSILON)?j.mK=q.mK=0:($=j.mK/j.deltaK,ee=q.mK/j.deltaK,(ye=Math.pow($,2)+Math.pow(ee,2))<=9||(he=3/Math.sqrt(ye),j.mK=$*he*j.deltaK,q.mK=ee*he*j.deltaK)));for(E=0;E<Be;++E)(j=Re[E]).model.skip||(q=E<Be-1?Re[E+1]:null,(U=E>0?Re[E-1]:null)&&!U.model.skip&&(j.model.controlPointPreviousX=j.model.x-(Se=(j.model.x-U.model.x)/3),j.model.controlPointPreviousY=j.model.y-Se*j.mK),q&&!q.model.skip&&(j.model.controlPointNextX=j.model.x+(Se=(q.model.x-j.model.x)/3),j.model.controlPointNextY=j.model.y+Se*j.mK))},ge.nextItem=function(P,E,U){return U?E>=P.length-1?P[0]:P[E+1]:E>=P.length-1?P[P.length-1]:P[E+1]},ge.previousItem=function(P,E,U){return U?E<=0?P[P.length-1]:P[E-1]:E<=0?P[0]:P[E-1]},ge.niceNum=function(P,E){var U=Math.floor(ge.log10(P)),j=P/Math.pow(10,U);return(E?j<1.5?1:j<3?2:j<7?5:10:j<=1?1:j<=2?2:j<=5?5:10)*Math.pow(10,U)},ge.requestAnimFrame="undefined"==typeof window?function(P){P()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(P){return window.setTimeout(P,1e3/60)},ge.getRelativePosition=function(P,E){var U,j,q=P.originalEvent||P,$=P.target||P.srcElement,ee=$.getBoundingClientRect(),he=q.touches;he&&he.length>0?(U=he[0].clientX,j=he[0].clientY):(U=q.clientX,j=q.clientY);var ye=parseFloat(ge.getStyle($,"padding-left")),Se=parseFloat(ge.getStyle($,"padding-top")),Re=parseFloat(ge.getStyle($,"padding-right")),Be=parseFloat(ge.getStyle($,"padding-bottom")),ct=ee.bottom-ee.top-Se-Be;return{x:U=Math.round((U-ee.left-ye)/(ee.right-ee.left-ye-Re)*$.width/E.currentDevicePixelRatio),y:j=Math.round((j-ee.top-Se)/ct*$.height/E.currentDevicePixelRatio)}},ge.getConstraintWidth=function(P){return T(P,"max-width","clientWidth")},ge.getConstraintHeight=function(P){return T(P,"max-height","clientHeight")},ge._calculatePadding=function(P,E,U){return(E=ge.getStyle(P,E)).indexOf("%")>-1?U*parseInt(E,10)/100:parseInt(E,10)},ge._getParentNode=function(P){var E=P.parentNode;return E&&"[object ShadowRoot]"===E.toString()&&(E=E.host),E},ge.getMaximumWidth=function(P){var E=ge._getParentNode(P);if(!E)return P.clientWidth;var U=E.clientWidth,j=U-ge._calculatePadding(E,"padding-left",U)-ge._calculatePadding(E,"padding-right",U),q=ge.getConstraintWidth(P);return isNaN(q)?j:Math.min(j,q)},ge.getMaximumHeight=function(P){var E=ge._getParentNode(P);if(!E)return P.clientHeight;var U=E.clientHeight,j=U-ge._calculatePadding(E,"padding-top",U)-ge._calculatePadding(E,"padding-bottom",U),q=ge.getConstraintHeight(P);return isNaN(q)?j:Math.min(j,q)},ge.getStyle=function(P,E){return P.currentStyle?P.currentStyle[E]:document.defaultView.getComputedStyle(P,null).getPropertyValue(E)},ge.retinaScale=function(P,E){var U=P.currentDevicePixelRatio=E||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==U){var j=P.canvas,q=P.height,$=P.width;j.height=q*U,j.width=$*U,P.ctx.scale(U,U),j.style.height||j.style.width||(j.style.height=q+"px",j.style.width=$+"px")}},ge.fontString=function(P,E,U){return E+" "+P+"px "+U},ge.longestText=function(P,E,U,j){var q=(j=j||{}).data=j.data||{},$=j.garbageCollect=j.garbageCollect||[];j.font!==E&&(q=j.data={},$=j.garbageCollect=[],j.font=E),P.font=E;var ee,he,ye,Se,Re,Be=0,Xe=U.length;for(ee=0;ee<Xe;ee++)if(null!=(Se=U[ee])&&!0!==ge.isArray(Se))Be=ge.measureText(P,q,$,Be,Se);else if(ge.isArray(Se))for(he=0,ye=Se.length;he<ye;he++)null==(Re=Se[he])||ge.isArray(Re)||(Be=ge.measureText(P,q,$,Be,Re));var ct=$.length/2;if(ct>U.length){for(ee=0;ee<ct;ee++)delete q[$[ee]];$.splice(0,ct)}return Be},ge.measureText=function(P,E,U,j,q){var $=E[q];return $||($=E[q]=P.measureText(q).width,U.push(q)),$>j&&(j=$),j},ge.numberOfLabelLines=function(P){var E=1;return ge.each(P,function(U){ge.isArray(U)&&U.length>E&&(E=U.length)}),E},ge.color=fi?function(P){return P instanceof CanvasGradient&&(P=Tn.global.defaultColor),fi(P)}:function(P){return console.error("Color.js not found!"),P},ge.getHoverColor=function(P){return P instanceof CanvasPattern||P instanceof CanvasGradient?P:ge.color(P).saturate(.5).darken(.1).rgbString()}}(),Qr._adapters=Ya,Qr.Animation=Ma,Qr.animationService=Wa,Qr.controllers=In,Qr.DatasetController=fn,Qr.defaults=Tn,Qr.Element=ko,Qr.elements=si,Qr.Interaction=ds,Qr.layouts=ti,Qr.platform=zi,Qr.plugins=so,Qr.Scale=qa,Qr.scaleService=vl,Qr.Ticks=Nl,Qr.Tooltip=el,Qr.helpers.each(zu,function(g,w){Qr.scaleService.registerScaleType(w,g,g._defaults)}),es)es.hasOwnProperty(xc)&&Qr.plugins.register(es[xc]);Qr.platform.initialize();var nr=Qr;return"undefined"!=typeof window&&(window.Chart=Qr),Qr.Chart=Qr,Qr.Legend=es.legend._element,Qr.Title=es.title._element,Qr.pluginService=Qr.plugins,Qr.PluginBase=Qr.Element.extend({}),Qr.canvasHelpers=Qr.helpers.canvas,Qr.layoutService=Qr.layouts,Qr.LinearScaleBase=fa,Qr.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(g){Qr[g]=function(w,T){return new Qr(w,Qr.helpers.merge(T||{},{type:g.charAt(0).toLowerCase()+g.slice(1)}))}}),nr});